(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{112:function(e,t,n){"use strict";n.r(t),n.d(t,"CSV_NULLS",(function(){return y})),n.d(t,"PARSE_FIELD_VALUE_FROM_STRING",(function(){return b})),n.d(t,"processCsvData",(function(){return E})),n.d(t,"parseRowsByFields",(function(){return C})),n.d(t,"parseCsvRowsByFieldType",(function(){return S})),n.d(t,"processRowObject",(function(){return _})),n.d(t,"processGeojson",(function(){return D})),n.d(t,"processKeplerglJSON",(function(){return x})),n.d(t,"processKeplerglDataset",(function(){return k})),n.d(t,"processArrowTable",(function(){return A})),n.d(t,"processArrowBatches",(function(){return w})),n.d(t,"DATASET_HANDLERS",(function(){return T})),n.d(t,"Processors",(function(){return P})),n.d(t,"isArrowTable",(function(){return ee})),n.d(t,"isArrowData",(function(){return te})),n.d(t,"isGeoJson",(function(){return ne})),n.d(t,"isFeature",(function(){return ae})),n.d(t,"isFeatureCollection",(function(){return re})),n.d(t,"isRowObject",(function(){return oe})),n.d(t,"isKeplerGlMap",(function(){return ie})),n.d(t,"makeProgressIterator",(function(){return le})),n.d(t,"readBatch",(function(){return se})),n.d(t,"readFileInBatches",(function(){return de})),n.d(t,"processFileData",(function(){return fe})),n.d(t,"filesToDataPayload",(function(){return ge}));var a=n(21),r=n.n(a),o=n(1),i=n.n(o),l=n(320),c=n(2212),s=n(59),u=n(588),d=n.n(u),p=n(4),f=n(13),g=n(240);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=/^(null|NULL|Null|NaN|\/N||)$/;function v(e){try{return JSON.parse(e)}catch(e){return null}}var b=i()(i()(i()(i()(i()(i()({},p.ALL_FIELD_TYPES.boolean,{valid:function(e){return"boolean"==typeof e},parse:function(e){return"true"===e||"True"===e||"TRUE"===e||"1"===e}}),p.ALL_FIELD_TYPES.integer,{valid:function(e){return parseInt(e,10)===e},parse:function(e){return parseInt(e,10)}}),p.ALL_FIELD_TYPES.timestamp,{valid:function(e,t){return["x","X"].includes(t.format)?"number"==typeof e:"string"==typeof e},parse:function(e,t){return["x","X"].includes(t.format)?Number(e):e}}),p.ALL_FIELD_TYPES.real,{valid:function(e){return parseFloat(e)===e},parse:parseFloat}),p.ALL_FIELD_TYPES.object,{valid:f.isPlainObject,parse:v}),p.ALL_FIELD_TYPES.array,{valid:Array.isArray,parse:v});function E(e,t){var n,a;if("string"==typeof e){var r=Object(c.b)(e);if(!Array.isArray(r)||r.length<2)throw new Error("process Csv Data Failed: CSV is empty");a=r[0],n=r.slice(1)}else Array.isArray(e)&&e.length&&(n=e,a=t,Array.isArray(a)||(a=e[0],n=e.slice(1)));if(!n||!a)throw new Error("invalid input passed to processCsvData");O(n);var o=Object(f.getSampleForTypeAnalyze)({fields:a,rows:n}),i=Object(f.getFieldsFromData)(o,a);return{fields:i,rows:C(n,i)}}function C(e,t){var n=t.findIndex((function(e){return"_geojson"===e.name}));return t.forEach(S.bind(null,e,n)),e}function O(e){for(var t=new RegExp(y,"g"),n=0;n<e.length;n++)for(var a=0;a<e[n].length;a++)"string"==typeof e[n][a]&&e[n][a].match(t)&&(e[n][a]=null)}function S(e,t,n,a){var r=b[n.type];if(r){var o=e.find((function(e){return Object(f.notNullorUndefined)(e[a])}));if(!o||r.valid(o[a],n))return;e.forEach((function(e){null!==e[a]&&(e[a]=r.parse(e[a],n),t>-1&&Object(f.isPlainObject)(e[t])&&Object(f.hasOwnProperty)(e[t],"properties")&&(e[t].properties[n.name]=e[a]))}))}}function _(e){if(!Array.isArray(e))return null;if(!e.length)return{fields:[],rows:[]};var t=Object.keys(e[0]),n=e.map((function(e){return t.map((function(t){return e[t]}))}));return O(n),E(n,t)}function D(e){var t=d()(e);if(!t||!Array.isArray(t.features))throw new Error("Read File Failed: File is not a valid GeoJSON. Read more about [supported file format](".concat(p.GUIDES_FILE_FORMAT_DOC,")"));for(var n=[],a=0;a<t.features.length;a++){var r=t.features[a];r.geometry&&n.push(h({_geojson:r},r.properties||{}))}var o=n.reduce((function(e,t){return Object.keys(t).forEach((function(t){e.includes(t)||e.push(t)})),e}),[]);return n.forEach((function(e){o.forEach((function(t){t in e||(e[t]=null,e._geojson.properties&&(e._geojson.properties[t]=null))}))})),_(n)}function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.b;return e?t.load(e.datasets,e.config):null}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.b;if(!e)return null;var n=t.parseSavedData(Object(f.toArray)(e));return n?Array.isArray(e)?n:n[0]:null}function A(e){return w(e.data.batches)}function w(e){if(0===e.length)return null;var t=new l.a(e),n=[];t.schema.fields.forEach((function(e,t){var a,r=null===(a=e.metadata.get("ARROW:extension:name"))||void 0===a?void 0:a.startsWith("geoarrow");n.push({name:e.name,id:e.name,displayName:e.name,format:"",fieldIdx:t,type:r?p.ALL_FIELD_TYPES.geoarrow:Object(f.arrowDataTypeToFieldType)(e.type),analyzerType:r?s.DATA_TYPES.GEOMETRY:Object(f.arrowDataTypeToAnalyzerDataType)(e.type),valueAccessor:function(e){return function(n){return e.valueAt(n.index,t)}},metadata:e.metadata})}));var a=r()(Array(t.numCols).keys()).map((function(e){return t.getChildAt(e)}));return{fields:n,rows:[],cols:a,metadata:t.schema.metadata}}var T=i()(i()(i()(i()(i()({},p.DATASET_FORMATS.row,_),p.DATASET_FORMATS.geojson,D),p.DATASET_FORMATS.csv,E),p.DATASET_FORMATS.arrow,A),p.DATASET_FORMATS.keplergl,k),P={processGeojson:D,processCsvData:E,processArrowTable:A,processArrowBatches:w,processRowObject:_,processKeplerglJSON:x,processKeplerglDataset:k,analyzerTypeToFieldType:f.analyzerTypeToFieldType,getFieldsFromData:f.getFieldsFromData,parseCsvRowsByFieldType:S},L=n(18),j=n.n(L),M=n(165),F=n.n(M),I=n(606),R=n.n(I),N=n(941),B=n.n(N),U=n(2140),V=n(365),z=n(2189),G=n(2198),H=n(2196);function q(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */q=function(){return t};var e,t={},n=Object.prototype,a=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),l=new w(a||[]);return r(i,"_invoke",{value:D(e,n,l)}),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",f="executing",g="completed",m={};function h(){}function y(){}function v(){}var b={};s(b,i,(function(){return this}));var E=Object.getPrototypeOf,C=E&&E(E(T([])));C&&C!==n&&a.call(C,i)&&(b=C);var O=v.prototype=h.prototype=Object.create(b);function S(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(r,o,i,l){var c=d(e[r],e,o);if("throw"!==c.type){var s=c.arg,u=s.value;return u&&"object"==j()(u)&&a.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;r(this,"_invoke",{value:function(e,a){function r(){return new t((function(t,r){n(e,a,t,r)}))}return o=o?o.then(r,r):r()}})}function D(t,n,a){var r=p;return function(o,i){if(r===f)throw new Error("Generator is already running");if(r===g){if("throw"===o)throw i;return{value:e,done:!0}}for(a.method=o,a.arg=i;;){var l=a.delegate;if(l){var c=x(l,a);if(c){if(c===m)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(r===p)throw r=g,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r=f;var s=d(t,n,a);if("normal"===s.type){if(r=a.done?g:"suspendedYield",s.arg===m)continue;return{value:s.arg,done:a.done}}"throw"===s.type&&(r=g,a.method="throw",a.arg=s.arg)}}}function x(t,n){var a=n.method,r=t.iterator[a];if(r===e)return n.delegate=null,"throw"===a&&t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method)||"return"!==a&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+a+"' method")),m;var o=d(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function n(){for(;++r<t.length;)if(a.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(j()(t)+" is not iterable")}return y.prototype=v,r(O,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:y,configurable:!0}),y.displayName=s(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s(e,c,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},S(_.prototype),s(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,a,r,o){void 0===o&&(o=Promise);var i=new _(u(e,n,a,r),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(O),s(O,c,"Generator"),s(O,i,(function(){return this})),s(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var a in t)n.push(a);return n.reverse(),function e(){for(;n.length;){var a=n.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},t.values=T,w.prototype={constructor:w,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(a,r){return l.type="throw",l.arg=t,n.next=a,r&&(n.method="next",n.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=a.call(i,"catchLoc"),s=a.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;A(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,a){return this.delegate={iterator:T(t),resultName:n,nextLoc:a},"next"===this.method&&(this.arg=e),m}},t}function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e){var t,n,a,r=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,a=Symbol.iterator);r--;){if(n&&null!=(t=e[n]))return t.call(e);if(a&&null!=(t=e[a]))return new Z(t.call(e));n="@@asyncIterator",a="@@iterator"}throw new TypeError("Object is not async iterable")}function Z(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return(Z=function(e){this.s=e,this.n=e.next}).prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new Z(e)}var X="final-result",J={shape:"object-row-table",dynamicTyping:!1},Q={shape:"arrow-table",batchDebounceMs:10},$={shape:"object-row-table",jsonpaths:["$","$.features","$.datasets"]};function ee(e){return Boolean(e instanceof l.a)}function te(e){return Array.isArray(e)&&Boolean(e[0].data&&e[0].schema)}function ne(e){return Object(f.isPlainObject)(e)&&(ae(e)||re(e))}function ae(e){return Object(f.isPlainObject)(e)&&"Feature"===e.type&&Boolean(e.geometry)}function re(e){return Object(f.isPlainObject)(e)&&"FeatureCollection"===e.type&&Boolean(e.features)}function oe(e){return Array.isArray(e)&&Object(f.isPlainObject)(e[0])}function ie(e){return Boolean(Object(f.isPlainObject)(e)&&e.datasets&&e.config&&e.info&&Object(f.isPlainObject)(e.info)&&"kepler.gl"===e.info.app)}function le(e,t){return ce.apply(this,arguments)}function ce(){return(ce=B()(q().mark((function e(t,n){var a,r,o,i,l,c,s,u,d,p;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=0,r=!1,o=!1,e.prev=3,l=K(t);case 5:return e.next=7,R()(l.next());case 7:if(!(r=!(c=e.sent).done)){e.next=18;break}return s=c.value,u=s.data&&(s.data.length||s.length)||0,a+=u,d=Number.isFinite(s.bytesUsed)?s.bytesUsed/n.size:null,p=Y({rowCount:a,rowCountInBatch:u},Number.isFinite(d)?{percent:d}:{}),e.next=15,Y(Y({},s),{},{progress:p});case 15:r=!1,e.next=5;break;case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(3),o=!0,i=e.t0;case 24:if(e.prev=24,e.prev=25,!r||null==l.return){e.next=29;break}return e.next=29,R()(l.return());case 29:if(e.prev=29,!o){e.next=32;break}throw i;case 32:return e.finish(29);case 33:return e.finish(24);case 34:case"end":return e.stop()}}),e,null,[[3,20,24,34],[25,,29,33]])})))).apply(this,arguments)}function se(e,t){return ue.apply(this,arguments)}function ue(){return(ue=B()(q().mark((function e(t,n){var a,r,o,i,l,c,s,u,d,p;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=null,r=[],o=!1,i=!1,e.prev=4,c=K(t);case 6:return e.next=8,R()(c.next());case 8:if(!(o=!(s=e.sent).done)){e.next=16;break}if((u=s.value).batchType===X)u.container&&(a=Y({},u.container)),u.jsonpath&&u.jsonpath.length>1?new V.a(u.jsonpath).setFieldAtPath(a,r):u.jsonpath&&1===u.jsonpath.length&&(a=r);else for(d=ee(u.data)?u.data.batches:u.data,p=0;p<(null==d?void 0:d.length);p++)r.push(d[p]);return e.next=13,Y(Y(Y({},u),u.schema?{headers:Object.keys(u.schema)}:{}),{},{fileName:n,data:a||r});case 13:o=!1,e.next=6;break;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(4),i=!0,l=e.t0;case 22:if(e.prev=22,e.prev=23,!o||null==c.return){e.next=27;break}return e.next=27,R()(c.return());case 27:if(e.prev=27,!i){e.next=30;break}throw l;case 30:return e.finish(27);case 31:return e.finish(22);case 32:case"end":return e.stop()}}),e,null,[[4,18,22,32],[23,,27,31]])})))).apply(this,arguments)}function de(e){return pe.apply(this,arguments)}function pe(){return(pe=F()(q().mark((function e(t){var n,a,o,i,l,c,s;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.file,a=t.loaders,o=void 0===a?[]:a,i=t.loadOptions,l=void 0===i?{}:i,o=[z.a,G.a,H.a].concat(r()(o)),l=Y({csv:J,arrow:Q,json:$,metadata:!0},l),e.next=5,Object(U.a)(n,o,l);case 5:return c=e.sent,s=le(c,{size:n.size}),e.abrupt("return",se(s,n.name));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fe(e){var t=e.content,n=e.fileCache;return new Promise((function(e,a){var o,i,l=t.fileName,c=t.data,s=Object(f.generateHashIdFromString)(l);if(te(c)?(o=p.DATASET_FORMATS.arrow,i=w):ie(c)?(o=p.DATASET_FORMATS.keplergl,i=x):oe(c)?(o=p.DATASET_FORMATS.row,i=_):ne(c)&&(o=p.DATASET_FORMATS.geojson,i=D),o&&i){var u=i(c);e([].concat(r()(n),[{data:u,info:{id:s,label:t.fileName,format:o}}]))}a("Unknown File Format")}))}function ge(e){var t=e.reduce((function(e,t){var n=t.data,a=t.info;if((null==a?void 0:a.format)===p.DATASET_FORMATS.keplergl)e.keplerMaps.push(Y(Y({},n),{},{options:{centerMap:!(n.config&&n.config.mapState)}}));else if(p.DATASET_FORMATS[null==a?void 0:a.format]){var r={data:n,info:Y({id:(null==a?void 0:a.id)||Object(f.generateHashId)(4)},a||{})};e.datasets.push(r)}return e}),{datasets:[],keplerMaps:[]});return t.keplerMaps.concat({datasets:t.datasets})}},120:function(e,t,n){"use strict";n.r(t),n.d(t,"Layer",(function(){return ie})),n.d(t,"OVERLAY_TYPE_CONST",(function(){return ne})),n.d(t,"LAYER_ID_LENGTH",(function(){return J})),n.d(t,"colorMaker",(function(){return oe})),n.d(t,"layerColors",(function(){return ae})),n.d(t,"pointToPolygonGeo",(function(){return gt})),n.d(t,"defaultElevation",(function(){return Kt})),n.d(t,"defaultLineWidth",(function(){return Zt})),n.d(t,"defaultRadius",(function(){return Xt})),n.d(t,"MAX_ZOOM_LEVEL",(function(){return pa})),n.d(t,"h3DefaultElevation",(function(){return xa})),n.d(t,"tripDefaultLineWidth",(function(){return yr})),n.d(t,"coordHasLength4",(function(){return rr})),n.d(t,"containValidTime",(function(){return or})),n.d(t,"isTripGeoJsonField",(function(){return ir})),n.d(t,"parseTripGeoJsonTimestamp",(function(){return lr})),n.d(t,"getAnimationDomainFromTimestamps",(function(){return ur})),n.d(t,"s2DefaultElevation",(function(){return Nr})),n.d(t,"getS2Center",(function(){return Tr})),n.d(t,"AggregationLayer",(function(){return pt})),n.d(t,"parseGeoJsonRawFeature",(function(){return It.e})),n.d(t,"KeplerGlLayers",(function(){return fo})),n.d(t,"LayerClasses",(function(){return go})),n.d(t,"generateMapboxLayers",(function(){return Wn})),n.d(t,"updateMapboxLayers",(function(){return Yn})),n.d(t,"geoJsonFromData",(function(){return Jn})),n.d(t,"prefixGpuField",(function(){return Qn})),n.d(t,"gpuFilterToMapboxFilter",(function(){return $n})),n.d(t,"H3HexagonLayerIcon",(function(){return Ea})),n.d(t,"hexIdRequiredColumns",(function(){return _a})),n.d(t,"hexIdAccessor",(function(){return Da})),n.d(t,"defaultCoverage",(function(){return ka})),n.d(t,"HexagonIdVisConfigs",(function(){return Aa})),n.d(t,"Table",(function(){return On})),n.d(t,"getEditorLayer",(function(){return po})),n.d(t,"ScenegraphLayer",(function(){return Qa})),n.d(t,"scenegraphVisConfigs",(function(){return Ka})),n.d(t,"ScenegraphLayerIcon",(function(){return Ra})),n.d(t,"EditorLayerUtils",(function(){return mo})),n.d(t,"getFilterDataFunc",(function(){return st})),n.d(t,"diffUpdateTriggers",(function(){return G}));var a=n(1),r=n.n(a),o=n(21),i=n.n(o),l=n(24),c=n.n(l),s=n(18),u=n.n(s),d=n(8),p=n.n(d),f=n(9),g=n.n(f),m=n(31),h=n.n(m),y=n(96),v=n.n(y),b=n(2207),E=n(52),C=n(752),O=n(12),S=n.n(O),_=n(7),D=n.n(_),x=n(11),k=n.n(x),A=n(0),w=n.n(A),T=n(2),P=n.n(T),L=n(14),j=n.n(L),M=n(50),F=n.n(M),I=["height","width","viewBox","style","children","predefinedClassName","className","colors","totalColor"];function R(e,t,n){return t=D()(t),S()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],D()(e).constructor):t.apply(e,n))}var N=function(){},B=function(e){function t(){return p()(this,t),R(this,t,arguments)}return k()(t,e),g()(t,[{key:"render",value:function(){var e=this.props,t=e.height,n=e.width,a=e.viewBox,r=e.style,o=e.children,i=e.predefinedClassName,l=e.className,c=e.colors,s=e.totalColor,u=F()(e,I),d=t,p=n||d,f=Array.isArray(c)&&s&&function(e,t){return new Array(e).fill(1).reduce((function(e,n,a){return"".concat(e,".cr").concat(a+1," {fill:").concat(t[a%t.length],";}")}),"")}(s,c);return w.a.createElement("svg",j()({viewBox:a,width:p,height:d,style:r,className:"".concat(i," ").concat(l),onClick:N},u),f?w.a.createElement("style",{type:"text/css"},f):null,o)}}]),t}(A.Component);function U(e,t,n){return t=D()(t),S()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],D()(e).constructor):t.apply(e,n))}r()(B,"displayName","Base Icon"),r()(B,"defaultProps",{height:null,width:null,viewBox:"0 0 64 64",predefinedClassName:"",className:"",style:{fill:"currentColor"}});var V=function(e){function t(){return p()(this,t),U(this,t,arguments)}return k()(t,e),g()(t,[{key:"render",value:function(){return w.a.createElement(B,this.props,w.a.createElement("circle",{cx:"29.4",cy:"31.6",r:"8.4"}),w.a.createElement("circle",{cx:"48.5",cy:"15.7",r:"6.5"}),w.a.createElement("circle",{cx:"11",cy:"44.2",r:"3"}),w.a.createElement("circle",{cx:"50",cy:"44.2",r:"5"}),w.a.createElement("circle",{cx:"34",cy:"54.2",r:"3"}),w.a.createElement("circle",{cx:"14",cy:"16.2",r:"4"}))}}]),t}(A.Component);r()(V,"propTypes",{height:P.a.string,colors:P.a.arrayOf(P.a.string)}),r()(V,"defaultProps",{height:"16px",predefinedClassName:"default-layer-icon"});var z=V;function G(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},a=!1;for(var r in e){var o=e[r]||{},i=t[r]||{},l=H(o,i,r);l&&(n[r]=!0,a=n)}return a}function H(e,t,n){if("object"!==u()(t))return t===e?null:"".concat(n," changed shallowly");for(var a in t){if(!(a in e))return"".concat(n,".").concat(a," deleted");if(t[a]!==e[a])return"".concat(n,".").concat(a," changed shallowly")}for(var r in e)if(!(r in t))return"".concat(n,".").concat(r," added");return null}var q=n(4),W=n(13);function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Z=function(){return t};var e,t={},n=Object.prototype,a=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function d(e,t,n,a){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),l=new T(a||[]);return r(i,"_invoke",{value:x(e,n,l)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var f="suspendedStart",g="executing",m="completed",h={};function y(){}function v(){}function b(){}var E={};s(E,i,(function(){return this}));var C=Object.getPrototypeOf,O=C&&C(C(P([])));O&&O!==n&&a.call(O,i)&&(E=O);var S=b.prototype=y.prototype=Object.create(E);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function D(e,t){function n(r,o,i,l){var c=p(e[r],e,o);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==u()(d)&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;r(this,"_invoke",{value:function(e,a){function r(){return new t((function(t,r){n(e,a,t,r)}))}return o=o?o.then(r,r):r()}})}function x(t,n,a){var r=f;return function(o,i){if(r===g)throw new Error("Generator is already running");if(r===m){if("throw"===o)throw i;return{value:e,done:!0}}for(a.method=o,a.arg=i;;){var l=a.delegate;if(l){var c=k(l,a);if(c){if(c===h)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(r===f)throw r=m,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r=g;var s=p(t,n,a);if("normal"===s.type){if(r=a.done?m:"suspendedYield",s.arg===h)continue;return{value:s.arg,done:a.done}}"throw"===s.type&&(r=m,a.method="throw",a.arg=s.arg)}}}function k(t,n){var a=n.method,r=t.iterator[a];if(r===e)return n.delegate=null,"throw"===a&&t.iterator.return&&(n.method="return",n.arg=e,k(t,n),"throw"===n.method)||"return"!==a&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+a+"' method")),h;var o=p(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,h;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function n(){for(;++r<t.length;)if(a.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(u()(t)+" is not iterable")}return v.prototype=b,r(S,"constructor",{value:b,configurable:!0}),r(b,"constructor",{value:v,configurable:!0}),v.displayName=s(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},_(D.prototype),s(D.prototype,l,(function(){return this})),t.AsyncIterator=D,t.async=function(e,n,a,r,o){void 0===o&&(o=Promise);var i=new D(d(e,n,a,r),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},_(S),s(S,c,"Generator"),s(S,i,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var a in t)n.push(a);return n.reverse(),function e(){for(;n.length;){var a=n.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(w),!t)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(a,r){return l.type="throw",l.arg=t,n.next=a,r&&(n.method="next",n.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=a.call(i,"catchLoc"),s=a.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;w(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,a){return this.delegate={iterator:P(t),resultName:n,nextLoc:a},"next"===this.method&&(this.arg=e),h}},t}var X=Z().mark(re),J=6,Q=[0,1],$=new b.a({filterSize:q.MAX_GPU_FILTERS}),ee=function(e){return function(e){return e}},te=function(e,t){return e.valueAccessor(t)},ne=v()({deckgl:null,mapboxgl:null}),ae=Object.values(q.DataVizColors).map(W.hexToRgb);function re(){var e;return Z().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:if(!(e<ae.length+1)){t.next=7;break}return e===ae.length&&(e=0),t.next=5,ae[e++];case 5:t.next=1;break;case 7:case"end":return t.stop()}}),X)}var oe=re(),ie=function(){function e(t){p()(this,e),r()(this,"id",void 0),r()(this,"meta",void 0),r()(this,"visConfigSettings",void 0),r()(this,"config",void 0),r()(this,"_oldDataUpdateTriggers",void 0),r()(this,"isValid",void 0),r()(this,"errorMessage",void 0),this.id=t.id||Object(W.generateHashId)(J),this.meta={},this.visConfigSettings={},this.config=this.getDefaultLayerConfig(K({columns:this.getLayerColumns()},t)),this.isValid=!0,this.errorMessage=null}return g()(e,[{key:"layerIcon",get:function(){return z}},{key:"overlayType",get:function(){return ne.deckgl}},{key:"type",get:function(){return null}},{key:"name",get:function(){return this.type}},{key:"isAggregated",get:function(){return!1}},{key:"requiredLayerColumns",get:function(){return[]}},{key:"optionalColumns",get:function(){return[]}},{key:"noneLayerDataAffectingProps",get:function(){return["label","opacity","thickness","isVisible","hidden"]}},{key:"visualChannels",get:function(){return{color:{property:"color",field:"colorField",scale:"colorScale",domain:"colorDomain",range:"colorRange",key:"color",channelScaleType:q.CHANNEL_SCALES.color,nullValue:q.NO_VALUE_COLOR,defaultValue:function(e){return e.color}},size:{property:"size",field:"sizeField",scale:"sizeScale",domain:"sizeDomain",range:"sizeRange",key:"size",channelScaleType:q.CHANNEL_SCALES.size,nullValue:0,defaultValue:1}}}},{key:"columnValidators",get:function(){return{}}},{key:"columnPairs",get:function(){return null}},{key:"defaultPointColumnPairs",get:function(){return{lat:{pair:"lng",fieldPairKey:"lat"},lng:{pair:"lat",fieldPairKey:"lng"}}}},{key:"defaultLinkColumnPairs",get:function(){return{lat0:{pair:"lng0",fieldPairKey:"lat"},lng0:{pair:"lat0",fieldPairKey:"lng"},lat1:{pair:"lng1",fieldPairKey:"lat"},lng1:{pair:"lat1",fieldPairKey:"lng"}}}},{key:"layerInfoModal",get:function(){return null}},{key:"supportedDatasetTypes",get:function(){return null}},{key:"getDefaultLayerConfig",value:function(e){return{dataId:e.dataId,label:e.label||q.DEFAULT_LAYER_LABEL,color:e.color||oe.next().value,columns:e.columns||{},isVisible:e.isVisible||!1,isConfigActive:e.isConfigActive||!1,highlightColor:e.highlightColor||q.DEFAULT_HIGHLIGHT_COLOR,hidden:e.hidden||!1,colorField:null,colorDomain:[0,1],colorScale:q.SCALE_TYPES.quantile,sizeDomain:[0,1],sizeScale:q.SCALE_TYPES.linear,sizeField:null,visConfig:{},textLabel:[q.DEFAULT_TEXT_LABEL],colorUI:{color:q.DEFAULT_COLOR_UI,colorRange:q.DEFAULT_COLOR_UI},animation:{enabled:!1}}}},{key:"getVisualChannelDescription",value:function(e){var t=this.visualChannels[e];if(!t)return{label:"",measure:void 0};var n=this.visConfigSettings[t.range],a=this.config[t.field],r=null==n?void 0:n.label;return{label:"function"==typeof r?r(this.config):r||"",measure:a?a.displayName||a.name:t.defaultMeasure}}},{key:"assignColumn",value:function(e,t){var n=t?{value:t.name,fieldIdx:t.fieldIdx}:{value:null,fieldIdx:-1};return K(K({},this.config.columns),{},r()({},e,K(K({},this.config.columns[e]),n)))}},{key:"assignColumnPairs",value:function(e,t){var n,a,o;if(!this.columnPairs||null===(n=this.columnPairs)||void 0===n||!n[e])return this.config.columns;var i=null===(a=this.columnPairs)||void 0===a?void 0:a[e],l=i.pair,c=i.fieldPairKey;if(!t[c])return this.config.columns;var s=(null===(o=this.columnPairs)||void 0===o?void 0:o[l]).fieldPairKey;return K(K({},this.config.columns),{},r()(r()({},e,t[c]),l,t[s]))}},{key:"getZoomFactor",value:function(e){var t=e.zoom,n=e.zoomOffset,a=void 0===n?0:n;return Math.pow(2,Math.max(14-t+a,0))}},{key:"getElevationZoomFactor",value:function(e){var t=e.zoom,n=e.zoomOffset,a=void 0===n?0:n;return this.config.visConfig.enableElevationZoomFactor?Math.pow(2,Math.max(8-t+a,0)):1}},{key:"formatLayerData",value:function(e,t){return{}}},{key:"renderLayer",value:function(){return[]}},{key:"getHoverData",value:function(e,t,n){return e?t.row(e.index):null}},{key:"assignConfigToLayer",value:function(e,t){var n=this,a=["colorRange","strokeColorRange"].concat(Object.values(this.visualChannels).map((function(e){return e.field}))),r=["animation"].concat(Object.values(this.visualChannels).map((function(e){return e.domain})));Object.values(this.visualChannels).forEach((function(a){e.visConfig[a.range]&&n.visConfigSettings[a.range]&&t[a.range].group!==n.visConfigSettings[a.range].group&&r.push(a.range)}));var o=this.config,i=this.copyLayerConfig(o,e,{shallowCopy:a,notToCopy:r});this.updateLayerConfig(i),Object.keys(this.visualChannels).forEach((function(e){n.validateVisualChannel(e)}))}},{key:"copyLayerConfig",value:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=a.shallowCopy,o=void 0===r?[]:r,i=a.notToCopy,l=void 0===i?[]:i,c={};return Object.keys(e).forEach((function(a){Object(W.isPlainObject)(e[a])&&Object(W.isPlainObject)(t[a])&&!o.includes(a)&&!l.includes(a)?c[a]=n.copyLayerConfig(e[a],t[a],{shallowCopy:o,notToCopy:l}):Object(W.notNullorUndefined)(t[a])&&!l.includes(a)?c[a]=t[a]:c[a]=e[a]})),c}},{key:"registerVisConfig",value:function(e){var t=this;Object.keys(e).forEach((function(n){var a=e[n];"string"==typeof a&&q.LAYER_VIS_CONFIGS[a]?(t.config.visConfig[n]=q.LAYER_VIS_CONFIGS[a].defaultValue,t.visConfigSettings[n]=q.LAYER_VIS_CONFIGS[a]):"object"===u()(a)&&["type","defaultValue"].every((function(e){return a.hasOwnProperty(e)}))&&(t.config.visConfig[n]=a.defaultValue,t.visConfigSettings[n]=a)}))}},{key:"getLayerColumns",value:function(){var e=this.columnValidators,t=this.requiredLayerColumns.reduce((function(t,n){return K(K({},t),{},r()({},n,e[n]?{value:null,fieldIdx:-1,validator:e[n]}:{value:null,fieldIdx:-1}))}),{}),n=this.optionalColumns.reduce((function(e,t){return K(K({},e),{},r()({},t,{value:null,fieldIdx:-1,optional:!0}))}),{});return K(K({},t),n)}},{key:"updateLayerConfig",value:function(e){return this.config=K(K({},this.config),e),this}},{key:"updateLayerVisConfig",value:function(e){return this.config.visConfig=K(K({},this.config.visConfig),e),this}},{key:"updateLayerColorUI",value:function(e,t){var n=this.config,a=n.colorUI,o=n.visConfig;if(!Object(W.isPlainObject)(t)||"string"!=typeof e)return this;var i=Object.entries(t).reduce((function(e,t){var n=c()(t,2),a=n[0],o=n[1];return K(K({},e),{},r()({},a,Object(W.isPlainObject)(e[a])&&Object(W.isPlainObject)(o)?K(K({},e[a]),o):o))}),a[e]||q.DEFAULT_COLOR_UI),l=K(K({},a),{},r()({},e,i));return this.updateLayerConfig({colorUI:l}),o[e]&&o[e].colors&&(this.updateColorUIByColorRange(t,e),this.updateColorRangeByColorUI(t,a,e),this.updateCustomPalette(t,a,e)),this}},{key:"updateCustomPalette",value:function(e,t,n){if(e.colorRangeConfig&&e.colorRangeConfig.custom){var a=this.config,o=a.colorUI,l=a.visConfig;if(l[n]){var c=l[n].colors,s=K(K({},o[n].customPalette),{},{name:"Custom Palette",colors:i()(c)});this.updateLayerConfig({colorUI:K(K({},o),{},r()({},n,K(K({},o[n]),{},{customPalette:s})))})}}}},{key:"updateColorUIByColorRange",value:function(e,t){if("number"==typeof e.showDropdown){var n=this.config,a=n.colorUI,o=n.visConfig;this.updateLayerConfig({colorUI:K(K({},a),{},r()({},t,K(K({},a[t]),{},{colorRangeConfig:K(K({},a[t].colorRangeConfig),{},{steps:o[t].colors.length,reversed:Boolean(o[t].reversed)})})))})}}},{key:"updateColorRangeByColorUI",value:function(e,t,n){if(e.colorRangeConfig&&["reversed","steps"].some((function(a){return e.colorRangeConfig.hasOwnProperty(a)&&e.colorRangeConfig[a]!==(t[n]||q.DEFAULT_COLOR_UI).colorRangeConfig[a]}))){var a,o=this.config,i=o.colorUI,l=o.visConfig,c=i[n].colorRangeConfig,s=c.steps,u=c.reversed,d=l[n];if(e.colorRangeConfig.hasOwnProperty("steps")){var p=Object(W.getColorGroupByName)(d);if(p)(a=q.COLOR_RANGES.filter((function(e){return Object(W.getColorGroupByName)(e)===p})).find((function(e){return e.colors.length===s})))&&d.reversed&&(a=Object(W.reverseColorRange)(!0,a))}e.colorRangeConfig.hasOwnProperty("reversed")&&(a=Object(W.reverseColorRange)(u,a||d)),a&&this.updateLayerVisConfig(r()({},n,a))}}},{key:"hasAllColumns",value:function(){var e=this.config.columns;return e&&Object.values(e).every((function(e){return Boolean(e&&(e.optional||e.value&&e.fieldIdx>-1))}))}},{key:"hasLayerData",value:function(e){return!!e&&Boolean(e.data&&e.data.length)}},{key:"isValidToSave",value:function(){return Boolean(this.type&&this.hasAllColumns())}},{key:"shouldRenderLayer",value:function(e){return Boolean(this.type)&&this.hasAllColumns()&&this.hasLayerData(e)&&"function"==typeof this.renderLayer}},{key:"getColorScale",value:function(e,t,n){if(Array.isArray(n.colorMap)){var a=new Map;return n.colorMap.forEach((function(e){var t=c()(e,2),n=t[0],r=t[1];a.set(n,"string"==typeof r?Object(W.hexToRgb)(r):r)})),q.SCALE_FUNC[q.SCALE_TYPES.ordinal]().domain(a.keys()).range(a.values()).unknown(a.get(q.UNKNOWN_COLOR_KEY)||q.NO_VALUE_COLOR)}return this.getVisChannelScale(e,t,n.colors.map(W.hexToRgb))}},{key:"getAttributeAccessors",value:function(e){var t=this,n=e.dataAccessor,a=void 0===n?ee:n,r=e.dataContainer,o={};return Object.keys(this.visualChannels).forEach((function(e){var n=t.visualChannels[e],i=n.field,l=n.fixed,c=n.scale,s=n.domain,u=n.range,d=n.accessor,p=n.defaultValue,f=n.getAttributeValue,g=n.nullValue,h=n.channelScaleType;if(d){if(t.config[i]){var y=l&&t.config.visConfig[l],v=h===q.CHANNEL_SCALES.color?t.getColorScale(t.config[c],t.config[s],t.config.visConfig[u]):t.getVisChannelScale(t.config[c],t.config[s],t.config.visConfig[u],y);o[d]=function(e){return t.getEncodedChannelValue(v,a(r)(e),t.config[i],g)}}else o[d]="function"==typeof f?f(t.config):"function"==typeof p?p(t.config):p;o[d]||m.console.warn("Failed to provide accessor function for ".concat(d||e))}})),o}},{key:"getVisChannelScale",value:function(e,t,n,a){return q.SCALE_FUNC[a?"linear":e]().domain(t).range(a?t:n)}},{key:"getPointsBounds",value:function(e,t){var n=e.numRows()>5e3?Object(W.getSampleContainerData)(e,5e3):e,a=t?n.mapIndex(t):[],r=Object(W.getLatLngBounds)(a,1,[-90,90]),o=Object(W.getLatLngBounds)(a,0,[-180,180]);return r&&o?[o[0],r[0],o[1],r[1]]:null}},{key:"getChangedTriggers",value:function(e){var t=G(e,this._oldDataUpdateTriggers);return this._oldDataUpdateTriggers=e,t}},{key:"getEncodedChannelValue",value:function(e,t,n){var a,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:q.NO_VALUE_COLOR,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:te,i=n.type,l=o(n,t);return Object(W.notNullorUndefined)(l)?(a=i===q.ALL_FIELD_TYPES.timestamp?e(new Date(l)):e(l),Object(W.notNullorUndefined)(a)||(a=r),a):r}},{key:"updateMeta",value:function(e){this.meta=K(K({},this.meta),e)}},{key:"getDataUpdateTriggers",value:function(e){var t=e.filteredIndex,n=e.id,a=e.dataContainer,o=this.config.columns;return K({getData:{datasetId:n,dataContainer:a,columns:o,filteredIndex:t},getMeta:{datasetId:n,dataContainer:a,columns:o}},(this.config.textLabel||[]).reduce((function(e,t,n){return K(K({},e),{},r()({},"getLabelCharacterSet-".concat(n),t.field?t.field.name:null))}),{}))}},{key:"updateData",value:function(e,t){if(!this.config.dataId)return{};var n=e[this.config.dataId],a=n.dataContainer,r=this.getPositionAccessor(a),o=this.getDataUpdateTriggers(n),i=this.getChangedTriggers(o);i&&(i.getMeta||i.getData)&&this.updateLayerMeta(a,r);return{data:i&&i.getData||!t||!t.data?this.calculateDataAttribute(n,r):t.data,triggerChanged:i}}},{key:"updateLayerDomain",value:function(e,t){var n=this,a=this.getDataset(e);return a?(Object.values(this.visualChannels).forEach((function(e){var o=e.scale,i=n.config[o];if(!t||i!==q.SCALE_TYPES.ordinal){var l=e.domain,c=n.calculateLayerDomain(a,e);n.updateLayerConfig(r()({},l,c))}})),this):this}},{key:"getDataset",value:function(e){return this.config.dataId?e[this.config.dataId]:null}},{key:"validateVisualChannel",value:function(e){this.validateFieldType(e),this.validateScale(e)}},{key:"validateFieldType",value:function(e){var t=this.visualChannels[e],n=t.field,a=t.channelScaleType,o=t.supportedFieldTypes;this.config[n]&&((o||q.CHANNEL_SCALE_SUPPORTED_FIELDS[a]).includes(this.config[n].type)||this.updateLayerConfig(r()({},n,null)))}},{key:"validateScale",value:function(e){var t=this.visualChannels[e].scale;if(t){var n=this.getScaleOptions(e);n.includes(this.config[t])||this.updateLayerConfig(r()({},t,n[0]))}}},{key:"getScaleOptions",value:function(e){var t=this.visualChannels[e],n=t.field,a=t.scale,r=t.channelScaleType;return this.config[n]?q.FIELD_OPTS[this.config[n].type].scale[r]:[this.getDefaultLayerConfig({dataId:""})[a]]}},{key:"updateLayerVisualChannel",value:function(e,t){var n=this.visualChannels[t];this.validateVisualChannel(t);var a=this.calculateLayerDomain(e,n);this.updateLayerConfig(r()({},n.domain,a))}},{key:"getVisualChannelUpdateTriggers",value:function(){var e=this,t={};return Object.values(this.visualChannels).forEach((function(n){var a=n.accessor,o=n.field,i=n.scale,l=n.domain,c=n.range,s=n.defaultValue,u=n.fixed;a&&(t[a]=K(r()(r()(r()(r()(r()({},o,e.config[o]),i,e.config[i]),l,e.config[l]),c,e.config.visConfig[c]),"defaultValue","function"==typeof s?s(e.config):s),u?r()({},u,e.config.visConfig[u]):{}))})),t}},{key:"calculateLayerDomain",value:function(e,t){var n=t.scale,a=this.config[n],r=this.config[t.field];return r&&e.getColumnLayerDomain(r,a)||Q}},{key:"hasHoveredObject",value:function(e){return this.isLayerHovered(e)&&e.object?e.object:null}},{key:"isLayerHovered",value:function(e){var t,n;return(null==e?void 0:e.picked)&&(null==e||null===(t=e.layer)||void 0===t||null===(n=t.props)||void 0===n?void 0:n.id)===this.id}},{key:"getRadiusScaleByZoom",value:function(e,t){var n=Object.values(this.visualChannels).find((function(e){return"radius"===e.property}));if(!n)return 1;var a=n.field,r=void 0===t?this.config.visConfig.fixedRadius:t,o=this.config.visConfig.radius;return r?1:(this.config[a]?1:o)*this.getZoomFactor(e)}},{key:"shouldCalculateLayerData",value:function(e){var t=this;return e.some((function(e){return!t.noneLayerDataAffectingProps.includes(e)}))}},{key:"getBrushingExtensionProps",value:function(e,t){var n=e.brush;return{autoHighlight:!n.enabled,brushingRadius:1e3*n.config.size,brushingTarget:t||"source",brushingEnabled:n.enabled}}},{key:"getDefaultDeckLayerProps",value:function(e){var t=e.idx,n=e.gpuFilter,a=e.mapState,r=e.visible;return{id:this.id,idx:t,coordinateSystem:E.a.LNGLAT,pickable:!0,wrapLongitude:!0,parameters:{depthTest:Boolean(a.dragRotate||this.config.visConfig.enable3d)},hidden:this.config.hidden,opacity:this.config.visConfig.opacity,highlightColor:this.config.highlightColor,extensions:[$],filterRange:n?n.filterRange:void 0,visible:this.config.isVisible&&r}}},{key:"getDefaultHoverLayerProps",value:function(){return{id:"".concat(this.id,"-hovered"),pickable:!1,wrapLongitude:!0,coordinateSystem:E.a.LNGLAT}}},{key:"renderTextLabelLayer",value:function(e,t){var n=this,a=e.getPosition,r=e.getPixelOffset,o=e.backgroundProps,i=e.updateTriggers,l=e.sharedProps,c=t.data,s=t.mapState,u=this.config.textLabel;return c.textLabels.reduce((function(e,t,d){if(t.getText){var p,f,g=u[d].background||(null==o?void 0:o.background);e.push(new C.a(K(K({},l),{},{id:"".concat(n.id,"-label-").concat(null===(p=u[d].field)||void 0===p?void 0:p.name),data:c.data,visible:n.config.isVisible,getText:t.getText,getPosition:a,characterSet:t.characterSet,getPixelOffset:r(u[d]),getSize:q.PROJECTED_PIXEL_SIZE_MULTIPLIER,sizeScale:u[d].size,getTextAnchor:u[d].anchor,getAlignmentBaseline:u[d].alignment,getColor:u[d].color,outlineWidth:u[d].outlineWidth*q.TEXT_OUTLINE_MULTIPLIER,outlineColor:u[d].outlineColor,background:g,getBackgroundColor:u[d].backgroundColor,fontSettings:{sdf:u[d].outlineWidth>0},parameters:{depthTest:!1},getFilterValue:c.getFilterValue,updateTriggers:K(K({},i),{},{getText:null===(f=u[d].field)||void 0===f?void 0:f.name,getPixelOffset:K(K({},i.getRadius),{},{mapState:s,anchor:u[d].anchor,alignment:u[d].alignment}),getTextAnchor:u[d].anchor,getAlignmentBaseline:u[d].alignment,getColor:u[d].color}),_subLayerProps:K({},g?{background:{parameters:{cull:!1}}}:null)})))}return e}),[])}},{key:"calculateDataAttribute",value:function(e,t){return[]}},{key:"updateLayerMeta",value:function(e,t){}},{key:"getPositionAccessor",value:function(e){return function(){return null}}}],[{key:"findDefaultLayerProps",value:function(e,t){return{props:[],foundLayers:t}}},{key:"findDefaultColumnField",value:function(e,t){var n=Object.keys(e).reduce((function(n,a){var r=t.filter((function(t){return t.name===e[a]||e[a].includes(t.name)}));return n[a]=r.length?r.map((function(e){return{value:e.name,fieldIdx:e.fieldIdx}})):null,n}),{});return Object.values(n).every(Boolean)?this.getAllPossibleColumnParis(n):null}},{key:"getAllPossibleColumnParis",value:function(e){for(var t=Object.keys(e),n=t.map((function(e,n){return n===t.length-1?-1:0})),a=t.map((function(t){return e[t].length})),r=[];i(n,a,n.length-1);){var o=n.reduce((function(n,a,r){return n[t[r]]=e[t[r]][a],n}),{});r.push(o)}function i(e,t,n){return(0!==n||e[0]!==t[0]-1)&&(e[n]+1<t[n]?(e[n]=e[n]+1,!0):(e[n]=0,i(e,t,n-1)))}return r}},{key:"hexToRgb",value:function(e){return Object(W.hexToRgb)(e)}}]),e}(),le=n(63),ce=n.n(le),se=n(2213),ue=n(755);function de(e,t,n){return t=D()(t),S()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],D()(e).constructor):t.apply(e,n))}var pe=function(e){function t(){return p()(this,t),de(this,t,arguments)}return k()(t,e),g()(t,[{key:"render",value:function(){return w.a.createElement(B,this.props,w.a.createElement("circle",{cx:"29.4",cy:"31.6",r:"8.4",className:"cr1"}),w.a.createElement("circle",{cx:"48.5",cy:"15.7",r:"6.5",className:"cr2"}),w.a.createElement("circle",{cx:"11",cy:"44.2",r:"3",className:"cr3"}),w.a.createElement("circle",{cx:"50",cy:"44.2",r:"5",className:"cr4"}),w.a.createElement("circle",{cx:"34",cy:"54.2",r:"3",className:"cr5"}),w.a.createElement("circle",{cx:"14",cy:"16.2",r:"4",className:"cr6"}))}}]),t}(A.Component);r()(pe,"propTypes",{height:P.a.string,colors:P.a.arrayOf(P.a.string)}),r()(pe,"defaultProps",{height:"16px",predefinedClassName:"point-layer-icon",totalColor:6});var fe=pe,ge=n(85),me=n(153),he=n.n(me);function ye(e,t,n){return function(a){var r=Object(ge.b)(n),o="middle"===a.anchor?0:"start"===a.anchor?1:-1,i="center"===a.alignment?0:"bottom"===a.alignment?1:-1,l="center"===a.alignment?0:(a.alignment,a.size),c=e*r.pixelsPerMeter[0];return"function"==typeof t?function(e){return[o*(t(e)*c+20),i*(t(e)*c+20+l)]}:[o*(t*c+20),i*(t*c+20+l)]}}var ve=function(e){var t=e.textLabel,n=e.triggerChanged,a=e.oldLayerData,r=e.data,o=e.dataContainer;return t.map((function(e,t){if(!e.field)return{getText:null,characterSet:[]};var i,l=function(e){return function(t){return function(t){var n=e.field.valueAccessor(t);return Object(W.notNullorUndefined)(n)?String(n):""}}}(e)(o);if(!n["getLabelCharacterSet-".concat(t)]&&a&&a.textLabels&&a.textLabels[t])i=a.textLabels[t].characterSet;else{var c=e.field?r.map(l):[];i=he()(c.join(""))}return{characterSet:i,getText:l}}))},be=n(2192),Ee=n(2161);function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Se(e,t){var n=e.pair,a=n.lat,r=n.lng,o=n.alt;if(!t)return{lat:a,lng:r};var i={value:null,fieldIdx:-1,optional:!0};return{lat:a,lng:r,altitude:o?Oe(Oe({},i),o):i}}function _e(e,t){var n,a;return!(null==e||!e.picked)&&(null==e||null===(n=e.layer)||void 0===n||null===(a=n.props)||void 0===a?void 0:a.id).startsWith(t)}function De(e,t,n){return t=D()(t),S()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],D()(e).constructor):t.apply(e,n))}function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ae=["lat","lng"],we=["altitude"],Te=new se.a,Pe={radius:"radius",fixedRadius:"fixedRadius",opacity:"opacity",outline:"outline",thickness:"thickness",strokeColor:"strokeColor",colorRange:"colorRange",strokeColorRange:"strokeColorRange",radiusRange:"radiusRange",filled:ke(ke({},q.LAYER_VIS_CONFIGS.filled),{},{type:"boolean",label:"layer.fillColor",defaultValue:!0,property:"filled"})},Le=function(e){function t(e){var n;return p()(this,t),(n=De(this,t,[e])).registerVisConfig(Pe),n.getPositionAccessor=function(e){return(t=n.config.columns,a=t.lat,r=t.lng,o=t.altitude,function(e){return function(t){return[e.valueAt(t.index,r.fieldIdx),e.valueAt(t.index,a.fieldIdx),o&&o.fieldIdx>-1?e.valueAt(t.index,o.fieldIdx):0]}})(e);var t,a,r,o},n}return k()(t,e),g()(t,[{key:"type",get:function(){return"point"}},{key:"isAggregated",get:function(){return!1}},{key:"layerIcon",get:function(){return fe}},{key:"requiredLayerColumns",get:function(){return Ae}},{key:"optionalColumns",get:function(){return we}},{key:"columnPairs",get:function(){return this.defaultPointColumnPairs}},{key:"noneLayerDataAffectingProps",get:function(){return[].concat(i()(ce()(D()(t.prototype),"noneLayerDataAffectingProps",this)),["radius"])}},{key:"visualChannels",get:function(){return{color:ke(ke({},ce()(D()(t.prototype),"visualChannels",this).color),{},{accessor:"getFillColor",condition:function(e){return e.visConfig.filled},defaultValue:function(e){return e.color}}),strokeColor:{property:"strokeColor",key:"strokeColor",field:"strokeColorField",scale:"strokeColorScale",domain:"strokeColorDomain",range:"strokeColorRange",channelScaleType:q.CHANNEL_SCALES.color,accessor:"getLineColor",condition:function(e){return e.visConfig.outline},defaultValue:function(e){return e.visConfig.strokeColor||e.color}},size:ke(ke({},ce()(D()(t.prototype),"visualChannels",this).size),{},{property:"radius",range:"radiusRange",fixed:"fixedRadius",channelScaleType:"radius",accessor:"getRadius",defaultValue:1})}}},{key:"setInitialLayerConfig",value:function(e){if(!e.dataContainer.numRows())return this;var t=Object(W.findDefaultColorField)(e);return t&&(this.updateLayerConfig({colorField:t}),this.updateLayerVisualChannel(e,"color")),this}},{key:"getDefaultLayerConfig",value:function(e){return ke(ke({},ce()(D()(t.prototype),"getDefaultLayerConfig",this).call(this,e)),{},{strokeColorField:null,strokeColorDomain:[0,1],strokeColorScale:"quantile"})}},{key:"calculateDataAttribute",value:function(e,t){for(var n=e.filteredIndex,a=[],r=0;r<n.length;r++){var o=n[r],i=t({index:o});i.every(Number.isFinite)&&a.push({position:i,index:o})}return a}},{key:"formatLayerData",value:function(e,t){if(null===this.config.dataId)return{};var n=this.config.textLabel,a=e[this.config.dataId],r=a.gpuFilter,o=a.dataContainer,i=this.updateData(e,t),l=i.data,c=i.triggerChanged,s=this.getPositionAccessor(o),u=ve({textLabel:n,triggerChanged:c,oldLayerData:t,data:l,dataContainer:o}),d=this.getAttributeAccessors({dataContainer:o});return ke({data:l,getPosition:s,getFilterValue:r.filterValueAccessor(o)(),textLabels:u},d)}},{key:"updateLayerMeta",value:function(e){var t=this.getPositionAccessor(e),n=this.getPointsBounds(e,t);this.updateMeta({bounds:n})}},{key:"renderLayer",value:function(e){var t,n=e.data,a=e.gpuFilter,r=e.objectHovered,o=e.mapState,l=e.interactionConfig,c=this.config.visConfig.fixedRadius&&Boolean(this.config.sizeField),s=this.getRadiusScaleByZoom(o,c),u=ke({stroked:this.config.visConfig.outline,filled:this.config.visConfig.filled,lineWidthScale:this.config.visConfig.thickness,radiusScale:s},this.config.visConfig.fixedRadius?{}:{radiusMaxPixels:500}),d=ke({getPosition:this.config.columns,getFilterValue:a.filterValueUpdateTriggers},this.getVisualChannelUpdateTriggers()),p=this.getDefaultDeckLayerProps(e),f=this.getBrushingExtensionProps(l),g=ye(s,n.getRadius,o),m=[].concat(i()(p.extensions),[Te]),h=ke({getFilterValue:n.getFilterValue,extensions:m,filterRange:p.filterRange,visible:p.visible},f),y=this.hasHoveredObject(r);return[new ue.a(ke(ke(ke(ke(ke({},p),f),u),n),{},{parameters:{depthTest:(null===(t=this.config.columns.altitude)||void 0===t?void 0:t.fieldIdx)>-1},lineWidthUnits:"pixels",updateTriggers:d,extensions:m}))].concat(i()(y?[new ue.a(ke(ke(ke({},this.getDefaultHoverLayerProps()),u),{},{visible:p.visible,data:[y],getLineColor:this.config.highlightColor,getFillColor:this.config.highlightColor,getRadius:n.getRadius,getPosition:n.getPosition}))]:[]),i()(this.renderTextLabelLayer({getPosition:n.getPosition,sharedProps:h,getPixelOffset:g,updateTriggers:d},e)))}}],[{key:"findDefaultLayerProps",value:function(e){var t=e.fieldPairs,n=[];return(void 0===t?[]:t).forEach((function(e){var t=e.pair.lat,a={label:e.defaultName||"Point"};t.value in q.DEFAULT_LAYER_COLOR&&(a.color=Object(W.hexToRgb)(q.DEFAULT_LAYER_COLOR[t.value])),0===n.length&&(a.isVisible=!0),a.columns=Se(e,!0),n.push(a)})),{props:n}}}]),t}(ie),je=n(1379);function Me(e,t,n){return t=D()(t),S()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],D()(e).constructor):t.apply(e,n))}var Fe=function(e){function t(){return p()(this,t),Me(this,t,arguments)}return k()(t,e),g()(t,[{key:"render",value:function(){return w.a.createElement(B,this.props,w.a.createElement("path",{d:"M34.5,34.4c-0.6,0-1.2-0.4-1.4-1c-2.7-9.9-8.8-21.7-16.8-22.3c-3.1-0.2-5.6,1.5-7,4.8c-0.3,0.7-1.1,1.1-1.9,0.7 c-0.7-0.3-1.1-1.1-0.7-1.9c1.9-4.3,5.6-6.8,9.8-6.5c9.5,0.7,16.3,13,19.4,24.4c0.2,0.8-0.2,1.5-1,1.7C34.8,34.3,34.6,34.4,34.5,34.4 z",className:"cr1"}),w.a.createElement("path",{d:"M6.7,57c0,0-0.1,0-0.1,0c-0.5-0.1-0.9-0.6-0.8-1.1c2.4-17.3,9.6-30.3,17.5-31.8c3.1-0.6,7.8,0.4,12.1,8.3 c0.3,0.5,0.1,1-0.4,1.3c-0.5,0.3-1,0.1-1.3-0.4c-2.1-3.8-5.6-8.2-10.1-7.4C16.6,27.3,9.9,40,7.6,56.2C7.6,56.7,7.2,57,6.7,57z",className:"cr2"}),w.a.createElement("path",{d:"M56.8,56.4c-0.8,0-1.4-0.6-1.4-1.4c0-13.5-6.8-24.4-12.9-25.8c-3.5-0.8-5.6,2-6.7,4.4c-0.3,0.7-1.2,1-1.9,0.7 c-0.7-0.3-1-1.2-0.7-1.9c2.2-4.7,5.8-6.9,9.9-6c9,2,15.1,16.4,15.1,28.6C58.3,55.7,57.6,56.4,56.8,56.4z",className:"cr3"}),w.a.createElement("path",{d:"M34.5,32.7c-0.2,0-0.3,0-0.5,0c-1.3-0.3-2.1-1.5-1.8-2.8c3.5-17.4,10.3-20.7,14-21.2c4.4-0.5,8.6,2.3,11,7.4 c0.6,1.2,0,2.6-1.1,3.1c-1.2,0.6-2.6,0-3.1-1.1c-1.5-3.2-3.8-5-6.1-4.7c-1.5,0.2-6.8,2-9.9,17.4C36.6,32,35.6,32.7,34.5,32.7z",className:"cr4"}))}}]),t}(A.Component);r()(Fe,"propTypes",{height:P.a.string,colors:P.a.arrayOf(P.a.string)}),r()(Fe,"defaultProps",{height:"16px",predefinedClassName:"point-layer-icon",totalColor:4});var Ie=Fe;function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Be(e,t,n){return t=D()(t),S()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],D()(e).constructor):t.apply(e,n))}var Ue=["lat0","lng0","lat1","lng1"],Ve={lat0:"arc.lat0",lng0:"arc.lng0",lat1:"arc.lat1",lng1:"arc.lng1"},ze={opacity:"opacity",thickness:"thickness",colorRange:"colorRange",sizeRange:"strokeWidthRange",targetColor:"targetColor"},Ge=function(e){function t(e){var n;return p()(this,t),(n=Be(this,t,[e])).registerVisConfig(ze),n.getPositionAccessor=function(e){return(t=n.config.columns,a=t.lat0,r=t.lng0,o=t.lat1,i=t.lng1,function(e){return function(t){return[e.valueAt(t.index,r.fieldIdx),e.valueAt(t.index,a.fieldIdx),0,e.valueAt(t.index,i.fieldIdx),e.valueAt(t.index,o.fieldIdx),0]}})(e);var t,a,r,o,i},n}return k()(t,e),g()(t,[{key:"type",get:function(){return"arc"}},{key:"isAggregated",get:function(){return!1}},{key:"layerIcon",get:function(){return Ie}},{key:"requiredLayerColumns",get:function(){return Ue}},{key:"columnLabels",get:function(){return Ve}},{key:"columnPairs",get:function(){return this.defaultLinkColumnPairs}},{key:"visualChannels",get:function(){return{sourceColor:Ne(Ne({},ce()(D()(t.prototype),"visualChannels",this).color),{},{property:"color",key:"sourceColor",accessor:"getSourceColor",defaultValue:function(e){return e.color}}),targetColor:Ne(Ne({},ce()(D()(t.prototype),"visualChannels",this).color),{},{property:"targetColor",key:"targetColor",accessor:"getTargetColor",defaultValue:function(e){return e.visConfig.targetColor||e.color}}),size:Ne(Ne({},ce()(D()(t.prototype),"visualChannels",this).size),{},{accessor:"getWidth",property:"stroke"})}}},{key:"calculateDataAttribute",value:function(e,t){e.dataContainer;for(var n=e.filteredIndex,a=[],r=0;r<n.length;r++){var o=n[r],i=t({index:o});i.every(Number.isFinite)&&a.push({index:o,sourcePosition:[i[0],i[1],i[2]],targetPosition:[i[3],i[4],i[5]]})}return a}},{key:"formatLayerData",value:function(e,t){if(null===this.config.dataId)return{};var n=e[this.config.dataId],a=n.gpuFilter,r=n.dataContainer,o=this.updateData(e,t).data,i=this.getAttributeAccessors({dataContainer:r});return Ne({data:o,getFilterValue:a.filterValueAccessor(r)()},i)}},{key:"updateLayerMeta",value:function(e){var t=this.getPositionAccessor(e),n=this.getPointsBounds(e,(function(e){var n=t(e);return[n[0],n[1]]})),a=this.getPointsBounds(e,(function(e){var n=t(e);return[n[3],n[4]]})),r=a&&n?[Math.min(n[0],a[0]),Math.min(n[1],a[1]),Math.max(n[2],a[2]),Math.max(n[3],a[3])]:n||a;this.updateMeta({bounds:r})}},{key:"renderLayer",value:function(e){var t=e.data,n=e.gpuFilter,a=e.objectHovered,r=e.interactionConfig,o=Ne({getPosition:this.config.columns,getFilterValue:n.filterValueUpdateTriggers},this.getVisualChannelUpdateTriggers()),l=this.config.visConfig.thickness*q.PROJECTED_PIXEL_SIZE_MULTIPLIER,c=this.getDefaultDeckLayerProps(e),s=this.hasHoveredObject(a);return[new je.a(Ne(Ne(Ne(Ne({},c),this.getBrushingExtensionProps(r,"source_target")),t),{},{widthScale:l,updateTriggers:o,extensions:[].concat(i()(c.extensions),[new se.a])}))].concat(i()(s?[new je.a(Ne(Ne({},this.getDefaultHoverLayerProps()),{},{visible:c.visible,data:[s],widthScale:l,getSourceColor:this.config.highlightColor,getTargetColor:this.config.highlightColor,getWidth:t.getWidth}))]:[]))}}],[{key:"findDefaultLayerProps",value:function(e){var t=e.fieldPairs,n=void 0===t?[]:t;return n.length<2?{props:[]}:{props:[{color:Object(W.hexToRgb)(q.DEFAULT_LAYER_COLOR.tripArc),columns:{lat0:n[0].pair.lat,lng0:n[0].pair.lng,lat1:n[1].pair.lat,lng1:n[1].pair.lng},label:"".concat(n[0].defaultName," -> ").concat(n[1].defaultName," arc")}]}}}]),t}(ie),He=n(163);function qe(e,t,n){return t=D()(t),S()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],D()(e).constructor):t.apply(e,n))}var We=function(e){function t(){return p()(this,t),qe(this,t,arguments)}return k()(t,e),g()(t,[{key:"render",value:function(){return w.a.createElement(B,this.props,w.a.createElement("path",{d:"M57.8,58.3c-0.4,0-0.8-0.2-1.1-0.5L33.1,32.1c-0.6-0.6-0.5-1.6,0.1-2.1c0.6-0.6,1.6-0.5,2.1,0.1l23.7,25.8 c0.6,0.6,0.5,1.6-0.1,2.1C58.5,58.2,58.2,58.3,57.8,58.3z",className:"cr1"}),w.a.createElement("path",{d:"M34.2,33.6c-0.6,0-1.2-0.2-1.7-0.6c-1-0.9-1.1-2.5-0.2-3.5l18.5-21c0.9-1,2.5-1.1,3.5-0.2c1,0.9,1.1,2.5,0.2,3.5L36,32.7 C35.5,33.3,34.9,33.6,34.2,33.6z",className:"cr2"}),w.a.createElement("path",{d:"M34.2,32.6c-0.5,0-1-0.3-1.3-0.8L20.7,10.2c-0.4-0.7-0.1-1.6,0.6-2c0.7-0.4,1.6-0.1,2,0.6l12.1,21.6c0.4,0.7,0.1,1.6-0.6,2 C34.7,32.5,34.4,32.6,34.2,32.6z",className:"cr3"}),w.a.createElement("path",{d:"M15.8,58.4c-0.3,0-0.6-0.1-0.9-0.3c-0.7-0.5-0.8-1.4-0.4-2.1l18.3-25.8c0.5-0.7,1.4-0.8,2.1-0.4s0.8,1.4,0.4,2.1L17.1,57.7 C16.8,58.2,16.3,58.4,15.8,58.4z",className:"cr4"}),w.a.createElement("path",{d:"M34.2,32.1c-0.1,0-0.3,0-0.4-0.1l-28.5-14c-0.5-0.2-0.7-0.8-0.5-1.3c0.2-0.5,0.8-0.7,1.3-0.5l28.5,14 c0.5,0.2,0.7,0.8,0.5,1.3C34.9,31.9,34.5,32.1,34.2,32.1z",className:"cr5"}))}}]),t}(A.Component);function Ye(e,t,n){return t=D()(t),S()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],D()(e).constructor):t.apply(e,n))}function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}r()(We,"propTypes",{height:P.a.string,colors:P.a.arrayOf(P.a.string)}),r()(We,"defaultProps",{height:"16px",predefinedClassName:"line-layer-icon",totalColor:5});var Xe=["lat0","lng0","lat1","lng1"],Je=["alt0","alt1"],Qe={lat0:"arc.lat0",lng0:"arc.lng0",lat1:"arc.lat1",lng1:"arc.lng1",alt0:"line.alt0",alt1:"line.alt1"},$e={opacity:"opacity",thickness:"thickness",colorRange:"colorRange",sizeRange:"strokeWidthRange",targetColor:"targetColor",elevationScale:Ze(Ze({},q.LAYER_VIS_CONFIGS.elevationScale),{},{defaultValue:1})},et=function(e){function t(e){var n;return p()(this,t),(n=Ye(this,t,[e])).registerVisConfig($e),n.getPositionAccessor=function(e){return(t=n.config.columns,a=t.lat0,r=t.lng0,o=t.lat1,i=t.lng1,l=t.alt0,c=t.alt1,function(e){return function(t){return[e.valueAt(t.index,r.fieldIdx),e.valueAt(t.index,a.fieldIdx),l&&l.fieldIdx>-1?e.valueAt(t.index,l.fieldIdx):0,e.valueAt(t.index,i.fieldIdx),e.valueAt(t.index,o.fieldIdx),c&&(null==c?void 0:c.fieldIdx)>-1?e.valueAt(t.index,c.fieldIdx):0]}})(e);var t,a,r,o,i,l,c},n}return k()(t,e),g()(t,[{key:"type",get:function(){return"line"}},{key:"layerIcon",get:function(){return We}},{key:"requiredLayerColumns",get:function(){return Xe}},{key:"optionalColumns",get:function(){return Je}},{key:"columnLabels",get:function(){return Qe}},{key:"visualChannels",get:function(){var e=ce()(D()(t.prototype),"visualChannels",this);return Ze(Ze({},e),{},{sourceColor:Ze(Ze({},e.sourceColor),{},{accessor:"getColor"})})}},{key:"renderLayer",value:function(e){var t=e.data,n=e.gpuFilter,a=e.objectHovered,r=e.interactionConfig,o={widthScale:this.config.visConfig.thickness*q.PROJECTED_PIXEL_SIZE_MULTIPLIER,elevationScale:this.config.visConfig.elevationScale},l=Ze({getPosition:this.config.columns,getFilterValue:n.filterValueUpdateTriggers},this.getVisualChannelUpdateTriggers()),c=this.getDefaultDeckLayerProps(e),s=this.hasHoveredObject(a);return[new He.e(Ze(Ze(Ze(Ze(Ze({},c),this.getBrushingExtensionProps(r,"source_target")),t),o),{},{updateTriggers:l,extensions:[].concat(i()(c.extensions),[new se.a])}))].concat(i()(s?[new He.e(Ze(Ze(Ze({},this.getDefaultHoverLayerProps()),o),{},{data:[s],getColor:this.config.highlightColor,getTargetColor:this.config.highlightColor,getWidth:t.getWidth}))]:[]))}}],[{key:"findDefaultLayerProps",value:function(e){var t=e.fieldPairs,n=void 0===t?[]:t;return n.length<2?{props:[]}:{props:[{columns:{lat0:n[0].pair.lat,lng0:n[0].pair.lng,alt0:{value:null,fieldIdx:-1,optional:!0},lat1:n[1].pair.lat,lng1:n[1].pair.lng,alt1:{value:null,fieldIdx:-1,optional:!0}},label:"".concat(n[0].defaultName," -> ").concat(n[1].defaultName," line")}]}}}]),t}(Ge),tt=n(936),nt=n(10),at=n.n(nt),rt=n(162),ot=n.n(rt);function it(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?it(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ct(e,t,n){return t=D()(t),S()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],D()(e).constructor):t.apply(e,n))}var st=function(e,t){return function(n){return t(n).every((function(t,n){return t>=e[n][0]&&t<=e[n][1]}))}},ut=function(e){return e.colors.map(W.hexToRgb)},dt=["lat","lng"],pt=function(e){function t(e){var n;return p()(this,t),n=ct(this,t,[e]),r()(at()(n),"getColorRange",void 0),n.getPositionAccessor=function(e){return(t=n.config.columns,a=t.lat,r=t.lng,function(e){return function(t){return[e.valueAt(t.index,r.fieldIdx),e.valueAt(t.index,a.fieldIdx)]}})(e);var t,a,r},n.getColorRange=ot()(ut),n.getPointData=function(e){return e.source},n.gpuFilterGetIndex=function(e){return n.getPointData(e).index},n.gpuFilterGetData=function(e,t,n){return e.valueAt(t.index,n)},n}return k()(t,e),g()(t,[{key:"isAggregated",get:function(){return!0}},{key:"requiredLayerColumns",get:function(){return dt}},{key:"columnPairs",get:function(){return this.defaultPointColumnPairs}},{key:"noneLayerDataAffectingProps",get:function(){return[].concat(i()(ce()(D()(t.prototype),"noneLayerDataAffectingProps",this)),["enable3d","colorRange","colorDomain","sizeRange","sizeScale","sizeDomain","percentile","coverage","elevationPercentile","elevationScale","enableElevationZoomFactor"])}},{key:"visualChannels",get:function(){return{color:{aggregation:"colorAggregation",channelScaleType:q.CHANNEL_SCALES.colorAggr,defaultMeasure:"property.pointCount",domain:"colorDomain",field:"colorField",key:"color",property:"color",range:"colorRange",scale:"colorScale"},size:{aggregation:"sizeAggregation",channelScaleType:q.CHANNEL_SCALES.sizeAggr,condition:function(e){return e.visConfig.enable3d},defaultMeasure:"property.pointCount",domain:"sizeDomain",field:"sizeField",key:"size",property:"height",range:"sizeRange",scale:"sizeScale"}}}},{key:"getVisualChannelDescription",value:function(e){var t,n=this.visualChannels[e];if(!n)return{label:"",measure:void 0};var a=n.range,r=n.field,o=n.defaultMeasure,i=n.aggregation,l=this.config[r],c=null===(t=this.visConfigSettings[a])||void 0===t?void 0:t.label;return{label:"function"==typeof c?c(this.config):c||"",measure:l&&i?"".concat(this.config.visConfig[i]," of ").concat(l.displayName||l.name):o}}},{key:"getHoverData",value:function(e){return e}},{key:"updateLayerVisualChannel",value:function(e,t){e.dataContainer;this.validateVisualChannel(t)}},{key:"validateVisualChannel",value:function(e){this.validateFieldType(e),this.validateAggregationType(e),this.validateScale(e)}},{key:"validateAggregationType",value:function(e){var t=this.visualChannels[e],n=t.field,a=t.aggregation,o=this.getAggregationOptions(e);a&&(o.length?o.includes(this.config.visConfig[a])||this.updateLayerVisConfig(r()({},a,o[0])):this.updateLayerConfig(r()({},n,null)))}},{key:"getAggregationOptions",value:function(e){var t=this.visualChannels[e],n=t.field,a=t.channelScaleType;return Object.keys(this.config[n]?q.FIELD_OPTS[this.config[n].type].scale[a]:q.DEFAULT_AGGREGATION[a])}},{key:"getScaleOptions",value:function(e){var t=this.visualChannels[e],n=t.field,a=t.aggregation,r=t.channelScaleType,o=a?this.config.visConfig[a]:null;return o?this.config[n]?q.FIELD_OPTS[this.config[n].type].scale[r][o]:q.DEFAULT_AGGREGATION[r][o]:[]}},{key:"updateLayerDomain",value:function(e,t){return this}},{key:"updateLayerMeta",value:function(e,t){var n=this.getPointsBounds(e,t);this.updateMeta({bounds:n})}},{key:"calculateDataAttribute",value:function(e,t){e.dataContainer;for(var n=e.filteredIndex,a=[],r=0;r<n.length;r++){var o=n[r];t({index:o}).every(Number.isFinite)&&a.push({index:o})}return a}},{key:"formatLayerData",value:function(e,t){if(null===this.config.dataId)return{};var n,a=e[this.config.dataId],r=a.gpuFilter,o=a.dataContainer,i=this.getPositionAccessor(o),l=(n=this.getPointData,function(e,t){return function(a){return e?Object(W.aggregate)(a.map((function(t){return e.valueAccessor(n(t))})),t):a.length}}),c=l(this.config.colorField,this.config.visConfig.colorAggregation),s=l(this.config.sizeField,this.config.visConfig.sizeAggregation),u=Object.values(r.filterRange).some((function(e){return e.some((function(e){return 0!==e}))})),d=r.filterValueAccessor(o)(this.gpuFilterGetIndex,this.gpuFilterGetData),p=u?st(r.filterRange,d):void 0;return lt(lt({data:this.updateData(e,t).data,getPosition:i,_filterData:p},c?{getColorValue:c}:{}),s?{getElevationValue:s}:{})}},{key:"getDefaultDeckLayerProps",value:function(e){return lt(lt({},ce()(D()(t.prototype),"getDefaultDeckLayerProps",this).call(this,e)),{},{highlightColor:q.HIGHLIGH_COLOR_3D,extensions:[],autoHighlight:this.config.visConfig.enable3d})}},{key:"getDefaultAggregationLayerProp",value:function(e){var t=e.gpuFilter,n=e.mapState,a=e.layerCallbacks,r=void 0===a?{}:a,o=this.config.visConfig,i=this.getElevationZoomFactor(n),l={getColorValue:{colorField:this.config.colorField,colorAggregation:this.config.visConfig.colorAggregation},getElevationValue:{sizeField:this.config.sizeField,sizeAggregation:this.config.visConfig.sizeAggregation},_filterData:lt({filterRange:t.filterRange},t.filterValueUpdateTriggers)};return lt(lt({},this.getDefaultDeckLayerProps(e)),{},{coverage:o.coverage,colorRange:this.getColorRange(o.colorRange),colorScaleType:this.config.colorScale,upperPercentile:o.percentile[1],lowerPercentile:o.percentile[0],colorAggregation:o.colorAggregation,extruded:o.enable3d,elevationScale:o.elevationScale*i,elevationScaleType:this.config.sizeScale,elevationRange:o.sizeRange,elevationLowerPercentile:o.elevationPercentile[0],elevationUpperPercentile:o.elevationPercentile[1],updateTriggers:l,onSetColorDomain:r.onSetLayerDomain})}}]),t}(ie),ft=n(457);function gt(e){var t=e.object,n=e.cellSize,a=e.coverage,r=e.properties,o=e.mapState,i=t.position,l=new ft.a(o);return i?{geometry:{coordinates:[l.addMetersToLngLat(i,[n*(.5-a/2),n*(.5-a/2)]),l.addMetersToLngLat(i,[n*(.5+a/2),n*(.5-a/2)]),l.addMetersToLngLat(i,[n*(.5+a/2),n*(.5+a/2)]),l.addMetersToLngLat(i,[n*(.5-a/2),n*(.5+a/2)]),l.addMetersToLngLat(i,[n*(.5-a/2),n*(.5-a/2)])],type:"LineString"},properties:r}:null}function mt(e,t,n){return t=D()(t),S()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],D()(e).constructor):t.apply(e,n))}var ht=function(e){function t(){return p()(this,t),mt(this,t,arguments)}return k()(t,e),g()(t,[{key:"render",value:function(){return w.a.createElement(B,this.props,w.a.createElement("rect",{x:"11.2",y:"11.2",className:"cr1",width:"13.1",height:"13.1",style:{opacity:.8}}),w.a.createElement("rect",{x:"25.4",y:"11.2",className:"cr2",width:"13.1",height:"13.1",style:{opacity:.8}}),w.a.createElement("rect",{x:"39.6",y:"11.2",width:"13.1",height:"13.1",className:"cr3"}),w.a.createElement("rect",{x:"11.2",y:"25.4",className:"cr4",width:"13.1",height:"13.1",style:{opacity:.4}}),w.a.createElement("rect",{x:"25.4",y:"25.4",className:"cr5",width:"13.1",height:"13.1"}),w.a.createElement("rect",{x:"39.6",y:"25.4",className:"cr6",width:"13.1",height:"13.1",style:{opacity:.8}}),w.a.createElement("rect",{x:"11.2",y:"39.6",width:"13.1",className:"cr1",height:"13.1"}),w.a.createElement("rect",{x:"25.4",y:"39.6",className:"cr2",width:"13.1",height:"13.1",style:{opacity:.4}}),w.a.createElement("rect",{x:"39.6",y:"39.6",className:"cr3",width:"13.1",height:"13.1",style:{opacity:.4}}))}}]),t}(A.Component);function yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yt(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bt(e,t,n){return t=D()(t),S()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],D()(e).constructor):t.apply(e,n))}r()(ht,"propTypes",{height:P.a.string,colors:P.a.arrayOf(P.a.string)}),r()(ht,"defaultProps",{height:"16px",predefinedClassName:"grid-layer-icon",totalColor:6});var Et={opacity:"opacity",worldUnitSize:"worldUnitSize",colorRange:"colorRange",coverage:"coverage",sizeRange:"elevationRange",percentile:"percentile",elevationPercentile:"elevationPercentile",elevationScale:"elevationScale",enableElevationZoomFactor:"enableElevationZoomFactor",colorAggregation:"colorAggregation",sizeAggregation:"sizeAggregation",enable3d:"enable3d"},Ct=function(e){function t(e){var n;return p()(this,t),(n=bt(this,t,[e])).registerVisConfig(Et),n.visConfigSettings.worldUnitSize.label="columns.grid.worldUnitSize",n}return k()(t,e),g()(t,[{key:"type",get:function(){return"grid"}},{key:"layerIcon",get:function(){return ht}},{key:"renderLayer",value:function(e){var t=e.data,n=e.objectHovered,a=e.mapState,r=this.getDefaultAggregationLayerProp(e),o=this.getZoomFactor(a),l=this.config.visConfig,c=1e3*l.worldUnitSize,s=this.hasHoveredObject(n);return[new He.c(vt(vt(vt({},r),t),{},{wrapLongitude:!1,cellSize:c}))].concat(i()(s&&!l.enable3d?[new tt.a(vt(vt({},this.getDefaultHoverLayerProps()),{},{visible:r.visible,wrapLongitude:!1,data:[gt({object:s,cellSize:c,coverage:l.coverage,mapState:a})],getLineColor:this.config.highlightColor,lineWidthScale:8*o}))]:[]))}}]),t}(pt),Ot=n(71),St=n.n(Ot);function _t(e,t,n,a){var r=new ft.a(a);if(!Array.isArray(e.position))return null;var o=r.projectFlat(e.position),i=r.getDistanceScales(e.position).unitsPerMeter;if(!Array.isArray(i))return St.a.warn("unitsPerMeter is undefined"),null;for(var l=n*i[0],c=[],s=0;s<6;s++){var u=Dt(o,l,s);c.push(r.unprojectFlat(u))}return c.push(c[0]),{geometry:{coordinates:c,type:"LineString"},properties:t}}function Dt(e,t,n){var a=60*n+30,r=Math.PI/180*a;return[e[0]+t*Math.cos(r),e[1]+t*Math.sin(r)]}function xt(e,t,n){return t=D()(t),S()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],D()(e).constructor):t.apply(e,n))}var kt=function(e){function t(){return p()(this,t),xt(this,t,arguments)}return k()(t,e),g()(t,[{key:"render",value:function(){return w.a.createElement(B,this.props,w.a.createElement("polygon",{className:"cr1",points:"23.9,10 30.9,14 30.9,22.1 23.9,26.2 16.8,22.1 16.8,14 ",style:{opacity:.6}}),w.a.createElement("polygon",{className:"cr2",points:"23.9,37.8 30.9,41.9 30.9,50 23.9,54 16.8,50 16.8,41.9 ",style:{opacity:.4}}),w.a.createElement("polygon",{className:"cr6",points:"40.1,10 47.2,14 47.2,22.1 40.1,26.2 33.1,22.1 33.1,14 "}),w.a.createElement("polygon",{className:"cr3",points:"40.1,37.8 47.2,41.9 47.2,50 40.1,54 33.1,50 33.1,41.9 ",style:{opacity:.8}}),w.a.createElement("polygon",{className:"cr1",points:"15.8,23.9 22.8,27.9 22.8,36.1 15.8,40.1 8.7,36.1 8.7,27.9 "}),w.a.createElement("polygon",{className:"cr4",points:"32,23.9 39,27.9 39,36.1 32,40.1 25,36.1 25,27.9 ",style:{opacity:.8}}),w.a.createElement("polygon",{className:"cr5",points:"48.2,23.9 55.3,27.9 55.3,36.1 48.2,40.1 41.2,36.1 41.2,27.9 ",style:{opacity:.4}}))}}]),t}(A.Component);function At(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?At(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):At(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tt(e,t,n){return t=D()(t),S()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],D()(e).constructor):t.apply(e,n))}r()(kt,"propTypes",{height:P.a.string,colors:P.a.arrayOf(P.a.string)}),r()(kt,"defaultProps",{height:"16px",predefinedClassName:"hexagon-layer-icon",totalColor:6});var Pt={opacity:"opacity",worldUnitSize:"worldUnitSize",resolution:"resolution",colorRange:"colorRange",coverage:"coverage",sizeRange:"elevationRange",percentile:"percentile",elevationPercentile:"elevationPercentile",elevationScale:"elevationScale",enableElevationZoomFactor:"enableElevationZoomFactor",colorAggregation:"colorAggregation",sizeAggregation:"sizeAggregation",enable3d:"enable3d"},Lt=function(e){function t(e){var n;return p()(this,t),(n=Tt(this,t,[e])).registerVisConfig(Pt),n.visConfigSettings.worldUnitSize.label="columns.hexagon.worldUnitSize",n}return k()(t,e),g()(t,[{key:"type",get:function(){return"hexagon"}},{key:"name",get:function(){return"Hexbin"}},{key:"layerIcon",get:function(){return kt}},{key:"renderLayer",value:function(e){var t=e.data,n=e.objectHovered,a=e.mapState,r=this.getDefaultAggregationLayerProp(e),o=this.getZoomFactor(a),l=this.config.visConfig,c=1e3*l.worldUnitSize,s=this.hasHoveredObject(n);return[new He.d(wt(wt(wt({},r),t),{},{wrapLongitude:!1,radius:c}))].concat(i()(s&&!l.enable3d?[new tt.a(wt(wt({},this.getDefaultHoverLayerProps()),{},{visible:r.visible,wrapLongitude:!1,data:[_t(s,{},c*l.coverage,a)].filter((function(e){return e})),getLineColor:this.config.highlightColor,lineWidthScale:Object(W.clamp)([1,100],.1*c*o)}))]:[]))}}]),t}(pt),jt=n(156),Mt=n(423),Ft=n(59),It=n(257);function Rt(e,t,n){return t=D()(t),S()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],D()(e).constructor):t.apply(e,n))}var Nt=function(e){function t(){return p()(this,t),Rt(this,t,arguments)}return k()(t,e),g()(t,[{key:"render",value:function(){return w.a.createElement(B,this.props,w.a.createElement("polygon",{className:"cr1",points:"25.04 23.08 9.72 31.79 8.19 43.2 19.57 53.83 28.79 53.83 35.6 46.57 39.45 30.08 25.04 23.08"}),w.a.createElement("polygon",{className:"cr2",points:"52.8 26.3 41.74 30.32 37.9 46.75 45.26 53.83 51.45 53.83 55.07 43.51 52.8 26.3",style:{opacity:.8}}),w.a.createElement("polygon",{className:"cr3",points:"36.69 48.75 31.93 53.83 41.96 53.83 36.69 48.75",style:{opacity:.4}}),w.a.createElement("polygon",{className:"cr3",points:"25.95 20.98 40.84 28.22 52.57 24.06 50.89 11.5 23.24 11.5 25.95 20.98",style:{opacity:.4}}),w.a.createElement("polygon",{className:"cr4",points:"20.79 11.9 11.73 15.72 10.08 28.96 23.64 21.25 20.79 11.9",style:{opacity:.8}}))}}]),t}(A.Component);r()(Nt,"propTypes",{height:P.a.string,colors:P.a.arrayOf(P.a.string)}),r()(Nt,"defaultProps",{height:null,size:"tiny",predefinedClassName:"geojson-layer-icon"});var Bt=["data"];function Ut(e,t,n){return t=D()(t),S()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],D()(e).constructor):t.apply(e,n))}function Vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Gt=r()(r()(r()({},Ft.DATA_TYPES.GEOMETRY,!0),Ft.DATA_TYPES.GEOMETRY_FROM_STRING,!0),Ft.DATA_TYPES.PAIR_GEOMETRY_FROM_STRING,!0),Ht={opacity:"opacity",strokeOpacity:zt(zt({},q.LAYER_VIS_CONFIGS.opacity),{},{property:"strokeOpacity"}),thickness:zt(zt({},q.LAYER_VIS_CONFIGS.thickness),{},{defaultValue:.5}),strokeColor:"strokeColor",colorRange:"colorRange",strokeColorRange:"strokeColorRange",radius:"radius",sizeRange:"strokeWidthRange",radiusRange:"radiusRange",heightRange:"elevationRange",elevationScale:"elevationScale",stroked:"stroked",filled:"filled",enable3d:"enable3d",wireframe:"wireframe",fixedHeight:"fixedHeight"},qt=["geojson"],Wt=function(e){var t=e.geojson;return function(e){var n;return null===(n=e.getColumn)||void 0===n?void 0:n.call(e,t.fieldIdx)}},Yt=function(e){var t=e.geojson;return function(e){return e.getField?e.getField(t.fieldIdx):null}},Kt=500,Zt=1,Xt=1,Jt=function(e){function t(e){var n;return p()(this,t),n=Ut(this,t,[e]),r()(at()(n),"dataToFeature",[]),r()(at()(n),"dataContainer",null),r()(at()(n),"filteredIndex",null),r()(at()(n),"filteredIndexTrigger",null),r()(at()(n),"centroids",[]),n.registerVisConfig(Ht),n.getPositionAccessor=function(e){return(t=n.config.columns,a=t.geojson,function(e){return function(t){return e.valueAt(t.index,a.fieldIdx)}})(e);var t,a},n}return k()(t,e),g()(t,[{key:"type",get:function(){return t.type}},{key:"name",get:function(){return"Polygon"}},{key:"layerIcon",get:function(){return Nt}},{key:"requiredLayerColumns",get:function(){return qt}},{key:"visualChannels",get:function(){var e=ce()(D()(t.prototype),"visualChannels",this);return{color:zt(zt({},e.color),{},{accessor:"getFillColor",condition:function(e){return e.visConfig.filled},nullValue:e.color.nullValue,getAttributeValue:function(e){return function(t){return t.properties.fillColor||e.color}},defaultValue:function(e){return e.color}}),strokeColor:{property:"strokeColor",field:"strokeColorField",scale:"strokeColorScale",domain:"strokeColorDomain",range:"strokeColorRange",key:"strokeColor",channelScaleType:q.CHANNEL_SCALES.color,accessor:"getLineColor",condition:function(e){return e.visConfig.stroked},nullValue:e.color.nullValue,getAttributeValue:function(e){return function(t){return t.properties.lineColor||e.visConfig.strokeColor||e.color}},defaultValue:function(e){return e.visConfig.strokeColor||e.color}},size:zt(zt({},e.size),{},{property:"stroke",accessor:"getLineWidth",condition:function(e){return e.visConfig.stroked},nullValue:0,getAttributeValue:function(){return function(e){return e.properties.lineWidth||Zt}}}),height:{property:"height",field:"heightField",scale:"heightScale",domain:"heightDomain",range:"heightRange",key:"height",fixed:"fixedHeight",channelScaleType:q.CHANNEL_SCALES.size,accessor:"getElevation",condition:function(e){return e.visConfig.enable3d},nullValue:0,getAttributeValue:function(){return function(e){return e.properties.elevation||Kt}}},radius:{property:"radius",field:"radiusField",scale:"radiusScale",domain:"radiusDomain",range:"radiusRange",key:"radius",channelScaleType:q.CHANNEL_SCALES.radius,accessor:"getPointRadius",nullValue:0,getAttributeValue:function(){return function(e){return e.properties.radius||Xt}}}}}},{key:"getDefaultLayerConfig",value:function(e){return zt(zt({},ce()(D()(t.prototype),"getDefaultLayerConfig",this).call(this,e)),{},{heightField:null,heightDomain:[0,1],heightScale:"linear",radiusField:null,radiusDomain:[0,1],radiusScale:"linear",strokeColorField:null,strokeColorDomain:[0,1],strokeColorScale:"quantile"})}},{key:"getHoverData",value:function(e,t){var n,a=t instanceof W.ArrowDataContainer?e:null==e||null===(n=e.properties)||void 0===n?void 0:n.index;return a>=0?t.row(a):null}},{key:"calculateDataAttribute",value:function(e,t){var n=this,a=e.dataContainer,r=e.filteredIndex;if(a instanceof W.ArrowDataContainer){if(this.filteredIndex&&this.filteredIndex.length===a.numRows()||(this.filteredIndex=new Uint8ClampedArray(a.numRows()),this.filteredIndex.fill(1)),!(r&&r.length===a.numRows())||null!==this.filteredIndexTrigger){this.filteredIndex.fill(0);for(var o=0;o<r.length;++o)this.filteredIndex[r[o]]=1;this.filteredIndexTrigger=r}return this.dataToFeature}return r.map((function(e){return n.dataToFeature[e]})).filter((function(e){return e}))}},{key:"formatLayerData",value:function(e,t){var n=this;if(null===this.config.dataId)return{};var a=e[this.config.dataId],r=a.gpuFilter,o=a.dataContainer,i=this.updateData(e,t).data,l=this.getAttributeAccessors({dataAccessor:function(e){return function(e){return{index:e.properties.index}}},dataContainer:o});return zt({data:i,getFilterValue:r.filterValueAccessor(o)((function(e){return e.properties.index}),(function(e,t,n){return e.valueAt(t.properties.index,n)})),getFiltered:function(e){return n.filteredIndex?n.filteredIndex[e.properties.index]:1}},l)}},{key:"isInPolygon",value:function(e,t,n){var a,r;if(0===this.centroids.length||!this.centroids[t])return!1;var o="Rectangle"===(null===(a=n.properties)||void 0===a?void 0:a.shape),i=this.centroids[t];if(!i)return!1;if(o&&null!==(r=n.properties)&&void 0!==r&&r.bbox){var l,s=null===(l=n.properties)||void 0===l?void 0:l.bbox,u=c()(s,4),d=u[0],p=u[1],f=u[2],g=u[3];return i[0]>=d&&i[0]<=f&&i[1]>=p&&i[1]<=g}return Object(Mt.a)(Object(jt.d)(i),n)}},{key:"updateLayerMeta",value:function(e){this.dataContainer=e;var t=this.getPositionAccessor(e),n=Wt(this.config.columns),a=Yt(this.config.columns);if(e instanceof W.ArrowDataContainer){if(this.dataToFeature.length<e.numChunks()){var r=e.numChunks()-this.dataToFeature.length==1,o=function(e){var t,n=e.dataContainer,a=e.getGeoColumn,r=e.getGeoField,o=e.chunkIndex,i=a(n),l=r(n),c=null==l||null===(t=l.metadata)||void 0===t?void 0:t.get("ARROW:extension:name"),s=Oe(Oe({},void 0!==o&&o>=0?{chunkIndex:o,chunkOffset:i.data[0].length*o}:{}),{},{triangulate:!0,calculateMeanCenters:!0}),u=Object(be.a)(i,c,s);return{dataToFeature:u.binaryGeometries,featureTypes:u.featureTypes,bounds:u.bounds,fixedRadius:!1,centroids:u.meanCenters}}(zt({dataContainer:e,getGeoColumn:n,getGeoField:a},r?{chunkIndex:this.dataToFeature.length}:null)),l=o.dataToFeature,c=o.bounds,s=o.fixedRadius,u=o.featureTypes,d=o.centroids;d&&(this.centroids=this.centroids.concat(d)),this.updateMeta({bounds:c,fixedRadius:s,featureTypes:u}),this.dataToFeature=[].concat(i()(this.dataToFeature),i()(l))}}else if(0===this.dataToFeature.length){var p=Object(It.d)({dataContainer:e,getFeature:t}),f=p.dataToFeature,g=p.bounds,m=p.fixedRadius,h=p.featureTypes,y=p.centroids;y&&(this.centroids=y),this.dataToFeature=f,this.updateMeta({bounds:g,fixedRadius:m,featureTypes:h})}}},{key:"setInitialLayerConfig",value:function(e){var t=e.dataContainer;if(!t.numRows())return this;this.updateLayerMeta(t);var n=this.meta.featureTypes;return n&&n.polygon?this.updateLayerVisConfig({filled:!0,stroked:!0,strokeColor:oe.next().value}):n&&n.point?this.updateLayerVisConfig({filled:!0,stroked:!1}):this}},{key:"isLayerHovered",value:function(e){return this.dataContainer instanceof W.ArrowDataContainer?_e(e,this.id):ce()(D()(t.prototype),"isLayerHovered",this).call(this,e)}},{key:"hasHoveredObject",value:function(e){return this.dataContainer instanceof W.ArrowDataContainer?function(e,t,n,a,r){if(_e(e,n)&&e.index>=0&&t){var o,i=a(t),l=null==i?void 0:i.get(e.index),c=r(t),s=null==c||null===(o=c.metadata)||void 0===o?void 0:o.get("ARROW:extension:name"),u=Object(Ee.a)(l,s),d=t.rowAsArray(e.index).reduce((function(e,n,a){var r,o=null==t||null===(r=t.getField)||void 0===r?void 0:r.call(t,a).name;return o!==c.name&&(e[o]=n),e}),{});return u?{type:"Feature",geometry:u,properties:Oe(Oe({},d),{},{index:e.index})}:null}return null}(e,this.dataContainer,this.id,Wt(this.config.columns),Yt(this.config.columns)):ce()(D()(t.prototype),"hasHoveredObject",this).call(this,e)}},{key:"getElevationZoomFactor",value:function(e){var t=e.zoom,n=e.zoomOffset,a=void 0===n?0:n;return this.config.visConfig.fixedHeight?1:Math.pow(2,Math.max(8-t+a,0))}},{key:"renderLayer",value:function(e){var t=this,n=e.data,a=e.gpuFilter,r=e.objectHovered,o=e.mapState,l=e.interactionConfig,c=this.meta,s=c.fixedRadius,u=c.featureTypes,d=this.getRadiusScaleByZoom(o,s),p=this.getZoomFactor(o),f=this.getElevationZoomFactor(o),g=this.config.visConfig,m={lineWidthScale:g.thickness*p*8,elevationScale:g.elevationScale*f,pointRadiusScale:d,lineMiterLimit:4},h=zt(zt({},this.getVisualChannelUpdateTriggers()),{},{getFilterValue:a.filterValueUpdateTriggers,getFiltered:this.filteredIndexTrigger}),y=this.getDefaultDeckLayerProps(e),v={opacity:g.strokeOpacity},b=l.tooltip.enabled,E=this.hasHoveredObject(r),C=n.data,O=F()(n,Bt),S=this.dataContainer instanceof W.ArrowDataContainer?C:[C],_=S.map((function(e,n){return new tt.a(zt(zt(zt(zt({},y),m),O),{},{data:e,id:S.length>1?"".concat(t.id,"-").concat(n):t.id,pickable:b,highlightColor:q.HIGHLIGH_COLOR_3D,autoHighlight:g.enable3d&&b,stroked:g.stroked,filled:g.filled,extruded:g.enable3d,wireframe:g.wireframe,wrapLongitude:!1,lineMiterLimit:2,capRounded:!0,jointRounded:!0,updateTriggers:h,extensions:[].concat(i()(y.extensions),[new He.f]),_subLayerProps:zt(zt(zt({},null!=u&&u.polygon?{"polygons-stroke":v}:{}),null!=u&&u.line?{linestrings:v}:{}),null!=u&&u.point?{points:{lineOpacity:g.strokeOpacity}}:{})}))}));return[].concat(i()(_),i()(E&&!g.enable3d?[new tt.a(zt(zt(zt({},this.getDefaultHoverLayerProps()),m),{},{visible:y.visible,wrapLongitude:!1,data:[E],getLineWidth:O.getLineWidth,getPointRadius:O.getPointRadius,getElevation:O.getElevation,getLineColor:this.config.highlightColor,getFillColor:this.config.highlightColor,stroked:!0,filled:!1}))]:[]))}}],[{key:"type",get:function(){return"geojson"}},{key:"findDefaultLayerProps",value:function(e){var t=this,n=e.label,a=e.fields,r=void 0===a?[]:a,o=r.filter((function(e){return("geojson"===e.type||"geoarrow"===e.type)&&Gt[e.analyzerType]})).map((function(e){return e.name})),l={geojson:he()([].concat(i()(q.GEOJSON_FIELDS.geojson),i()(o)))},c=this.findDefaultColumnField(l,r);return c&&c.length?{props:c.map((function(e){return{label:"string"==typeof n&&n.replace(/\.[^/.]+$/,"")||t.type,columns:e,isVisible:!0}}))}:{props:[]}}}]),t}(ie);function Qt(e,t,n){return t=D()(t),S()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],D()(e).constructor):t.apply(e,n))}var $t=function(e){function t(){return p()(this,t),Qt(this,t,arguments)}return k()(t,e),g()(t,[{key:"render",value:function(){return w.a.createElement(B,this.props,w.a.createElement("path",{d:"M13.6,22.7c2.9-3.6,4.4-6.3,4.4-8c0-2.7-2.2-4.9-4.9-4.9S8.2,12,8.2,14.7c0,1.7,1.5,4.4,4.4,8l0,0 C12.8,23,13.2,23,13.6,22.7C13.5,22.8,13.6,22.7,13.6,22.7z",className:"cr1"}),w.a.createElement("path",{d:"M22.9,57.4c2.5-3.1,3.8-5.5,3.8-7c0-2.4-2-4.4-4.4-4.4S18,48,18,50.4c0,1.5,1.3,3.8,3.8,7l0,0 c0.3,0.3,0.7,0.4,1,0.1C22.9,57.4,22.9,57.4,22.9,57.4z",className:"cr2"}),w.a.createElement("path",{d:"M51.4,22.5c2.8-3.4,4.2-6,4.2-7.6c0-2.6-2.1-4.8-4.8-4.8c-2.6,0-4.8,2.1-4.8,4.8c0,1.6,1.4,4.2,4.2,7.6 l0,0c0.3,0.3,0.8,0.4,1.1,0.1C51.3,22.5,51.4,22.5,51.4,22.5z",className:"cr3"}),w.a.createElement("path",{d:"M49.2,53.8c3.7-4.5,5.5-7.8,5.5-9.9c0-3.3-2.7-6.1-6.1-6.1c-3.3,0-6.1,2.7-6.1,6.1 c0,2.1,1.8,5.4,5.5,9.9l0,0c0.3,0.3,0.7,0.4,1.1,0.1C49.1,53.8,49.1,53.8,49.2,53.8z",className:"cr4"}),w.a.createElement("path",{d:"M31.4,39.6C36.5,33.5,39,29,39,26.1c0-4.4-3.6-8-8-8s-8,3.6-8,8c0,2.9,2.5,7.4,7.6,13.5l0,0 C30.8,39.8,31.1,39.9,31.4,39.6C31.3,39.7,31.4,39.6,31.4,39.6z",className:"cr5"}))}}]),t}(A.Component);r()($t,"propTypes",{height:P.a.string,colors:P.a.arrayOf(P.a.string)}),r()($t,"defaultProps",{height:"16px",predefinedClassName:"cluster-layer-icon",totalColor:5});var en=$t,tn=["_filterData"];function nn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function an(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nn(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rn(e,t,n){return t=D()(t),S()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],D()(e).constructor):t.apply(e,n))}var on={opacity:"opacity",clusterRadius:"clusterRadius",colorRange:"colorRange",radiusRange:"clusterRadiusRange",colorAggregation:"colorAggregation"},ln=function(e){function t(e){var n;return p()(this,t),(n=rn(this,t,[e])).registerVisConfig(on),n.getPointData=function(e){return e},n}return k()(t,e),g()(t,[{key:"type",get:function(){return"cluster"}},{key:"layerIcon",get:function(){return en}},{key:"visualChannels",get:function(){return{color:{aggregation:"colorAggregation",channelScaleType:q.CHANNEL_SCALES.colorAggr,defaultMeasure:"property.pointCount",domain:"colorDomain",field:"colorField",key:"color",property:"color",range:"colorRange",scale:"colorScale"}}}},{key:"renderLayer",value:function(e){var t=this.config.visConfig,n=e.data,a=e.gpuFilter,r=e.objectHovered,o=e.mapState,l=e.layerCallbacks,c={getColorValue:{colorField:this.config.colorField,colorAggregation:this.config.visConfig.colorAggregation},filterData:an({filterRange:a.filterRange},a.filterValueUpdateTriggers)},s=this.getDefaultDeckLayerProps(e),u=n._filterData,d=F()(n,tn),p=this.hasHoveredObject(r);return[new He.a(an(an(an({},s),d),{},{filterData:u,radiusScale:1,radiusRange:t.radiusRange,clusterRadius:t.clusterRadius,colorRange:this.getColorRange(t.colorRange),colorScaleType:this.config.colorScale,colorAggregation:t.colorAggregation,zoom:Math.round(o.zoom),width:o.width,height:o.height,updateTriggers:c,onSetColorDomain:l.onSetLayerDomain}))].concat(i()(p?[new ue.a({id:"".concat(this.id,"-hovered"),visible:s.visible,data:[p],getFillColor:this.config.highlightColor,getRadius:function(e){return e.radius},radiusScale:1,pickable:!1})]:[]))}}]),t}(pt),cn=n(125);function sn(e,t,n){return t=D()(t),S()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],D()(e).constructor):t.apply(e,n))}var un=function(e){function t(){return p()(this,t),sn(this,t,arguments)}return k()(t,e),g()(t,[{key:"render",value:function(){return w.a.createElement(B,this.props,w.a.createElement("path",{className:"cr1",d:"M42.27,33.59l-4.34,4.34-4.34-4.34a13.25,13.25,0,0,1-8.9-12.52h0A13.24,13.24,0,0,1,37.93,7.83h0A13.24,13.24,0,0,1,51.17,21.07h0A13.25,13.25,0,0,1,42.27,33.59ZM37.93,28.3a7.22,7.22,0,1,0-7.22-7.22A7.22,7.22,0,0,0,37.93,28.3Z"}),w.a.createElement("path",{className:"cr2",d:"M18.68,48.79l-2.44,2.44L13.8,48.79a7.44,7.44,0,0,1-5-7h0a7.44,7.44,0,0,1,7.44-7.44h0a7.44,7.44,0,0,1,7.44,7.44h0A7.44,7.44,0,0,1,18.68,48.79Zm-2.44-3a4.06,4.06,0,1,0-4.06-4.06A4.06,4.06,0,0,0,16.24,45.81Z"}),w.a.createElement("path",{className:"cr3",d:"M48.85,55.52l-2.2,2.2-2.2-2.2a6.73,6.73,0,0,1-4.52-6.36h0a6.72,6.72,0,0,1,6.72-6.72h0a6.72,6.72,0,0,1,6.72,6.72h0A6.73,6.73,0,0,1,48.85,55.52Zm-2.2-2.69A3.67,3.67,0,1,0,43,49.17,3.67,3.67,0,0,0,46.65,52.83Z"}))}}]),t}(A.Component);r()(un,"propTypes",{height:P.a.string,colors:P.a.arrayOf(P.a.string)}),r()(un,"defaultProps",{height:"16px",predefinedClassName:"icon-layer-icon",totalColor:3});var dn=n(6),pn=n.n(dn),fn=n(5),gn=n(458),mn=n(19);function hn(e,t,n){return t=D()(t),S()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],D()(e).constructor):t.apply(e,n))}var yn,vn,bn,En,Cn,On=function(e){function t(){return p()(this,t),hn(this,t,arguments)}return k()(t,e),g()(t,[{key:"render",value:function(){return w.a.createElement(B,this.props,w.a.createElement("path",{d:"M56.0384598,50.5v-8.3076935H8.9615383V50.5H56.0384598z M8.9615383,22.8076916h13.8461533V14.5H8.9615383 V22.8076916z M25.5769234,22.8076916h13.8461533V14.5H25.5769234V22.8076916z M42.1923065,22.8076916h13.8461533V14.5H42.1923065 V22.8076916z M8.9615383,36.6538467h47.0769196v-8.3076935H8.9615383V36.6538467z"}))}}]),t}(A.Component);r()(On,"defaultProps",{height:"16px",predefinedClassName:"data-ex-icons-table"});var Sn=fn.default.div(yn||(yn=pn()(["\n  display: flex;\n  align-items: center;\n"]))),_n=Object(gn.a)().x((function(e){return 10*e[0]})).y((function(e){return 10*e[1]})),Dn=function(e){var t=e.mesh;e.className;return w.a.createElement("svg",{width:"20px",height:"20px"},w.a.createElement("g",{transform:"translate(10, 10)"},t.cells.map((function(e,n){return w.a.createElement("path",{key:n,fill:"#000000",d:_n(e.map((function(e){return t.positions[e]})))})}))))},xn=Object(fn.default)(Sn)(vn||(vn=pn()(["\n  padding-left: 6px;\n  width: 180px;\n  height: 48px;\n  margin-right: 12px;\n\n  .icon-table_item__name {\n    margin-left: 12px;\n  }\n"]))),kn=fn.default.code(bn||(bn=pn()(["\n  color: ",";\n"])),(function(e){return e.theme.titleColorLT})),An=fn.default.div(En||(En=pn()(["\n  font-size: 20px;\n  letter-spacing: 1.25px;\n  margin: 18px 0 14px 0;\n  color: ",";\n"])),(function(e){return e.theme.titleColorLT})),wn=function(e){var t=e.icon,n=t.id,a=t.mesh;return w.a.createElement(xn,{className:"icon-table__item"},w.a.createElement(Dn,{className:"icon-table__item__shape",mesh:a}),w.a.createElement("div",{className:"icon-table_item__name"},w.a.createElement(kn,null,n)))},Tn=function(){return w.a.createElement(On,{className:"icon-example-table"},w.a.createElement("thead",null,w.a.createElement("tr",null,w.a.createElement("th",null,"point_lat"),w.a.createElement("th",null,"point_lng"),w.a.createElement("th",null,"icon"))),w.a.createElement("tbody",null,w.a.createElement("tr",null,w.a.createElement("td",null,"37.769897"),w.a.createElement("td",null,"-122.41168"),w.a.createElement("td",null,w.a.createElement(kn,null,"android"))),w.a.createElement("tr",null,w.a.createElement("td",null,"37.806928"),w.a.createElement("td",null,"-122.40218"),w.a.createElement("td",null)),w.a.createElement("tr",null,w.a.createElement("td",null,"37.778564"),w.a.createElement("td",null,"-122.39096"),w.a.createElement("td",null,w.a.createElement(kn,null,"calendar"))),w.a.createElement("tr",null,w.a.createElement("td",null,"37.745995"),w.a.createElement("td",null,"-122.30220"),w.a.createElement("td",null)),w.a.createElement("tr",null,w.a.createElement("td",null,"37.329841"),w.a.createElement("td",null,"-122.103847"),w.a.createElement("td",null,w.a.createElement(kn,null,"control-off")))))},Pn=fn.default.div(Cn||(Cn=pn()(["\n  display: flex;\n  align-items: flex-start;\n  flex-wrap: wrap;\n"]))),Ln=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=function(){return w.a.createElement("div",{className:"icon-info-modal"},w.a.createElement("div",{className:"icon-info-modal__description"},w.a.createElement(mn.FormattedMessage,{id:"modal.iconInfo.description1"})," ",w.a.createElement("code",null,w.a.createElement(mn.FormattedMessage,{id:"modal.iconInfo.code"})),w.a.createElement(mn.FormattedMessage,{id:"modal.iconInfo.description2"})),w.a.createElement("div",{className:"icon-info-modal__example"},w.a.createElement(An,null,w.a.createElement(mn.FormattedMessage,{id:"modal.iconInfo.example"})),w.a.createElement(Tn,null)),w.a.createElement("div",{className:"icon-info-modal__icons"},w.a.createElement(An,null,w.a.createElement(mn.FormattedMessage,{id:"modal.iconInfo.icons"})),w.a.createElement(Pn,{className:"icon-info-modal__icons__table"},e.map((function(e){return w.a.createElement(wn,{key:e.id,icon:e})})))))};return t};function jn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Mn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jn(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fn(e,t,n){return t=D()(t),S()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],D()(e).constructor):t.apply(e,n))}var In=new se.a,Rn="".concat(q.KEPLER_UNFOLDED_BUCKET,"/icons/svg-icons.json"),Nn=["lat","lng","icon"],Bn=["altitude"],Un={radius:"radius",fixedRadius:"fixedRadius",opacity:"opacity",colorRange:"colorRange",radiusRange:"radiusRange"};function Vn(e){return e.mesh.cells.reduce((function(t,n){return n.forEach((function(n){t.push.apply(t,[e.mesh.positions[n][0],-e.mesh.positions[n][1],e.mesh.positions[n][2]])})),t}),[])}var zn=function(e){function t(e){var n;return p()(this,t),n=Fn(this,t,[e]),r()(at()(n),"getIconAccessor",void 0),r()(at()(n),"_layerInfoModal",void 0),r()(at()(n),"iconGeometry",void 0),n.registerVisConfig(Un),n.getPositionAccessor=function(e){return(t=n.config.columns,a=t.lat,r=t.lng,o=t.altitude,function(e){return function(t){return[e.valueAt(t.index,r.fieldIdx),e.valueAt(t.index,a.fieldIdx),(null==o?void 0:o.fieldIdx)>-1?e.valueAt(t.index,o.fieldIdx):0]}})(e);var t,a,r,o},n.getIconAccessor=function(e){return(t=n.config.columns,a=t.icon,function(e){return function(t){return e.valueAt(t.index,a.fieldIdx)}})(e);var t,a},n._layerInfoModal=Ln(e.svgIcons),n.iconGeometry=e.iconGeometry||null,Object(W.isTest)()?S()(n):(e.svgIcons?n.setSvgIcons(e.svgIcons):n.getSvgIcons(),n)}return k()(t,e),g()(t,[{key:"svgIconUrl",get:function(){return Rn}},{key:"type",get:function(){return"icon"}},{key:"requiredLayerColumns",get:function(){return Nn}},{key:"optionalColumns",get:function(){return Bn}},{key:"columnPairs",get:function(){return this.defaultPointColumnPairs}},{key:"layerIcon",get:function(){return un}},{key:"visualChannels",get:function(){return{color:Mn(Mn({},ce()(D()(t.prototype),"visualChannels",this).color),{},{accessor:"getFillColor",defaultValue:function(e){return e.color}}),size:Mn(Mn({},ce()(D()(t.prototype),"visualChannels",this).size),{},{property:"radius",range:"radiusRange",channelScaleType:"radius",accessor:"getRadius",defaultValue:1})}}},{key:"layerInfoModal",get:function(){return{id:"iconInfo",template:this._layerInfoModal,modalProps:{title:"modal.iconInfo.title"}}}},{key:"getSvgIcons",value:function(){var e=this;h.a.fetch&&this.svgIconUrl&&h.a.fetch(this.svgIconUrl,{method:"GET",mode:"cors",cache:"no-cache"}).then((function(e){return e.json()})).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.setSvgIcons(t.svgIcons)}))}},{key:"setSvgIcons",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.iconGeometry=e.reduce((function(e,t){return Mn(Mn({},e),{},r()({},t.id,Vn(t)))}),{}),this._layerInfoModal=Ln(e)}},{key:"calculateDataAttribute",value:function(e,t){for(var n=e.dataContainer,a=e.filteredIndex,r=this.getIconAccessor(n),o=[],i=0;i<a.length;i++){var l=a[i],c={index:l},s=t(c),u=r(c);s.every(Number.isFinite)&&"string"==typeof u&&o.push({index:l,icon:u})}return o}},{key:"formatLayerData",value:function(e,t){if(null===this.config.dataId)return{};var n=this.config.textLabel,a=e[this.config.dataId],r=a.gpuFilter,o=a.dataContainer,i=this.getPositionAccessor(o),l=this.updateData(e,t),c=l.data,s=l.triggerChanged,u=ve({textLabel:n,triggerChanged:s,oldLayerData:t,data:c,dataContainer:o}),d=this.getAttributeAccessors({dataContainer:o});return Mn({data:c,getPosition:i,getFilterValue:r.filterValueAccessor(o)(),textLabels:u},d)}},{key:"updateLayerMeta",value:function(e,t){var n=this.getPointsBounds(e,t);this.updateMeta({bounds:n})}},{key:"renderLayer",value:function(e){var t,n=this,a=e.data,r=e.gpuFilter,o=e.objectHovered,l=e.mapState,c=e.interactionConfig,s=this.getRadiusScaleByZoom(l),u=Mn({radiusScale:s},this.config.visConfig.fixedRadius?{}:{radiusMaxPixels:500}),d=Mn({getPosition:this.config.columns,getFilterValue:r.filterValueUpdateTriggers},this.getVisualChannelUpdateTriggers()),p=this.getDefaultDeckLayerProps(e),f=this.getBrushingExtensionProps(c),g=ye(s,a.getRadius,l),m=[].concat(i()(p.extensions),[In]),h=Mn({getFilterValue:a.getFilterValue,extensions:m,filterRange:p.filterRange},f),y=i()(this.renderTextLabelLayer({getPosition:a.getPosition,sharedProps:h,getPixelOffset:g,updateTriggers:d},e)),v=this.hasHoveredObject(o),b={depthTest:(null===(t=this.config.columns.altitude)||void 0===t?void 0:t.fieldIdx)>-1,cullFace:cn.default.FRONT};return this.iconGeometry?[new He.g(Mn(Mn(Mn(Mn(Mn({},p),f),u),a),{},{parameters:b,getIconGeometry:function(e){var t;return null===(t=n.iconGeometry)||void 0===t?void 0:t[e]},updateTriggers:d,extensions:m}))].concat(i()(v?[new He.g(Mn(Mn(Mn({},this.getDefaultHoverLayerProps()),u),{},{visible:p.visible,data:[v],parameters:b,getPosition:a.getPosition,getRadius:a.getRadius,getFillColor:this.config.highlightColor,getIconGeometry:function(e){var t;return null===(t=n.iconGeometry)||void 0===t?void 0:t[e]}}))]:[]),i()(y)):[]}}],[{key:"findDefaultLayerProps",value:function(e){var t=e.fieldPairs,n=void 0===t?[]:t,a=e.fields,r=void 0===a?[]:a,o={props:[]};if(!n.length||!r.length)return o;var i=r.filter((function(e){return e.name.replace(/[_,.]+/g," ").trim().split(" ").some((function(e){return q.ICON_FIELDS.icon.some((function(t){return t.includes(e)}))}))}));if(!i.length)return o;var l=Se(n[0],!0);return{props:i.map((function(e){return{label:e.name.replace(/[_,.]+/g," ").trim(),columns:Mn(Mn({},l),{},{icon:{value:e.name,fieldIdx:e.fieldIdx}}),isVisible:!0}}))}}}]),t}(ie),Gn=n(47);function Hn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function qn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hn(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return t.length>0?n.slice().reverse().filter((function(t){var n=Object(W.findById)(t)(e);return(null==n?void 0:n.overlayType)===ne.mapboxgl&&a[t]})).reduce((function(n,o){var i=e.findIndex((function(e){return e.id===o}));if(-1===i)return n;var l=e[i];return l.overlayType===ne.mapboxgl&&a[o]?qn(qn({},n),{},r()({},l.id,{id:l.id,data:t[i].data,isVisible:l.config.isVisible,config:t[i].config,hidden:l.config.hidden,sourceId:t[i].config.source})):n}),{}):{}}function Yn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;n&&Kn(e,n,t),Object.values(t).forEach((function(t){var a=t.id,r=t.config,o=t.data,i=t.sourceId,l=t.isVisible;if(o||r){var c=n&&n[a]||{},s=c.data,u=c.config;o&&o!==s&&Xn(e,i,o),u!==r&&Zn(e,a,r,l)}}))}function Kn(e,t,n){Object.keys(t).forEach((function(t){n[t]||e.removeLayer(t)}))}function Zn(e,t,n,a){e.getLayer(t)&&e.removeLayer(t),e.addLayer(n),e.setLayoutProperty(t,"visibility",a?"visible":"none")}function Xn(e,t,n){var a=e.getSource(t);a?a.setData(n):e.addSource(t,{type:"geojson",data:n})}function Jn(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){},a={type:"FeatureCollection",features:[]},r=0;r<e.length;r++){var o=e[r],i={index:o},l=t(i);l&&a.features.push({type:"Feature",properties:qn({index:o},n(i)),geometry:l})}return a}var Qn=function(e){return"gpu:".concat(e)};function $n(e){var t=e.filterRange,n=e.filterValueUpdateTriggers;if(!Object.values(n).filter((function(e){return e})).length)return null;return Object.values(n).reduce((function(e,n,a){return n?[].concat(i()(e),[[">=",Qn(n),t[a][0]],["<=",Qn(n),t[a][1]]]):e}),["all"])}function ea(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ta(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ea(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ea(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function na(e,t,n){return t=D()(t),S()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],D()(e).constructor):t.apply(e,n))}var aa=["lat","lng"],ra=function(e){var t=e.lat,n=e.lng;return"".concat(t.fieldIdx,"-").concat(n.fieldIdx)},oa=function(e){function t(){var e;p()(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=na(this,t,[].concat(a)),r()(at()(e),"datasetSelector",(function(e){return e.dataId})),r()(at()(e),"gpuFilterSelector",(function(e,t){return(e.dataId&&t[e.dataId]||{}).gpuFilter})),r()(at()(e),"columnsSelector",(function(e){return ra(e.columns)})),r()(at()(e),"sourceSelector",Object(Gn.createSelector)(e.datasetSelector,e.columnsSelector,(function(e,t){return"".concat(e,"-").concat(t)}))),r()(at()(e),"filterSelector",Object(Gn.createSelector)(e.gpuFilterSelector,(function(e){return $n(e)}))),e}return k()(t,e),g()(t,[{key:"overlayType",get:function(){return ne.mapboxgl}},{key:"type",get:function(){return null}},{key:"isAggregated",get:function(){return!0}},{key:"requiredLayerColumns",get:function(){return aa}},{key:"columnPairs",get:function(){return this.defaultPointColumnPairs}},{key:"noneLayerDataAffectingProps",get:function(){return[]}},{key:"visualChannels",get:function(){return{}}},{key:"isValidFilter",value:function(e){return Array.isArray(e)&&e.length}},{key:"getDataUpdateTriggers",value:function(e){var t=this,n=e.filteredIndex,a=e.gpuFilter,o=e.id,i=this.config.columns,l=Object.values(this.visualChannels).reduce((function(e,n){return ta(ta({},e),t.config[n.field]?r()({},n.field,t.config[n.field].name):{})}),{});return{getData:ta(ta({datasetId:o,columns:i,filteredIndex:n},l),a.filterValueUpdateTriggers),getMeta:{datasetId:o,columns:i}}}},{key:"getGeometry",value:function(e){return e.every(Number.isFinite)?{type:"Point",coordinates:e}:null}},{key:"calculateDataAttribute",value:function(e,t){var n=this,a=e.dataContainer,o=e.filteredIndex,i=e.gpuFilter,l=Object.values(this.visualChannels).map((function(e){return n.config[e.field]})).filter((function(e){return e})),c=l.length?function(e){return l.reduce((function(t,n){return ta(ta({},t),{},r()({},n.name,n.valueAccessor(e)))}),{})}:function(e){return{}},s=i.filterValueUpdateTriggers,u=i.filterValueAccessor,d=Object.values(s).filter((function(e){return e})).length,p=u(a)(),f=d?function(e){var t=p(e);return Object.values(s).reduce((function(e,n,a){return ta(ta({},e),n?r()({},Qn(n),t[a]):{})}),{})}:function(e){return{}};return Jn(o,(function(e){return n.getGeometry(t(e))}),(function(e){return ta(ta({},c(e)),f(e))}))}},{key:"shouldRenderLayer",value:function(){return"string"==typeof this.type&&this.config.isVisible&&this.hasAllColumns()}}]),t}(ie);function ia(e,t,n){return t=D()(t),S()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],D()(e).constructor):t.apply(e,n))}var la=function(e){function t(){return p()(this,t),ia(this,t,arguments)}return k()(t,e),g()(t,[{key:"render",value:function(){return w.a.createElement(B,this.props,w.a.createElement("path",{d:"M51.87,21C49.55,16.67,43.77,15.29,39,18a11.42,11.42,0,0,0-1.65,1.13c-2.73,2.14-2.12,3-6,4.89-2.27,1.07-3.42,1.08-6.88,1.4l-2.24.21a14,14,0,0,0-2.86.84c-6.64,2.73-10.11,9.86-7.76,15.94s9.63,8.79,16.27,6.07A14,14,0,0,0,31.77,46l0,0,.06-.07c.43-.4.8-.78,1.14-1.14a2.66,2.66,0,0,0,.32-.36l.17-.19c3-3.53,2-5,4.9-7.39,2.38-1.93,5.41-.95,9-3C52.19,31.15,54.19,25.43,51.87,21ZM26,44.59a8.7,8.7,0,0,1-2.26.59A7.16,7.16,0,0,1,16,40.85c-1.44-3.72.68-8.08,4.73-9.74A8.33,8.33,0,0,1,23,30.53a7.15,7.15,0,0,1,7.71,4.32C32.19,38.57,30.06,42.93,26,44.59Z",className:"cr2",style:{opacity:.8}}),w.a.createElement("path",{d:"M57,18.18A14.56,14.56,0,0,0,42.25,10.7a16.62,16.62,0,0,0-6.12,2,17.35,17.35,0,0,0-2.39,1.65,20.15,20.15,0,0,0-2.83,2.73,4.52,4.52,0,0,1-2,1.45,5.88,5.88,0,0,1-2.26.63l-1.45.14-1.27.12-2.33.22-.2,0-.18,0a18.88,18.88,0,0,0-4,1.18c-9.6,3.93-14.51,14.57-11,23.71A17.59,17.59,0,0,0,24.81,55.4,20.19,20.19,0,0,0,30,54.05a20,20,0,0,0,5.26-3.19l.82-.71.05-.08,1-1c.21-.22.41-.45.59-.66l.13-.15a20,20,0,0,0,3.39-5.48c.36-.87.36-.87.68-1.14a9.09,9.09,0,0,1,1.56-.32,18.79,18.79,0,0,0,6.69-2.19,16.56,16.56,0,0,0,7.88-9.9A14.93,14.93,0,0,0,57,18.18ZM47.63,34.27a13.93,13.93,0,0,1-5.06,1.61,7.75,7.75,0,0,0-3.86,1.36,7.06,7.06,0,0,0-2.33,3.24,14.17,14.17,0,0,1-2.51,4.09l-.1.11a5.11,5.11,0,0,1-.43.47c-.31.35-.7.73-1.14,1.14l-.09.09-.12.09a14.4,14.4,0,0,1-4,2.44,14.73,14.73,0,0,1-3.84,1c-5.87.69-11.13-2.27-13.08-7.35-2.45-6.32,1.16-13.76,8-16.59a15,15,0,0,1,3-.87l2.29-.22.9-.07,2-.2a10.88,10.88,0,0,0,3.85-1.08,9.43,9.43,0,0,0,3.77-2.76A14.75,14.75,0,0,1,37,18.71a11.5,11.5,0,0,1,1.71-1.17,11.08,11.08,0,0,1,4.16-1.36,9.26,9.26,0,0,1,9.42,4.64C54.75,25.42,52.65,31.47,47.63,34.27Z",className:"cr1",style:{opacity:.36}}),w.a.createElement("path",{d:"M33,44.79a9.53,9.53,0,0,1-1.13,1.14C32.3,45.53,32.67,45.15,33,44.79Z",className:"cr1",style:{opacity:.36}}),w.a.createElement("path",{d:"M25.83,44.13c-3.82,1.55-8,0-9.33-3.46s.65-7.55,4.45-9.1,8,0,9.33,3.46S29.63,42.57,25.83,44.13Z",className:"cr3"}),w.a.createElement("path",{d:"M31.81,46a.09.09,0,0,1,0,0h0Z",className:"cr3"}))}}]),t}(A.Component);r()(la,"propTypes",{height:P.a.string,colors:P.a.arrayOf(P.a.string)}),r()(la,"defaultProps",{height:"16px",predefinedClassName:"heatmap-layer-icon",totalColor:3});var ca=["colorField","colorDomain","colorScale"];function sa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ua(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sa(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function da(e,t,n){return t=D()(t),S()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],D()(e).constructor):t.apply(e,n))}var pa=18,fa=function(e){var t=e.lat,n=e.lng;return function(e){return function(a){return[e.valueAt(a.index,n.fieldIdx),e.valueAt(a.index,t.fieldIdx)]}}},ga=function(e){var t=e.lat,n=e.lng;return"".concat(t.fieldIdx,"-").concat(n.fieldIdx)},ma={opacity:"opacity",colorRange:"colorRange",radius:"heatmapRadius"},ha=function(e){function t(e){var n;return p()(this,t),n=da(this,t,[e]),r()(at()(n),"getPosition",void 0),r()(at()(n),"columnsSelector",(function(e){return ga(e.columns)})),r()(at()(n),"visConfigSelector",(function(e){return e.visConfig})),r()(at()(n),"weightFieldSelector",(function(e){return e.weightField?e.weightField.name:null})),r()(at()(n),"weightDomainSelector",(function(e){return e.weightDomain})),r()(at()(n),"paintSelector",Object(Gn.createSelector)(n.visConfigSelector,n.weightFieldSelector,n.weightDomainSelector,(function(e,t,n){return{"heatmap-weight":t?["interpolate",["linear"],["get",t],n[0],0,n[1],1]:1,"heatmap-intensity":["interpolate",["linear"],["zoom"],0,1,pa,3],"heatmap-color":["interpolate",["linear"],["heatmap-density"]].concat(i()((a=e.colorRange,r=q.SCALE_FUNC.quantize,o=["#000000"].concat(i()(a.colors)),l=r().domain([0,1]).range(o),c=l.range().reduce((function(e,t){var n=l.invertExtent(t);return[].concat(i()(e),[n[0],"rgb(".concat(Object(W.hexToRgb)(t).join(","),")")])}),[]),c[1]="rgba(0,0,0,0)",c))),"heatmap-radius":["interpolate",["linear"],["zoom"],0,2,pa,e.radius],"heatmap-opacity":e.opacity};var a,r,o,l,c}))),r()(at()(n),"computeHeatmapConfiguration",Object(Gn.createSelector)(n.sourceSelector,n.filterSelector,n.paintSelector,(function(e,t,a){return ua({type:"heatmap",id:n.id,source:e,layout:{visibility:"visible"},paint:a},n.isValidFilter(t)?{filter:t}:{})}))),n.registerVisConfig(ma),n.getPosition=ot()(fa,ga),n}return k()(t,e),g()(t,[{key:"type",get:function(){return"heatmap"}},{key:"visualChannels",get:function(){return{weight:{property:"weight",field:"weightField",scale:"weightScale",domain:"weightDomain",key:"weight",defaultMeasure:"property.density",supportedFieldTypes:[q.ALL_FIELD_TYPES.real,q.ALL_FIELD_TYPES.integer],channelScaleType:q.CHANNEL_SCALES.size}}}},{key:"layerIcon",get:function(){return la}},{key:"getVisualChannelDescription",value:function(e){return"color"===e?{label:"property.color",measure:"property.density"}:{label:"property.weight",measure:this.config.weightField?this.config.weightField.name:"property.density"}}},{key:"getDefaultLayerConfig",value:function(e){var n=ua(ua({},ce()(D()(t.prototype),"getDefaultLayerConfig",this).call(this,e)),{},{weightField:null,weightDomain:[0,1],weightScale:"linear"});n.colorField,n.colorDomain,n.colorScale;return F()(n,ca)}},{key:"getPositionAccessor",value:function(e){return this.getPosition(this.config.columns)(e)}},{key:"updateLayerMeta",value:function(e){var t=this.getPositionAccessor(e),n=this.getPointsBounds(e,t);this.updateMeta({bounds:n})}},{key:"formatLayerData",value:function(e,t){if(null===this.config.dataId)return{};var n=this.config.weightField,a=e[this.config.dataId].dataContainer,r=this.getPositionAccessor(a),o=this.updateData(e,t).data,i=this.computeHeatmapConfiguration(this.config,e);return i.id=this.id,{columns:this.config.columns,config:i,data:o,weightField:n,getPosition:r}}}]),t}(oa),ya=n(667);function va(e,t,n){return t=D()(t),S()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],D()(e).constructor):t.apply(e,n))}var ba=function(e){function t(){return p()(this,t),va(this,t,arguments)}return k()(t,e),g()(t,[{key:"render",value:function(){return w.a.createElement(B,this.props,w.a.createElement("path",{d:"M44.59,54.5H19.41L6.81,32.68,19.41,10.87H44.59L57.19,32.68Zm-23-3.83H42.38l10.38-18-10.38-18H21.62l-10.38,18Z"}),w.a.createElement("polygon",{points:"24.65 32.86 24.65 37.79 22.53 37.79 22.53 26.3 24.65 26.3 24.65 30.91 29.32 30.91 29.32 26.3 31.43 26.3 31.43 37.79 29.32 37.79 29.32 32.86 24.65 32.86"}),w.a.createElement("path",{d:"M33.79,37.05l.6-1.67a5.86,5.86,0,0,0,1.39.61,5.59,5.59,0,0,0,1.5.19A2.57,2.57,0,0,0,39,35.66a1.81,1.81,0,0,0,.61-1.46A1.29,1.29,0,0,0,38.94,33a4.55,4.55,0,0,0-2.05-.32H35.74V31h1.1A5.4,5.4,0,0,0,38,30.85a2.1,2.1,0,0,0,.77-.29,1.53,1.53,0,0,0,.51-.54,1.58,1.58,0,0,0,.15-.73,1.14,1.14,0,0,0-.51-1,2.67,2.67,0,0,0-1.5-.34,4.56,4.56,0,0,0-1.51.24,5,5,0,0,0-1.34.73l-.7-1.61a4.92,4.92,0,0,1,1.66-.83,6.91,6.91,0,0,1,2-.31,4.41,4.41,0,0,1,2.81.79,2.71,2.71,0,0,1,1,2.24,2.33,2.33,0,0,1-.54,1.62,3.45,3.45,0,0,1-1.46.93v0a3,3,0,0,1,1.67.81,2.3,2.3,0,0,1,.64,1.7A3.27,3.27,0,0,1,40.48,37a5,5,0,0,1-3.16.91A6.77,6.77,0,0,1,33.79,37.05Z"}))}}]),t}(A.Component);r()(ba,"propTypes",{height:P.a.string,colors:P.a.arrayOf(P.a.string)}),r()(ba,"defaultProps",{height:"16px",predefinedClassName:"h3-hexagon-layer-icon",totalColor:4});var Ea=ba;function Ca(e,t,n){return t=D()(t),S()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],D()(e).constructor):t.apply(e,n))}function Oa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Sa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oa(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _a=["hex_id"],Da=function(e){var t=e.hex_id;return function(e){return function(n){return e.valueAt(n.index,t.fieldIdx)}}},xa=500,ka=1,Aa={colorRange:"colorRange",filled:Sa(Sa({},q.LAYER_VIS_CONFIGS.filled),{},{defaultValue:!0}),opacity:Sa(Sa({},q.LAYER_VIS_CONFIGS.opacity),{},{label:"Fill Opacity",range:[0,1],property:"opacity"}),outline:"outline",strokeColor:"strokeColor",strokeColorRange:"strokeColorRange",strokeOpacity:Sa(Sa({},q.LAYER_VIS_CONFIGS.opacity),{},{label:"Stroke Opacity",range:[0,1],property:"strokeOpacity"}),thickness:"thickness",coverage:"coverage",enable3d:"enable3d",sizeRange:"elevationRange",coverageRange:"coverageRange",elevationScale:"elevationScale",enableElevationZoomFactor:"enableElevationZoomFactor"},wa=new se.a,Ta=function(e){function t(e){var n;return p()(this,t),n=Ca(this,t,[e]),r()(at()(n),"dataToFeature",void 0),n.dataToFeature={centroids:[]},n.registerVisConfig(Aa),n.getPositionAccessor=function(e){return Da(n.config.columns)(e)},n}return k()(t,e),g()(t,[{key:"type",get:function(){return"hexagonId"}},{key:"name",get:function(){return"H3"}},{key:"requiredLayerColumns",get:function(){return _a}},{key:"layerIcon",get:function(){return Ea}},{key:"visualChannels",get:function(){var e=ce()(D()(t.prototype),"visualChannels",this);return{color:Sa(Sa({},e.color),{},{accessor:"getFillColor",condition:function(e){return e.visConfig.filled}}),strokeColor:{property:"strokeColor",key:"strokeColor",field:"strokeColorField",scale:"strokeColorScale",domain:"strokeColorDomain",range:"strokeColorRange",channelScaleType:q.CHANNEL_SCALES.color,accessor:"getLineColor",condition:function(e){return e.visConfig.outline},defaultValue:function(e){return e.visConfig.strokeColor||e.color}},size:Sa(Sa({},e.size),{},{property:"height",accessor:"getElevation",nullValue:0,condition:function(e){return e.visConfig.enable3d},defaultValue:xa}),coverage:{property:"coverage",field:"coverageField",scale:"coverageScale",domain:"coverageDomain",range:"coverageRange",key:"coverage",channelScaleType:q.CHANNEL_SCALES.radius,accessor:"getCoverage",nullValue:0,defaultValue:ka}}}},{key:"setInitialLayerConfig",value:function(e){if(!e.dataContainer.numRows())return this;var t=Object(W.findDefaultColorField)(e);return t&&(this.updateLayerConfig({colorField:t}),this.updateLayerVisualChannel(e,"color")),this}},{key:"getDefaultLayerConfig",value:function(e){var n=ce()(D()(t.prototype),"getDefaultLayerConfig",this).call(this,e);return Sa(Sa({},n),{},{strokeColorField:null,strokeColorDomain:[0,1],strokeColorScale:"quantile",colorUI:Sa(Sa({},n.colorUI),{},{strokeColorRange:q.DEFAULT_COLOR_UI}),coverageField:null,coverageDomain:[0,1],coverageScale:"linear",textLabel:[Sa(Sa({},q.DEFAULT_TEXT_LABEL),{},{anchor:"middle"})]})}},{key:"calculateDataAttribute",value:function(e,t){e.dataContainer;for(var n=e.filteredIndex,a=[],r=0;r<n.length;r++){var o=n[r],i=t({index:o}),l=this.dataToFeature.centroids[o];l&&a.push({index:o,id:i,centroid:l})}return a}},{key:"formatLayerData",value:function(e,t){if(null===this.config.dataId)return{};var n=e[this.config.dataId],a=n.gpuFilter,r=n.dataContainer,o=this.getPositionAccessor(r),i=this.updateData(e,t),l=i.data,c=i.triggerChanged,s=this.getAttributeAccessors({dataContainer:r}),u=this.config.textLabel,d=ve({textLabel:u,triggerChanged:c,oldLayerData:t,data:l,dataContainer:r});return Sa({data:l,getHexId:o,getFilterValue:a.filterValueAccessor(r)(),textLabels:d,getPosition:function(e){return e.centroid}},s)}},{key:"updateLayerMeta",value:function(e,t){var n=e.map((function(e,n){var a=t({index:n});return Object(W.h3IsValid)(a)?Object(W.getCentroid)({id:a}):null}),!0),a=Object(W.createDataContainer)(n),r=this.getPointsBounds(a,(function(e,t){return[t.valueAt(e.index,0),t.valueAt(e.index,1)]}));this.dataToFeature={centroids:n},this.updateMeta({bounds:r})}},{key:"renderLayer",value:function(e){var t=e.data,n=e.gpuFilter,a=e.objectHovered,r=e.mapState,o=e.interactionConfig,l=this.getZoomFactor(r),c=this.getElevationZoomFactor(r),s=this.config,u=s.visConfig,d=this.getVisualChannelUpdateTriggers(),p={getHexagon:this.config.columns,getFillColor:d.getFillColor,getLineColor:d.getLineColor,getElevation:d.getElevation,getFilterValue:n.filterValueUpdateTriggers},f={getCoverage:d.getCoverage},g=this.getDefaultDeckLayerProps(e),m=this.hasHoveredObject(a),h=ye(1,null,r),y=this.getBrushingExtensionProps(o),v=[].concat(i()(g.extensions),[wa]),b=Sa({getFilterValue:t.getFilterValue,extensions:v,filterRange:g.filterRange,visible:g.visible},y);return[new ya.a(Sa(Sa(Sa(Sa({},g),t),y),{},{extensions:v,wrapLongitude:!1,filled:u.filled,stroked:u.outline,lineWidthScale:u.thickness,getHexagon:function(e){return e.id},coverage:s.coverageField?1:u.coverage,autoHighlight:u.enable3d,highlightColor:q.HIGHLIGH_COLOR_3D,extruded:u.enable3d,elevationScale:u.elevationScale*c,updateTriggers:p,_subLayerProps:{"hexagon-cell":{type:He.b,getCoverage:t.getCoverage,updateTriggers:f,strokeOpacity:u.strokeOpacity}}}))].concat(i()(m&&!s.sizeField?[new tt.a(Sa(Sa({},this.getDefaultHoverLayerProps()),{},{visible:g.visible,data:[Object(W.idToPolygonGeo)(m)],getLineColor:s.highlightColor,lineWidthScale:8*l,wrapLongitude:!1}))]:[]),i()(this.renderTextLabelLayer({getPosition:t.getPosition,sharedProps:b,getPixelOffset:h,updateTriggers:d},e)))}}],[{key:"findDefaultLayerProps",value:function(e){var t=e.fields,n=void 0===t?[]:t,a=e.dataContainer,r=e.label,o=Object(W.getHexFields)(n,a);return o.length?{props:o.map((function(e){return{isVisible:!0,label:r,columns:{hex_id:{value:e.name,fieldIdx:n.findIndex((function(t){return t.name===e.name}))}}}}))}:{props:[]}}}]),t}(ie),Pa=n(1377),La=n(2160),ja=n(2180);function Ma(e,t,n){return t=D()(t),S()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],D()(e).constructor):t.apply(e,n))}var Fa,Ia,Ra=function(e){function t(){return p()(this,t),Ma(this,t,arguments)}return k()(t,e),g()(t,[{key:"render",value:function(){return w.a.createElement(B,this.props,w.a.createElement("g",{transform:"translate(-20, -99)",id:"layer1"},w.a.createElement("g",{transform:"matrix(0.26458333,0,0,0.26458333,-191.59545,42.388813)",id:"g3042"},w.a.createElement("ellipse",{id:"path2999",cx:"931.42627",cy:"431.70096",rx:"62.283249",ry:"3.8673975",transform:"matrix(1.0332818,0,0,0.76491127,-30.674511,101.23938)"}),w.a.createElement("g",{id:"g7696",transform:"translate(525.68251,-207.68859)"},w.a.createElement("path",{id:"path7668",d:"m 393.98828,480.0918 c -10.68594,0.80336 -21.57673,7.18633 -28.60547,16.5332 -1.00324,0.62224 -3.5626,2.19214 -5.32812,2.97656 -2.56279,1.13864 -5.17733,2.74246 -7.98047,2.66016 -1.90943,-0.0561 -3.53566,-1.4477 -5.32031,-2.12891 -4.53998,-1.72443 -9.58546,-5.01773 -13.83594,-1.06445 -1.06796,1.52824 -0.66318,3.76636 -0.26563,5.58789 0.61739,2.82883 2.18398,5.45191 3.99024,7.71484 2.3163,2.9019 8.51367,7.1836 8.51367,7.1836 0,0 -5.90097,1.56898 -7.18164,3.99023 -0.45797,0.86587 -0.24013,2.08692 0.26562,2.92578 1.09219,1.81161 3.30762,2.80797 5.32032,3.45899 4.02627,1.30232 8.51745,-0.13838 12.67968,0.625 1.31495,0.24117 2.49566,1.01912 3.81446,1.23828 0.60636,0.10077 1.45382,0.0869 2.07422,0.0664 1.72295,3.33668 4.08103,6.36876 7.15625,8.80468 0,0 -2.22425,5.11025 -3.72266,7.44532 -8.94053,13.58909 -24.40686,25.32714 -26.73438,43.99218 0.0505,12.91431 6.57316,25.37407 16.24415,32.82422 16.96401,13.06839 41.70379,15.60258 62.9414,12.85938 19.21169,-2.48152 39.64942,-10.88975 52.11328,-25.71875 8.24478,-9.80932 10.46731,-24.07583 10.82813,-36.88477 0.29354,-10.4205 0.0459,-22.87017 -7.10547,-30.45508 -2.17907,-2.31118 -6.14999,-3.78838 -9.13672,-2.70703 -3.82412,1.38452 -4.00601,7.16466 -6.76758,10.15039 -2.72735,2.94875 -5.62298,6.30576 -9.47461,7.44531 -2.38943,0.70694 -5.03518,-0.0449 -7.44531,-0.67773 -7.17835,-1.88468 -13.0331,-7.65187 -20.30469,-9.13672 -5.52704,-1.1286 -16.91992,0.33984 -16.91992,0.33984 l 6.0918,-3.38476 c 0,0 10.28858,-6.55346 13.53515,-11.50586 4.26486,-6.50575 7.12111,-14.56296 6.76758,-22.33398 -0.86105,-19.16955 -13.62762,-32.46378 -36.20703,-32.82422 z"}),w.a.createElement("path",{id:"path7007",d:"m 338.82884,592.10146 c 2.32751,-18.66504 17.79291,-30.40265 26.73344,-43.99174 1.49841,-2.33507 3.72237,-7.44474 3.72237,-7.44474 -9.72152,-7.70054 -12.30749,-21.34514 -10.15193,-31.80941 4.68877,-15.70277 19.97053,-27.64482 34.85497,-28.76382 22.57941,0.36044 35.34754,13.65505 36.20859,32.8246 0.35353,7.77102 -2.5031,15.82851 -6.76796,22.33426 -3.24657,4.9524 -13.53592,11.50552 -13.53592,11.50552 l -6.09116,3.38399 c 0,0 11.39286,-1.467 16.9199,-0.3384 7.27159,1.48485 13.12552,7.25206 20.30387,9.13674 2.41013,0.63278 5.05533,1.38374 7.44476,0.6768 3.85163,-1.13955 6.74779,-4.496 9.47514,-7.44475 2.76157,-2.98573 2.94384,-8.76743 6.76796,-10.15195 2.98673,-1.08135 6.95767,0.39601 9.13674,2.70719 7.15138,7.58491 7.3999,20.03532 7.10636,30.45582 -0.36082,12.80894 -2.58395,27.07605 -10.82873,36.88537 -12.46386,14.829 -32.9016,23.23673 -52.11329,25.71825 -21.23761,2.7432 -45.97799,0.20927 -62.942,-12.85912 -9.67099,-7.45015 -16.19266,-19.9103 -16.24311,-32.82461 z"}),w.a.createElement("path",{id:"path7009",d:"m 338.82929,592.10139 c 0.0504,12.91431 6.57076,25.37435 16.24175,32.82449 16.96402,13.0684 41.70592,15.60201 62.94353,12.85882 16.49647,-2.13082 33.88089,-8.64571 46.3608,-19.82886 -11.1421,7.01421 -24.41974,11.29014 -37.17209,12.93733 -21.23762,2.74319 -45.97952,0.20958 -62.94353,-12.85882 -9.67099,-7.45014 -16.19132,-13.1378 -16.24175,-26.05211 1.29011,-12.22719 20.91701,-42.26515 18.15858,-41.25572 -2.75843,1.00943 -27.16334,24.82083 -27.34729,41.37487 z"}),w.a.createElement("path",{id:"path7019",d:"m 377.39451,569.59751 c 5.20454,-4.30421 12.0709,-7.93589 18.81215,-7.52486 10.1405,0.6183 16.82414,12.34588 26.71325,14.67347 9.16319,2.15674 28.21822,-1.12873 28.21822,-1.12873 0,0 -5.26736,15.74679 -10.91105,21.44586 -7.06529,7.13462 -16.80867,12.27156 -26.71325,13.92098 -8.25808,1.37523 -17.24717,-0.21883 -24.83203,-3.76243 -6.52035,-3.04627 -12.9578,-7.86122 -16.17845,-14.29723 -2.08339,-4.16338 -2.25437,-9.40356 -1.12872,-13.92099 0.90003,-3.61206 3.15128,-7.0337 6.01988,-9.40607 z"}),w.a.createElement("circle",{transform:"matrix(1.0416624,0,0,1.0416624,-10.12887,-52.065753)",r:"8",cy:"542.64807",cx:"388.79144",id:"path7031"}),w.a.createElement("circle",{transform:"matrix(1.1485883,0,0,1.1485883,-51.700726,-110.08886)",id:"circle7125",cx:"384.53302",cy:"599.31769",r:"8"}),w.a.createElement("path",{id:"path7130",d:"m 362.8314,531.83625 c 0,0 -1.86312,0.10762 -2.77606,-0.0441 -1.3188,-0.21916 -2.50024,-0.99563 -3.81519,-1.2368 -4.16223,-0.76338 -8.65327,0.67681 -12.67954,-0.62551 -2.0127,-0.65102 -4.22868,-1.64695 -5.32087,-3.45856 -0.50575,-0.83886 -0.72402,-2.06062 -0.26605,-2.92649 1.28067,-2.42125 7.18318,-3.99065 7.18318,-3.99065 0,0 -6.1971,-4.28129 -8.5134,-7.18319 -1.80626,-2.26293 -3.37327,-4.88645 -3.99066,-7.71528 -0.39755,-1.82153 -0.80191,-4.05867 0.26605,-5.58691 4.25048,-3.95328 9.29431,-0.66025 13.83429,1.06418 1.78465,0.68121 3.41144,2.07223 5.32087,2.12834 2.80314,0.0823 5.41853,-1.5218 7.98132,-2.66044 2.14112,-0.9513 6.11901,-3.45857 6.11901,-3.45857 0,0 -2.51761,3.36571 -3.19252,5.32088 -0.6999,2.02751 -0.77532,4.24025 -0.79815,6.38505 -0.0274,2.58533 0.36815,5.1658 0.79815,7.71527 0.51514,3.05437 2.24347,5.95014 2.12834,9.0455 -0.0938,2.52426 -2.27877,7.22725 -2.27877,7.22725 z"}),w.a.createElement("ellipse",{transform:"rotate(-70.917917)",ry:"8.876749",rx:"11.292704",cy:"523.04565",cx:"-351.69467",id:"path7132"}),w.a.createElement("ellipse",{id:"ellipse7134",cx:"-371.65863",cy:"539.63354",rx:"6.4400997",ry:"5.6922021",transform:"matrix(0.3727878,-0.92791662,0.95838646,0.28547397,0,0)"}),w.a.createElement("ellipse",{transform:"matrix(1.2858994,0,0,1.2858994,493.87481,-538.72884)",ry:"1.7910415",rx:"1.877719",cy:"810.7829",cx:"-89.047676",id:"path7136"}),w.a.createElement("path",{transform:"matrix(1.1485883,0,0,1.1485883,-51.700726,-110.08886)",id:"path7198",d:"m 383.88781,586.81856 c 0,0 4.75583,1.20253 7.03749,2.08594 2.91222,1.12756 8.43329,4.0806 8.43329,4.0806 l 2.17633,-1.0882 c 0,0 -6.13833,-5.82773 -10.06554,-6.2569 -5.46591,-0.59732 -7.58157,1.17856 -7.58157,1.17856 z"}),w.a.createElement("path",{transform:"matrix(1.1485883,0,0,1.1485883,-51.700726,-110.08886)",id:"path7248",d:"m 397.87853,516.42095 v 2 c 11.54716,4.14107 17.99592,13.80846 18.56055,26.37891 9.2e-4,0.0202 9.5e-4,0.0404 0.002,0.0605 0.0245,-0.68856 0.0292,-1.37543 -0.002,-2.06054 -0.56463,-12.57045 -7.01339,-22.23784 -18.56055,-26.37891 z m -43.76562,25.92578 c -0.13422,1.35759 -0.19199,2.74885 -0.14649,4.16016 0.0423,-1.42272 0.18091,-2.81599 0.4043,-4.16016 z"}),w.a.createElement("ellipse",{transform:"matrix(1.1796431,0.18084016,-0.22761203,0.93723889,-70.598803,-9.4836272)",ry:"2.1433234",rx:"6.0402751",cy:"433.62253",cx:"484.71768",id:"path7276"}),w.a.createElement("path",{transform:"matrix(1.1485883,0,0,1.1485883,-51.700726,-110.08886)",id:"path7358",d:"m 450.56176,570.21133 c 0.31422,-0.51687 0.84685,-1.08434 1.45172,-1.08879 0.8227,-0.006 1.51933,0.78122 1.99611,1.45172 1.20869,1.69982 1.81464,5.98831 1.81464,5.98831 0,0 -4.7514,-2.00855 -5.62539,-4.17367 -0.27546,-0.68237 -0.0193,-1.54878 0.36292,-2.17757 z"}),w.a.createElement("path",{transform:"matrix(1.1485883,0,0,1.1485883,-51.700726,-110.08886)",id:"path7436",d:"m 399.55635,576.28702 c 0,0 5.77103,-0.38519 8.54224,0.27556 7.19511,1.71555 13.03674,7.22358 20.1156,9.36891 2.31239,0.7008 7.16446,1.10222 7.16446,1.10222 0,0 -9.1879,1.00957 -13.50225,-0.27555 -4.98282,-1.48424 -8.43433,-6.25057 -13.22669,-8.26669 -2.87487,-1.20944 -9.09336,-2.20445 -9.09336,-2.20445 z"})))))}}]),t}(A.Component);r()(Ra,"propTypes",{height:P.a.string,colors:P.a.arrayOf(P.a.string)}),r()(Ra,"defaultProps",{height:"16px",predefinedClassName:"scenegraph-layer-icon",totalColor:3});var Na=fn.default.table(Fa||(Fa=pn()(["\n  width: 100%;\n  border-spacing: 0;\n\n  thead {\n    tr th {\n      background: ",";\n      color: ",";\n      padding: 18px 12px;\n      text-align: start;\n    }\n  }\n\n  tbody {\n    tr td {\n      border-bottom: ",";\n      padding: 12px;\n    }\n  }\n"])),(function(e){return e.theme.panelBackgroundLT}),(function(e){return e.theme.titleColorLT}),(function(e){return e.theme.panelBorderLT})),Ba=fn.default.div(Ia||(Ia=pn()(["\n  font-size: 20px;\n  letter-spacing: 1.25px;\n  margin: 18px 0 14px 0;\n  color: ",";\n"])),(function(e){return e.theme.titleColorLT})),Ua=function(){return w.a.createElement(Na,{className:"scenegraph-example-table"},w.a.createElement("thead",null,w.a.createElement("tr",null,w.a.createElement("th",null,"point_lat"),w.a.createElement("th",null,"point_lng"),w.a.createElement("th",null,"alt"))),w.a.createElement("tbody",null,w.a.createElement("tr",null,w.a.createElement("td",null,"37.769897"),w.a.createElement("td",null,"-122.41168"),w.a.createElement("td",null,"0")),w.a.createElement("tr",null,w.a.createElement("td",null,"37.806928"),w.a.createElement("td",null,"-122.40218"),w.a.createElement("td",null,"0")),w.a.createElement("tr",null,w.a.createElement("td",null,"37.778564"),w.a.createElement("td",null,"-122.39096"),w.a.createElement("td",null,"1000")),w.a.createElement("tr",null,w.a.createElement("td",null,"37.745995"),w.a.createElement("td",null,"-122.30220"),w.a.createElement("td",null,"2000")),w.a.createElement("tr",null,w.a.createElement("td",null,"37.329841"),w.a.createElement("td",null,"-122.103847"),w.a.createElement("td",null,"3000"))))},Va=function(){return function(){return w.a.createElement("div",{className:"scenegraph-info-modal"},w.a.createElement("div",{className:"scenegraph-info-modal__description"},w.a.createElement("span",null,"In your csv you can specify points with optional altitude. The models will show at each point you specify. You can use a sample model or upload one in"," "),w.a.createElement("code",null,"glTF (GLB or Embedded)"),w.a.createElement("span",null," format.")),w.a.createElement("div",{className:"scenegraph-info-modal__example"},w.a.createElement(Ba,null,"Example:"),w.a.createElement(Ua,null)),w.a.createElement("div",{className:"scenegraph-info-modal__icons"},w.a.createElement(Ba,null,"Sample Models"),w.a.createElement("div",null,"Duck"),w.a.createElement("div",null,"Use your own model")))}};function za(e,t,n){return t=D()(t),S()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],D()(e).constructor):t.apply(e,n))}function Ga(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ha(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ga(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ga(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qa=["lat","lng"],Wa=["altitude"];function Ya(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.propName,a=t.layer;return"scenegraph"===n?Object(La.a)(e,ja.a,a.getLoadOptions()):Ya(e).then((function(e){return e.json()}))}var Ka={opacity:"opacity",colorRange:"colorRange",sizeScale:"sizeScale",angleX:Ha(Ha({},q.LAYER_VIS_CONFIGS.angle),{},{property:"angleX",label:"angle X"}),angleY:Ha(Ha({},q.LAYER_VIS_CONFIGS.angle),{},{property:"angleY",label:"angle Y"}),angleZ:Ha(Ha({},q.LAYER_VIS_CONFIGS.angle),{},{property:"angleZ",defaultValue:90,label:"angle Z"})},Za=[0,0,0],Xa=[1,1,1],Ja=[255,255,255,255],Qa=function(e){function t(e){var n;return p()(this,t),n=za(this,t,[e]),r()(at()(n),"_layerInfoModal",void 0),n.registerVisConfig(Ka),n.getPositionAccessor=function(e){return(t=n.config.columns,a=t.lat,r=t.lng,o=t.altitude,function(e){return function(t){return[e.valueAt(t.index,r.fieldIdx),e.valueAt(t.index,a.fieldIdx),o&&o.fieldIdx>-1?e.valueAt(t.index,o.fieldIdx):0]}})(e);var t,a,r,o},n._layerInfoModal=Va(),n}return k()(t,e),g()(t,[{key:"type",get:function(){return"3D"}},{key:"requiredLayerColumns",get:function(){return qa}},{key:"optionalColumns",get:function(){return Wa}},{key:"columnPairs",get:function(){return this.defaultPointColumnPairs}},{key:"layerIcon",get:function(){return Ra}},{key:"layerInfoModal",get:function(){return{id:"scenegraphInfo",template:this._layerInfoModal,modalProps:{title:"How to use Scenegraph"}}}},{key:"calculateDataAttribute",value:function(e,t){e.dataContainer;for(var n=e.filteredIndex,a=[],r=0;r<n.length;r++){var o=n[r],i=t({index:o});i.every(Number.isFinite)&&a.push({position:i,index:o})}return a}},{key:"formatLayerData",value:function(e,t){if(null===this.config.dataId)return{};var n=e[this.config.dataId],a=n.gpuFilter,r=n.dataContainer;return{data:this.updateData(e,t).data,getPosition:this.getPositionAccessor(r),getFilterValue:a.filterValueAccessor(r)()}}},{key:"updateLayerMeta",value:function(e,t){var n=this.getPointsBounds(e,t);this.updateMeta({bounds:n})}},{key:"renderLayer",value:function(e){var t=e.data,n=e.gpuFilter,a=this.config.visConfig,r=a.sizeScale,o=void 0===r?1:r,i=a.angleX,l=void 0===i?0:i,c=a.angleY,s=void 0===c?0:c,u=a.angleZ,d=void 0===u?90:u;return[new Pa.a(Ha(Ha(Ha({},this.getDefaultDeckLayerProps(e)),{},{extensions:[]},t),{},{fetch:Ya,scenegraph:this.config.visConfig.scenegraph||"https://raw.githubusercontent.com/KhronosGroup/glTF-Sample-Models/master/2.0/Duck/glTF-Binary/Duck.glb",sizeScale:o,getTranslation:Za,getScale:Xa,getOrientation:[l,s,d],getColor:Ja,parameters:{depthTest:!0,blend:!1},updateTriggers:{getOrientation:{angleX:l,angleY:s,angleZ:d},getPosition:this.config.columns,getFilterValue:n.filterValueUpdateTriggers}}))]}}]),t}(ie),$a=n(1165);function er(e,t,n){return t=D()(t),S()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],D()(e).constructor):t.apply(e,n))}var tr,nr,ar=function(e){function t(){return p()(this,t),er(this,t,arguments)}return k()(t,e),g()(t,[{key:"render",value:function(){return w.a.createElement(B,this.props,w.a.createElement("g",{clipPath:"url(#clip0)",className:"cr1"},w.a.createElement("path",{d:"M53.025 4.85005C50.25 2.07505 45.75 2.07505 42.975 4.85005C40.2 7.62505 40.2 12.2 42.975 14.975L48 20L53.025 14.9C55.8 12.2 55.8 7.62505 53.025 4.85005ZM48 11.375C47.175 11.375 46.5 10.7 46.5 9.87505C46.5 9.05005 47.175 8.37505 48 8.37505C48.825 8.37505 49.5 9.05005 49.5 9.87505C49.5 10.7 48.825 11.375 48 11.375Z"})),w.a.createElement("g",{clipPath:"url(#clip1)",className:"cr2"},w.a.createElement("path",{d:"M20.025 36.85C17.25 34.075 12.75 34.075 9.97502 36.85C7.20002 39.625 7.20002 44.2 9.97502 46.975L15 52L20.025 46.9C22.8 44.2 22.8 39.625 20.025 36.85ZM15 43.375C14.175 43.375 13.5 42.7 13.5 41.875C13.5 41.05 14.175 40.375 15 40.375C15.825 40.375 16.5 41.05 16.5 41.875C16.5 42.7 15.825 43.375 15 43.375Z"})),w.a.createElement("path",{className:"cr3",d:"M45.9943 19.8697C46.0661 20.6951 45.4552 21.4223 44.6299 21.4941L34.782 22.3504L38.1515 40.1604L17.8748 54.7185C17.2019 55.2016 16.2647 55.0478 15.7815 54.3748C15.2984 53.7019 15.4522 52.7647 16.1252 52.2815L34.8483 38.8389L31.2177 19.6491L44.37 18.5053C45.1953 18.4336 45.9225 19.0444 45.9943 19.8697Z"}),w.a.createElement("defs",null,w.a.createElement("clipPath",{id:"clip0"},w.a.createElement("rect",{width:"18",height:"18",transform:"translate(39 2)"})),w.a.createElement("clipPath",{id:"clip1"},w.a.createElement("rect",{width:"18",height:"18",transform:"translate(6 34)"}))))}}]),t}(A.Component);function rr(e){for(var t=!0,n=0;n<e.length;n+=1){var a,r;if(!(t=Array.isArray(null===(a=e[n])||void 0===a||null===(r=a.geometry)||void 0===r?void 0:r.coordinates)&&!e[n].geometry.coordinates.find((function(e){return e.length<4}))))break}return t}function or(e){var t=e.map((function(e){return{ts:e}})),n=Object.keys(Ft.DATA_TYPES).filter((function(e){return![Ft.DATA_TYPES.TIME,Ft.DATA_TYPES.DATETIME].includes(e)})),a=Ft.Analyzer.computeColMeta(t,[],{ignoredDataTypes:n})[0];return a&&"TIME"===a.category?a:null}function ir(e,t){if(e.numRows()<1)return!1;var n=(e.numRows()>1e4?Object(W.getSampleContainerData)(e,1e4):e).mapIndex(t.valueAccessor).map(It.e).filter(W.notNullorUndefined);if(!Object(It.c)(n).line)return!1;if(!rr(n))return!1;var a=n[0].geometry.coordinates.map((function(e){return e[3]}));return Boolean(or(a))}function lr(e){var t={dataToTimeStamp:[],animationDomain:null},n=e.find((function(e){var t,n,a;return(null==e||null===(t=e.geometry)||void 0===t||null===(n=t.coordinates)||void 0===n||null===(a=n[0])||void 0===a?void 0:a.length)>3}));if(!n)return t;var a=or(n.geometry.coordinates.map((function(e){return e[3]})));if(!a)return t;var r=a.format,o=function(e){return e&&Object(W.notNullorUndefined)(e[3])?Object(W.timeToUnixMilli)(e[3],r):null},i=e.map((function(e){return e&&e.geometry&&Array.isArray(e.geometry.coordinates)?e.geometry.coordinates.map(o):null}));return{dataToTimeStamp:i,animationDomain:ur(i)}}function cr(e){return(null==e?void 0:e.find((function(e){return Object(W.notNullorUndefined)(e)&&Number.isFinite(e)})))||null}function sr(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.length-1;t>0;){if(Object(W.notNullorUndefined)(e[t])&&Number.isFinite(e[t]))return e[t];t--}return null}function ur(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((function(e,t){var n=cr(t),a=sr(t);return Object(W.notNullorUndefined)(n)&&Object(W.notNullorUndefined)(a)&&Number.isFinite(n)&&Number.isFinite(a)&&(e[0]=Math.min(e[0],n),e[1]=Math.max(e[1],a)),e}),[1/0,-1/0])}r()(ar,"propTypes",{height:P.a.string,colors:P.a.arrayOf(P.a.string)}),r()(ar,"defaultProps",{size:"tiny",height:"16px",predefinedClassName:"trip-layer-icon"});var dr=fn.default.code(tr||(tr=pn()(["\n  color: ",";\n"])),(function(e){return e.theme.titleColorLT})),pr=fn.default.div(nr||(nr=pn()(["\n  font-size: 20px;\n  letter-spacing: 1.25px;\n  margin: 18px 0 14px 0;\n  color: ",";\n"])),(function(e){return e.theme.titleColorLT})),fr=function(){var e=function(){return w.a.createElement("div",{className:"trip-info-modal"},w.a.createElement("div",{className:"trip-info-modal__description"},w.a.createElement("p",null,w.a.createElement(mn.FormattedMessage,{id:"modal.tripInfo.description1"}),w.a.createElement("code",null,w.a.createElement(mn.FormattedMessage,{id:"modal.tripInfo.code"})),w.a.createElement(mn.FormattedMessage,{id:"modal.tripInfo.description2"}))),w.a.createElement("div",{className:"trip-info-modal__example"},w.a.createElement(pr,null,w.a.createElement(mn.FormattedMessage,{id:"modal.tripInfo.example"})),w.a.createElement("pre",null,w.a.createElement(dr,null,'\n              {\n                "type": "FeatureCollection",\n                "features": [\n                  {\n                    "type": "Feature",\n                    "properties": { "vendor":  "A",\n                    "vol":20},\n                    "geometry": {\n                      "type": "LineString",\n                      "coordinates": [\n                        [-74.20986, 40.81773, 0, 1564184363],\n                        [-74.20987, 40.81765, 0, 1564184396],\n                        [-74.20998, 40.81746, 0, 1564184409]\n                      ]\n                    }\n                  }\n                ]\n              }\n            '))))};return e};function gr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function mr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gr(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hr(e,t,n){return t=D()(t),S()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],D()(e).constructor):t.apply(e,n))}var yr=1,vr={opacity:"opacity",thickness:{type:"number",defaultValue:.5,label:"Stroke Width",isRanged:!1,range:[0,100],step:.1,group:"stroke",property:"thickness"},colorRange:"colorRange",trailLength:"trailLength",sizeRange:"strokeWidthRange"},br=["geojson"],Er=function(e){var t=e.geojson;return function(e){return function(n){return e.valueAt(n.index,t.fieldIdx)}}},Cr=function(e){return e.geojson.fieldIdx},Or=function(e){function t(e){var n;return p()(this,t),n=hr(this,t,[e]),r()(at()(n),"dataToFeature",void 0),r()(at()(n),"dataToTimeStamp",void 0),r()(at()(n),"getFeature",void 0),r()(at()(n),"_layerInfoModal",void 0),n.dataToFeature=[],n.dataToTimeStamp=[],n.registerVisConfig(vr),n.getFeature=ot()(Er,Cr),n._layerInfoModal=fr(),n}return k()(t,e),g()(t,[{key:"type",get:function(){return t.type}},{key:"name",get:function(){return"Trip"}},{key:"layerIcon",get:function(){return ar}},{key:"columnPairs",get:function(){return this.defaultPointColumnPairs}},{key:"requiredLayerColumns",get:function(){return br}},{key:"visualChannels",get:function(){var e=ce()(D()(t.prototype),"visualChannels",this);return mr(mr({},e),{},{color:mr(mr({},e.color),{},{accessor:"getColor",nullValue:e.color.nullValue,getAttributeValue:function(e){return function(t){return t.properties.lineColor||e.color}},defaultValue:function(e){return e.color}}),size:mr(mr({},e.size),{},{property:"stroke",accessor:"getWidth",condition:function(e){return e.visConfig.stroked},nullValue:0,getAttributeValue:function(){return function(e){return e.properties.lineWidth||yr}}})})}},{key:"animationDomain",get:function(){return this.config.animation.domain}},{key:"layerInfoModal",get:function(){return{id:"iconInfo",template:this._layerInfoModal,modalProps:{title:"modal.tripInfo.title"}}}},{key:"getPositionAccessor",value:function(e){return this.getFeature(this.config.columns)(e)}},{key:"getDefaultLayerConfig",value:function(e){return mr(mr({},ce()(D()(t.prototype),"getDefaultLayerConfig",this).call(this,e)),{},{animation:{enabled:!0,domain:null}})}},{key:"getHoverData",value:function(e,t){return t.row(e.properties.index)}},{key:"calculateDataAttribute",value:function(e,t){var n=this;e.dataContainer;return e.filteredIndex.map((function(e){return n.dataToFeature[e]})).filter((function(e){return e&&"LineString"===e.geometry.type}))}},{key:"formatLayerData",value:function(e,t){var n=this;if(null===this.config.dataId)return{};var a=e[this.config.dataId],r=a.dataContainer,o=a.gpuFilter,i=this.updateData(e,t).data,l=this.getAttributeAccessors({dataAccessor:function(e){return function(e){return{index:e.properties.index}}},dataContainer:r});return mr({data:i,getFilterValue:o.filterValueAccessor(r)((function(e){return e.properties.index}),(function(e,t,n){return e.valueAt(t.properties.index,n)})),getPath:function(e){return e.geometry.coordinates},getTimestamps:function(e){return n.dataToTimeStamp[e.properties.index]}},l)}},{key:"updateAnimationDomain",value:function(e){this.updateLayerConfig({animation:mr(mr({},this.config.animation),{},{domain:e})})}},{key:"updateLayerMeta",value:function(e){var t=this.getPositionAccessor(e);if(t!==this.meta.getFeature){this.dataToFeature=Object(It.b)(e,t);var n=lr(this.dataToFeature),a=n.dataToTimeStamp,r=n.animationDomain;this.dataToTimeStamp=a,this.updateAnimationDomain(r);var o=Object(It.a)(this.dataToFeature),i=Object(It.c)(this.dataToFeature);this.updateMeta({bounds:o,featureTypes:i,getFeature:t})}}},{key:"setInitialLayerConfig",value:function(e){var t=e.dataContainer;return t.numRows()?(this.updateLayerMeta(t),this):this}},{key:"renderLayer",value:function(e){var t,n=e.data,a=e.gpuFilter,r=e.mapState,o=e.animationConfig,i=this.config.visConfig,l=this.getZoomFactor(r);if(!(o&&Array.isArray(o.domain)&&o.domain.every(Number.isFinite)&&Number.isFinite(o.currentTime)))return[];var c=null===(t=o.domain)||void 0===t?void 0:t[0],s=mr(mr({},this.getVisualChannelUpdateTriggers()),{},{getTimestamps:{columns:this.config.columns,domain0:c},getFilterValue:a.filterValueUpdateTriggers}),u=this.getDefaultDeckLayerProps(e);return[new $a.a(mr(mr(mr({},u),n),{},{getTimestamps:function(e){return(n.getTimestamps(e)||[]).map((function(e){return e-c}))},widthScale:this.config.visConfig.thickness*l*8,capRounded:!0,jointRounded:!0,wrapLongitude:!1,parameters:{depthTest:r.dragRotate,depthMask:!1},trailLength:1e3*i.trailLength,currentTime:o.currentTime-c,updateTriggers:s}))]}}],[{key:"type",get:function(){return"trip"}},{key:"findDefaultLayerProps",value:function(e,t){var n=this,a=e.label,r=e.fields,o=void 0===r?[]:r,l=e.dataContainer,c=e.id,s=o.filter((function(e){return"geojson"===e.type})).map((function(e){return e.name})),u={geojson:he()([].concat(i()(q.GEOJSON_FIELDS.geojson),i()(s)))},d=(this.findDefaultColumnField(u,o)||[]).filter((function(e){return ir(l,o[e.geojson.fieldIdx])}));return d.length?{props:d.map((function(e){return{label:"string"==typeof a&&a.replace(/\.[^/.]+$/,"")||n.type,columns:e,isVisible:!0}})),foundLayers:t.filter((function(e){return"geojson"!==e.type||e.dataId!==c||!d.find((function(t){return e.columns.geojson.name===t.geojson.name}))}))}:{props:[]}}}]),t}(ie),Sr=n(1381);function _r(e,t,n){return t=D()(t),S()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],D()(e).constructor):t.apply(e,n))}var Dr=function(e){function t(){return p()(this,t),_r(this,t,arguments)}return k()(t,e),g()(t,[{key:"render",value:function(){return w.a.createElement(B,this.props,w.a.createElement("path",{d:"M14.76,58,15,20.54,50.06,6.75V44Zm4-34.86L18.6,52.38l27.66-11V12.33Z"}),w.a.createElement("path",{d:"M27.21,38.58a7.38,7.38,0,0,1-3.62-.9l.3-2a6.49,6.49,0,0,0,3.3.9c1.49,0,2.18-.59,2.18-1.63,0-2.26-5.71-1.28-5.71-5.3,0-2,1.26-3.54,4.16-3.54a8.38,8.38,0,0,1,3.28.64l-.29,1.9a8.41,8.41,0,0,0-2.88-.54c-1.63,0-2.14.66-2.14,1.42,0,2.19,5.71,1.18,5.71,5.27C31.5,37.16,29.93,38.58,27.21,38.58Z"}),w.a.createElement("path",{d:"M36.17,36.36v0h5.06l0,2H33.32V36.9c3-2.88,5.67-5.09,5.67-7,0-1-.64-1.67-2.19-1.67a5,5,0,0,0-3,1.1l-.53-1.79a6.31,6.31,0,0,1,3.91-1.28c2.66,0,4,1.34,4,3.41C41.21,31.94,39.13,33.89,36.17,36.36Z"}))}}]),t}(A.Component);r()(Dr,"propTypes",{height:P.a.string,colors:P.a.arrayOf(P.a.string)}),r()(Dr,"defaultProps",{height:"18px",predefinedClassName:"s2-layer-icon"});var xr=Dr,kr=n(1418),Ar=n.n(kr),wr=n(1419);function Tr(e){var t=e.toString().padEnd(16,"0"),n=Ar.a.fromString(t,16),a=wr.S2.idToLatLng(n.toString()),r=a.lat;return[a.lng,r]}var Pr=new RegExp("^[0-9a-z]*$","g");function Lr(e){return"string"==typeof e&&Boolean(e.match(Pr))}function jr(e,t,n){return t=D()(t),S()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],D()(e).constructor):t.apply(e,n))}function Mr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Fr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mr(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ir={token:["s2","s2_token"]},Rr=["token"],Nr=500,Br={opacity:"opacity",colorRange:"colorRange",filled:Fr(Fr({},q.LAYER_VIS_CONFIGS.filled),{},{type:"boolean",label:"Fill Color",defaultValue:!0,property:"filled"}),thickness:Fr(Fr({},q.LAYER_VIS_CONFIGS.thickness),{},{defaultValue:.5}),strokeColor:"strokeColor",strokeColorRange:"strokeColorRange",sizeRange:"strokeWidthRange",stroked:"stroked",enable3d:"enable3d",elevationScale:"elevationScale",enableElevationZoomFactor:"enableElevationZoomFactor",heightRange:"elevationRange",wireframe:"wireframe"},Ur=function(e){function t(e){var n;return p()(this,t),n=jr(this,t,[e]),r()(at()(n),"dataToFeature",void 0),n.registerVisConfig(Br),n.getPositionAccessor=function(e){return(t=n.config.columns,a=t.token,function(e){return function(t){return e.valueAt(t.index,a.fieldIdx)}})(e);var t,a},n}return k()(t,e),g()(t,[{key:"type",get:function(){return"s2"}},{key:"name",get:function(){return"S2"}},{key:"requiredLayerColumns",get:function(){return Rr}},{key:"layerIcon",get:function(){return xr}},{key:"visualChannels",get:function(){var e=ce()(D()(t.prototype),"visualChannels",this);return{color:Fr(Fr({},e.color),{},{accessor:"getFillColor"}),size:Fr(Fr({},e.size),{},{property:"stroke",accessor:"getLineWidth",condition:function(e){return e.visConfig.stroked},defaultValue:1}),strokeColor:{property:"strokeColor",field:"strokeColorField",scale:"strokeColorScale",domain:"strokeColorDomain",range:"strokeColorRange",key:"strokeColor",channelScaleType:q.CHANNEL_SCALES.color,accessor:"getLineColor",condition:function(e){return e.visConfig.stroked},nullValue:e.color.nullValue,defaultValue:function(e){return e.visConfig.strokeColor||e.color}},height:{property:"height",field:"heightField",scale:"heightScale",domain:"heightDomain",range:"heightRange",key:"height",channelScaleType:q.CHANNEL_SCALES.size,accessor:"getElevation",condition:function(e){return e.visConfig.enable3d},nullValue:0,defaultValue:Nr}}}},{key:"getDefaultLayerConfig",value:function(e){return Fr(Fr({},ce()(D()(t.prototype),"getDefaultLayerConfig",this).call(this,e)),{},{heightField:null,heightDomain:[0,1],heightScale:"linear",strokeColorField:null,strokeColorDomain:[0,1],strokeColorScale:"quantile"})}},{key:"calculateDataAttribute",value:function(e,t){e.dataContainer;for(var n=e.filteredIndex,a=[],r=0;r<n.length;r++){var o=n[r],i=t({index:o});Lr(i)&&a.push({index:o,token:i})}return a}},{key:"updateLayerMeta",value:function(e,t){var n=e.reduce((function(e,n,a){var r=t({index:a});return Lr(r)&&e.push(Tr(r)),e}),[],!0),a=Object(W.createDataContainer)(n),r=this.getPointsBounds(a,(function(e,t){return[t.valueAt(e.index,0),t.valueAt(e.index,1)]}));this.dataToFeature={centroids:n},this.updateMeta({bounds:r})}},{key:"formatLayerData",value:function(e,t){if(null===this.config.dataId)return{};var n=e[this.config.dataId],a=n.gpuFilter,r=n.dataContainer,o=this.getPositionAccessor(r),i=this.updateData(e,t),l=i.data,c=this.getAttributeAccessors({dataContainer:r});return Fr({data:l,getS2Token:o,getFilterValue:a.filterValueAccessor(r)()},c)}},{key:"renderLayer",value:function(e){var t=e.data,n=e.gpuFilter,a=e.interactionConfig,r=e.mapState,o=this.getDefaultDeckLayerProps(e),i=this.getElevationZoomFactor(r),l=this.getZoomFactor(r),c=this.config.visConfig,s=Fr(Fr({},this.getVisualChannelUpdateTriggers()),{},{getFilterValue:n.filterValueUpdateTriggers});return[new Sr.a(Fr(Fr(Fr(Fr({},o),a),t),{},{getS2Token:function(e){return e.token},autoHighlight:c.enable3d,highlightColor:q.HIGHLIGH_COLOR_3D,lineWidthScale:c.thickness*l*8,stroked:c.stroked,lineMiterLimit:2,filled:c.filled,opacity:c.opacity,wrapLongitude:!1,elevationScale:c.elevationScale*i,extruded:c.enable3d,wireframe:c.wireframe,pickable:!0,updateTriggers:s}))]}}],[{key:"findDefaultLayerProps",value:function(e){var t=e.fields,n=void 0===t?[]:t,a=this.findDefaultColumnField(Ir,n);return a&&a.length?{props:a.map((function(e){return{isVisible:!0,label:"S2",columns:e}}))}:{props:[]}}}]),t}(ie),Vr=n(1420),zr=n(277),Gr=n(2215),Hr=[38,181,242],qr=[170,170,170],Wr=[255,255,0],Yr="addPosition",Kr="movePosition",Zr="translating",Xr="addFeature",Jr=[].concat(i()(Hr),[26]),Qr=[].concat(i()(Hr),[255]),$r=[].concat(i()(qr),[0]),eo=[].concat(i()(qr),[255]),to=[].concat(i()(qr),[13]),no={getRadius:5,getFillColor:$r,getOutlineColor:function(e){var t;return(null==e||null===(t=e.properties)||void 0===t?void 0:t.featureIndex)<0?eo:Qr},highlightMultiplier:[].concat(i()(Wr),[128]),highlightMultiplierNone:$r},ao={getColor:function(e,t){return t?Jr:$r},highlightMultiplier:[].concat(i()(Wr),[26]),highlightMultiplierNone:$r},ro={getColor:function(e,t,n){return Qr},getWidth:function(e,t,n){return t?2.5:2},getTentativeLineColor:function(e,t){return eo},getTentativeLineWidth:function(e,t){return 2},getTentativeFillColor:to,dashArray:[4,3],solidArray:[0,0],highlightMultiplier:[].concat(i()(Wr),[255])};function oo(e,t,n){return t=D()(t),S()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],D()(e).constructor):t.apply(e,n))}var io=function(e){function t(){return p()(this,t),oo(this,t,arguments)}return k()(t,e),g()(t,[{key:"getNearestPoint",value:function(e,n,a){var r=ce()(D()(t.prototype),"getNearestPoint",this).call(this,e,n,a);if(r&&a){var o=a.project(r.geometry.coordinates),i=a.project(n.geometry.coordinates);if(Math.sqrt(Math.pow(o[0]-i[0],2)+Math.pow(o[1]-i[1],2))>q.EDITOR_LAYER_PICKING_RADIUS)return}return r}},{key:"handleClick",value:function(e,n){var a;2!==(null==e||null===(a=e.sourceEvent)||void 0===a?void 0:a.button)&&ce()(D()(t.prototype),"handleClick",this).call(this,e,n)}}]),t}(zr.ModifyMode);function lo(e,t){return e&&(t===q.EDITOR_MODES.DRAW_POLYGON||t===q.EDITOR_MODES.DRAW_RECTANGLE)}function co(e,t,n){var a=n.leftOfCursor;return{text:e,style:{"margin-top":n.aboveCursor?"-70px":"15px","margin-left":a?"-200px":"15px","font-family":t.fontFamily,"font-size":t.tooltipFontSize,"font-weight":400,padding:"7px 18px","box-shadow":t.tooltipBoxShadow,"background-color":t.tooltipBg,color:t.tooltipColor,"border-radius":t.primaryBtnRadius}}}var so,uo=new zr.CompositeMode([new zr.TranslateMode,new io]);function po(e){var t=e.editorMenuActive,n=e.editor,a=e.onSetFeatures,r=e.setSelectedFeature,o=e.featureCollection,i=e.selectedFeatureIndexes,l=e.viewport,c=n.mode,s=uo;return t&&(c===q.EDITOR_MODES.DRAW_POLYGON?s=zr.DrawPolygonMode:c===q.EDITOR_MODES.DRAW_RECTANGLE&&(s=zr.DrawRectangleMode)),new Vr.EditableGeoJsonLayer({id:q.EDITOR_LAYER_ID,mode:s,data:o,selectedFeatureIndexes:i,visible:n.visible,pickable:!0,pickingRadius:q.EDITOR_LAYER_PICKING_RADIUS,modeConfig:{viewport:l,screenSpace:!0,lockRectangles:!0},pickingLineWidthExtraPixels:5,filled:i.length>0,onEdit:function(e){var t=e.updatedData;switch(e.editType){case Xr:var n=t.features;if(n.length){var o=n[n.length-1];o.properties.isClosed=!0,o.id=Object(W.generateHashId)(6),a(t.features),r(o)}break;case Yr:case Kr:case Zr:a(t.features)}},autoHighlight:!lo(t,c),highlightColor:function(e){var t=e.object;if(t){var a;if(t.id===(null===(a=n.selectedFeature)||void 0===a?void 0:a.id))return ao.highlightMultiplierNone;var r=t.properties.editHandleType;if("intermediate"===r)return no.highlightMultiplierNone;if("existing"===r)return no.highlightMultiplier}return i.length?ao.highlightMultiplier:ro.highlightMultiplier},extensions:[new Gr.a({dash:!0})],dashGapPickable:!0,getDashArray:function(e,t){var a,r;return"tentative"===(null==e||null===(a=e.properties)||void 0===a?void 0:a.guideType)?ro.dashArray:(null==e?void 0:e.id)===(null===(r=n.selectedFeature)||void 0===r?void 0:r.id)?ro.solidArray:ro.dashArray},getLineColor:ro.getColor,getFillColor:ao.getColor,getRadius:no.getRadius,getLineWidth:ro.getWidth,getEditHandlePointRadius:no.getRadius,getEditHandlePointColor:no.getFillColor,getEditHandlePointOutlineColor:no.getOutlineColor,getTentativeLineColor:ro.getTentativeLineColor,getTentativeLineWidth:ro.getTentativeLineWidth,getTentativeFillColor:ro.getTentativeFillColor,parameters:{}})}var fo={PointLayer:Le,ArcLayer:Ge,LineLayer:et,GridLayer:Ct,HexagonLayer:Lt,GeojsonLayer:Jt,ClusterLayer:ln,IconLayer:zn,HeatmapLayer:ha,H3Layer:Ta,ScenegraphLayer:Qa,TripLayer:Or,S2GeometryLayer:Ur},go=(so={},r()(r()(r()(r()(r()(r()(r()(r()(r()(r()(so,q.LAYER_TYPES.point,Le),q.LAYER_TYPES.arc,Ge),q.LAYER_TYPES.line,et),q.LAYER_TYPES.grid,Ct),q.LAYER_TYPES.hexagon,Lt),q.LAYER_TYPES.geojson,Jt),q.LAYER_TYPES.cluster,ln),q.LAYER_TYPES.icon,zn),q.LAYER_TYPES.heatmap,ha),q.LAYER_TYPES.hexagonId,Ta),r()(r()(r()(so,q.LAYER_TYPES["3D"],Qa),q.LAYER_TYPES.trip,Or),q.LAYER_TYPES.s2,Ur)),mo={isDrawingActive:lo,onClick:function(e,t,n){var a,r=n.editorMenuActive,o=n.editor,i=n.setSelectedFeature,l=n.onLayerClick,c=n.mapIndex,s=void 0===c?0:c,u=lo(r,o.mode);if((null==e||null===(a=e.layer)||void 0===a?void 0:a.id)===q.EDITOR_LAYER_ID&&null!=e&&e.object){var d,p=null===(d=e.object.geometry)||void 0===d?void 0:d.type;if(u)o.selectedFeature&&i(null);else if(null!=p&&p.endsWith("Polygon")||null!=p&&p.endsWith("Point")){var f,g;if(t.rightButton&&Array.isArray(null===(f=t.srcEvent)||void 0===f?void 0:f.point)){var m=t.srcEvent.point;g={mapIndex:s,rightClick:!0,position:{x:m[0],y:m[1]}}}null!=p&&p.endsWith("Polygon")?i(e.object,g):i(o.selectedFeature,g)}l(null,t)}else{if(!u){if(o.selectedFeature){if(t.rightButton)return!0;i(null)}return!1}l(null,t)}return!0},onHover:function(e,t){var n,a,r=t.hoverInfo,o=t.editor;return!!lo(t.editorMenuActive,o.mode)||(null==e||null===(n=e.layer)||void 0===n?void 0:n.id)===q.EDITOR_LAYER_ID&&(null==r||null===(a=r.layer)||void 0===a?void 0:a.id)===q.EDITOR_LAYER_ID},getTooltip:function(e,t){var n,a,r,o,i=t.editor,l=t.theme,c=t.editorMenuActive,s=e.object,u=e.layer,d=e.viewport,p=void 0===d?{}:d,f=e.pixel,g=void 0===f?[]:f,m=(null==p?void 0:p.width)-g[0]<200,h=(null==p?void 0:p.height)-g[1]<100;if(null!==(n=i.selectionContext)&&void 0!==n&&n.rightClick)return null;if(lo(c,i.mode))return null!=u&&null!==(a=u.state)&&void 0!==a&&null!==(r=a.mode)&&void 0!==r&&null!==(o=r._clickSequence)&&void 0!==o&&o.length?null:co("Click to start new feature",l,{leftOfCursor:m,aboveCursor:h});if((null==u?void 0:u.id)===q.EDITOR_LAYER_ID){var y,v,b,E=i.selectedFeature;return E&&(!s||s.id&&s.id===E.id)?co("Right click to view options\nDrag to move the feature",l,{leftOfCursor:m,aboveCursor:h}):"intermediate"===(null==s||null===(y=s.properties)||void 0===y?void 0:y.editHandleType)?co("Click to insert a point",l,{leftOfCursor:m,aboveCursor:h}):"Point"===(null==s||null===(v=s.geometry)||void 0===v?void 0:v.type)||"tentative"===(null==s||null===(b=s.properties)||void 0===b?void 0:b.guideType)?co("Drag to move the point",l,{leftOfCursor:m,aboveCursor:h}):co("Click to select the feature\nRight click to view options",l,{leftOfCursor:m,aboveCursor:h})}return null},getCursor:function(e){var t,n=e.editorMenuActive,a=e.editor,r=e.hoverInfo;return lo(n,a.mode)?"crosshair":(null==r||null===(t=r.layer)||void 0===t?void 0:t.id)===q.EDITOR_LAYER_ID&&a.selectedFeature?"move":null}}},158:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a,r=n(1),o=n.n(r),i=n(6),l=n.n(i),c=n(0),s=n.n(c),u=n(25),d=n.n(u),p=n(5),f=n(19),g=n(15);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=p.default.div.attrs((function(e){return{dataTestId:e.testId}}))(a||(a=l()(["\n  margin-left: ","px;\n  display: flex;\n  align-items: center;\n  color: ",";\n\n  cursor: pointer;\n\n  :hover {\n    color: ",";\n  }\n\n  &.disabled {\n    cursor: none;\n    pointer-events: none;\n    opacity: 0.3;\n  }\n"])),(function(e){return e.flush?0:8}),(function(e){return e.active?e.theme.panelHeaderIconActive:e.theme.panelHeaderIcon}),(function(e){return e.hoverColor?e.theme[e.hoverColor]:e.theme.panelHeaderIconHover}));function v(){var e=function(e){var t=e.onClick,n=e.tooltip,a=e.id,r=e.active,i=void 0!==r&&r,l=e.flush,c=e.hoverColor,u=e.tooltipType,p=e.disabled,m=e.className,v=e.IconComponent,b=e.testId;return s.a.createElement(y,{className:d()("panel--header__action",h({disabled:p},m?o()({},m,!0):{})),active:i,hoverColor:c,flush:l},v?s.a.createElement(v,{className:"panel--header__action__component","data-testid":b,"data-tip":!0,"data-for":"".concat(n,"_").concat(a),height:"16px",onClick:t}):null,n?s.a.createElement(g.R,{id:"".concat(n,"_").concat(a),effect:"solid",delayShow:500,type:u},s.a.createElement("span",null,s.a.createElement(f.FormattedMessage,{id:n}))):null)},t=s.a.memo(e);return t.displayName="PanelHeaderAction",t}v.deps=[]},163:function(e,t,n){"use strict";n.d(t,"h",(function(){return T})),n.d(t,"a",(function(){return be})),n.d(t,"b",(function(){return ke})),n.d(t,"c",(function(){return Pe})),n.d(t,"d",(function(){return Fe})),n.d(t,"e",(function(){return Ve})),n.d(t,"g",(function(){return et})),n.d(t,"f",(function(){return ot})),n.d(t,"i",(function(){return it}));var a=n(1),r=n.n(a),o=n(8),i=n.n(o),l=n(9),c=n.n(l),s=n(12),u=n.n(s),d=n(7),p=n.n(d),f=n(11),g=n.n(f),m=n(125),h=n(531),y=n(403),v=n(489),b=n(595),E=n.n(b),C=n(1410),O=n(85);function S(e,t,n){var a=n.index,r=a.x,o=a.y,i=a.z,l="".concat(e||"https://a.tiles.mapbox.com").concat("/v4/mapbox.mapbox-streets-v7","/").concat(i,"/").concat(r,"/").concat(o,".vector.pbf?access_token=").concat(t);return fetch(l).then((function(e){return e.arrayBuffer()})).then((function(e){return function(e,t,n,a){var r=new C.VectorTile(new E.a(a)),o=[],i=512*e,l=512*t,c=Math.pow(2,n),s=_.bind(null,i,l,c),u=r.layers.building;if(!u)return[];for(var d=0;d<u.length;d++){D(u.feature(d),s).forEach((function(e){e.properties.layer="building",e.properties.height&&o.push(e)}))}return o}(r,o,i,e)}))}function _(e,t,n,a,r){for(var o=r/512,i=0;i<a.length;i++){var l=a[i];a[i]=Object(O.j)([e+l[0]/o,t+l[1]/o],n)}}function D(e,t){var n,a,r=function(e){var t=e._pbf;t.pos=e._geometry;var n,a=t.readVarint()+t.pos,r=1,o=0,i=0,l=0,c=[];for(;t.pos<a;){if(o<=0){var s=t.readVarint();r=7&s,o=s>>3}if(o--,1===r||2===r)i+=t.readSVarint(),l+=t.readSVarint(),1===r&&(n&&c.push(n),n=[]),n&&n.push([i,l]);else{if(7!==r)throw new Error("unknown command ".concat(r));n&&n.push(n[0].slice())}}n&&c.push(n);return c}(e),o=e.extent;for(r=function(e){var t=e.length;if(t<=1)return[e];for(var n,a,r=[],o=0;o<t;o++){var i=x(e[o]);0!==i&&(void 0===a&&(a=i<0),a===i<0?(n&&r.push(n),n=[e[o]]):n&&n.push(e[o]))}n&&r.push(n);return r}(r),n=0;n<r.length;n++)for(a=0;a<r[n].length;a++)t(r[n][a],o);return r.map((function(t){return{coordinates:t,properties:e.properties}}))}function x(e){for(var t,n,a=0,r=0,o=e.length,i=o-1;r<o;i=r++)t=e[r],a+=((n=e[i])[0]-t[0])*(t[1]+n[1]);return a}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t=p()(t),u()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],p()(e).constructor):t.apply(e,n))}var T=function(e){function t(){return i()(this,t),w(this,t,arguments)}return g()(t,e),c()(t,[{key:"renderSubLayers",value:function(e){return new v.a(A(A({},e),{},{parameters:{blendFunc:[m.default.SRC_ALPHA,m.default.ONE_MINUS_SRC_ALPHA,m.default.ONE,m.default.ONE_MINUS_SRC_ALPHA],blendEquation:[m.default.FUNC_ADD,m.default.FUNC_ADD]},extruded:!0,opacity:1,filled:!0,getElevation:function(e){return e.properties.height||0},getPolygon:function(e){return e.coordinates},getFillColor:this.props.threeDBuildingColor}))}},{key:"renderLayers",value:function(){var e=this;return[new y.a({id:"".concat(this.id,"-deck-3d-building"),getTileData:function(t){return S(e.props.mapboxApiUrl,e.props.mapboxApiAccessToken,t)},minZoom:13,renderSubLayers:this.renderSubLayers.bind(this),updateTriggers:this.props.updateTriggers})]}}]),t}(h.a),P=n(755),L=n(804),j=n(494),M=n.n(j),F=n(18),I=n.n(F),R=n(942),N=n(1413),B=n(31),U=n(13),V=n(4);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var H=r()(r()(r()(r()({},R.a.SUM,V.AGGREGATION_TYPES.sum),R.a.MEAN,V.AGGREGATION_TYPES.average),R.a.MIN,V.AGGREGATION_TYPES.minimum),R.a.MAX,V.AGGREGATION_TYPES.maximum);function q(){}function W(e,t,n){var a=n.key,r=e.triggers,o=r.value,i=r.weight,l=r.aggregation,c=t[o.prop];null===c&&(c=function(e,t){e&&R.a[e.toUpperCase()]||B.console.warn("Aggregation ".concat(e," is not supported"));var n=R.a[e.toUpperCase()]||R.a.SUM,a=H[n];return function(e){return Object(U.aggregate)(e.map(t),a)}}(t[l.prop],t[i.prop])),c&&this._setDimensionState(a,{getValue:c})}function Y(e,t,n){var a=n.key,r=this.state.dimensions[a].getValue,o=new N.a(this.state.layerData.data||[],{getValue:r,filterData:t._filterData});this._setDimensionState(a,{sortedBins:o})}function K(e,t,n){var a=n.key,r=e.triggers,o=r.lowerPercentile,i=r.upperPercentile,l=r.scaleType;if(this.state.dimensions[a].sortedBins){var c=this.state.dimensions[a].sortedBins.getValueDomainByScale(t[l.prop],[t[o.prop],t[i.prop]]);this._setDimensionState(a,{valueDomain:c})}}function Z(e,t,n){var a=n.key,r=e.triggers,o=r.domain,i=r.range,l=r.scaleType,c=e.onSet;if(this.state.dimensions[a].valueDomain){var s=t[i.prop],u=t[o.prop]||this.state.dimensions[a].valueDomain,d=function(e){return e&&V.SCALE_FUNC[e]||B.console.warn("Scale ".concat(e," is not supported")),V.SCALE_FUNC[e]||V.SCALE_FUNC.quantize}(l&&t[l.prop])().domain(u).range(s);"object"===I()(c)&&"function"==typeof t[c.props]&&t[c.props](d.domain()),this._setDimensionState(a,{scaleFunc:d})}}function X(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.hexagons?Object.assign({data:e.hexagons},e):e.layerData?Object.assign({data:e.layerData},e):e}function J(e,t,n,a){var r=(0,t[e.triggers.aggregator.prop])(t,a);this.setState({layerData:X(r)})}var Q={key:"position",updateSteps:[{key:"aggregate",triggers:{cellSize:{prop:"cellSize"},position:{prop:"getPosition",updateTrigger:"getPosition"},aggregator:{prop:"gridAggregator"}},updater:J}]};function $(e,t,n){return function(n){var a=e.sortedBins,r=e.scaleFunc,o=a.binMap[n.index];if(o&&0===o.counts)return t.nullValue;var i=o&&o.value,l=r.domain();return i>=l[0]&&i<=l[l.length-1]?r(i):t.nullValue}}var ee={key:"fillColor",accessor:"getFillColor",getPickingInfo:function(e,t){if(!t)return{};var n=e.sortedBins;return{colorValue:n.binMap[t.index]&&n.binMap[t.index].value}},nullValue:[0,0,0,0],updateSteps:[{key:"getValue",triggers:{value:{prop:"getColorValue",updateTrigger:"getColorValue"},weight:{prop:"getColorWeight",updateTrigger:"getColorWeight"},aggregation:{prop:"colorAggregation"}},updater:W},{key:"getBins",triggers:{_filterData:{prop:"_filterData",updateTrigger:"_filterData"}},updater:Y},{key:"getDomain",triggers:{lowerPercentile:{prop:"lowerPercentile"},upperPercentile:{prop:"upperPercentile"},scaleType:{prop:"colorScaleType"}},updater:K},{key:"getScaleFunc",triggers:{domain:{prop:"colorDomain"},range:{prop:"colorRange"},scaleType:{prop:"colorScaleType"}},onSet:{props:"onSetColorDomain"},updater:Z}],getSubLayerAccessor:$},te=[ee,{key:"elevation",accessor:"getElevation",getPickingInfo:function(e,t){if(!t)return{};var n=e.sortedBins;return{elevationValue:n.binMap[t.index]&&n.binMap[t.index].value}},nullValue:-1,updateSteps:[{key:"getValue",triggers:{value:{prop:"getElevationValue",updateTrigger:"getElevationValue"},weight:{prop:"getElevationWeight",updateTrigger:"getElevationWeight"},aggregation:{prop:"elevationAggregation"}},updater:W},{key:"getBins",triggers:{_filterData:{prop:"_filterData",updateTrigger:"_filterData"}},updater:Y},{key:"getDomain",triggers:{lowerPercentile:{prop:"elevationLowerPercentile"},upperPercentile:{prop:"elevationUpperPercentile"},scaleType:{prop:"elevationScaleType"}},updater:K},{key:"getScaleFunc",triggers:{domain:{prop:"elevationDomain"},range:{prop:"elevationRange"},scaleType:{prop:"elevationScaleType"}},onSet:{props:"onSetElevationDomain"},updater:Z}],getSubLayerAccessor:$}],ne=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i()(this,e),r()(this,"state",void 0),r()(this,"dimensionUpdaters",void 0),r()(this,"aggregationUpdater",void 0),this.state=G({layerData:{},dimensions:{}},t.initialState),this.dimensionUpdaters={},this.aggregationUpdater=t.aggregation||Q,this._addDimension(t.dimensions||te)}return c()(e,[{key:"updateAllDimensions",value:function(e){var t=[];for(var n in this.dimensionUpdaters){var a=this._accumulateUpdaters(0,e,this.dimensionUpdaters[n]);t=t.concat(a)}t.forEach((function(e){return"function"==typeof e&&e()}))}},{key:"updateAggregation",value:function(e,t){this._accumulateUpdaters(0,e,this.aggregationUpdater).forEach((function(e){return"function"==typeof e&&e(t)}))}},{key:"updateState",value:function(e,t){var n=e.oldProps,a=e.props,r=e.changeFlags;if(r.dataChanged)return this.updateAggregation(a,t),this.updateAllDimensions(a),this.state;var o=this._getAggregationChanges(n,a,r);return o&&o.length?(o.forEach((function(e){return"function"==typeof e&&e(t)})),this.updateAllDimensions(a)):(this._getDimensionChanges(n,a,r)||[]).forEach((function(e){return"function"==typeof e&&e()})),this.state}},{key:"setState",value:function(e){this.state=Object.assign({},this.state,e)}},{key:"_setDimensionState",value:function(e,t){this.setState({dimensions:Object.assign({},this.state.dimensions,r()({},e,Object.assign({},this.state.dimensions[e],t)))})}},{key:"_addAggregation",value:function(e){this.aggregationUpdater=e}},{key:"_addDimension",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.forEach((function(t){var n=t.key;e.dimensionUpdaters[n]=t}))}},{key:"_needUpdateStep",value:function(e,t,n,a){return Object.values(e.triggers).some((function(e){return e.updateTrigger?a.updateTriggersChanged&&(a.updateTriggersChanged.all||a.updateTriggersChanged[e.updateTrigger]):t[e.prop]!==n[e.prop]}))}},{key:"_accumulateUpdaters",value:function(e,t,n){for(var a=[],r=e;r<n.updateSteps.length;r++){var o=n.updateSteps[r].updater;"function"==typeof o&&a.push(o.bind(this,n.updateSteps[r],t,n))}return a}},{key:"_getAllUpdaters",value:function(e,t,n,a){var r=this,o=[],i=e.updateSteps.findIndex((function(e){return r._needUpdateStep(e,t,n,a)}));return i>-1&&(o=o.concat(this._accumulateUpdaters(i,n,e))),o}},{key:"_getAggregationChanges",value:function(e,t,n){var a=this._getAllUpdaters(this.aggregationUpdater,e,t,n);return a.length?a:null}},{key:"_getDimensionChanges",value:function(e,t,n){var a=[];for(var r in this.dimensionUpdaters){var o=this.dimensionUpdaters[r],i=this._getAllUpdaters(o,e,t,n);a=a.concat(i)}return a.length?a:null}},{key:"getUpdateTriggers",value:function(e){var t=this,n=e.updateTriggers||{},a={},r=function(){var r=t.dimensionUpdaters[o],i=r.accessor,l=r.updateSteps;a[i]={},l.forEach((function(t){Object.values(t.triggers||[]).forEach((function(t){var r=t.prop,o=t.updateTrigger;if(o){var l=n[o];"object"!==I()(l)||Array.isArray(l)?void 0!==l&&(a[i][r]=l):Object.assign(a[i],l)}else a[i][r]=e[r]}))}))};for(var o in this.dimensionUpdaters)r();return a}},{key:"getPickingInfo",value:function(e,t){var n=e.info,a=null,r=n.picked&&n.index>-1?this.state.layerData.data[n.index]:null;if(r){var o={};for(var i in this.dimensionUpdaters){var l=this.dimensionUpdaters[i].getPickingInfo;"function"==typeof l&&(o=Object.assign({},o,l(this.state.dimensions[i],r,t)))}a=Object.assign(o,r,{points:r.filteredPoints||r.points})}return Object.assign(n,{picked:Boolean(a),object:a})}},{key:"getAccessor",value:function(e,t){return this.dimensionUpdaters.hasOwnProperty(e)?this.dimensionUpdaters[e].getSubLayerAccessor(this.state.dimensions[e],this.dimensionUpdaters[e],t):q}}],[{key:"defaultDimensions",value:function(){return te}}]),e}();r()(ne,"getDimensionScale",void 0),ne.getDimensionScale=Z;var ae=n(493),re=n(21),oe=n.n(re),ie=n(1448),le=n(162),ce=n.n(le);var se=function(e){var t=e.clusterRadius;return"".concat(t)},ue=function(e){var t=e.clusterRadius,n=e.geoJSON;return new ie.a({maxZoom:20,radius:t,reduce:function(e,t){e.points=[].concat(oe()(e.points),oe()(t.points))},map:function(e){return{points:[e.data]}}}).load(n)},de=function(){function e(){i()(this,e),r()(this,"clusterer",void 0),this.clusterer=ce()(ue,se)}return c()(e,[{key:"clustersAtZoom",value:function(e){var t=e.bbox,n=e.clusterRadius,a=e.geoJSON,r=e.zoom;return this.clusterer({clusterRadius:n,geoJSON:a}).getClusters(t,r).map((function(e,t){return{points:e.properties.points,position:e.geometry.coordinates,index:t}}))}},{key:"clearClustererCache",value:function(){var e,t;null===(e=(t=this.clusterer.cache).clear)||void 0===e||e.call(t)}}]),e}();function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function fe(e,t,n){return t=p()(t),u()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],p()(e).constructor):t.apply(e,n))}var ge=V.LAYER_VIS_CONFIGS.clusterRadius.defaultValue,me=V.LAYER_VIS_CONFIGS.clusterRadiusRange.defaultValue;var he={key:"position",updateSteps:[{key:"geojson",triggers:{position:{prop:"getPosition",updateTrigger:"getPosition"},filterData:{prop:"filterData",updateTrigger:"filterData"}},updater:function(e,t,n,a){a.viewport;var r=function(e,t,n){return("function"==typeof n?e.filter(n):e).map((function(e){return{type:"Point",properties:{data:e,points:[e],point_count:1,point_count_abbreviated:"1"},geometry:{coordinates:t(e)}}})).filter((function(e){return e.geometry.coordinates.every(Number.isFinite)}))}(t.data,t.getPosition,t.filterData),o=new de;this.setState({geoJSON:r,clusterBuilder:o})}},{key:"clustering",triggers:{clusterRadius:{prop:"clusterRadius"},zoom:{prop:"zoom"},width:{prop:"width"},height:{prop:"height"}},updater:function(e,t,n,a){var r=a.viewport,o=this.state,i=o.geoJSON,l=o.clusterBuilder,c=t.clusterRadius,s=t.zoom,u=t.width,d=t.height,p=r.longitude,f=r.latitude,g=M.a.bounds([p,f],s,[u,d]),m=l.clustersAtZoom({bbox:g,clusterRadius:c,geoJSON:i,zoom:s});this.setState({layerData:{data:m}})}}]};var ye=[ee,{key:"radius",accessor:"getRadius",nullValue:0,updateSteps:[{key:"getDomain",triggers:{value:{prop:"getRadiusValue",updateTrigger:"getRadiusValue"}},updater:function(e,t,n){var a=n.key,r=t.getRadiusValue,o=this.state.layerData,i=[0,Object(ae.a)(o.data,r)];this._setDimensionState(a,{valueDomain:i})}},{key:"getScaleFunc",triggers:{domain:{prop:"radiusDomain"},range:{prop:"radiusRange"},scaleType:{prop:"radiusScaleType"}},updater:Z}],getSubLayerAccessor:function(e,t,n){return function(t){var a=n.getRadiusValue;return(0,e.scaleFunc)(a(t))}},getPickingInfo:function(e,t,n){return{radiusValue:n.getRadiusValue(t)}}}],ve={clusterRadius:ge,colorDomain:null,colorRange:V.DEFAULT_COLOR_RANGE,colorScaleType:V.SCALE_TYPES.quantize,radiusScaleType:V.SCALE_TYPES.sqrt,radiusRange:me,getPosition:{type:"accessor",value:function(e){return e.position}},getColorValue:{type:"accessor",value:function(e){return e.length}},getRadiusValue:{type:"accessor",value:function(e){return e.filteredPoints?e.filteredPoints.length:e.points.length}}},be=function(e){function t(){return i()(this,t),fe(this,t,arguments)}return g()(t,e),c()(t,[{key:"initializeState",value:function(){var e=new ne({aggregation:he,dimensions:ye});this.state={cpuAggregator:e,aggregatorState:e.state},this.getAttributeManager().add({positions:{size:3,accessor:"getPosition"}})}},{key:"updateState",value:function(e){var t=e.oldProps,n=e.props,a=e.changeFlags;this.setState({aggregatorState:this.state.cpuAggregator.updateState({oldProps:t,props:n,changeFlags:a},{viewport:this.context.viewport,attributes:this.getAttributes(),numInstances:this.getNumInstances(n)})})}},{key:"getPickingInfo",value:function(e){var t=e.info;return this.state.cpuAggregator.getPickingInfo({info:t},this.props)}},{key:"_getSublayerUpdateTriggers",value:function(){return this.state.cpuAggregator.getUpdateTriggers(this.props)}},{key:"_getSubLayerAccessors",value:function(){return{getRadius:this.state.cpuAggregator.getAccessor("radius",this.props),getFillColor:this.state.cpuAggregator.getAccessor("fillColor",this.props)}}},{key:"renderLayers",value:function(){var e=this.props,t=e.id,n=e.radiusScale,a=this.state.cpuAggregator,o=this.props,i=o.visible,l=o.opacity,c=o.pickable,s=o.autoHighlight,u=o.highlightColor,d=this._getSublayerUpdateTriggers(),p=this._getSubLayerAccessors(),f=Object(O.b)(this.context.viewport).metersPerPixel[0];return new P.a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({id:"".concat(t,"-cluster"),data:a.state.layerData.data,radiusScale:f*n,visible:i,opacity:l,pickable:c,autoHighlight:s,highlightColor:u,updateTriggers:d,parameters:{depthMask:!1}},p))}}]),t}(L.a);be.layerName="ClusterLayer",be.defaultProps=ve;var Ee=n(63),Ce=n.n(Ee),Oe=n(52);function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function De(e,t,n){return t=p()(t),u()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],p()(e).constructor):t.apply(e,n))}var xe=function(e){function t(){return i()(this,t),De(this,t,arguments)}return g()(t,e),c()(t,[{key:"getShaders",value:function(){var e,n,a=Ce()(p()(t.prototype),"getShaders",this).call(this);return _e(_e({},a),{},{vs:(e=a.vs,n=it(e,"hexagon cell vs add instance 1","in vec3 instancePickingColors;","in vec3 instancePickingColors;\n     in float instanceCoverage;"),it(n,"hexagon cell vs add instance 2","float dotRadius = radius * coverage * shouldRender;","float dotRadius = radius * coverage * instanceCoverage * shouldRender;"))})}},{key:"initializeState",value:function(){var e;Ce()(p()(t.prototype),"initializeState",this).call(this),null===(e=this.getAttributeManager())||void 0===e||e.addInstanced({instanceCoverage:{size:1,accessor:"getCoverage"}})}},{key:"draw",value:function(e){var t=e.uniforms,n=this.props,a=n.lineWidthUnits,r=n.lineWidthScale,o=n.lineWidthMinPixels,i=n.lineWidthMaxPixels,l=n.radiusUnits,c=n.elevationScale,s=n.extruded,u=n.filled,d=n.stroked,p=n.strokeOpacity,f=n.wireframe,g=n.offset,h=n.coverage,y=n.radius,v=n.angle,b=this.state,E=b.model,C=b.fillVertexCount,O=b.wireframeVertexCount,S=b.edgeDistance;E.setUniforms(t).setUniforms({radius:y,angle:v/180*Math.PI,offset:g,extruded:s,stroked:d,coverage:h,elevationScale:c,edgeDistance:S,radiusUnits:Oe.e[l],widthUnits:Oe.e[a],widthScale:r,widthMinPixels:o,widthMaxPixels:i}),s&&f&&(E.setProps({isIndexed:!0}),E.setVertexCount(O).setDrawMode(m.default.LINES).setUniforms({isStroke:!0}).draw()),u&&(E.setProps({isIndexed:!1}),E.setVertexCount(C).setDrawMode(m.default.TRIANGLE_STRIP).setUniforms({isStroke:!1}).draw()),!s&&d&&(E.setProps({isIndexed:!1}),E.setVertexCount(2*C/3).setDrawMode(m.default.TRIANGLE_STRIP).setUniforms({isStroke:!0,opacity:p}).draw())}}]),t}(n(586).a);xe.layerName="EnhancedColumnLayer";var ke=xe,Ae=n(2208);function we(e,t,n){return t=p()(t),u()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],p()(e).constructor):t.apply(e,n))}var Te={key:"position",updateSteps:[{key:"aggregate",triggers:{cellSize:{prop:"cellSize"},position:{prop:"getPosition",updateTrigger:"getPosition"},aggregator:{prop:"gridAggregator"}},updater:J}]},Pe=function(e){function t(){return i()(this,t),we(this,t,arguments)}return g()(t,e),c()(t,[{key:"initializeState",value:function(){var e=new ne({aggregation:Te});this.state={cpuAggregator:e,aggregatorState:e.state},this.getAttributeManager().add({positions:{size:3,accessor:"getPosition"}})}}]),t}(Ae.a);Pe.layerName="ScaleEnhancedGridLayer";var Le=n(2214);function je(e,t,n){return t=p()(t),u()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],p()(e).constructor):t.apply(e,n))}var Me={key:"position",updateSteps:[{key:"aggregate",triggers:{cellSize:{prop:"radius"},position:{prop:"getPosition",updateTrigger:"getPosition"},aggregator:{prop:"hexagonAggregator"}},updater:J}]},Fe=function(e){function t(){return i()(this,t),je(this,t,arguments)}return g()(t,e),c()(t,[{key:"initializeState",value:function(){var e=new ne({aggregation:Me});this.state={cpuAggregator:e,aggregatorState:e.state},this.getAttributeManager().add({positions:{size:3,accessor:"getPosition"}})}}]),t}(Le.a);Fe.layerName="ScaleEnhancedHexagonLayer";var Ie=n(1380);function Re(e,t,n){return t=p()(t),u()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],p()(e).constructor):t.apply(e,n))}function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ue=Be(Be({},Ie.a.defaultProps),{},{getTargetColor:function(e){return e.color||[0,0,0,255]}});var Ve=function(e){function t(){return i()(this,t),Re(this,t,arguments)}return g()(t,e),c()(t,[{key:"getShaders",value:function(){var e=Ce()(p()(t.prototype),"getShaders",this).call(this),n=function(e){var t=it(e,"line target color vs","attribute vec4 instanceColors;","attribute vec4 instanceColors; attribute vec4 instanceTargetColors;");return it(t,"line color vs","vColor = vec4(instanceColors.rgb, instanceColors.a * opacity);","vec4 color = mix(instanceColors, instanceTargetColors, positions.x);vColor = vec4(color.rgb, color.a * opacity);")}(e.vs);return n=function(e){var t=it(e,"line elevation scale 1 vs - inject elevation scale","uniform float widthMaxPixels;","uniform float widthMaxPixels;\n     uniform float elevationScale;");return t=it(t,"line elevation scale 2 vs - multiply by elevation scale","geometry.worldPosition = instanceSourcePositions;\n  geometry.worldPositionAlt = instanceTargetPositions;","vec3 source_world = instanceSourcePositions;\n     vec3 target_world = instanceTargetPositions;\n     source_world.z *= elevationScale;\n     target_world.z *= elevationScale;\n     \n     geometry.worldPosition = source_world;\n     geometry.worldPositionAlt = target_world;"),t=it(t,"line elevation scale 3 vs","vec3 source_world = instanceSourcePositions;\n  vec3 target_world = instanceTargetPositions;","")}(n),Be(Be({},e),{},{vs:n})}},{key:"draw",value:function(e){var n=e.uniforms,a=this.props.elevationScale;Ce()(p()(t.prototype),"draw",this).call(this,{uniforms:Be(Be({},n),{},{elevationScale:a})})}},{key:"initializeState",value:function(){var e;Ce()(p()(t.prototype),"initializeState",this).call(this,void 0),this.state.attributeManager.addInstanced({instanceTargetColors:{size:null===(e=this.props.colorFormat)||void 0===e?void 0:e.length,type:m.default.UNSIGNED_BYTE,normalized:!0,transition:!0,accessor:"getTargetColor",defaultValue:[0,0,0,255]}})}}]),t}(Ie.a);Ve.layerName="EnhancedLineLayer",Ve.defaultProps=Ue;var ze=n(237),Ge=n(798);function He(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function We(e,t,n){return t=p()(t),u()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],p()(e).constructor):t.apply(e,n))}var Ye=[-1,-1,0,-1,1,0,1,1,0,1,-1,0],Ke=function(e){function t(){return i()(this,t),We(this,t,arguments)}return g()(t,e),c()(t,[{key:"_getModel",value:function(e){var t=this.getShaders(void 0),n=this.props.iconGeometry,a=n?new ze.a({drawMode:m.default.TRIANGLES,attributes:{positions:new Float32Array(n)}}):new ze.a({drawMode:m.default.TRIANGLE_FAN,attributes:{positions:new Float32Array(Ye)}});return new Ge.a(e,qe(qe({},t),{},{id:this.props.id,geometry:a,isInstanced:!0,shaderCache:this.context.shaderCache}))}}]),t}(P.a);function Ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Je(e,t,n){return t=p()(t),u()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],p()(e).constructor):t.apply(e,n))}Ke.layerName="ScatterplotIconLayer";var Qe=[1,1,0,1,-1,0,-1,-1,0,-1,-1,0,-1,1,0,1,1,0],$e={getIconGeometry:function(e){return Qe},getIcon:function(e){return e.icon}},et=function(e){function t(){return i()(this,t),Je(this,t,arguments)}return g()(t,e),c()(t,[{key:"initializeState",value:function(){this.state={data:{}}}},{key:"updateState",value:function(e){e.changeFlags.dataChanged&&this._extractSublayers()}},{key:"_extractSublayers",value:function(){for(var e=this.props,t=e.data,n=e.getIconGeometry,a=e.getIcon,r={},o=0;o<t.length;o++){var i=a(t[o]);r[i]=r[i]||{id:i,geometry:n(i)||Qe,data:[]},r[i].data.push(t[o])}this.setState({data:Object.values(r)})}},{key:"_updateAutoHighlight",value:function(e){var t;null==e||null===(t=e.sourceLayer)||void 0===t||t.updateAutoHighlight(e)}},{key:"renderLayers",value:function(){var e=this,t=this.props.id,n=this.state.data&&this.state.data.length&&this.state.data.map((function(n){var a=n.id,r=n.data,o=n.geometry;return new Ke(Xe(Xe({},e.props),{},{id:"".concat(t,"-").concat(a),data:r,iconGeometry:o}))}));return n&&n.length>0?n:null}}]),t}(h.a);et.layerName="SvgIconLayer",et.defaultProps=$e;var tt=n(1156),nt={name:"filter-arrow",dependencies:[n(408).a],vs:"\n  #ifdef NON_INSTANCED_MODEL\n    #define FILTER_ARROW_ATTRIB filtered\n  #else\n    #define FILTER_ARROW_ATTRIB instanceFiltered\n  #endif\n  attribute float FILTER_ARROW_ATTRIB;\n",fs:"",inject:{"vs:#decl":"\n    varying float is_filtered;\n  ","vs:#main-end":"\n    is_filtered = FILTER_ARROW_ATTRIB;\n  ","fs:#decl":"\n    varying float is_filtered;\n  ","fs:DECKGL_FILTER_COLOR":"\n    // abandon the fragments if  it is not filtered\n    if (is_filtered == 0.) {\n      discard;\n    }\n  "},getUniforms:function(){}};function at(e,t,n){return t=p()(t),u()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],p()(e).constructor):t.apply(e,n))}var rt={getFiltered:{type:"accessor",value:1}},ot=function(e){function t(){return i()(this,t),at(this,t,arguments)}return g()(t,e),c()(t,[{key:"getShaders",value:function(e){return{modules:[nt],defines:{}}}},{key:"initializeState",value:function(e,t){var n=this.getAttributeManager();n&&n.add({filtered:{size:1,type:m.default.FLOAT,accessor:"getFiltered",shaderAttributes:{filtered:{divisor:0},instanceFiltered:{divisor:1}}}})}}]),t}(tt.a);function it(e,t,n,a){return e.includes(n)?e.replace(n,a):(B.console.error("Cannot edit ".concat(t," layer shader")),e)}r()(ot,"defaultProps",rt),r()(ot,"extensionName","FilterArrowExtension")},184:function(e,t,n){"use strict";n.d(t,"a",(function(){return G})),n.d(t,"b",(function(){return H}));var a,r,o,i,l=n(14),c=n.n(l),s=n(18),u=n.n(s),d=n(21),p=n.n(d),f=n(8),g=n.n(f),m=n(9),h=n.n(m),y=n(12),v=n.n(y),b=n(7),E=n.n(b),C=n(10),O=n.n(C),S=n(11),_=n.n(S),D=n(1),x=n.n(D),k=n(6),A=n.n(k),w=n(0),T=n.n(w),P=n(5),L=n(596),j=n(13),M=n(694),F=n(391),I=n(349),R=n(15),N=n(193),B=n(138);function U(e,t,n){return t=E()(t),v()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],E()(e).constructor):t.apply(e,n))}var V=P.default.div(a||(a=A()(["\n  padding: 0px 12px 12px 12px;\n"]))),z={type:"number",range:[0,1],value0:0,step:.01,isRanged:!1,label:"Opacity",showInput:!0},G=P.default.div(r||(r=A()(["\n  width: 32px;\n  height: 18px;\n  border-radius: 1px;\n  background-color: ",";\n"])),(function(e){return Array.isArray(e.backgroundcolor)?"rgb(".concat(e.backgroundcolor.slice(0,3).join(","),")"):"transparent"})),H=P.default.div(o||(o=A()(["\n  ",";\n  height: ",";\n\n  .color-selector__selector__label {\n    text-transform: capitalize;\n    font-size: 12px;\n    text-align: center;\n    color: ",";\n  }\n"])),(function(e){return"secondary"===e.inputTheme?e.theme.secondaryInput:e.theme.input}),(function(e){return e.theme.inputBoxHeight}),(function(e){return e.theme.inputPlaceholderColor})),q=P.default.div(i||(i=A()(["\n  display: flex;\n  justify-content: space-between;\n\n  .color-select__input-group {\n    flex-grow: 1;\n  }\n  .color-select__input-group:nth-child(2) {\n    margin-left: 12px;\n  }\n"])));function W(e){var t=function(t){function n(){var e;g()(this,n);for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return e=U(this,n,[].concat(a)),x()(O()(e),"state",{showDropdown:!1}),x()(O()(e),"node",Object(w.createRef)()),x()(O()(e),"handleClickOutside",(function(t){e.props.colorUI&&Number.isInteger(e.props.colorUI.showSketcher)||e._closePanelDropdown()})),x()(O()(e),"_getEditing",(function(){return e.props.colorUI?e.props.colorUI.showDropdown:e.state.showDropdown})),x()(O()(e),"_closePanelDropdown",(function(){!1!==e._getEditing()&&(e.props.setColorUI?e.props.setColorUI({showDropdown:!1,showSketcher:!1}):e.setState({showDropdown:!1}))})),x()(O()(e),"_onSelectColor",(function(t,n){n.stopPropagation();var a=e._getEditing(),r="number"==typeof a&&e.props.colorSets[a];r&&e._setColor(r,t,r.selectedColor[3])})),x()(O()(e),"_onSelectOpacity",(function(t,n){n&&n.stopPropagation();var a=e._getEditing(),r="number"==typeof a&&e.props.colorSets[a];r&&e._setColor(r,r.selectedColor,Math.round(255*t[1]))})),x()(O()(e),"_setColor",(function(t,n,a){e.props.useOpacity&&Array.isArray(n)?t.setColor([].concat(p()(n.slice(0,3)),[a])):t.setColor(n)})),x()(O()(e),"_showDropdown",(function(t,n){t.stopPropagation(),t.preventDefault(),e.props.setColorUI?e.props.setColorUI({showDropdown:n}):e.setState({showDropdown:n})})),e}return _()(n,t),h()(n,[{key:"render",value:function(){var t=this,n=this.props,a=n.colorSets,r=n.useOpacity,o=n.disabled,i=n.inputTheme,l=n.colorUI,s=this._getEditing(),d="number"==typeof s&&a[s]&&"object"===u()(a[s]);return T.a.createElement("div",{className:"color-selector",ref:this.node},T.a.createElement(q,null,a.map((function(e,n){return T.a.createElement("div",{className:"color-select__input-group",key:n},T.a.createElement(H,{className:"color-selector__selector",active:s===n,disabled:o,inputTheme:i,onMouseDown:function(e){return t._showDropdown(e,n)}},e.isRange?T.a.createElement(I.a,{colors:e.selectedColor.colors}):T.a.createElement(G,{className:"color-selector__selector__block",backgroundcolor:e.selectedColor}),e.label?T.a.createElement("div",{className:"color-selector__selector__label"},e.label):null))}))),d?T.a.createElement(R.L,{className:"color-selector__dropdown"},a[s].isRange?T.a.createElement(F.d,{selectedColorRange:a[s].selectedColor,onSelectColorRange:this._onSelectColor,setColorPaletteUI:this.props.setColorUI,colorPaletteUI:l}):T.a.createElement(M.a,{selectedColor:Object(j.rgbToHex)(a[s].selectedColor),onSelectColor:this._onSelectColor}),r?T.a.createElement(V,null,T.a.createElement(R.q,null,T.a.createElement(L.a,{id:"color.opacity"})),T.a.createElement(e,c()({},z,{value1:a[s].selectedColor[3]/255,onChange:this._onSelectOpacity}))):null):null)}}]),n}(w.Component);return x()(t,"defaultProps",{colorSets:[]}),Object(N.default)(t)}W.deps=[B.a],t.c=W},19:function(e,t,n){"use strict";n.r(t),n.d(t,"messages",(function(){return w})),n.d(t,"LOCALE_CODES",(function(){return c})),n.d(t,"LOCALES",(function(){return l})),n.d(t,"FormattedMessage",(function(){return F}));var a=n(1),r=n.n(a);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l={en:"English",fi:"Suomi",pt:"Portugus",es:"Espaol",ca:"Catal",ja:"",cn:"",ru:""},c=Object.keys(l).reduce((function(e,t){return i(i({},e),{},r()({},t,t))}),{});function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var u={property:{weight:"weight",label:"label",fillColor:"fill color",color:"color",coverage:"coverage",strokeColor:"stroke color",radius:"radius",outline:"outline",stroke:"stroke",density:"density",height:"height",sum:"sum",pointCount:"Point Count"},placeholder:{search:"Search",selectField:"Select a field",yAxis:"Y Axis",selectType:"Select A Type",selectValue:"Select A Value",enterValue:"Enter a value",empty:"empty",selectLayer:"Select a layer"},misc:{by:"",valuesIn:"Values in",valueEquals:"Value equals",dataSource:"Data Source",brushRadius:"Brush Radius (km)",empty:" "},mapLayers:{title:"Map Layers",label:"Label",road:"Road",border:"Border",building:"Building",water:"Water",land:"Land","3dBuilding":"3d Building",background:"Background"},panel:{text:{label:"label",labelWithId:"Label {labelId}",fontSize:"Font size",fontColor:"Font color",backgroundColor:"Background color",textAnchor:"Text anchor",alignment:"Alignment",addMoreLabel:"Add More Label",outlineWidth:"Outline width",outlineColor:"Outline color"}},sidebar:{panels:{layer:"Layers",filter:"Filters",interaction:"Interactions",basemap:"Base map"},panelViewToggle:{list:"View List",byDataset:"View by Dataset"}},layer:{required:"Required*",radius:"Radius",color:"Color",fillColor:"Fill Color",outline:"Outline",weight:"Weight",propertyBasedOn:"{property} based on",coverage:"Coverage",stroke:"Stroke",strokeWidth:"Stroke Width",strokeColor:"Stroke Color",basic:"Basic",trailLength:"Trail Length",trailLengthDescription:"Number of seconds for a path to completely fade out",newLayer:"new layer",elevationByDescription:"When off, height is based on count of points",colorByDescription:"When off, color is based on count of points",aggregateBy:"Aggregate {field} by","3DModel":"3D Model","3DModelOptions":"3D Model Options",type:{point:"point",arc:"arc",line:"line",grid:"grid",hexbin:"hexbin",polygon:"polygon",geojson:"geojson",cluster:"cluster",icon:"icon",heatmap:"heatmap",hexagon:"hexagon",hexagonid:"H3",trip:"trip",s2:"S2","3d":"3D"},layerUpdateError:"An error occurred during layer update: {errorMessage}. Make sure the format of the input data is valid."},layerVisConfigs:{angle:"Angle",strokeWidth:"Stroke Width (Pixels)",strokeWidthRange:"Stroke Width Range",radius:"Radius",fixedRadius:"Fixed Radius to meter",fixedRadiusDescription:"Map radius to absolute radius in meters, e.g. 5 to 5 meters",radiusRange:"Radius Range",clusterRadius:"Cluster Radius in Pixels",radiusRangePixels:"Radius Range in pixels",opacity:"Opacity",coverage:"Coverage",outline:"Outline",colorRange:"Color range",stroke:"Stroke",strokeColor:"Stroke Color",strokeColorRange:"Stroke Color range",targetColor:"Target Color",colorAggregation:"Color Aggregation",heightAggregation:"Height Aggregation",resolutionRange:"Resolution range",sizeScale:"Size Scale",worldUnitSize:"World Unit Size",elevationScale:"Elevation Scale",enableElevationZoomFactor:"Use elevation zoom factor",enableElevationZoomFactorDescription:"Adjust height/elevation based on current zoom factor",enableHeightZoomFactor:"Use height zoom factor",heightScale:"Height Scale",coverageRange:"Coverage Range",highPrecisionRendering:"High Precision Rendering",highPrecisionRenderingDescription:"High precision will result in slower performance",height:"Height",heightDescription:"Click button at top right of the map to switch to 3d view",fill:"Fill",enablePolygonHeight:"Enable Polygon Height",showWireframe:"Show Wireframe",weightIntensity:"Weight Intensity",zoomScale:"Zoom Scale",heightRange:"Height Range",fixedHeight:"Fixed height",fixedHeightDescription:"Use height without modifications",heightMultiplier:"Height Multiplier",darkModeEnabled:"Dark base map"},layerManager:{addData:"Add Data",addLayer:"Add Layer",layerBlending:"Layer Blending",overlayBlending:"Overlay Blending"},mapManager:{mapStyle:"Map style",addMapStyle:"Add Map Style","3dBuildingColor":"3D Building Color",backgroundColor:"Background Color"},effectManager:{effects:"Effects",addEffect:"Add effect",pickDateTime:"Pick date/time",currentTime:"Current time",pickCurrrentTime:"Pick current time",date:"Date",time:"Time",timezone:"Timezone"},layerConfiguration:{defaultDescription:"Calculate {property} based on selected field",howTo:"How to"},filterManager:{addFilter:"Add Filter"},datasetTitle:{showDataTable:"Show data table",removeDataset:"Remove dataset"},datasetInfo:{rowCount:"{rowCount} rows"},tooltip:{hideLayer:"Hide layer",showLayer:"Show layer",hideFeature:"Hide feature",showFeature:"Show feature",hide:"hide",show:"show",removeLayer:"Remove layer",duplicateLayer:"Duplicate layer",zoomToLayer:"Zoom to layer",resetAfterError:"Try to enable the layer after an error",layerSettings:"Layer settings",closePanel:"Close current panel",switchToDualView:"Switch to dual map view",showLegend:"Show legend",disable3DMap:"Disable 3D Map",DrawOnMap:"Draw on map",selectLocale:"Select locale",hideLayerPanel:"Hide layer panel",showLayerPanel:"Show layer panel",moveToTop:"Move to top of data layers",selectBaseMapStyle:"Select base map style",removeBaseMapStyle:"Remove base map style",delete:"Delete",timePlayback:"Time Playback",cloudStorage:"Cloud Storage","3DMap":"3D Map",animationByWindow:"Moving Time Window",animationByIncremental:"Incremental Time Window",speed:"speed",play:"play",pause:"pause",reset:"reset",export:"export",showEffectPanel:"Show effect panel",hideEffectPanel:"Hide effect panel",removeEffect:"Remove effect",disableEffect:"Disable effect",effectSettings:"Effect settings"},toolbar:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({exportImage:"Export Image",exportData:"Export Data",exportMap:"Export Map",shareMapURL:"Share Map URL",saveMap:"Save Map",select:"Select",polygon:"Polygon",rectangle:"Rectangle",hide:"Hide",show:"Show"},l),editor:{filterLayer:"Filter Layers",copyGeometry:"Copy Geometry",noLayersToFilter:"No layers to filter"},modal:{title:{deleteDataset:"Delete Dataset",addDataToMap:"Add Data To Map",exportImage:"Export Image",exportData:"Export Data",exportMap:"Export Map",addCustomMapboxStyle:"Add Custom Map Style",saveMap:"Save Map",shareURL:"Share URL"},button:{delete:"Delete",download:"Download",export:"Export",addStyle:"Add Style",save:"Save",defaultCancel:"Cancel",defaultConfirm:"Confirm"},exportImage:{ratioTitle:"Ratio",ratioDescription:"Choose the ratio for various usages.",ratioOriginalScreen:"Original Screen",ratioCustom:"Custom",ratio4_3:"4:3",ratio16_9:"16:9",resolutionTitle:"Resolution",resolutionDescription:"High resolution is better for prints.",mapLegendTitle:"Map Legend",mapLegendAdd:"Add legend on map"},exportData:{datasetTitle:"Dataset",datasetSubtitle:"Choose the datasets you want to export",allDatasets:"All",dataTypeTitle:"Data Type",dataTypeSubtitle:"Choose the type of data you want to export",filterDataTitle:"Filter Data",filterDataSubtitle:"You can choose exporting original data or filtered data",filteredData:"Filtered data",unfilteredData:"Unfiltered Data",fileCount:"{fileCount} Files",rowCount:"{rowCount} Rows"},deleteData:{warning:"you are going to delete this dataset. It will affect {length} layers"},addStyle:{publishTitle:"2. If entered mapbox style url in step.1, publish your style at mapbox or provide access token. (Optional)",publishSubtitle1:"You can create your own map style at",publishSubtitle2:"and",publishSubtitle3:"publish",publishSubtitle4:"it.",publishSubtitle5:"To use private style, paste your",publishSubtitle6:"access token",publishSubtitle7:"here. *kepler.gl is a client-side application, data stays in your browser..",exampleToken:"e.g. pk.abcdefg.xxxxxx",pasteTitle:"1. Paste style url",pasteSubtitle0:"Style url can be a mapbox",pasteSubtitle1:"What is a",pasteSubtitle2:"style URL",pasteSubtitle3:"or a style.json using the",pasteSubtitle4:"Mapbox GL Style Spec",namingTitle:"3. Name your style"},shareMap:{title:"Share Map",shareUriTitle:"Share Map Url",shareUriSubtitle:"Generate a map url to share with others",cloudTitle:"Cloud storage",cloudSubtitle:"Login and upload map data to your personal cloud storage",shareDisclaimer:"kepler.gl will save your map data to your personal cloud storage, only people with the URL can access your map and data. You can edit/delete the data file in your cloud account anytime.",gotoPage:"Go to your Kepler.gl {currentProvider} page"},statusPanel:{mapUploading:"Map Uploading",error:"Error"},saveMap:{title:"Cloud storage",subtitle:"Login to save map to your personal cloud storage"},exportMap:{formatTitle:"Map format",formatSubtitle:"Choose the format to export your map to",html:{selection:"Export your map into an interactive html file.",tokenTitle:"Mapbox access token",tokenSubtitle:"Use your own Mapbox access token in the html (optional)",tokenPlaceholder:"Paste your Mapbox access token",tokenMisuseWarning:"* If you do not provide your own token, the map may fail to display at any time when we replace ours to avoid misuse. ",tokenDisclaimer:"You can change the Mapbox token later using the following instructions: ",tokenUpdate:"How to update an existing map token.",modeTitle:"Map Mode",modeSubtitle1:"Select the app mode. More ",modeSubtitle2:"info",modeDescription:"Allow users to {mode} the map",read:"read",edit:"edit"},json:{configTitle:"Map Config",configDisclaimer:"Map config will be included in the Json file. If you are using kepler.gl in your own app. You can copy this config and pass it to ",selection:"Export current map data and config into a single Json file. You can later open the same map by uploading this file to kepler.gl.",disclaimer:"* Map config is coupled with loaded datasets. dataId is used to bind layers, filters, and tooltips to a specific dataset. When passing this config to addDataToMap, make sure the dataset id matches the dataId/s in this config."}},loadingDialog:{loading:"Loading..."},loadData:{upload:"Load Files",storage:"Load from Storage"},tripInfo:{title:"How to enable trip animation",description1:"In order to animate the path, the geoJSON data needs to contain `LineString` in its feature geometry, and the coordinates in the LineString need to have 4 elements in the formats of",code:" [longitude, latitude, altitude, timestamp] ",description2:"with the last element being a timestamp. Valid timestamp formats include unix in seconds such as `1564184363` or in milliseconds such as `1564184363000`.",example:"Example:"},iconInfo:{title:"How to draw icons",description1:"In your csv, create a column, put the name of the icon you want to draw in it. You can leave the cell empty if you do not want the icon to show for some points. When the column is named",code:"icon",description2:" kepler.gl will automatically create a icon layer for you.",example:"Example:",icons:"Icons"},storageMapViewer:{lastModified:"Last modified {lastUpdated} ago",back:"Back"},overwriteMap:{title:"Saving map...",alreadyExists:"already exists in your {mapSaved}. Would you like to overwrite it?"},loadStorageMap:{back:"Back",goToPage:"Go to your Kepler.gl {displayName} page",storageMaps:"Storage / Maps",noSavedMaps:"No saved maps yet"}},header:{visibleLayers:"Visible layers",layerLegend:"Legend"},interactions:{tooltip:"Tooltip",brush:"Brush",coordinate:"Coordinates",geocoder:"Geocoder"},layerBlending:{title:"Layer Blending",additive:"additive",normal:"normal",subtractive:"subtractive"},overlayBlending:{title:"Map overlay blending",description:"Blend layers with the base map so that both are visible.",screen:"dark base map",normal:"normal",darken:"light base map"},columns:{title:"Columns",lat:"lat",lng:"lon",altitude:"altitude",icon:"icon",geojson:"geojson",token:"token",arc:{lat0:"source lat",lng0:"source lng",lat1:"target lat",lng1:"target lng"},line:{alt0:"source altitude",alt1:"target altitude"},grid:{worldUnitSize:"Grid Size (km)"},hexagon:{worldUnitSize:"Hexagon Radius (km)"},hex_id:"hex id"},color:{customPalette:"Custom Palette",steps:"steps",type:"type",reversed:"reversed",opacity:"Opacity"},scale:{colorScale:"Color Scale",sizeScale:"Size Scale",strokeScale:"Stroke Scale",strokeColorScale:"Stroke Color Scale",scale:"Scale"},fileUploader:{message:"Drag & Drop Your File(s) Here",chromeMessage:"*Chrome user: Limit file size to 250mb, if need to upload larger file, try Safari",disclaimer:"*kepler.gl is a client-side application with no server backend. Data lives only on your machine/browser. No information or map data is sent to any server.",configUploadMessage:"Upload {fileFormatNames} or saved map **Json**. Read more about [**supported file formats**]",browseFiles:"browse your files",uploading:"Uploading",fileNotSupported:"File {errorFiles} is not supported.",or:"or"},geocoder:{title:"Enter an address or coordinates, ex 37.79,-122.40"},fieldSelector:{clearAll:"Clear All",formatting:"Formatting"},compare:{modeLabel:"Comparison Mode",typeLabel:"Comparison Type",types:{absolute:"Absolute",relative:"Relative"}},mapPopover:{primary:"Primary"},density:"density","Bug Report":"Bug Report","User Guide":"User Guide",Save:"Save",Share:"Share"};function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var p={property:{weight:"painotus",label:"nimi",fillColor:"tyttvri",color:"vri",strokeColor:"viivan vri",radius:"sde",outline:"riviiva",stroke:"viiva",density:"tiheys",coverage:"kattavuus",sum:"summa",pointCount:"pisteiden lukumr"},placeholder:{search:"Etsi",selectField:"Valitse kentt",yAxis:"Y-akseli",selectType:"Valitse tyyppi",selectValue:"Valitse arvo",enterValue:"Anna arvo",empty:"tyhj"},misc:{by:"",valuesIn:"Arvot joukossa:",valueEquals:"Arvo on yhtsuuri kuin",dataSource:"Aineistolhde",brushRadius:"Harjan sde (km)",empty:" "},mapLayers:{title:"Kartan tasot",label:"Nimit",road:"Tiet",border:"Rajat",building:"Rakennukset",water:"Vesi",land:"Maa","3dBuilding":"3d-rakennukset",background:"Tausta"},panel:{text:{label:"Nimi",labelWithId:"Nimi {labelId}",fontSize:"Fontin koko",fontColor:"Fontin vri",textAnchor:"Tekstin ankkuri",alignment:"Sijoittelu",addMoreLabel:"Lis uusia nimiit"}},sidebar:{panels:{layer:"Tasot",filter:"Suodattimet",interaction:"Interaktiot",basemap:"Taustakartta"}},layer:{required:"Pakollinen*",radius:"Sde",weight:"Painotus",propertyBasedOn:"{property} perustuen arvoon",color:"Vri",fillColor:"Tytn vri",outline:"riviiva",coverage:"Kattavuus",stroke:"Viiva",strokeWidth:"Viivan paksuus",strokeColor:"Viivan vri",basic:"Perus",trailLength:"Jljen pituus",trailLengthDescription:"Jljen kesto sekunteina, ennenkuin se himmenee nkyvist",newLayer:"uusi taso",elevationByDescription:"Kun asetus on pois plt, korkeus perustuu pisteiden mrn",colorByDescription:"Kun asetus on pois plt, vri perustuu pisteiden mrn",aggregateBy:"Aggregoi kentt {field} by","3DModel":"3D-malli","3DModelOptions":"3D-mallin asetukset",type:{point:"piste",arc:"kaari",line:"viiva",grid:"ruudukko",hexbin:"hexbin",polygon:"polygoni",geojson:"geojson",cluster:"klusteri",icon:"kuva",heatmap:"lmpkartta",hexagon:"kuusikulmio",hexagonid:"H3",trip:"matka",s2:"S2","3d":"3D"},layerUpdateError:"Tason pivityksen aikana tapahtui virhe: {errorMessage}. Varmista, ett sytetietojen muoto on kelvollinen."},layerVisConfigs:{strokeWidth:"Viivan paksuus",strokeWidthRange:"Viivan paksuuden rajat",radius:"Sde",fixedRadius:"Vakiosde metrein",fixedRadiusDescription:"Kartan sde absoluuttiseksi steeksi metrein, esim. 5 -> 5 metriin",radiusRange:"Steen rajat",clusterRadius:"Klusterien sde pikselein",radiusRangePixels:"Steen rajat pikselein",opacity:"Lpinkyvyys",coverage:"Kattavuus",outline:"riviiva",colorRange:"Vrien rajat",stroke:"Viiva",strokeColor:"Viivan vri",strokeColorRange:"Viivan vrin rajat",targetColor:"Kohteen vri",colorAggregation:"Vrien aggregointi",heightAggregation:"Korkeuden aggregointi",resolutionRange:"Resoluution rajat",sizeScale:"Koon skaala",worldUnitSize:"Yksikk",elevationScale:"Korottamisen skaala",enableElevationZoomFactor:"Kyt korkeuden zoomauskerrointa",enableElevationZoomFactorDescription:"Sd korkeus / korkeus nykyisen zoomauskertoimen perusteella",enableHeightZoomFactor:"Kyt korkeuden zoomauskerrointa",heightScale:"Korkeuden skaala",coverageRange:"Peittvyyden rajat",highPrecisionRendering:"Tarkka renderinti",highPrecisionRenderingDescription:"Tarkka renderinti johtaa hitaampaan suorittamiseen",height:"Korkeus",heightDescription:"Klikkaa oikeasta ylnurkasta nappia vaihtaaksesi 3D-nkymn",fill:"Tytt",enablePolygonHeight:"Salli polygonien korkeus",showWireframe:"Nyt rautalankamalli",weightIntensity:"Painotuksen intensiteetti",zoomScale:"Zoomausskaala",heightRange:"Korkeuden rajat",fixedHeight:"Kiinte korkeus",fixedHeightDescription:"Kyt korkeutta ilman muutoksia",heightMultiplier:"Korkeuskerroin"},layerManager:{addData:"Lis aineisto",addLayer:"Lis taso",layerBlending:"Tasojen sekoittuvuus"},mapManager:{mapStyle:"Kartan tyyli",addMapStyle:"Lis tyyli kartalle","3dBuildingColor":"3D-rakennusten vri",backgroundColor:"Taustavri"},layerConfiguration:{defaultDescription:"Laske suureen {property} arvo valitun kentn perusteella",howTo:"Miten toimii"},filterManager:{addFilter:"Lis suodatin"},datasetTitle:{showDataTable:"Nyt attribuuttitaulu",removeDataset:"Poista aineisto"},datasetInfo:{rowCount:"{rowCount} rivi"},tooltip:{hideLayer:"Piilota taso",showLayer:"Nyt taso",hideFeature:"Piilota kohde",showFeature:"Nyt kohde",hide:"piilota",show:"nyt",removeLayer:"Poista taso",resetAfterError:"Yrit ottaa taso kyttn virheen jlkeen",layerSettings:"Tason asetukset",closePanel:"Sulje paneeli",switchToDualView:"Vaihda kaksoiskarrtankymn",showLegend:"Nyt selite",disable3DMap:"Poistu 3D-nkymst",DrawOnMap:"Piirr kartalle",selectLocale:"Valitse kielisyys",hideLayerPanel:"Piilota tasopaneeli",showLayerPanel:"Nyt tasopaneeli",moveToTop:"Siirr tasojen pllimmiseksi",selectBaseMapStyle:"Valitse taustakarttatyyli",delete:"Poista",timePlayback:"Ajan animointi",cloudStorage:"Pilvitallennus","3DMap":"3D-nkym"},toolbar:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({exportImage:"Vie kuva",exportData:"Vie aineistot",exportMap:"Vie kartta",shareMapURL:"Jaa kartan URL",saveMap:"Tallenna kartta",select:"valitse",polygon:"polygoni",rectangle:"nelikulmio",hide:"piilota",show:"nyt"},l),modal:{title:{deleteDataset:"Poista aineisto",addDataToMap:"Lis aineistoja kartalle",exportImage:"Vie kuva",exportData:"Vie aineistot",exportMap:"Vie kartta",addCustomMapboxStyle:"Lis oma Mapbox-tyyli",saveMap:"Tallenna kartta",shareURL:"Jaa URL"},button:{delete:"Poista",download:"Lataa",export:"Vie",addStyle:"Lis tyyli",save:"Tallenna",defaultCancel:"Peru",defaultConfirm:"Vahvista"},exportImage:{ratioTitle:"Kuvasuhde",ratioDescription:"Valitse sopiva kuvasuhde kytttapaustasi varten.",ratioOriginalScreen:"Alkuperinen nytt",ratioCustom:"Kustomoitu",ratio4_3:"4:3",ratio16_9:"16:9",resolutionTitle:"Resoluutio",resolutionDescription:"Korkea resoluutio on parempi tulostamista varten.",mapLegendTitle:"Kartan selite",mapLegendAdd:"Lis selite karttaan"},exportData:{datasetTitle:"Aineistot",datasetSubtitle:"Valitse aineisto, jonka aiot vied",allDatasets:"Kaikki",dataTypeTitle:"Aineistojen formaatti",dataTypeSubtitle:"Valitse aineistoformaatti valitsemillesi aineistoille",filterDataTitle:"Suodata aineistoja",filterDataSubtitle:"Voit vied joko alkuperiset aineistot tai suodatetut aineistot",filteredData:"Suodatetut aineistot",unfilteredData:"Suodattamattomat aineistot",fileCount:"{fileCount} tiedostoa",rowCount:"{rowCount} rivi"},deleteData:{warning:"aiot poistaa tmn aineiston. Aineostoa kyttvien tasojen lukumr: {length}"},addStyle:{publishTitle:"1. Julkaise tyylisi Mapboxissa tai anna tunniste",publishSubtitle1:"Voit luoda oman karttatyylisi sivulla",publishSubtitle2:"ja",publishSubtitle3:"julkaista",publishSubtitle4:"sen.",publishSubtitle5:"Kyttksesi yksityist tyyli, liit",publishSubtitle6:"tunnisteesi",publishSubtitle7:"tnne. *kepler.gl on client-side sovellus, data pysyy vain selaimessasi...",exampleToken:"esim. pk.abcdefg.xxxxxx",pasteTitle:"2. Liit tyyli-URL",pasteSubtitle1:"Mik on",pasteSubtitle2:"tyyli-URL?",namingTitle:"3. Nime tyylisi"},shareMap:{shareUriTitle:"Jaa kartan URL",shareUriSubtitle:"Luo kartalle URL, jonka voit jakaa muiden kanssa",cloudTitle:"Pilvitallennus",cloudSubtitle:"Kirjaudu sisn ja lataa kartta ja aineistot henkilkohtaiseen pilvipalveluun",shareDisclaimer:"kepler.gl tallentaa kartan datan henkilkohtaiseen pilvitallennustilaasi, vain ihmiset, joilla on URL, voivat pst ksiksi karttaan ja aineistoihin. Voit muokata tiedostoja tai poistaa ne pilvipalvelustasi milloin vain.",gotoPage:"Mene Kepler.gl {currentProvider} sivullesi"},statusPanel:{mapUploading:"Karttaa ladataan",error:"Virhe"},saveMap:{title:"Pilvitallennus",subtitle:"Kirjaudu sisn pilvipalveluusi tallentaaksesi kartan"},exportMap:{formatTitle:"Kartan formaatti",formatSubtitle:"Valitse formaatti, jossa viet kartan",html:{selection:"Vie kartta interaktiivisena html-tiedostona",tokenTitle:"Mapbox-tunniste",tokenSubtitle:"Kyt omaa Mapbox-tunnistettasi html-tiedostossa (valinnainen)",tokenPlaceholder:"Liit Mapbox-tunnisteesi",tokenMisuseWarning:"* Jos et kyt omaa tunnistettasi, kartta voi lakata toimimasta milloin vain kun vaihdamme omaa tunnistettamme vrinkytn estmiseksi. ",tokenDisclaimer:"Voit vaihtaa Mapbox-tunnisteesi niden ohjeiden avulla: ",tokenUpdate:"Kuinka vaihtaa olemassaoleva Mapbox-tunniste",modeTitle:"Kartan tila",modeSubtitle1:"Valitse kartan tila.",modeSubtitle2:"Listietoja",modeDescription:"Anna kyttjien {mode} karttaa",read:"lukea",edit:"muokata"},json:{configTitle:"Kartan asetukset",configDisclaimer:"Kartan asetukset sisltyvt Json-tiedostoon. Jos kytt kirjastoa kepler.gl omassa sovelluksessasi. Voit kopioida asetukset ja antaa ne funktiolle: ",selection:"Vie kyseisen kartan aineistot ja asetukset yhdess json-tiedostossa. Voit myhemmin avata saman kartan lataamalla tiedoston kepler.gl:n",disclaimer:"* Kartan asetukset ovat sidoksissa ladattuihin aineistoihin. Arvoa dataId kytetn tasojen, suodattimien ja vihjeiden liittmiseksi tiettyyn aineistoon. Varmista, ett aineiston dataId:t vastaavat asetusten arvoja jos lataat asetukset kytten `addDataToMap`-funktiolle."}},loadingDialog:{loading:"Ladataan..."},loadData:{upload:"Lataa tiedostot",storage:"Lataa tallennustilasta"},tripInfo:{title:"Kuinka kytt matka-animaatiota",description1:"Reitin animoimiseksi geoJSON-aineiston tytyy olla geometriatyypiltn `LineString`, LineString-koordinaattien tytyy sislt 4 elementti formaatissa:",code:" [pituusaste, leveysaste, korkeus, aikaleima] ",description2:"siten, ett viimeinen elementti on aikaleima. Aikaleima voi olla muodoltaan unix-sekunteja, kuten `1564184363` tai millisekunteja, kuten `1564184363000`.",example:"Esimerkki:"},iconInfo:{title:"Miten piirt kuvia",description1:"csv-tiedostossasi, luo sarake nimelt icon. Voit jtt sen tyhjksi jos et halua piirt kuvaa joillain pisteill. Kun sarakkeen nimi on ",code:"icon",description2:" kepler.gl luo automaattisesti kuvatason sinua varten.",example:"Esimerkki:",icons:"Kuvat"},storageMapViewer:{lastModified:"Viimeksi muokattu {lastUpdated} sitten",back:"Takaisin"},overwriteMap:{title:"Tallennetaan karttaa...",alreadyExists:"on jo {mapSaved}:ssa. Haluatko ylikirjoittaa sen?"},loadStorageMap:{back:"Takaisin",goToPage:"Mene Kepler.gl {displayName} sivullesi",storageMaps:"Tallennus / Kartat",noSavedMaps:"Ei tallennettuja karttoja viel"}},header:{visibleLayers:"Nkyviss olevat tasot",layerLegend:"Tason selite"},interactions:{tooltip:"Vihje",brush:"Harja",coordinate:"Koordinaatit"},layerBlending:{title:"Tasojen sekoittuvuus",additive:"lisv",normal:"normaali",subtractive:"vhentv"},columns:{title:"Sarakkeet",lat:"lat",lng:"lng",altitude:"korkeus",icon:"kuva",geojson:"geojson",arc:{lat0:"lhdn lat",lng0:"lhdn lng",lat1:"kohteen lat",lng1:"kohteen lng"},line:{alt0:"lhteen korkeus",alt1:"kohde korkeus"},grid:{worldUnitSize:"Ruutujen koko (km)"},hexagon:{worldUnitSize:"Hexagonien sde (km)"}},color:{customPalette:"Mukautettu paletti",steps:"askeleet",type:"tyyppi",reversed:"knteinen"},scale:{colorScale:"Vrin skaala",sizeScale:"Koon skaala",strokeScale:"Viivan paksuuden skaala",scale:"Skaala"},fileUploader:{message:"Raahaa ja pudota tiedostosi tnne",chromeMessage:"*Chromen kyttj: Rajoita tiedostokokosi 250Mb:hen. Jos haluat suurempia tiedostoja, kokeile Safaria",disclaimer:"*kepler.gl on client-side sovellus, data pysyy vain selaimessasi...Tietoja ei lhetet palvelimelle.",configUploadMessage:"Lis {fileFormatNames} tai tallennettu kartta **Json**. Lue lis [**tuetuista formaateista**]",browseFiles:"selaa tiedostojasi",uploading:"ladataan",fileNotSupported:"Tiedosto {errorFiles} ei ole tuettu.",or:"tai"},density:"tiheys","Bug Report":"Bugiraportointi","User Guide":"Opas",Save:"Tallenna",Share:"Jaa"};function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var g={property:{weight:"Espessura do texto",label:"Rtulo",fillColor:"Cor do preenchimento",color:"Cor",strokeColor:"Cor da borda",radius:"Raio",outline:"Contorno",stroke:"Traado",density:"Densidade",height:"Altura",sum:"Soma",pointCount:"Contagem de Pontos"},placeholder:{search:"Pesquisar",selectField:"Selecione um campo",yAxis:"Eixo Y",selectType:"Selecione um Tipo",selectValue:"Selecione um valor",enterValue:"Insira um valor",empty:"Vazio"},misc:{by:"",valuesIn:"Valores em",valueEquals:"Valor igual a",dataSource:"Origem dos dados",brushRadius:"Raio do Trao (km)",empty:" "},mapLayers:{title:"Camadas do mapa",label:"Rtulo",road:"Estrada",border:"Fronteira",building:"Edifcios",water:"gua",land:"Terra","3dBuilding":"Edifcios em 3d",background:"Fundo"},panel:{text:{label:"Rtulo",labelWithId:"Rtulo {labelId}",fontSize:"Tamanho da fonte",fontColor:"Cor da fonte",textAnchor:"ncora do texto",alignment:"Alinhamento",addMoreLabel:"Adicionar mais Rtulos"}},sidebar:{panels:{layer:"Camadas",filter:"Filtros",interaction:"Interaes",basemap:"Mapa base"}},layer:{required:"Obrigatrio*",radius:"Raio",color:"Cor",fillColor:"Cor de preenchimento",outline:"Contorno",weight:"Espessura",propertyBasedOn:"{property} baseada em",coverage:"Cobertura",stroke:"Trao",strokeWidth:"Largura do Traado",strokeColor:"Cor do Traado",basic:"Bsico",trailLength:"Comprimento da trilha",trailLengthDescription:"Nmero de segundos para um caminho completamente desaparecer",newLayer:"nova camada",elevationByDescription:"Quando desligado, a altura  baseada na contagem de pontos",colorByDescription:"Quando desligado, a cor  baseada na contagem de pontos",aggregateBy:"{field} agregado por","3DModel":"Modelo 3D","3DModelOptions":"Opes do Modelo 3D",type:{point:"ponto",arc:"arco",line:"linha",grid:"grade",hexbin:"hexgono",polygon:"polgono",geojson:"geojson",cluster:"grupo",icon:"icon",heatmap:"mapa de calor",hexagon:"hexgono",hexagonid:"H3",trip:"viagem",s2:"S2","3d":"3D"},layerUpdateError:"Ocorreu um erro ao atualizar a camada: {errorMessage}. Certifique-se de que o formato dos dados de entrada seja vlido."},layerVisConfigs:{strokeWidth:"Largura do Trao",strokeWidthRange:"Alcance da Largura do Trao",radius:"Raio",fixedRadius:"Raio ajustado para metro",fixedRadiusDescription:"Raio do Mapa para Raio absoluto em metros, e.g. 5 para 5 metros",radiusRange:"Alcance do Raio",clusterRadius:"Raio do Agrupamento em pixels",radiusRangePixels:"Alcance do Raio em pixels",opacity:"Opacidade",coverage:"Cobertura",outline:"Contorno",colorRange:"Alcance da Cor",stroke:"Traado",strokeColor:"Cor do Traado",strokeColorRange:"Alcance da Cor do Traado",targetColor:"Cor de destino",colorAggregation:"Agregao da Cor",heightAggregation:"Agregao da Altura",resolutionRange:"Alcance da Resoluo",sizeScale:"Escala de tamanho",worldUnitSize:"Tamanho unitrio do mundo",elevationScale:"Escala de Elevao",enableElevationZoomFactor:"Use fator de zoom de elevao",enableElevationZoomFactorDescription:"Ajuste a altura / elevao com base no fator de zoom atual",enableHeightZoomFactor:"Usar fator de zoom de altura",heightScale:"Escala de Altura",coverageRange:"Alcance de cobertura",highPrecisionRendering:"Renderizao de Alta Preciso",highPrecisionRenderingDescription:"Alta preciso ir em resultar em baixa performance",height:"Altura",heightDescription:"Clique no boto no canto superior direito para trocar para a visualizao 3d",fill:"Preenchimento",enablePolygonHeight:"Habilitar Altura de Polgono",showWireframe:"Mostrar Wireframe",weightIntensity:"Intensidade da Espessura",zoomScale:"Escala do Zoom",heightRange:"Alcance da Altura",fixedHeight:"Altura fixa",fixedHeightDescription:"Use a altura sem modificaes",heightMultiplier:"Multiplicador de altura"},layerManager:{addData:"Adicionar Dados",addLayer:"Adicionar Camada",layerBlending:"Mistura de Camada"},mapManager:{mapStyle:"Estilo do Mapa",addMapStyle:"Adicionar Estilo de Mapa","3dBuildingColor":"Cor do Edifcio 3D",backgroundColor:"Cor de Fundo"},layerConfiguration:{defaultDescription:"Calcular {property} baseada no campo selecionado",howTo:"Como"},filterManager:{addFilter:"Adicionar Filtro"},datasetTitle:{showDataTable:"Mostrar tabela de dados",removeDataset:"Remover tabela de dados"},datasetInfo:{rowCount:"{rowCount} linhas"},tooltip:{hideLayer:"esconder camada",showLayer:"mostrar camada",hideFeature:"Esconder propriedade",showFeature:"Mostrar propriedade",hide:"esconder",show:"mostrar",removeLayer:"Remover Camada",resetAfterError:"Tente habilitar a camada aps um erro",layerSettings:"Configuraes de Camada",closePanel:"Fechar painel atual",switchToDualView:"Trocar para visualizao dupla de mapa",showLegend:"mostrar legenda",disable3DMap:"Desabilitar Mapa 3D",DrawOnMap:"Desenhar no mapa",selectLocale:"Selecionar lngua",hideLayerPanel:"Esconder painel de camada",showLayerPanel:"Mostrar painel de camada",moveToTop:"Mover para o topo das camadas",selectBaseMapStyle:"Selecionar o Estilo do Mapa Base",delete:"Deletar",timePlayback:"Tempo de reproduo",cloudStorage:"Armazenamento Cloud","3DMap":" Mapa 3D"},toolbar:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({exportImage:"Exportar Imagem",exportData:"Exportar Dados",exportMap:"Exportar Mapa",shareMapURL:"Compartilhar URL do Mapa",saveMap:"Salvar Mapa",select:"selecionar",polygon:"polgono",rectangle:"retngulo",hide:"esconder",show:"mostrar"},l),modal:{title:{deleteDataset:"Deletar Conjunto de Dados",addDataToMap:"Adicionar Dados ao Mapa",exportImage:"Exportar Imagem",exportData:"Exportar Dados",exportMap:"Exportar Mapa",addCustomMapboxStyle:"Adicionar Estilo Mapbox Customizado",saveMap:"Salvar Mapa",shareURL:"Compartilhar URL"},button:{delete:"Deletar",download:"Download",export:"Exportar",addStyle:"Adicionar Estilo",save:"Salvar",defaultCancel:"Cancelar",defaultConfirm:"Confirmar"},exportImage:{ratioTitle:"Proporo",ratioDescription:"Escolha a proporo para vrios usos.",ratioOriginalScreen:"Tela Original",ratioCustom:"Customizado",ratio4_3:"4:3",ratio16_9:"16:9",resolutionTitle:"Resoluo",resolutionDescription:"Alta resoluo  melhor para impresses.",mapLegendTitle:"Legenda do Mapa",mapLegendAdd:"Adicionar Legenda no mapa"},exportData:{datasetTitle:"Conjunto de dados",datasetSubtitle:"Escolha o conjunto de dados que voc quer exportar",allDatasets:"Todos",dataTypeTitle:"Tipo de Dado",dataTypeSubtitle:"Escolha o tipo de dados que voc quer exportar",filterDataTitle:"Filtrar Dados",filterDataSubtitle:"Voc pode escolher exportar os dados originais ou os dados filtrados",filteredData:"Dados Filtrados",unfilteredData:"Dados no filtrados",fileCount:"{fileCount} Arquivos",rowCount:"{rowCount} Linhas"},deleteData:{warning:"voc ir deletar esse conjunto de dados. Isso ir afetar {length} camadas"},addStyle:{publishTitle:"1. Publique o seu Estilo no Mapbox ou providencie a chave de acesso",publishSubtitle1:"Voc pode criar o seu prprio estilo em",publishSubtitle2:"e",publishSubtitle3:"publicar",publishSubtitle4:"isso.",publishSubtitle5:"Para utilizar estilo privado, cole a sua",publishSubtitle6:"chave de acesso",publishSubtitle7:"aqui. *kepler.gl  uma aplicao client-side, os dados permanecem no seu browser..",exampleToken:"e.g. pk.abcdefg.xxxxxx",pasteTitle:"2. Cole a url do seu estilo",pasteSubtitle1:"O que  uma",pasteSubtitle2:"URL de estilo",namingTitle:"3. Nomeie o seu estilo"},shareMap:{shareUriTitle:"Compartilhar a URL do Mapa",shareUriSubtitle:"Gerar a url do mapa e compartilhar com outros",cloudTitle:"Armazenamento Cloud",cloudSubtitle:"Conecte-se e envie os dados do mapa para o seu armazenamento cloud pessoal",shareDisclaimer:"kepler.gl ir salvar os dados do mapa em seu armazenamento cloud pessoal, apenas pessoas com a URL podem acessar o seu mapa e dados. Voc pode editar/deletar o arquivo de dados na sua conta de armazenamento cloud em qualquer momento.",gotoPage:"V para a sua pgina Kepler.gl {currentProvider}"},statusPanel:{mapUploading:"Enviando Mapa",error:"Erro"},saveMap:{title:"Armazenamento Cloud",subtitle:"Conecte-se para salvar o mapa para o seu armazenamento cloud pessoal"},exportMap:{formatTitle:"Formato do mapa",formatSubtitle:"Escolher o formato de mapa para exportar",html:{selection:"Exportar seu mapa em um arquivo html interativo.",tokenTitle:"Chave de acesso do Mapbox",tokenSubtitle:"Use a sua prpria chave de acesso Mapbox em seu arquivo html (opcional)",tokenPlaceholder:"Cole a sua chave de acesso Mapbox",tokenMisuseWarning:"* Se voc no fornecer a sua prpria chave de acesso, o mapa pode falhar em exibir a qualquer momento quando ns substituirmos a nossa para evitar mau uso. ",tokenDisclaimer:"Voc pode trocar a sua chave de acesso Mapbox mais tarde utizando as instrues seguintes: ",tokenUpdate:"Como atualizar a chave de acesso de um mapa existente.",modeTitle:"Modo do Mapa",modeSubtitle1:"Selecionar o modo do aplicativo. Mais ",modeSubtitle2:"info",modeDescription:"Permitir usurios a {mode} o mapa",read:"ler",edit:"editar"},json:{configTitle:"Configuraes do Mapa",configDisclaimer:"A configurao do mapa ser incluida no arquivo Json. Se voc est utilizando kepler.gl no seu prprio mapa. Voc pode copiar essa configurao e passar para ele ",selection:"Exportar atuais dados e configuraes do mapa em um nico arquivo Json. Voc pode mais tarde abrir o mesmo mapa enviando esse arquivo para o kepler.gl.",disclaimer:"* Configurao do mapa  aclopado com conjunto de dados carregados. dataId  utilizado para ligar as camadas, filtros, e dicas de contextos a conjunto de dados expecficos. Quando passando essa configurao para addDataToMap, tenha certeza de que o id do conjunto de dados combina com o(s) dataId/s nessa configurao."}},loadingDialog:{loading:"Carregando..."},loadData:{upload:"Carregar arquivo",storage:"Carregar do armazenamento"},tripInfo:{title:"Como habilitar animao de viagem",description1:"Para animar o caminho, o dado geoJSON deve conter `LineString` na sua propriedade geometry, e as coordenadas na LineString devem ter 4 elementos no seguinte formato",code:" [longitude, latitude, altitude, data] ",description2:"com um ultimo elemento sendo uma data. Um formato de data vlida inclui segundos unix como `1564184363` ou em milisegundos como `1564184363000`.",example:"Exemplo:"},iconInfo:{title:"Como desenhar cones",description1:"No seu csv, crie uma coluna, coloque o nome do cone que voc quer desenhar nele. Voc pode deixar o campo vazio se voc no desejar que o cone aparea para alguns pontos. Quando a coluna tem nome",code:"icon",description2:" kepler.gl ir automaticamente criar uma camada de cone para voc.",example:"Exemplos:",icons:"cones"},storageMapViewer:{lastModified:"Modificado h {lastUpdated}",back:"Voltar"},overwriteMap:{title:"Salvando mapa...",alreadyExists:"j existe no mapa {mapSaved}. Voc desejaria sobrescrever o mapa?"},loadStorageMap:{back:"Voltar",goToPage:"V para a sua pgina {displayName} do Kepler.gl",storageMaps:"Armazenamento / Mapas",noSavedMaps:"Nenhum mapa salvo"}},header:{visibleLayers:"Camadas Visveis",layerLegend:"Legenda da Camada"},interactions:{tooltip:"Dica de contexto",brush:"Pincel",coordinate:"Coordenadas"},layerBlending:{title:"Mistura de Camadas",additive:"aditivo",normal:"normal",subtractive:"subtrativo"},columns:{title:"Colunas",lat:"lat",lng:"lon",altitude:"altitude",icon:"cone",geojson:"geojson",arc:{lat0:"origem lat",lng0:"origem lng",lat1:"destino lat",lng1:"destino lng"},line:{alt0:"origem altitude",alt1:"destino altitude"},grid:{worldUnitSize:"Tamanho da Grade (km)"},hexagon:{worldUnitSize:"Raio do Hexgono (km)"}},color:{customPalette:"Paletas customizadas",steps:"caminhos",type:"tipo",reversed:"reverso"},scale:{colorScale:"Escala da Cor",sizeScale:"Tamanho da Escala",strokeScale:"Escala do Trao",scale:"Escala"},fileUploader:{message:"Arraste e solte seu(s) arquivo(s) aqui",chromeMessage:"*Usurios do chrome: O limite de tamanho de arquivo  250mb, se voc precisa fazer upload de arquivos maiores tente o Safari",disclaimer:"*kepler.gl  uma aplicao client-side, sem um servidor backend. Os dados ficam apenas na sua mquina/browser. Nenhuma informao ou dados de mapa  enviado para qualquer server.",configUploadMessage:"Envie {fileFormatNames} ou mapas salvos **Json**. Leia mais sobre [**tipos de arquivos suportados**]",browseFiles:"procure seus arquivos",uploading:"Enviando",fileNotSupported:"Arquivo {errorFiles} no  suportado.",or:"ou"},density:"densidade","Bug Report":"Reportar Bug","User Guide":"Guia do Usurio",Save:"Salvar",Share:"Compartilhar"};function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var h={property:{weight:"peso",label:"etiqueta",fillColor:"color de relleno",color:"color",coverage:"cobertura",strokeColor:"color de trazo",radius:"radio",outline:"contorno",stroke:"trazo",density:"densidad",height:"altura",sum:"suma",pointCount:"Recuento de puntos"},placeholder:{search:"Busqueda",selectField:"Selecciona un campo",yAxis:"Eje Y",selectType:"Selecciona un Tipo",selectValue:"Selecciona un Valor",enterValue:"Entra un valor",empty:"vacio"},misc:{by:"",valuesIn:"Valores en",valueEquals:"Valor igual a",dataSource:"Fuente de datos",brushRadius:"Radio del pincel (km)",empty:" "},mapLayers:{title:"Capas del mapa",label:"Etiqueta",road:"Carretera",border:"Frontera",building:"Edificio",water:"Agua",land:"Tierra","3dBuilding":"Edificio 3D",background:"Fondo"},panel:{text:{label:"etiqueta",labelWithId:"Etiqueta {labelId}",fontSize:"Tamao de fuente",fontColor:"Color de fuente",textAnchor:"Anclaje del texto",alignment:"Alineacin",addMoreLabel:"Aadir ms etiquetas"}},sidebar:{panels:{layer:"Capas",filter:"Filtros",interaction:"Interacciones",basemap:"Mapa base"}},layer:{required:"Requerido*",radius:"Radio",color:"Color",fillColor:"Color de relleno",outline:"Contorno",weight:"Grueso",propertyBasedOn:"{property} basado en",coverage:"Cobertura",stroke:"Trazo",strokeWidth:"Grosor de trazo",strokeColor:"Color de trazo",basic:"Bsico",trailLength:"Longitud de pista",trailLengthDescription:"Numero de segundos hasta que desaparezca el camino",newLayer:"nueva capa",elevationByDescription:"Si desactivado, la altura se basa en el recuento de puntos",colorByDescription:"Si desactivado, el color se basa en el recuento de puntos",aggregateBy:"{field} agregado por","3DModel":"Modelo 3D","3DModelOptions":"Opciones del modelo 3D",type:{point:"punto",arc:"arco",line:"lnea",grid:"malla",hexbin:"hexbin",polygon:"polgono",geojson:"geojson",cluster:"cluster",icon:"icono",heatmap:"concentracin",hexagon:"hexgono",hexagonid:"H3",trip:"viaje",s2:"S2","3d":"3D"},layerUpdateError:"Se produjo un error durante la actualizacin de la capa: {errorMessage}. Asegrese de que el formato de los datos de entrada sea vlido."},layerVisConfigs:{angle:"ngulo",strokeWidth:"Ancho del trazo",strokeWidthRange:"Rango del ancho del trazo",radius:"Radio",fixedRadius:"Radio fijo a medir",fixedRadiusDescription:"Ajustar el radio al radio absoluto en metros, p.e. 5 a 5 metros",radiusRange:"Rango de radio",clusterRadius:"Radio del cluster en pxeles",radiusRangePixels:"Rango del radio en pxeles",opacity:"Opacidad",coverage:"Cobertura",outline:"Contorno",colorRange:"Rango de color",stroke:"Trazo",strokeColor:"Color de trazo",strokeColorRange:"Rango de color de trazo",targetColor:"Color destino",colorAggregation:"Agregacin de color",heightAggregation:"Agregacin de la altura",resolutionRange:"Rango de resolucin",sizeScale:"Medida de escala",worldUnitSize:"Medida de la unidad mundial",elevationScale:"Escala de elevacin",enableElevationZoomFactor:"Usar factor de zoom de elevacin",enableElevationZoomFactorDescription:"Ajuste la altura / elevacin segn el factor de zoom actual",enableHeightZoomFactor:"Usar factor de zoom de altura",heightScale:"Escala de altura",coverageRange:"Rango de cobertura",highPrecisionRendering:"Representacin de alta precisin",highPrecisionRenderingDescription:"La precisin alta tendr un rendimiento ms bajo",height:"Altura",heightDescription:"Haz clic en el botn de arriba a la derecha del mapa per cambiar a vista 3D",fill:"Rellenar",enablePolygonHeight:"Activar la altura del polgono",showWireframe:"Muestra esquemtico",weightIntensity:"Intensidad de peso",zoomScale:"Escala de zoom",heightRange:"Rango de alturas",fixedHeight:"Altura fija",fixedHeightDescription:"Usar altura sin modificaciones",heightMultiplier:"Multiplicador de altura"},layerManager:{addData:"Aadir datos",addLayer:"Aadir capa",layerBlending:"Combinar capas"},mapManager:{mapStyle:"Estilo de mapa",addMapStyle:"Aadir estilo de mapa","3dBuildingColor":"Color edificios 3D",backgroundColor:"Color de fondo"},layerConfiguration:{defaultDescription:"Calcular {property} segn el campo seleccionado",howTo:"How to"},filterManager:{addFilter:"Aadir filtro"},datasetTitle:{showDataTable:"Mostar la tabla de datos",removeDataset:"Eliminar conjunto de datos"},datasetInfo:{rowCount:"{rowCount} files"},tooltip:{hideLayer:"Ocultar la capa",showLayer:"Mostrar la capa",hideFeature:"Ocultar el objeto",showFeature:"Mostrar el objeto",hide:"Ocultar",show:"Mostrar",removeLayer:"Eliminar capa",resetAfterError:"Intente habilitar la capa despus de un error",layerSettings:"Configuracin de capa",closePanel:"Cerrar el panel actual",switchToDualView:"Cambiar a la vista de mapa dual",showLegend:"Mostrar leyenda",disable3DMap:"Desactivar mapa 3D",DrawOnMap:"Dibujar en el mapa",selectLocale:"Seleccionar configuracin regional",hideLayerPanel:"Ocultar la tabla de capas",showLayerPanel:"Mostrar la tabla  de capas",moveToTop:"Desplazar arriba de las capas de datos",selectBaseMapStyle:"Seleccionar estilo de mapa base",delete:"Borrar",timePlayback:"Reproduccin de tiempo",cloudStorage:"Almacenaje en la nube","3DMap":"Mapa 3D",animationByWindow:"Ventana Temporal Mvil",animationByIncremental:"Ventana Temporal Incremental",speed:"velocidad",play:"iniciar",pause:"pausar",reset:"reiniciar"},toolbar:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({exportImage:"Exportar imagen",exportData:"Exportar datos",exportMap:"Exportar mapa",shareMapURL:"Compartir el enlace del mapa",saveMap:"Guardar mapa",select:"selecciona",polygon:"polgono",rectangle:"rectngulo",hide:"esconder",show:"mostrar"},l),modal:{title:{deleteDataset:"Borrar conjunto de datos",addDataToMap:"Aadir datos al mapa",exportImage:"Exportar imagen",exportData:"Exportar datos",exportMap:"Exportar mapa",addCustomMapboxStyle:"Aadir estilo de Mapbox propio",saveMap:"Guardar mapa",shareURL:"Compartir enlace"},button:{delete:"Borrar",download:"Descargar",export:"Exportar",addStyle:"Aadir estilo",save:"Guardar",defaultCancel:"Cancelar",defaultConfirm:"Confirmar"},exportImage:{ratioTitle:"Ratio",ratioDescription:"Esoger ratio por diversos usos.",ratioOriginalScreen:"Pantalla original",ratioCustom:"Personalizado",ratio4_3:"4:3",ratio16_9:"16:9",resolutionTitle:"Resolucin",resolutionDescription:"Una alta resolucin es mejor para las impresiones.",mapLegendTitle:"Leyenda del mapa",mapLegendAdd:"Aadir leyenda al mapa"},exportData:{datasetTitle:"Conjunto de datos",datasetSubtitle:"Escoger los conjuntos de datos a exportar",allDatasets:"Todos",dataTypeTitle:"Tipo de datos",dataTypeSubtitle:"Escoger el tipo de datos a exportar",filterDataTitle:"Filtrar datos",filterDataSubtitle:"Se puede escoger exportar los datos originales o filtrados",filteredData:"Datos filtrados",unfilteredData:"Datos sin filtrar",fileCount:"{fileCount} Archivos",rowCount:"{rowCount} Files"},deleteData:{warning:"ests a punto de borrar este conjunto de datos. Afectar a {length} capas"},addStyle:{publishTitle:"1. Publicar tu estilo en Mapbox o proporcionar el token de acceso",publishSubtitle1:"Puedes crear el tu propio estilo de mapa en",publishSubtitle2:"y",publishSubtitle3:"publicar",publishSubtitle4:"lo.",publishSubtitle5:"Para utilizar un estilo privado, engancha tu",publishSubtitle6:"token de acceso",publishSubtitle7:"aqu. *kepler.gl es una aplicacin cliente, los datos quedan en tu navegador..",exampleToken:"p.e. pk.abcdefg.xxxxxx",pasteTitle:"2. Engancha el enlace del estilo",pasteSubtitle1:"Qu es un",pasteSubtitle2:"enlace del estilo",namingTitle:"3. Poner nombre a tu estilo"},shareMap:{shareUriTitle:"Compartir el enlace del mapa",shareUriSubtitle:"Generar un enlace del mapa para compartir con otros",cloudTitle:"Almacenage en la nube",cloudSubtitle:"Acceder y cargar datos del mapa a tu almacenage a la nube personal",shareDisclaimer:"kepler.gl guardar los datos del mapa en el almacenage de tu nube personal, slo quien tenga el enlace podra acceder al mapa y a los datos . Puedes editar/borrar el archivo de datos en tu cuenta en la nube en cualquier momento.",gotoPage:"Ves a la pgina de {currentProvider} de Kepler.gl"},statusPanel:{mapUploading:"Cargar un mapa",error:"Error"},saveMap:{title:"Almacentage en la nube",subtitle:"Acceder para guardar el mapa en teu almacenage en la nube"},exportMap:{formatTitle:"Formato de mapa",formatSubtitle:"Escoger el formato al que se desea exportar el mapa",html:{selection:"Exportar tu mapa como un archivo HTML interactivo.",tokenTitle:"Token de acceso de Mapbox",tokenSubtitle:"Utilizar tu token de acceso a Mapbox al archivo HTML (opcional)",tokenPlaceholder:"Enganchar tu token de acceso a Mapbox",tokenMisuseWarning:"* Si no proporcionas tu propio token, el mapa podra fallar en cualquier momento cuando reemplacemos nuestro token para evitar abusos. ",tokenDisclaimer:"Puedes cambiar el token de Mapbox posteriormente utilizando estas instrucciones: ",tokenUpdate:"Como actualitzar un token preexistente.",modeTitle:"Modo mapa",modeSubtitle1:"Seleccionar modo app. Ms ",modeSubtitle2:"informacin",modeDescription:"Permmite a los usuarios {modo} el mapa",read:"leer",edit:"editar"},json:{configTitle:"Configuracin del mapa",configDisclaimer:"La configuracin del mapa ser incluida en el archivo Json. Si utilitzas kepler.gl en tu propia app puedes copiar esta configuracin y pasarla a  ",selection:"Exportar los datos del mapa y la configuracin en un solo archivo Json. Posteriormente puedes abrir este mismo mapa cargando este mismo archivo a kepler.gl.",disclaimer:"* La configuracin del mapa se combina con los conjuntos de datos cargados. dataId se utiliza para vincular capas, filtros y sugerencias a un conjunto de datos especfico. Cuando pases esta configuracin a addDataToMap, asegura que el identificador del conjunto de datos coincida con los dataId de esta configuracin."}},loadingDialog:{loading:"Cargando..."},loadData:{upload:"Cargar archivos",storage:"Cargar desde almacenage"},tripInfo:{title:"Como habilitar la animacin de viaje",description1:"Para animar la ruta, los datos geoJSON han de contener `LineString` en su geometra y las coordenadas de LineString deben tener 4 elementos en los formats de ",code:" [longitude, latitude, altitude, timestamp] ",description2:"y el ltimo elemento debe ser la marca del tiempo. Los formatos vlidos para la marca de tiempo incluyen Unix en segundos como `1564184363` o en milisegundos como `1564184363000`.",example:"Ejemplo:"},iconInfo:{title:"Como dibujar conos",description1:"En tu CSV crea una columna y pon el nombre del cono que quieres dibujar. Puedes dejar la celda vaca cuando no quieras que se muestre para ciertos puntos. Cuando la columna se llama",code:"cono",description2:" kepler.gl automticamente crear una capa de cono.",example:"Ejemplo:",icons:"Iconos"},storageMapViewer:{lastModified:"ltima modificacin hace {lastUpdated}",back:"Atrs"},overwriteMap:{title:"Guardando el mapa...",alreadyExists:"ja existe en {mapSaved}. Lo quieres sobreescrivir?"},loadStorageMap:{back:"Atrs",goToPage:"Ves a la pgina {displayName} de Kepler.gl",storageMaps:"Almancenage / Mapas",noSavedMaps:"No hay ningn mapa guardado todava"}},header:{visibleLayers:"Capas visibles",layerLegend:"Capa de leyenda"},interactions:{tooltip:"Sugerencias",brush:"Pincel",coordinate:"Coordenadas",geocoder:"Geocodificador"},layerBlending:{title:"Combinacin de capas",additive:"aditiva",normal:"normal",subtractive:"substractiva"},columns:{title:"Columnas",lat:"lat",lng:"lon",altitude:"altura",icon:"cono",geojson:"geojson",arc:{lat0:"lat origen",lng0:"lng origen ",lat1:"lat destino",lng1:"lng destino"},line:{alt0:"altura origen",alt1:"altura destino"},grid:{worldUnitSize:"Tamao de la malla (km)"},hexagon:{worldUnitSize:"Radio de hexgono (km)"},hex_id:"id hex"},color:{customPalette:"Paleta personalizada",steps:"pasos",type:"tipo",reversed:"invertida"},scale:{colorScale:"Escala de color",sizeScale:"Escala de medidas",strokeScale:"Escala de trazo",scale:"Escala"},fileUploader:{message:"Arrastra y suelta el archivo aqu",chromeMessage:"*usuario de Chrome: la medida mxima son 250mb, si debes cargar un archivo ms grande utiliza Safari",disclaimer:"*kepler.gl es una aplicacin al lado cliente que no utiliza ningn servidor. Los datos slo existen en tu mquina/navegador. No se envian datos ni mapas a ningn servidor.",configUploadMessage:"Cargar {fileFormatNames} o un mapa guardado en **Json**. Ms informacin sobre [**supported file formats**]",browseFiles:"navega por tus archivos",uploading:"Cargando",fileNotSupported:"El archivo {errorFiles} no es compatible.",or:"o"},geocoder:{title:"Introduce una direccin"},fieldSelector:{clearAll:"Quitar todos",formatting:"Formato"},compare:{modeLabel:"Modo Comparacin",typeLabel:"Tipo de Comparacin",types:{absolute:"Absoluta",relative:"Relativa"}},mapPopover:{primary:"Principal"},density:"densidad","Bug Report":"Informe de errores","User Guide":"Gua de usuario",Save:"Guadar",Share:"Compartir"};function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var v={property:{weight:"pes",label:"etiqueta",fillColor:"color fons",color:"color",coverage:"cobertura",strokeColor:"color de tra",radius:"radi",outline:"outline",stroke:"tra",density:"densitat",height:"alada",sum:"suma",pointCount:"Recompte de Punts"},placeholder:{search:"Cerca",selectField:"Selecciona un camp",yAxis:"Eix Y",selectType:"Selecciona un Tipus",selectValue:"Selecciona un Valor",enterValue:"Entra un valor",empty:"buit"},misc:{by:"",valuesIn:"Valors a",valueEquals:"Valor igual a",dataSource:"Font de dades",brushRadius:"Radi del pinzell (km)",empty:" "},mapLayers:{title:"Capes del mapa",label:"Etiqueta",road:"Carretera",border:"Frontera",building:"Edifici",water:"Aigua",land:"Terra","3dBuilding":"Edifici 3D",background:"Fons"},panel:{text:{label:"etiqueta",labelWithId:"Etiqueta {labelId}",fontSize:"Mida de la font",fontColor:"Color de la font",textAnchor:"ncora del text",alignment:"Alineaci",addMoreLabel:"Afegeix ms etiquetes"}},sidebar:{panels:{layer:"Capes",filter:"Filtres",interaction:"Interaccions",basemap:"Mapa base"}},layer:{required:"Requerit*",radius:"Radi",color:"Color",fillColor:"Color fons",outline:"Contorn",weight:"Gruix",propertyBasedOn:"{property} basada en",coverage:"Cobertura",stroke:"Tra",strokeWidth:"Amplada de tra",strokeColor:"Color de tra",basic:"Basic",trailLength:"Longitud de pista",trailLengthDescription:"Nombre de segons fins que desapareix el cam",newLayer:"nova capa",elevationByDescription:"Si desactivat, l'alada es basa en el recompte de punts",colorByDescription:"Si desactivat, el color es basa en el recompte de punts",aggregateBy:"{field} agregat per","3DModel":"Model 3D","3DModelOptions":"Opcions del model 3D",type:{point:"punt",arc:"arc",line:"lnia",grid:"malla",hexbin:"hexbin",polygon:"polgon",geojson:"geojson",cluster:"cluster",icon:"icona",heatmap:"heatmap",hexagon:"hexgon",hexagonid:"H3",trip:"viatge",s2:"S2","3d":"3D"},layerUpdateError:"S'ha produt un error durant l'actualitzaci de la capa: {errorMessage}. Assegureu-vos que el format de les dades dentrada sigui vlid."},layerVisConfigs:{angle:"Angle",strokeWidth:"Amplada tra",strokeWidthRange:"Rang amplada de tra",radius:"Radi",fixedRadius:"Radi fixe a mesurar",fixedRadiusDescription:"Ajusta el radi al radi absolut en metres, p.ex 5 a 5 metres",radiusRange:"Rang de radi",clusterRadius:"Radi Cluster en Pixels",radiusRangePixels:"Rang del radi en pixels",opacity:"Opacitat",coverage:"Cobertura",outline:"Outline",colorRange:"Rang de color",stroke:"Tra",strokeColor:"Color de tra",strokeColorRange:"Rang de color de tra",targetColor:"Color dest",colorAggregation:"Agregaci de color",heightAggregation:"Agregaci alada",resolutionRange:"Rang de resoluci",sizeScale:"Mida escala",worldUnitSize:"Mida de la unitat mundial",elevationScale:"Escala elevaci",enableElevationZoomFactor:"Utilitzeu el factor de zoom delevaci",enableElevationZoomFactorDescription:"'Ajusteu l'alada / elevaci en funci del factor de zoom actual",enableHeightZoomFactor:"Utilitzeu el factor de zoom dalada",heightScale:"Escala alada",coverageRange:"Rang ed cobertura",highPrecisionRendering:"Representaci alta precisi",highPrecisionRenderingDescription:"La precisi alta tindr rendiment ms baix",height:"Alada",heightDescription:"Fes clic al bot a dalt a la dreta del mapa per canviar a vista 3D",fill:"Omple",enablePolygonHeight:"Activa alada del polgon",showWireframe:"Mostra Wireframe",weightIntensity:"Intensitat de pes",zoomScale:"Escala de zoom",heightRange:"Rang alada",heightMultiplier:"Multiplicador d'alada",fixedHeight:"Alada fixa",fixedHeightDescription:"Utilitzeu l'alada sense modificacions"},layerManager:{addData:"Afegeix Dades",addLayer:"Afegeix Capes",layerBlending:"Combinar capes"},mapManager:{mapStyle:"Estil de mapa",addMapStyle:"Afegeix estils de mapa","3dBuildingColor":"Color edifici 3D",backgroundColor:"Color de fons"},layerConfiguration:{defaultDescription:"Calcula {property} segons el camp seleccionat",howTo:"How to"},filterManager:{addFilter:"Afegeix Filtre"},datasetTitle:{showDataTable:"Mostra taula de dades",removeDataset:"Elimina conjunt de dades"},datasetInfo:{rowCount:"{rowCount} files"},tooltip:{hideLayer:"oculta la capa",showLayer:"mostra la capa",hideFeature:"Amaga l'objecte",showFeature:"Mostra l'objecte",hide:"amaga",show:"mostra",removeLayer:"Elimina capa",resetAfterError:"Intenteu habilitar la capa desprs dun error",layerSettings:"Configuraci de capa",closePanel:"Tanca panel actual",switchToDualView:"Canvia a la vista de mapa dual",showLegend:"mostra llegenda",disable3DMap:"Desactiva mapa 3D",DrawOnMap:"Dibuixa al mapa",selectLocale:"Selecciona configuraci regional",hideLayerPanel:"Oculta el tauler de capes",showLayerPanel:"Mostra el tauler de capes",moveToTop:"Desplaa a dalt de tot de les capes de dades",selectBaseMapStyle:"Selecciona estil de mapa base",delete:"Esborra",timePlayback:"Reproducci de temps",cloudStorage:"Emmagatzematge al nvol","3DMap":"Mapa 3D",animationByWindow:"Finestra Temporal Mbil",animationByIncremental:"Finestra Temporal Incremental",speed:"velocitat",play:"iniciar",pause:"pausar",reset:"reiniciar"},toolbar:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({exportImage:"Exporta imatge",exportData:"Exporta dades",exportMap:"Exporta mapa",shareMapURL:"Comparteix URL del mapa",saveMap:"Desa mapa",select:"selecciona",polygon:"polgon",rectangle:"rectangle",hide:"amaga",show:"mostra"},l),modal:{title:{deleteDataset:"Esborra conjunt de dades",addDataToMap:"Afegeix dades al mapa",exportImage:"Exporta imatge",exportData:"Exporta dades",exportMap:"Exporta mapa",addCustomMapboxStyle:"Afegeix estil Mapbox propi",saveMap:"Desa mapa",shareURL:"Comparteix URL"},button:{delete:"Esborra",download:"Descarrega",export:"Exporta",addStyle:"Afegeix estil",save:"Desa",defaultCancel:"Cancella",defaultConfirm:"Confirma"},exportImage:{ratioTitle:"Rtio",ratioDescription:"Escull rtio per diversos usos.",ratioOriginalScreen:"Pantalla original",ratioCustom:"Personalitzat",ratio4_3:"4:3",ratio16_9:"16:9",resolutionTitle:"Resoluci",resolutionDescription:"Alta resoluci s millor per a les impressions.",mapLegendTitle:"Llegenda del mapa",mapLegendAdd:"Afegir llegenda al mapa"},exportData:{datasetTitle:"Conjunt de dades",datasetSubtitle:"Escull els conjunts de dades que vols exportar",allDatasets:"Tots",dataTypeTitle:"Tipus de dades",dataTypeSubtitle:"Escull els tipus de dades que vols exportar",filterDataTitle:"Filtra dades",filterDataSubtitle:"Pots escollir exportar les dades originals o les filtrades",filteredData:"Dades filtrades",unfilteredData:"Dades sense filtrar",fileCount:"{fileCount} Arxius",rowCount:"{rowCount} Files"},deleteData:{warning:"ests a punt d'esborrar aquest conjunt de dades. Afectar {length} capes"},addStyle:{publishTitle:"2. Publica el teu estil a Mapbox o proporciona el token d'accs",publishSubtitle1:"Pots crear el teu propi estil de mapa a",publishSubtitle2:"i",publishSubtitle3:"publicar",publishSubtitle4:"ho.",publishSubtitle5:"Per utilitzar un estil privat, enganxa el teu",publishSubtitle6:"token d'accs",publishSubtitle7:"aqu. *kepler.gl s una aplicaci client, les dades romanen al teu navegador..",exampleToken:"p.ex. pk.abcdefg.xxxxxx",pasteTitle:"1. Enganxa la URL de l'estil",pasteSubtitle1:"Qu s un",pasteSubtitle2:"URL de l'estil",namingTitle:"3. Posa nom al teu estil"},shareMap:{shareUriTitle:"Comparteix URL del mapa",shareUriSubtitle:"Genera una URL del mapa per compartir amb altri",cloudTitle:"Emmagatzematge al nvol",cloudSubtitle:"Accedeix i carrega dades de mapa al teu emmagatzematge al nvol personal",shareDisclaimer:"kepler.gl desar les dades del mapa al teu emmagatzematge al nvol personal, noms qui tingui la URL podr accedir al mapa i a les dades . Pots editar/esborrar l'arxiu de dades en el teu compte al nvol en qualsevol moment.",gotoPage:"Ves a la pgina de {currentProvider} de Kepler.gl"},statusPanel:{mapUploading:"Carregar un mapa",error:"Error"},saveMap:{title:"Emmagatzematge al nvol",subtitle:"Accedeix per desar el mapa al teu emmagatzematge al nvol"},exportMap:{formatTitle:"Format de mapa",formatSubtitle:"Escull el format amb qu vols exportar el teu mapa",html:{selection:"Exporta el teu mapa com un arxiu HTML interactiu.",tokenTitle:"Token d'accs de Mapbox",tokenSubtitle:"Utilitza el teu token d'accs de Mapbox a l'arxiu HTML (opcional)",tokenPlaceholder:"Enganxa el teu token d'accs a Mapbox",tokenMisuseWarning:"* Si no proporciones el teu propi token, el mapa podria fallar en qualsevol moment quan reemplacem el nostre token per evitar abusos. ",tokenDisclaimer:"Pots canviar el toke de Mapbox ms endavant fent servir aquestes instruccions: ",tokenUpdate:"Com actualitzar un token preexistent.",modeTitle:"Mode mapa",modeSubtitle1:"Selecciona mode app. Ms ",modeSubtitle2:"informaci",modeDescription:"Permet als usuaris {mode} el mapa",read:"llegir",edit:"editar"},json:{configTitle:"Configuraci del mapa",configDisclaimer:"La configuraci del mapa s'inclour a l'arxiu Json. Si utilitzes kepler.gl a la teva prpia app pots copiar aquesta configuraci i passar-la a  ",selection:"Exporta les dades del mapa i la configuraci en un sol arxiu Json. Ms endavant pots obrir aquest mateix mapa carregant aquest mateix arxiu a kepler.gl.",disclaimer:"* La configuraci del mapa es combina amb els conjunts de dades carregats. dataId s'utilitza per lligar capes, filtres i suggeriments a un conjunt de dades especfic. Quan passis aquesta configuraci a addDataToMap, assegura que l'identificador del conjunt de dades coincideixi amb els dataId d'aquesta configuraci."}},loadingDialog:{loading:"Carregant..."},loadData:{upload:"Carregar arxius",storage:"Carregar des d'emmagatzematge"},tripInfo:{title:"Com habilitar lanimaci de viatge",description1:"Per animar la ruta, les dades geoJSON han de contenir `LineString` en la seva geometria i les coordenades de LineString han de tenir 4 elements en els formats de ",code:" [longitude, latitude, altitude, timestamp] ",description2:"i el darrer element ha de ser la marca de temps. Els formats vlids per a la marca de temps inclouen Unix en segons com `1564184363` o en milisegons com `1564184363000`.",example:"Exemple:"},iconInfo:{title:"Com dibuixar icones",description1:"En el teu CSV crea una columna i posa-hi el nom de la icona que vols dibuixar. Pots deixar la cella buida quan no vulguis que es mostri per a certs punts. Quan la columna s'anomena",code:"icon",description2:" kepler.gl automticament crear una capa d'icona.",example:"Exemple:",icons:"Icones"},storageMapViewer:{lastModified:"Darrera modificaci fa {lastUpdated}",back:"Enrere"},overwriteMap:{title:"Desant mapa...",alreadyExists:"ja existeix a {mapSaved}. El vols sobreescriure?"},loadStorageMap:{back:"Enrere",goToPage:"Ves a la pgina {displayName} de Kepler.gl",storageMaps:"Emmagatzematge / Mapes",noSavedMaps:"Cap mapa desat encara"}},header:{visibleLayers:"Capes visibles",layerLegend:"Llegenda de capes"},interactions:{tooltip:"Suggeriment",brush:"Pinzell",coordinate:"Coordenades",geocoder:"Geocodificador"},layerBlending:{title:"Combinaci de capes",additive:"additiva",normal:"normal",subtractive:"substractiva"},columns:{title:"Columnes",lat:"lat",lng:"lon",altitude:"alada",icon:"icona",geojson:"geojson",arc:{lat0:"lat origen",lng0:"lng origen ",lat1:"lat destinaci",lng1:"lng destinaci"},line:{alt0:"alada origen",alt1:"alada destinaci"},grid:{worldUnitSize:"Mida de malla (km)"},hexagon:{worldUnitSize:"Radi d'hexgon (km)"},hex_id:"id hex"},color:{customPalette:"Paleta personalitzada",steps:"intervals",type:"tipus",reversed:"invertida"},scale:{colorScale:"Escala de color",sizeScale:"Escala de mides",strokeScale:"Escala de tra",scale:"Escala"},fileUploader:{message:"Arrossega i deixa anar l'arxiu aqu",chromeMessage:"*usuari de Chrome: la mida mxima sn 250mb, si has de carrgar un arxiu ms gran fes servir Safari",disclaimer:"*kepler.gl s una aplicaci a la banda client que no es recolza en cap servidor. Les dades noms existeixen a la teva mquina/navegador. No s'envien dades ni mapes a cap servidor.",configUploadMessage:"Carrega {fileFormatNames} o un mapa desat en **Json**. Ms informaci sobre [**supported file formats**]",browseFiles:"navega pels teus arxius",uploading:"Carregant",fileNotSupported:"L'arxiu {errorFiles} no s compatible.",or:"o"},geocoder:{title:"Introdueix una adrea"},fieldSelector:{clearAll:"Treure tots",formatting:"Format"},compare:{modeLabel:"Mode Comparaci",typeLabel:"Tipus de Comparaci",types:{absolute:"Absoluta",relative:"Relativa"}},mapPopover:{primary:"Principal"},density:"densitat","Bug Report":"Informe d'errors","User Guide":"Guia d'usuari",Save:"Desa",Share:"Comparteix"};function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var E={property:{weight:"",label:"",fillColor:"",color:"",coverage:"",strokeColor:"",radius:"",outline:"",stroke:"",density:"",height:"",sum:"",pointCount:""},placeholder:{search:"",selectField:"",yAxis:"Y",selectType:"",selectValue:"",enterValue:"",empty:""},misc:{by:"",valuesIn:"",valueEquals:"",dataSource:"",brushRadius:" (km)",empty:" "},mapLayers:{title:"",label:"",road:"",border:"",building:"",water:"",land:"","3dBuilding":"3D"},panel:{text:{label:"",labelWithId:" {labelId}",fontSize:"",fontColor:"",textAnchor:"",alignment:"",addMoreLabel:""}},sidebar:{panels:{layer:"",filter:"",interaction:"",basemap:""}},layer:{required:"*",radius:"",color:"",fillColor:"",outline:"",weight:"",propertyBasedOn:"{property}",coverage:"",stroke:"",strokeWidth:"",strokeColor:"",basic:"",trailLength:"",trailLengthDescription:"",newLayer:"",elevationByDescription:"",colorByDescription:"",aggregateBy:"{field}: ","3DModel":"3D","3DModelOptions":"3D",type:{point:"point",arc:"arc",line:"line",grid:"grid",hexbin:"hexbin",polygon:"polygon",geojson:"geojson",cluster:"cluster",icon:"icon",heatmap:"heatmap",hexagon:"hexagon",hexagonid:"H3",trip:"trip",s2:"S2","3d":"3D"}},layerVisConfigs:{angle:"",strokeWidth:"",strokeWidthRange:"",radius:"",fixedRadius:"",fixedRadiusDescription:": 5  5",radiusRange:"",clusterRadius:"",radiusRangePixels:"[]",opacity:"",coverage:"",outline:"",colorRange:"",stroke:"",strokeColor:"",strokeColorRange:"",targetColor:"",colorAggregation:"",heightAggregation:"",resolutionRange:"",sizeScale:"",worldUnitSize:"",elevationScale:"",enableElevationZoomFactor:"",enableElevationZoomFactorDescription:"",heightScale:"",coverageRange:"",highPrecisionRendering:"",highPrecisionRenderingDescription:"",height:"",heightDescription:"3D",fill:"",enablePolygonHeight:"",showWireframe:"",weightIntensity:"",zoomScale:"",heightRange:""},layerManager:{addData:"",addLayer:"",layerBlending:""},mapManager:{mapStyle:"",addMapStyle:"","3dBuildingColor":"3D "},layerConfiguration:{defaultDescription:" {property}",howTo:""},filterManager:{addFilter:""},datasetTitle:{showDataTable:"",removeDataset:""},datasetInfo:{rowCount:"{rowCount}"},tooltip:{hideLayer:"",showLayer:"",hideFeature:"",showFeature:"",hide:"",show:"",removeLayer:"",zoomToLayer:"",duplicateLayer:"",layerSettings:"",closePanel:"",switchToDualView:"",showLegend:"",disable3DMap:" 3D ",DrawOnMap:"",selectLocale:"",hideLayerPanel:"",showLayerPanel:"",moveToTop:"",selectBaseMapStyle:"",delete:"",timePlayback:"",cloudStorage:"","3DMap":"3D ",animationByWindow:"",animationByIncremental:"",speed:"",play:"",pause:"",reset:""},toolbar:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({exportImage:"",exportData:"",exportMap:"",shareMapURL:"",saveMap:"",select:"",polygon:"polygon",rectangle:"rectangle",hide:"",show:""},l),editor:{filterLayer:"",copyGeometry:""},modal:{title:{deleteDataset:"",addDataToMap:"",exportImage:"",exportData:"",exportMap:"",addCustomMapboxStyle:"",saveMap:"",shareURL:""},button:{delete:"",download:"",export:"",addStyle:"",save:"",defaultCancel:"",defaultConfirm:""},exportImage:{ratioTitle:"",ratioDescription:"",ratioOriginalScreen:"",ratioCustom:"",ratio4_3:"4:3",ratio16_9:"16:9",resolutionTitle:"",resolutionDescription:"",mapLegendTitle:"",mapLegendAdd:""},exportData:{datasetTitle:"",datasetSubtitle:"",allDatasets:"",dataTypeTitle:"",dataTypeSubtitle:"",filterDataTitle:"",filterDataSubtitle:"",filteredData:"",unfilteredData:"",fileCount:"{fileCount} ",rowCount:"{rowCount} "},deleteData:{warning:" {length} "},addStyle:{publishTitle:"2. 1 mapbox  url mapbox access token",publishSubtitle1:"",publishSubtitle2:"",publishSubtitle3:"",publishSubtitle4:"",publishSubtitle5:"",publishSubtitle6:"access token",publishSubtitle7:"* Kepler.gl ",exampleToken:") pk.abcdefg.xxxxxx",pasteTitle:"1.  url",pasteSubtitle0:" url  Mapbox ",pasteSubtitle1:"",pasteSubtitle2:" URL",pasteSubtitle3:"Mapbox GLstyle.jsonurl",pasteSubtitle4:"Mapbox GL ",namingTitle:"3. "},shareMap:{shareUriTitle:"",shareUriSubtitle:"",cloudTitle:"",cloudSubtitle:"",shareDisclaimer:"kepler.gl  URL /",gotoPage:"Kepler.gl{currentProvider}"},statusPanel:{mapUploading:"",error:""},saveMap:{title:"",subtitle:""},exportMap:{formatTitle:"",formatSubtitle:"",html:{selection:"html",tokenTitle:"Mapboxaccess token",tokenSubtitle:" html  Mapbox access token",tokenPlaceholder:" Mapbox access token",tokenMisuseWarning:"* ",tokenDisclaimer:" Mapbox ",tokenUpdate:"",modeTitle:"",modeSubtitle1:"",modeSubtitle2:"",modeDescription:"{mode}",read:"",edit:""},json:{configTitle:"",configDisclaimer:" Json  kepler.gl",selection:" Json  kepler.gl ",disclaimer:"*  dataId addDataToMap  ID  dataId/s "}},loadingDialog:{loading:"..."},loadData:{upload:"",storage:""},tripInfo:{title:"",description1:"geoJSON  `LineString` LineString ",code:" [] ",description2:" unix`1564184363``1564184363000`",example:""},iconInfo:{title:"",description1:" csv ",code:"",description2:"kepler.gl ",example:":",icons:""},storageMapViewer:{lastModified:" {lastUpdated} ",back:""},overwriteMap:{title:"...",alreadyExists:" {mapSaved} "},loadStorageMap:{back:"",goToPage:" Kepler.gl  {displayName} ",storageMaps:" / ",noSavedMaps:""}},header:{visibleLayers:"",layerLegend:""},interactions:{tooltip:"",brush:"",coordinate:"",geocoder:""},layerBlending:{title:"",additive:"additive",normal:"normal",subtractive:"subtractive"},columns:{title:"",lat:"",lng:"",altitude:"",icon:"",geojson:"geojson",token:"",arc:{lat0:" ",lng0:" ",lat1:" ",lng1:" "},grid:{worldUnitSize:" (km)"},hexagon:{worldUnitSize:" (km)"},hex_id:"hex id"},color:{customPalette:"",steps:"",type:"",reversed:""},scale:{colorScale:"",sizeScale:"",strokeScale:"",scale:""},fileUploader:{message:"",chromeMessage:"* Chrome  250mb Safari",disclaimer:"* kepler.gl /",configUploadMessage:" {fileFormatNames}  **Json**[****]",browseFiles:"",uploading:"",fileNotSupported:" {errorFiles}",or:""},geocoder:{title:" 37.79,-122.40"},fieldSelector:{clearAll:"",formatting:""},compare:{modeLabel:"",typeLabel:"",types:{absolute:"",relative:""}},mapPopover:{primary:""},density:"","Bug Report":"","User Guide":"",Save:"",Share:""};function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var O={property:{weight:"",label:"",fillColor:"",color:"",coverage:"",strokeColor:"",radius:"",outline:"",stroke:"",density:"",height:"",sum:"",pointCount:""},placeholder:{search:"",selectField:"",yAxis:"Y",selectType:"",selectValue:"",enterValue:"",empty:""},misc:{by:"",valuesIn:"",valueEquals:"",dataSource:"",brushRadius:" (km)",empty:" "},mapLayers:{title:"",label:"",road:"",border:"",building:"",water:"",land:"","3dBuilding":"3D",background:""},panel:{text:{label:"",labelWithId:" {labelId}",fontSize:"",fontColor:"",textAnchor:"",alignment:"",addMoreLabel:""}},sidebar:{panels:{layer:"",filter:"",interaction:"",basemap:""}},layer:{required:"*",radius:"",color:"",fillColor:"",outline:"",weight:"",propertyBasedOn:"{property}",coverage:"",stroke:"",strokeWidth:"",strokeColor:"",basic:"",trailLength:"",trailLengthDescription:"",newLayer:"",elevationByDescription:"",colorByDescription:"",aggregateBy:"{field}: ","3DModel":"3D","3DModelOptions":"3D",type:{point:"point",arc:"arc",line:"line",grid:"grid",hexbin:"hexbin",polygon:"polygon",geojson:"geojson",cluster:"cluster",icon:"icon",heatmap:"heatmap",hexagon:"hexagon",hexagonid:"H3",trip:"trip",s2:"S2","3d":"3D"}},layerVisConfigs:{angle:"",strokeWidth:" ()",strokeWidthRange:"",radius:"",fixedRadius:"",fixedRadiusDescription:": 5  5",radiusRange:"",clusterRadius:"[]",radiusRangePixels:"[]",opacity:"",coverage:"",outline:"",colorRange:"",stroke:"",strokeColor:"",strokeColorRange:"",targetColor:"Target",colorAggregation:"",heightAggregation:"",resolutionRange:"",sizeScale:"",worldUnitSize:"World Unit Size",elevationScale:"",enableElevationZoomFactor:"",enableElevationZoomFactorDescription:"/",enableHeightZoomFactor:"",heightScale:"",coverageRange:"",highPrecisionRendering:"",highPrecisionRenderingDescription:"",height:"",heightDescription:"3D",fill:"",enablePolygonHeight:"",showWireframe:"",weightIntensity:"",zoomScale:"",heightRange:"",fixedHeight:"",fixedHeightDescription:"",heightMultiplier:""},layerManager:{addData:"",addLayer:"",layerBlending:""},mapManager:{mapStyle:"",addMapStyle:"","3dBuildingColor":"3D",backgroundColor:""},layerConfiguration:{defaultDescription:"{property}",howTo:""},filterManager:{addFilter:""},datasetTitle:{showDataTable:"",removeDataset:""},datasetInfo:{rowCount:"{rowCount}"},tooltip:{hideLayer:"",showLayer:"",hideFeature:"",showFeature:"",hide:"",show:"",removeLayer:"",duplicateLayer:"",layerSettings:"",closePanel:"",switchToDualView:"",showLegend:"",disable3DMap:"3D",DrawOnMap:"",selectLocale:"",hideLayerPanel:"",showLayerPanel:"",moveToTop:"",selectBaseMapStyle:"",delete:"",timePlayback:"",cloudStorage:"","3DMap":"3D",animationByWindow:"",animationByIncremental:"",speed:"",play:"",pause:"",reset:""},toolbar:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({exportImage:"",exportData:"",exportMap:"",shareMapURL:"URL",saveMap:"",select:"",polygon:"",rectangle:"",hide:"",show:""},l),modal:{title:{deleteDataset:"",addDataToMap:"",exportImage:"",exportData:"",exportMap:"",addCustomMapboxStyle:"",saveMap:"",shareURL:"URL"},button:{delete:"",download:"",export:"",addStyle:"",save:"",defaultCancel:"",defaultConfirm:""},exportImage:{ratioTitle:"",ratioDescription:"",ratioOriginalScreen:"",ratioCustom:"",ratio4_3:"4:3",ratio16_9:"16:9",resolutionTitle:"",resolutionDescription:"",mapLegendTitle:"",mapLegendAdd:""},exportData:{datasetTitle:"",datasetSubtitle:"",allDatasets:"",dataTypeTitle:"",dataTypeSubtitle:"",filterDataTitle:"",filterDataSubtitle:"",filteredData:"",unfilteredData:"",fileCount:"{fileCount}",rowCount:"{rowCount}"},deleteData:{warning:"{length}"},addStyle:{publishTitle:"2. 1MapboxURLMapbox",publishSubtitle1:"",publishSubtitle2:"",publishSubtitle3:"",publishSubtitle4:"",publishSubtitle5:"",publishSubtitle6:"",publishSubtitle7:"*kepler.gl",exampleToken:") pk.abcdefg.xxxxxx",pasteTitle:"1. URL",pasteSubtitle0:"URLMapbox",pasteSubtitle1:"What is a",pasteSubtitle2:"URL",pasteSubtitle3:"Mapbox GLstyle.jsonURL",pasteSubtitle4:"Mapbox GL ",namingTitle:"3. "},shareMap:{shareUriTitle:"URL",shareUriSubtitle:"URL",cloudTitle:"",cloudSubtitle:"",shareDisclaimer:"kepler.glURL/",gotoPage:"Kepler.gl{currentProvider}"},statusPanel:{mapUploading:"",error:""},saveMap:{title:"",subtitle:""},exportMap:{formatTitle:"",formatSubtitle:"",html:{selection:"HTML",tokenTitle:"Mapbox",tokenSubtitle:"HTMLMapbox ()",tokenPlaceholder:"Mapbox",tokenMisuseWarning:"*   ",tokenDisclaimer:"Mapbox",tokenUpdate:"",modeTitle:"",modeSubtitle1:"",modeSubtitle2:"",modeDescription:"{mode}",read:"",edit:""},json:{configTitle:"",configDisclaimer:"jsonkepler.gl",selection:"jsonkepler.gl",disclaimer:"* dataId addDataToMapIDdataId"}},loadingDialog:{loading:"..."},loadData:{upload:"",storage:""},tripInfo:{title:"",description1:"geoJSONfeaturegeometry `LineString` LineString4",code:" [, , , timestamp] ",description2:" UNIX: `1564184363`: `1564184363000`",example:""},iconInfo:{title:"",description1:"CSV",code:"icon",description2:"kepler.gl",example:":",icons:""},storageMapViewer:{lastModified:"{lastUpdated} ",back:""},overwriteMap:{title:"...",alreadyExists:"{mapSaved}"},loadStorageMap:{back:"",goToPage:"Kepler.gl{displayName}",storageMaps:" / ",noSavedMaps:""}},header:{visibleLayers:"",layerLegend:""},interactions:{tooltip:"",brush:"",coordinate:"",geocoder:""},layerBlending:{title:"",additive:"additive",normal:"normal",subtractive:"subtractive"},columns:{title:"",lat:"",lng:"",altitude:"",icon:"",geojson:"geojson",token:"",arc:{lat0:" ",lng0:" ",lat1:" ",lng1:" "},grid:{worldUnitSize:" (km)"},hexagon:{worldUnitSize:" (km)"},hex_id:"hex id"},color:{customPalette:"",steps:"",type:"",reversed:""},scale:{colorScale:"",sizeScale:"",strokeScale:"",scale:""},fileUploader:{message:"",chromeMessage:"*Chrome: 250mbSafari",disclaimer:"*kepler.gl",configUploadMessage:"{fileFormatNames} **Json**[****]",browseFiles:"",uploading:"",fileNotSupported:"{errorFiles} ",or:"or"},geocoder:{title:" 37.79,-122.40"},fieldSelector:{clearAll:"",formatting:""},compare:{modeLabel:"",typeLabel:"",types:{absolute:"",relative:""}},mapPopover:{primary:""},density:"density","Bug Report":"","User Guide":"",Save:"",Share:""};function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var _={property:{weight:"",label:"",fillColor:" ",color:"",coverage:"",strokeColor:" ",radius:"",outline:"",stroke:"",density:"",height:"",sum:"",pointCount:"- "},placeholder:{search:"",selectField:" ",yAxis:"Y ",selectType:" A ",selectValue:" A ",enterValue:" ",empty:""},misc:{by:"",valuesIn:" ",valueEquals:" ",dataSource:" ",brushRadius:"  (km)",empty:" "},mapLayers:{title:" ",label:"",road:"",border:"",building:"",water:"",land:"","3dBuilding":"3d "},panel:{text:{label:"",labelWithId:" {labelId}",fontSize:" ",fontColor:" ",textAnchor:" ",alignment:"",addMoreLabel:"  "}},sidebar:{panels:{layer:"",filter:"",interaction:"",basemap:" "}},layer:{required:"*",radius:"",color:"",fillColor:" ",outline:"",weight:"",propertyBasedOn:"{property}  ",coverage:"",stroke:"",strokeWidth:" ",strokeColor:" ",basic:"Basic",trailLength:"Trail Length",trailLengthDescription:"Number of seconds for a path to completely fade out",newLayer:"new layer",elevationByDescription:"When off, height is based on count of points",colorByDescription:"When off, color is based on count of points",aggregateBy:"Aggregate {field} by","3DModel":"3D Model","3DModelOptions":"3D Model Options",type:{point:"",arc:"",line:"",grid:"",hexbin:"hexbin",polygon:"",geojson:"geojson",cluster:"",icon:"",heatmap:" ",hexagon:"",hexagonid:"H3",trip:"",s2:"S2","3d":"3D"}},layerVisConfigs:{angle:"",strokeWidth:"  ( )",strokeWidthRange:"  ",radius:"",fixedRadius:"   ",fixedRadiusDescription:"      ,   5  5 ",radiusRange:" ",clusterRadius:"   ",radiusRangePixels:"   ",opacity:"",coverage:"",outline:"",colorRange:" ",stroke:"",strokeColor:" ",strokeColorRange:"  ",targetColor:" ",colorAggregation:" ",heightAggregation:"  ",resolutionRange:" ",sizeScale:" ",worldUnitSize:" ..",elevationScale:" ",enableElevationZoomFactor:"    ",enableElevationZoomFactorDescription:"  /      ",enableHeightZoomFactor:".    ",heightScale:" ",coverageRange:" ",highPrecisionRendering:"  ",highPrecisionRenderingDescription:"     ",height:"",heightDescription:"      ,    3D-",fill:"",enablePolygonHeight:"  ",showWireframe:" ",weightIntensity:" ",zoomScale:" ",heightRange:" ",heightMultiplier:" "},layerManager:{addData:" ",addLayer:" ",layerBlending:" "},mapManager:{mapStyle:" ",addMapStyle:"  ","3dBuildingColor":"3D  "},layerConfiguration:{defaultDescription:" {property}    ",howTo:"How to"},filterManager:{addFilter:" "},datasetTitle:{showDataTable:"   ",removeDataset:"  "},datasetInfo:{rowCount:"{rowCount} "},tooltip:{hideLayer:" ",showLayer:" ",hideFeature:" ",showFeature:" ",hide:"",show:"",removeLayer:" ",duplicateLayer:" ",layerSettings:" ",closePanel:"  ",switchToDualView:"    ",showLegend:" ",disable3DMap:" 3D ",DrawOnMap:"  ",selectLocale:" ",hideLayerPanel:"  ",showLayerPanel:"  ",moveToTop:"    ",selectBaseMapStyle:"   ",delete:"",timePlayback:" ",cloudStorage:" ","3DMap":"3D ",animationByWindow:"  ",animationByIncremental:"  ",speed:"",play:"",pause:"",reset:""},toolbar:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({exportImage:" ",exportData:" ",exportMap:" ",shareMapURL:"Share Map URL",saveMap:" ",select:"",polygon:"",rectangle:"",hide:"",show:""},l),editor:{filterLayer:" ",copyGeometry:" "},modal:{title:{deleteDataset:" ",addDataToMap:"   ",exportImage:" ",exportData:" ",exportMap:" ",addCustomMapboxStyle:"   ",saveMap:" ",shareURL:" URL"},button:{delete:"",download:"",export:"",addStyle:" ",save:"",defaultCancel:"",defaultConfirm:""},exportImage:{ratioTitle:"Ratio",ratioDescription:"    ",ratioOriginalScreen:" ",ratioCustom:"",ratio4_3:"4:3",ratio16_9:"16:9",resolutionTitle:"",resolutionDescription:"     ",mapLegendTitle:" ",mapLegendAdd:"   "},exportData:{datasetTitle:" ",datasetSubtitle:"  ,   ",allDatasets:"",dataTypeTitle:" ",dataTypeSubtitle:"  ,    ",filterDataTitle:" ",filterDataSubtitle:"        ",filteredData:" ",unfilteredData:" ",fileCount:"{fileCount} ",rowCount:"{rowCount} "},deleteData:{warning:"     .    {length} "},addStyle:{publishTitle:"2.    URL-  mapbox   1,     mapbox    . ()",publishSubtitle1:"      ",publishSubtitle2:"",publishSubtitle3:"",publishSubtitle4:".",publishSubtitle5:"   ,  ",publishSubtitle6:"token ",publishSubtitle7:". kepler.gl -   ,      .",exampleToken:" pk.abcdefg.xxxxxx",pasteTitle:"1.  URL ",pasteSubtitle0:"URL    mapbox",pasteSubtitle1:"",pasteSubtitle2:"URL ",pasteSubtitle3:"style.json ",pasteSubtitle4:"Mapbox GL Style Spec",namingTitle:"3.   "},shareMap:{shareUriTitle:" URL ",shareUriSubtitle:" URL ,    ",cloudTitle:" ",cloudSubtitle:"         ",shareDisclaimer:"kepler.gl         ,    URL-        .    /           .",gotoPage:"   Kepler.gl {currentProvider}"},statusPanel:{mapUploading:" ",error:""},saveMap:{title:" ",subtitle:",        "},exportMap:{formatTitle:" ",formatSubtitle:"    ",html:{selection:"     HTML.",tokenTitle:"   Mapbox",tokenSubtitle:"    Mapbox  html()",tokenPlaceholder:"   Mapbox",tokenMisuseWarning:"* If you do not provide your own token, the map may fail to display at any time when we replace ours to avoid misuse. ",tokenDisclaimer:"      ,       ,    ,    .",tokenUpdate:"    .",modeTitle:" ",modeSubtitle1:"  . ",modeSubtitle2:"",modeDescription:"  {mode} ",read:"",edit:""},json:{configTitle:" ",configDisclaimer:"      Json.    kepler.gl    .         ",selection:"         Json.       ,     kepler.gl.",disclaimer:"*       . DataId    ,        .     addDataToMap, ,       dataId / s   ."}},loadingDialog:{loading:"..."},loadData:{upload:" ",storage:"  "},tripInfo:{title:"   ",description1:"  ,  geoJSON   LineString    ,    LineString   4   ",code:" [longitude, latitude, altitude, timestamp] ",description2:"  ,   .      unix  ,  1564184363,   ,  1564184363000",example:",:"},iconInfo:{title:"  ",description1:"  csv  ,     ,    .     ,   ,      .   ",code:"",description2:" kepler.gl      .",example:":",icons:""},storageMapViewer:{lastModified:"  {lastUpdated} ",back:""},overwriteMap:{title:" ...",alreadyExists:"    {mapSaved}.   ?"},loadStorageMap:{back:"",goToPage:"   Kepler.gl {displayName}",storageMaps:" / ",noSavedMaps:"  "}},header:{visibleLayers:" ",layerLegend:" "},interactions:{tooltip:"",brush:"",coordinate:"",geocoder:""},layerBlending:{title:" ",additive:"",normal:"",subtractive:""},columns:{title:"",lat:"lat",lng:"lon",altitude:"",icon:"",geojson:"geojson",token:"token",arc:{lat0:"lat ",lng0:"lng ",lat1:"lat ",lng1:"lng "},line:{alt0:" ",alt1:" "},grid:{worldUnitSize:"  (km)"},hexagon:{worldUnitSize:"Hexagon  (km)"},hex_id:"hex id"},color:{customPalette:" ",steps:"",type:"",reversed:""},scale:{colorScale:" ",sizeScale:" ",strokeScale:" ",scale:""},fileUploader:{message:"   ",chromeMessage:"* Chrome:     250 ,      ,  Safari",disclaimer:"*kepler.gl -      .      .           .",configUploadMessage:" {fileFormatNames}    **Json**.  [**supported file formats**]",browseFiles:" ",uploading:"",fileNotSupported:"File {errorFiles} is not supported.",or:"or"},geocoder:{title:"   ,  37.79, -122.40"},fieldSelector:{clearAll:" ",formatting:""},compare:{modeLabel:" ",typeLabel:" ",types:{absolute:"",relative:""}},mapPopover:{primary:""},density:"density","Bug Report":"  ","User Guide":"",Save:"",Share:""};function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object.keys(t).reduce((function(a,r){var o=t[r],i=n?"".concat(n,".").concat(r):r;return"string"==typeof o?a[i]=o:Object.assign(a,e(o,i)),a}),{})},A=k(u),w={};w.en=A,w.fi=x(x({},A),k(p)),w.pt=x(x({},A),k(g)),w.es=x(x({},A),k(h)),w.ca=x(x({},A),k(v)),w.cn=x(x({},A),k(E)),w.ja=x(x({},A),k(O)),w.ru=x(x({},A),k(_));var T=n(14),P=n.n(T),L=n(0),j=n.n(L),M=n(596),F=function(e){return j.a.createElement(M.a,P()({defaultMessage:e.defaultMessage||e.id},e))}},235:function(e,t,n){"use strict";var a,r,o=n(6),i=n.n(o),l=n(0),c=n.n(l),s=n(5),u=n(25),d=n.n(u),p=s.default.div.attrs((function(e){return{className:d()("panel-title",e.className)}}))(a||(a=i()(["\n  color: ",";\n  font-size: ",";\n  line-height: ",";\n  font-weight: 400;\n  letter-spacing: 1.25px;\n"])),(function(e){return e.theme.titleTextColor}),(function(e){return e.theme.sidePanelTitleFontsize}),(function(e){return e.theme.sidePanelTitleLineHeight})),f=s.default.div.attrs({className:"layer-manager-header"})(r||(r=i()(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-top: 16px;\n  margin-bottom: 32px;\n"])));t.a=function(){return function(e){var t=e.title,n=e.className,a=e.children;return c.a.createElement(f,null,c.a.createElement(p,{className:n||"panel-title"},t),a)}}},257:function(e,t,n){"use strict";(function(e){n.d(t,"e",(function(){return v})),n.d(t,"d",(function(){return b})),n.d(t,"b",(function(){return E})),n.d(t,"a",(function(){return C})),n.d(t,"c",(function(){return S}));var a=n(1),r=n.n(a),o=n(18),i=n.n(o),l=n(588),c=n.n(l),s=n(1454),u=n(341),d=n(1458),p=n(959),f=n(958),g=n(1457),m=n(13);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(t){if("object"===i()(t)){var n=c()(t);return n&&Array.isArray(n.features)?n.features[0]:null}return"string"==typeof t?function(t){var n;try{n=JSON.parse(t)}catch(e){}if(!n)try{n=Object(d.a)(t,p.a)}catch(e){return null}if(!n)try{var a=e.from(t,"hex"),r=Object(d.a)(a,f.a);n=Object(g.a)(r)}catch(e){return null}if(!n)return null;var o=c()(n);if(!o||!Array.isArray(o.features))return null;return o.features[0]}(t):Array.isArray(t)?{type:"Feature",geometry:{coordinates:t.map((function(e){return[e[1],e[0]]})),type:"LineString"},properties:{}}:null}function b(e){for(var t=E(e.dataContainer,e.getFeature),n=C(t),a=Boolean(t.find((function(e){var t;return e&&"properties"in e&&(null===(t=e.properties)||void 0===t?void 0:t.radius)}))),r=S(t),o=[],i=0;i<t.length;i++){var l=t[i];if(l)try{var c=Object(u.default)(l);o.push(c.geometry.coordinates)}catch(e){o.push(null)}}return{dataToFeature:t,bounds:n,fixedRadius:a,featureTypes:r,centroids:o}}function E(e,t){for(var n=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon","GeometryCollection"],a=[],r=0;r<e.numRows();r++){var o=v(t({index:r}));if(o&&o.geometry&&n.includes(o.geometry.type)){var i=y(y({},o),{},{properties:y(y({},o.properties),{},{index:r})});a[r]=i}else a[r]=null}return a}function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=1e4,n=e.length>t?Object(m.getSampleData)(e,t):e,a=n.filter((function(e){return e&&e.geometry&&e.geometry.coordinates&&e.geometry.coordinates.length}));try{return Object(s.a)({type:"FeatureCollection",features:a})}catch(e){return null}}var O={Point:"point",MultiPoint:"point",LineString:"line",MultiLineString:"line",Polygon:"polygon",MultiPolygon:"polygon"};function S(e){for(var t={},n=0;n<e.length;n++){var a=e[n];if(a&&"geometry"in a){var r=O[a.geometry&&a.geometry.type];r&&(t[r]=!0)}}return t}}).call(this,n(1163).Buffer)},260:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d}));var a=n(1),r=n.n(a),o=n(0),i=n.n(o),l=n(184),c=n(15);function s(e){return function(t){var n=t.layer,a=t.onChange,l=t.selectedColor,s=t.property,u=void 0===s?"color":s,d=t.setColorUI,p=Object(o.useCallback)((function(e){return d(u,e)}),[d,u]);return i.a.createElement(c.z,null,i.a.createElement(e,{colorSets:[{selectedColor:l||n.config.color,setColor:function(e){return a(r()({},u,e))}}],colorUI:n.config.colorUI[u],setColorUI:p}))}}function u(e){return function(t){var n=t.layer,a=t.onChange,l=t.property,s=void 0===l?"colorRange":l,u=t.setColorUI,d=Object(o.useCallback)((function(e){return u(s,e)}),[u,s]);return i.a.createElement(c.z,null,i.a.createElement(e,{colorSets:[{selectedColor:n.config.visConfig[s],isRange:!0,setColor:function(e){return a(r()({},s,e))}}],colorUI:n.config.colorUI[s],setColorUI:d}))}}function d(e){return function(t){var n=t.layer,a=t.onChangeConfig,r=t.onChangeVisConfig,l=t.property,s=void 0===l?"color":l,u=t.setColorUI,d=Object(o.useCallback)((function(e){return u(s,e)}),[u,s]);return i.a.createElement(c.z,null,i.a.createElement(e,{colorSets:[{selectedColor:n.config.color,setColor:function(e){return a({color:e})},label:"Source"},{selectedColor:n.config.visConfig.targetColor||n.config.color,setColor:function(e){return r({targetColor:e})},label:"Target"}],colorUI:n.config.colorUI[s],setColorUI:d}))}}s.deps=[l.c],u.deps=[l.c],d.deps=[l.c]},269:function(e,t,n){"use strict";n.d(t,"a",(function(){return M})),n.d(t,"b",(function(){return I})),n.d(t,"d",(function(){return R})),n.d(t,"c",(function(){return N}));var a,r,o,i,l,c,s,u,d=n(24),p=n.n(d),f=n(14),g=n.n(f),m=n(6),h=n.n(m),y=n(0),v=n.n(y),b=n(25),E=n.n(b),C=n(5),O=n(158),S=n(15),_=n(22),D=n(19),x=n(4),k={isDragNDropEnabled:!0,showRemoveLayer:!0},A=function(e){return Object(C.css)(a||(a=h()(["\n    border-top: 2px solid ",";\n    border-bottom: 2px solid ",";\n    border-right: 2px solid ",";\n  "])),(function(t){return t.theme.notificationColors[e]}),(function(t){return t.theme.notificationColors[e]}),(function(t){return t.theme.notificationColors[e]}))},w=Object(C.default)(S.M)(r||(r=h()(["\n  height: ","px;\n  position: relative;\n  align-items: stretch;\n\n  .layer__remove-layer {\n    opacity: 0;\n  }\n\n  .layer__drag-handle__placeholder {\n    height: 20px;\n    padding: 10px;\n  }\n\n  ","\n\n  :hover {\n    cursor: pointer;\n    background-color: ",";\n\n    .layer__drag-handle {\n      opacity: 1;\n    }\n\n    .layer__remove-layer {\n      opacity: 1;\n    }\n  }\n"])),(function(e){return e.theme.layerPanelHeaderHeight}),(function(e){return e.warning?A("warning"):e.isValid?"":A("error")}),(function(e){return e.theme.panelBackgroundHover})),T=C.default.div(o||(o=h()(["\n  display: flex;\n  color: ",";\n  flex-grow: 1;\n  align-items: stretch;\n  // leave space for eye and collapse icon\n  padding-right: 50px;\n"])),(function(e){return e.theme.textColor})),P=C.default.div(i||(i=h()(["\n  display: flex;\n  position: absolute;\n  height: 100%;\n  align-items: stretch;\n  right: 10px;\n  pointer-events: ",";\n  :hover {\n    .layer-panel__header__actions__hidden {\n      opacity: 1;\n      background-color: ",";\n    }\n  }\n"])),(function(e){return e.isEditingLabel?"none":"all"}),(function(e){return e.theme.panelBackgroundHover})),L=C.default.div.attrs({className:"layer-panel__header__actions__hidden"})(l||(l=h()(["\n  opacity: 0;\n  display: flex;\n  align-items: center;\n  background-color: ",";\n  transition: opacity 0.4s ease, background-color 0.4s ease;\n\n  :hover {\n    opacity: 1;\n  }\n"])),(function(e){return e.isConfigActive?e.theme.panelBackgroundHover:e.theme.panelBackground})),j=C.default.div(c||(c=h()(["\n  display: flex;\n  align-items: center;\n  opacity: 0;\n  z-index: 1000;\n\n  :hover {\n    cursor: move;\n    opacity: 1;\n    color: ",";\n  }\n"])),(function(e){return e.theme.textColorHl})),M=function(e){var t=e.className,n=e.listeners,a=e.children;return v.a.createElement(j,g()({className:t},n||{}),a)},F=function(e){e.stopPropagation(),e.preventDefault()},I=function(e){var t=e.layerId,n=e.label,a=e.onEdit,r=e.onFocus,o=e.onBlur;return v.a.createElement(S.j,{type:"text",className:"layer__title__editor","data-testid":x.dataTestIds.layerTitleEditor,value:n,onClick:F,onChange:a,onFocus:r,onBlur:o,id:"".concat(t,":input-layer-label")})};function R(){var e=C.default.div(s||(s=h()(["\n    margin-left: 4px;\n    flex-grow: 1;\n    align-items: center;\n    display: flex;\n    .layer__title__inner {\n      flex-grow: 1;\n    }\n\n    .layer__title__type {\n      color: ",";\n      font-size: 10px;\n      line-height: 12px;\n      letter-spacing: 0.37px;\n      text-transform: capitalize;\n    }\n  "])),(function(e){return e.theme.subtextColor}));return function(t){var n=t.layerType,a=t.layerId,r=t.label,o=t.onUpdateLayerLabel,i=t.onFocus,l=t.onBlur;return v.a.createElement(e,{className:"layer__title"},v.a.createElement("div",null,v.a.createElement(I,{layerId:a,label:r,onEdit:o,onFocus:i,onBlur:l}),v.a.createElement("div",{className:"layer__title__type"},n&&v.a.createElement(D.FormattedMessage,{id:"layer.type.".concat(n.toLowerCase())}))))}}function N(e){return function(t){var n=t.isConfigActive,a=t.allowDuplicate,r=t.isVisible,o=t.isValid,i=t.layerId,l=t.onToggleVisibility,c=t.onResetIsValid,s=t.onToggleEnableConfig,u=t.onDuplicateLayer,d=t.onRemoveLayer,p=t.onZoomToLayer,f=t.showRemoveLayer,g=t.isEditingLabel,m=t.actionIcons,h=void 0===m?V:m;return v.a.createElement(P,{className:"layer-panel__header__actions",isEditingLabel:g},v.a.createElement(L,{isConfigActive:n},f?v.a.createElement(e,{className:"layer__remove-layer",testId:"remove-layer-action",id:i,tooltip:"tooltip.removeLayer",onClick:d,tooltipType:"error",IconComponent:h.remove}):null,v.a.createElement(e,{className:"layer__duplicate",id:i,tooltip:"tooltip.duplicateLayer",onClick:u,IconComponent:h.duplicate,disabled:!a}),v.a.createElement(e,{className:"layer__zoom-to-layer",id:i,tooltip:"tooltip.zoomToLayer",onClick:p,IconComponent:h.crosshairs})),o?v.a.createElement(e,{className:"layer__visibility-toggle",id:i,tooltip:r?"tooltip.hideLayer":"tooltip.showLayer",onClick:l,IconComponent:r?h.visible:h.hidden}):v.a.createElement(e,{className:"layer__is-valid-refresh",id:i,tooltip:"tooltip.resetAfterError",onClick:c,IconComponent:h.resetIsValid}),v.a.createElement(e,{className:E()("layer__enable-config ",{"is-open":n}),id:i,tooltip:"tooltip.layerSettings",onClick:s,IconComponent:h.enableConfig}))}}N.deps=[O.a];var B=C.default.div(u||(u=h()(["\n  position: absolute;\n  right: -9px;\n  top: calc(50% - 9px);\n  color: ",";\n"])),(function(e){return e.theme.notificationColors.warning})),U=function(e){var t=e.warning,n=e.id;return v.a.createElement(B,null,v.a.createElement(_.WarningSign,{"data-tip":!0,"data-for":"layer-".concat(n,"-warning"),height:"16px"}),v.a.createElement(S.R,{id:"layer-".concat(n,"-warning"),type:"warning",effect:"solid",textColor:"black"},t))},V={remove:_.Trash,visible:_.EyeSeen,hidden:_.EyeUnseen,enableConfig:_.ArrowDown,duplicate:_.Copy,resetIsValid:_.Reset,crosshairs:_.Crosshairs};function z(e,t){var n=function(n){var a=n.isConfigActive,r=n.isDragNDropEnabled,o=n.isValid,i=n.warning,l=n.label,c=n.layerId,s=n.layerType,u=n.labelRCGColorValues,d=n.onUpdateLayerLabel,f=n.onToggleEnableConfig,m=n.listeners,h=Object(y.useState)(!1),b=p()(h,2),C=b[0],O=b[1];return v.a.createElement(w,{className:E()("layer-panel__header",{"sort--handle":!a}),isValid:o,warning:i,active:a,labelRCGColorValues:u,onClick:f},i?v.a.createElement(U,{warning:i,id:c}):null,v.a.createElement(T,{className:"layer-panel__header__content"},r?v.a.createElement(M,{className:"layer__drag-handle",listeners:m},v.a.createElement(_.VertDots,{height:"20px"})):v.a.createElement("div",{className:"layer__drag-handle__placeholder"}),v.a.createElement(e,{layerId:c,label:l,onUpdateLayerLabel:d,layerType:s,onFocus:function(){O(!0)},onBlur:function(){O(!1)}})),v.a.createElement(t,g()({},n,{isEditingLabel:C})))};return n.defaultProps=k,n}z.deps=[R,N],t.e=z},271:function(e,t,n){"use strict";n.d(t,"d",(function(){return ae})),n.d(t,"c",(function(){return re})),n.d(t,"e",(function(){return oe})),n.d(t,"b",(function(){return ie})),n.d(t,"a",(function(){return le}));var a=n(1),r=n.n(a),o=n(14),i=n.n(o),l=n(8),c=n.n(l),s=n(9),u=n.n(s),d=n(12),p=n.n(d),f=n(7),g=n.n(f),m=n(11),h=n.n(m),y=n(6),v=n.n(y),b=n(0),E=n.n(b),C=n(5),O=n(19),S=n(15),_=n(87),D=n(10),x=n.n(D),k=n(596),A=n(166),w=n(254),T=n(13),P=function(e){var t=e.label,n=e.onSelect,a=e.options,r=e.scaleType,o=e.disabled,i=void 0!==o&&o;return E.a.createElement(S.z,null,E.a.createElement(S.q,null,E.a.createElement(O.FormattedMessage,{id:t?"scale.".concat(Object(T.camelize)(t)):"misc.scale",defaultMessage:t})),E.a.createElement(_.a,{disabled:i,selectedItems:r,options:a,multiSelect:!1,searchable:!1,onChange:n}))},L=n(144);function j(e,t,n){return t=g()(t),p()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],g()(e).constructor):t.apply(e,n))}function M(e,t){var n=function(n){function a(){var e;c()(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=j(this,a,[].concat(n)),r()(x()(e),"_updateVisByField",(function(t){e.props.updateField(t)})),e}return h()(a,n),u()(a,[{key:"render",value:function(){var n=this.props,a=n.property,r=n.showScale,o=n.selectedField,i=n.description,l=n.label,c=n.intl,s=n.scaleOptions,u=void 0===s?[]:s;return E.a.createElement(S.z,null,E.a.createElement(S.z,null,E.a.createElement(S.s,null,E.a.createElement(S.q,null,l&&E.a.createElement(k.a,{id:l})||E.a.createElement(k.a,{id:"layer.propertyBasedOn",values:{property:c.formatMessage({id:"property.".concat(Object(T.camelize)(a)),defaultMessage:a})}})),i&&E.a.createElement(e,{description:i,property:a,id:"".concat(this.props.id,"-").concat(a)})),E.a.createElement(t,{fields:this.props.fields,value:o&&o.name,placeholder:this.props.placeholder,onSelect:this._updateVisByField,erasable:!0})),E.a.createElement("div",null,r?E.a.createElement(P,{scaleType:this.props.scaleType,options:u,label:"".concat(a," scale"),onSelect:this.props.updateScale,disabled:u.length<2}):null))}}]),a}(b.Component);return Object(A.c)(n)}M.deps=[w.a,L.b];var F,I,R,N=M,B=n(581),U=n(691),V=n(347),z=n(580),G=n(579),H=n(78),q=n(693),W=n(260),Y=n(695),K=C.default.div.attrs({className:"layer-error-message-content"})(F||(F=v()(["\n  background-color: ",";\n  color: #fff;\n  display: block;\n  width: 100%;\n  font-size: 11px;\n  padding: 1em;\n  border-radius: 4px;\n"])),(function(e){return e.theme.notificationColors.error||"#000"})),Z=function(e){var t=e.errorMessage;return E.a.createElement(K,null,E.a.createElement(O.FormattedMessage,{id:"layer.layerUpdateError",values:{errorMessage:t}}))},X=n(4);function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $(e,t,n){return t=g()(t),p()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],g()(e).constructor):t.apply(e,n))}var ee=C.default.div.attrs({className:"layer-panel__config"})(I||(I=v()(["\n  position: relative;\n  margin-top: ",";\n  padding: ",";\n  border-left: "," dashed\n    ",";\n"])),(function(e){return e.theme.layerConfiguratorMargin}),(function(e){return e.theme.layerConfiguratorPadding}),(function(e){return e.theme.layerConfiguratorBorder}),(function(e){return e.theme.layerConfiguratorBorderColor})),te=C.default.div.attrs({className:"layer-panel__config__visualC-config"})(R||(R=v()(["\n  margin-top: 12px;\n"]))),ne=function(e,t){var n;return null!==(n=t.config)&&void 0!==n&&n.dataId&&e[t.config.dataId]?e[t.config.dataId].fields:[]},ae=function(e,t){var n;return null!==(n=t.config)&&void 0!==n&&n.dataId&&e[t.config.dataId]?e[t.config.dataId]:null},re=function(e){return{layer:e.layer,fields:ne(e.datasets,e.layer),onChange:e.updateLayerConfig,setColorUI:e.updateLayerColorUI}},oe=function(e){return{layer:e.layer,fields:ne(e.datasets,e.layer),onChange:e.updateLayerVisConfig,setColorUI:e.updateLayerColorUI}};function ie(e,t,n,a,r,o,l,s,d,p,f){return function(g){function m(){return c()(this,m),$(this,m,arguments)}return h()(m,g),u()(m,[{key:"_renderPointLayerConfig",value:function(e){return this._renderScatterplotLayerConfig(e)}},{key:"_renderIconLayerConfig",value:function(e){return this._renderScatterplotLayerConfig(e)}},{key:"_renderScatterplotLayerConfig",value:function(e){var o=e.layer,l=e.visConfiguratorProps,c=e.layerChannelConfigProps,u=e.layerConfiguratorProps;return E.a.createElement(te,null,E.a.createElement(a,i()({},o.visConfigSettings.filled||{label:"layer.color"},l,{collapsible:!0}),o.config.colorField?E.a.createElement(p,l):E.a.createElement(d,u),E.a.createElement(H.a,null,E.a.createElement(r,i()({channel:o.visualChannels.color},c)),E.a.createElement(t,i()({},o.visConfigSettings.opacity,l)))),o.type===X.LAYER_TYPES.point?E.a.createElement(a,i()({},o.visConfigSettings.outline,l,{collapsible:!0}),o.config.strokeColorField?E.a.createElement(p,i()({},l,{property:"strokeColorRange"})):E.a.createElement(d,i()({},l,{selectedColor:o.config.visConfig.strokeColor,property:"strokeColor"})),E.a.createElement(H.a,null,E.a.createElement(r,i()({channel:o.visualChannels.strokeColor},c)),E.a.createElement(t,i()({},o.visConfigSettings.thickness,l,{disabled:!o.config.visConfig.outline})))):null,E.a.createElement(a,{label:"layer.radius",collapsible:!0},o.config.sizeField?E.a.createElement(t,i()({},o.visConfigSettings.radiusRange,l,{label:!1,disabled:!o.config.sizeField||o.config.visConfig.fixedRadius})):E.a.createElement(t,i()({},o.visConfigSettings.radius,l,{label:!1,disabled:Boolean(o.config.sizeField)})),E.a.createElement(H.a,null,E.a.createElement(r,i()({channel:o.visualChannels.size},c)),o.config.sizeField?E.a.createElement(s,i()({},o.visConfigSettings.fixedRadius,l)):null)),E.a.createElement(n,{id:o.id,fields:l.fields,updateLayerTextLabel:this.props.updateLayerTextLabel,textLabel:o.config.textLabel}))}},{key:"_renderClusterLayerConfig",value:function(e){var n=e.layer,o=e.visConfiguratorProps,l=e.layerConfiguratorProps,c=e.layerChannelConfigProps;return E.a.createElement(te,null,E.a.createElement(a,{label:"layer.color",collapsible:!0},E.a.createElement(p,o),E.a.createElement(H.a,null,E.a.createElement(ce,i()({},l,{channel:n.visualChannels.color})),E.a.createElement(r,i()({channel:n.visualChannels.color},c)),n.visConfigSettings.colorAggregation.condition(n.config)?E.a.createElement(se,i()({},n.visConfigSettings.colorAggregation,c,{channel:n.visualChannels.color})):null,E.a.createElement(t,i()({},n.visConfigSettings.opacity,o)))),E.a.createElement(a,{label:"layer.radius",collapsible:!0},E.a.createElement(t,i()({},n.visConfigSettings.clusterRadius,o)),E.a.createElement(H.a,null,E.a.createElement(t,i()({},n.visConfigSettings.radiusRange,o)))))}},{key:"_renderHeatmapLayerConfig",value:function(e){var n=e.layer,o=e.visConfiguratorProps,l=(e.layerConfiguratorProps,e.layerChannelConfigProps);return E.a.createElement(te,null,E.a.createElement(a,{label:"layer.color",collapsible:!0},E.a.createElement(p,o),E.a.createElement(H.a,null,E.a.createElement(t,i()({},n.visConfigSettings.opacity,o)))),E.a.createElement(a,{label:"layer.radius"},E.a.createElement(t,i()({},n.visConfigSettings.radius,o,{label:!1}))),E.a.createElement(a,{label:"layer.weight"},E.a.createElement(r,i()({channel:n.visualChannels.weight},l))))}},{key:"_renderGridLayerConfig",value:function(e){return this._renderAggregationLayerConfig(e)}},{key:"_renderHexagonLayerConfig",value:function(e){return this._renderAggregationLayerConfig(e)}},{key:"_renderAggregationLayerConfig",value:function(e){var n=e.layer,o=e.visConfiguratorProps,l=e.layerConfiguratorProps,c=e.layerChannelConfigProps,u=n.config.visConfig.enable3d;return E.a.createElement(te,null,E.a.createElement(a,{label:"layer.color",collapsible:!0},E.a.createElement(p,o),E.a.createElement(H.a,null,E.a.createElement(ce,i()({},l,{channel:n.visualChannels.color})),E.a.createElement(r,i()({channel:n.visualChannels.color},c)),n.visConfigSettings.colorAggregation.condition(n.config)?E.a.createElement(se,i()({},n.visConfigSettings.colorAggregation,c,{description:"layer.colorByDescription",channel:n.visualChannels.color})):null,n.visConfigSettings.percentile&&n.visConfigSettings.percentile.condition(n.config)?E.a.createElement(t,i()({},n.visConfigSettings.percentile,o)):null,E.a.createElement(t,i()({},n.visConfigSettings.opacity,o)))),E.a.createElement(a,{label:"layer.radius",collapsible:!0},E.a.createElement(t,i()({},n.visConfigSettings.worldUnitSize,o)),E.a.createElement(H.a,null,E.a.createElement(t,i()({},n.visConfigSettings.coverage,o)))),n.visConfigSettings.enable3d?E.a.createElement(a,i()({},n.visConfigSettings.enable3d,o,{collapsible:!0}),E.a.createElement(t,i()({},n.visConfigSettings.elevationScale,o,{label:"layerVisConfigs.heightMultiplier"})),E.a.createElement(H.a,null,E.a.createElement(r,i()({},c,{channel:n.visualChannels.size,description:"layer.elevationByDescription",disabled:!u})),E.a.createElement(ce,i()({},l,{channel:n.visualChannels.size})),E.a.createElement(t,i()({},n.visConfigSettings.sizeRange,o,{label:"layerVisConfigs.heightRange"})),E.a.createElement(s,i()({},n.visConfigSettings.enableElevationZoomFactor,o,{label:"layerVisConfigs.enableHeightZoomFactor"})),n.visConfigSettings.sizeAggregation.condition(n.config)?E.a.createElement(se,i()({},n.visConfigSettings.sizeAggregation,c,{channel:n.visualChannels.size})):null,n.visConfigSettings.elevationPercentile.condition(n.config)?E.a.createElement(t,i()({},n.visConfigSettings.elevationPercentile,o)):null)):null)}},{key:"_renderHexagonIdLayerConfig",value:function(e){var o=e.layer,l=e.visConfiguratorProps,c=e.layerConfiguratorProps,u=e.layerChannelConfigProps;return E.a.createElement(te,null,E.a.createElement(a,i()({},o.visConfigSettings.filled,l,{label:"layer.fillColor",collapsible:!0}),o.config.colorField?E.a.createElement(p,l):E.a.createElement(d,c),E.a.createElement(H.a,null,E.a.createElement(r,i()({channel:o.visualChannels.color},u)),E.a.createElement(t,i()({},o.visConfigSettings.opacity,l,{disabled:!o.config.visConfig.filled})))),E.a.createElement(a,i()({},o.visConfigSettings.outline,l,{collapsible:!0}),E.a.createElement(r,i()({channel:o.visualChannels.strokeColor},u)),o.config.strokeColorField?E.a.createElement(p,i()({},l,{property:"strokeColorRange"})):E.a.createElement(d,i()({},l,{selectedColor:o.config.visConfig.strokeColor,property:"strokeColor"})),E.a.createElement(H.a,null,E.a.createElement(t,i()({},o.visConfigSettings.strokeOpacity,l,{disabled:!o.config.visConfig.outline})),E.a.createElement(t,i()({},o.visConfigSettings.thickness,l,{disabled:!o.config.visConfig.outline})))),E.a.createElement(a,{label:"layer.coverage",collapsible:!0},o.config.coverageField?E.a.createElement(t,i()({},o.visConfigSettings.coverageRange,l,{label:!1})):E.a.createElement(t,i()({},o.visConfigSettings.coverage,l,{label:!1})),E.a.createElement(H.a,null,E.a.createElement(r,i()({channel:o.visualChannels.coverage},u)))),E.a.createElement(a,i()({},o.visConfigSettings.enable3d,l,{collapsible:!0}),E.a.createElement(r,i()({channel:o.visualChannels.size},u)),E.a.createElement(H.a,null,E.a.createElement(t,i()({},o.visConfigSettings.elevationScale,l)),E.a.createElement(t,i()({},o.visConfigSettings.sizeRange,l,{label:"layerVisConfigs.heightRange"})),E.a.createElement(s,i()({},o.visConfigSettings.enableElevationZoomFactor,l)))),E.a.createElement(n,{id:o.id,fields:l.fields,updateLayerTextLabel:this.props.updateLayerTextLabel,textLabel:o.config.textLabel}))}},{key:"_renderArcLayerConfig",value:function(e){return this._renderLineLayerConfig(e)}},{key:"_renderLineLayerConfig",value:function(e){var n=e.layer,o=e.visConfiguratorProps,l=e.layerConfiguratorProps,c=e.layerChannelConfigProps;return E.a.createElement(te,null,E.a.createElement(a,{label:"layer.color",collapsible:!0},n.config.colorField?E.a.createElement(p,o):E.a.createElement(f,{layer:n,setColorUI:l.setColorUI,onChangeConfig:l.onChange,onChangeVisConfig:o.onChange}),E.a.createElement(H.a,null,E.a.createElement(r,i()({channel:n.visualChannels.sourceColor},c)),E.a.createElement(t,i()({},n.visConfigSettings.opacity,o)))),E.a.createElement(a,{label:"layer.stroke",collapsible:!0},n.config.sizeField?E.a.createElement(t,i()({},n.visConfigSettings.sizeRange,o,{disabled:!n.config.sizeField,label:!1})):E.a.createElement(t,i()({},n.visConfigSettings.thickness,o,{label:!1})),E.a.createElement(H.a,null,E.a.createElement(r,i()({channel:n.visualChannels.size},c)))),n.visConfigSettings.elevationScale?E.a.createElement(a,{label:"layerVisConfigs.elevationScale",collapsible:!0},E.a.createElement(t,i()({},n.visConfigSettings.elevationScale,o))):null)}},{key:"_renderTripLayerConfig",value:function(e){var n=e.layer,o=e.visConfiguratorProps,l=e.layerConfiguratorProps,c=e.layerChannelConfigProps,s=n.meta.featureTypes,u=void 0===s?{}:s;return E.a.createElement(te,null,E.a.createElement(a,{label:"layer.color",collapsible:!0},n.config.colorField?E.a.createElement(p,o):E.a.createElement(d,l),E.a.createElement(H.a,null,E.a.createElement(r,i()({channel:n.visualChannels.color},c)),E.a.createElement(t,i()({},n.visConfigSettings.opacity,o)))),E.a.createElement(a,i()({},o,{label:"layer.strokeWidth",collapsible:!0}),n.config.sizeField?E.a.createElement(t,i()({},n.visConfigSettings.sizeRange,o,{label:!1})):E.a.createElement(t,i()({},n.visConfigSettings.thickness,o,{label:!1})),E.a.createElement(H.a,null,E.a.createElement(r,i()({channel:n.visualChannels.size},c)))),E.a.createElement(a,i()({},o,u.polygon?n.visConfigSettings.stroked:{},{label:"layer.trailLength",description:"layer.trailLengthDescription"}),E.a.createElement(t,i()({},n.visConfigSettings.trailLength,o,{label:!1}))))}},{key:"_renderGeojsonLayerConfig",value:function(e){var n=e.layer,o=e.visConfiguratorProps,l=e.layerConfiguratorProps,c=e.layerChannelConfigProps,u=n.meta.featureTypes,f=void 0===u?{}:u,g=n.config.visConfig;return E.a.createElement(te,null,f.polygon||f.point?E.a.createElement(a,i()({},n.visConfigSettings.filled,o,{label:"layer.fillColor",collapsible:!0}),n.config.colorField?E.a.createElement(p,o):E.a.createElement(d,l),E.a.createElement(H.a,null,E.a.createElement(r,i()({channel:n.visualChannels.color},c)),E.a.createElement(t,i()({},n.visConfigSettings.opacity,o)))):null,E.a.createElement(a,i()({},n.visConfigSettings.stroked,o,{label:"layer.strokeColor",collapsible:!0}),n.config.strokeColorField?E.a.createElement(p,i()({},o,{property:"strokeColorRange"})):E.a.createElement(d,i()({},o,{selectedColor:n.config.visConfig.strokeColor,property:"strokeColor"})),E.a.createElement(H.a,null,E.a.createElement(r,i()({channel:n.visualChannels.strokeColor},c)),E.a.createElement(t,i()({},n.visConfigSettings.strokeOpacity,o)))),E.a.createElement(a,i()({},o,f.polygon?n.visConfigSettings.stroked:{},{label:"layer.strokeWidth",collapsible:!0}),n.config.sizeField?E.a.createElement(t,i()({},n.visConfigSettings.sizeRange,o,{label:!1})):E.a.createElement(t,i()({},n.visConfigSettings.thickness,o,{label:!1})),E.a.createElement(H.a,null,E.a.createElement(r,i()({channel:n.visualChannels.size},c)))),f.polygon?E.a.createElement(a,i()({},o,n.visConfigSettings.enable3d,{disabled:!g.filled,collapsible:!0}),E.a.createElement(t,i()({},n.visConfigSettings.elevationScale,o,{label:!1})),E.a.createElement(H.a,null,E.a.createElement(r,i()({channel:n.visualChannels.height},c)),E.a.createElement(s,i()({},n.visConfigSettings.fixedHeight,o)),E.a.createElement(s,i()({},o,n.visConfigSettings.wireframe)))):null,f.point?E.a.createElement(a,{label:"layer.radius",collapsible:!0},n.config.radiusField?E.a.createElement(t,i()({},n.visConfigSettings.radiusRange,o,{label:!1,disabled:!n.config.radiusField})):E.a.createElement(t,i()({},n.visConfigSettings.radius,o,{label:!1,disabled:Boolean(n.config.radiusField)})),E.a.createElement(H.a,null,E.a.createElement(r,i()({channel:n.visualChannels.radius},c)))):null)}},{key:"_render3DLayerConfig",value:function(e){var n=e.layer,r=e.visConfiguratorProps;return E.a.createElement(b.Fragment,null,E.a.createElement(a,{label:"layer.3DModel",collapsible:!0},E.a.createElement(S.k,{type:"file",accept:".glb,.gltf",onChange:function(e){if(e.target.files&&e.target.files[0]){var t=URL.createObjectURL(e.target.files[0]);r.onChange({scenegraph:t})}}})),E.a.createElement(a,{label:"layer.3DModelOptions",collapsible:!0},E.a.createElement(t,i()({},n.visConfigSettings.sizeScale,r,{disabled:!1})),E.a.createElement(t,i()({},n.visConfigSettings.angleX,r,{disabled:!1})),E.a.createElement(t,i()({},n.visConfigSettings.angleY,r,{disabled:!1})),E.a.createElement(t,i()({},n.visConfigSettings.angleZ,r,{disabled:!1}))))}},{key:"_renderS2LayerConfig",value:function(e){var n=e.layer,o=e.visConfiguratorProps,l=e.layerConfiguratorProps,c=e.layerChannelConfigProps,u=n.config.visConfig;return E.a.createElement(te,null,E.a.createElement(a,i()({},n.visConfigSettings.filled,o,{label:"layer.fillColor",collapsible:!0}),n.config.colorField?E.a.createElement(p,o):E.a.createElement(d,l),E.a.createElement(H.a,null,E.a.createElement(r,i()({channel:n.visualChannels.color},c)),E.a.createElement(t,i()({},n.visConfigSettings.opacity,o)))),E.a.createElement(a,i()({},n.visConfigSettings.stroked,o,{label:"layer.strokeColor",collapsible:!0}),n.config.strokeColorField?E.a.createElement(p,i()({},o,{property:"strokeColorRange"})):E.a.createElement(d,i()({},o,{selectedColor:n.config.visConfig.strokeColor,property:"strokeColor"})),E.a.createElement(H.a,null,E.a.createElement(r,i()({channel:n.visualChannels.strokeColor},c)))),E.a.createElement(a,i()({},o,{label:"layer.strokeWidth",collapsible:!0}),n.config.sizeField?E.a.createElement(t,i()({},n.visConfigSettings.sizeRange,o,{label:!1})):E.a.createElement(t,i()({},n.visConfigSettings.thickness,o,{label:!1})),E.a.createElement(H.a,null,E.a.createElement(r,i()({channel:n.visualChannels.size},c)))),E.a.createElement(a,i()({},o,n.visConfigSettings.enable3d,{disabled:!u.filled,collapsible:!0}),E.a.createElement(r,i()({channel:n.visualChannels.height},c)),E.a.createElement(t,i()({},n.visConfigSettings.elevationScale,o,{label:"layerVisConfigs.elevationScale"})),E.a.createElement(H.a,null,E.a.createElement(t,i()({},n.visConfigSettings.heightRange,o,{label:"layerVisConfigs.heightRange"})),E.a.createElement(s,i()({},n.visConfigSettings.enableElevationZoomFactor,o)),E.a.createElement(s,i()({},o,n.visConfigSettings.wireframe)))))}},{key:"render",value:function(){var t,n=this,r=this.props,i=r.layer,c=r.datasets,s=r.updateLayerConfig,u=r.layerTypeOptions,d=r.updateLayerType,p=r.disableTypeSelect,f=void 0!==p&&p,g=i.config.dataId?c[i.config.dataId]:{},m=g.fields,h=void 0===m?[]:m,y=g.fieldPairs,v=void 0===y?void 0:y,b=i.config,C=oe(this.props),O=re(this.props),S={layer:(t=this.props).layer,fields:ne(t.datasets,t.layer),onChange:t.updateLayerVisualChannelConfig},_=ae(c,i),D=i.type&&"_render".concat(Object(T.capitalizeFirstLetter)(i.type),"LayerConfig");return E.a.createElement(ee,null,i.layerInfoModal?E.a.createElement(Y.a,{onClick:function(){return n.props.openModal(i.layerInfoModal)}}):null,E.a.createElement(a,{label:"layer.basic",collapsible:!0,expanded:!i.hasAllColumns()},E.a.createElement(l,{selected:i.type,disabled:f,options:u,onSelect:d}),E.a.createElement(H.a,null,E.a.createElement(e,{datasets:c,id:i.id,dataId:b.dataId,onSelect:function(e){return s({dataId:e})}}),E.a.createElement(o,{columnPairs:i.columnPairs,columns:i.config.columns,assignColumnPairs:i.assignColumnPairs.bind(i),assignColumn:i.assignColumn.bind(i),columnLabels:i.columnLabels,fields:h,fieldPairs:v,updateLayerConfig:s})),i.errorMessage?E.a.createElement(Z,{errorMessage:i.errorMessage}):null),D&&this[D]&&this[D]({layer:i,dataset:_,visConfiguratorProps:C,layerChannelConfigProps:S,layerConfiguratorProps:O}))}}]),m}(b.Component)}function le(e){return function(t){var n=t.layer,a=t.channel,o=t.onChange,i=t.fields,l=t.description,c=a.channelScaleType,s=a.field,u=a.key,d=a.property,p=a.scale,f=a.defaultMeasure,g=a.supportedFieldTypes||X.CHANNEL_SCALE_SUPPORTED_FIELDS[c],m=i.filter((function(e){var t=e.type;return g.includes(t)})),h=n.getScaleOptions(a.key),y=!n.isAggregated&&n.config[p]&&h.length>1;return E.a.createElement(e,{channel:a.key,description:l||"layerConfiguration.defaultDescription",fields:m,id:n.id,key:"".concat(u,"-channel-selector"),property:d,placeholder:f||"placeholder.selectField",scaleOptions:h,scaleType:p?n.config[p]:null,selectedField:n.config[s],showScale:y,updateField:function(e){return o(r()({},s,e),u)},updateScale:function(e){return o(r()({},p,e),u)}})}}ie.deps=[V.a,G.a,q.a,H.e,le,B.a,U.a,z.a,W.c,W.b,W.a],le.deps=[N];var ce=function(e){var t=e.channel,n=e.layer,a=e.onChange,o=t.scale,i=t.key,l=n.getScaleOptions(i);return Array.isArray(l)&&l.length>1?E.a.createElement(P,{label:"".concat(i," Scale"),options:l,scaleType:n.config[o],onSelect:function(e){return a(r()({},o,e),i)}}):null},se=function(e){var t=e.channel,n=e.layer,a=e.onChange,o=t.field,i=t.aggregation,l=t.key,c=n.config[o],s=n.config.visConfig,u=n.getAggregationOptions(l),d=X.AGGREGATION_TYPE_OPTIONS.filter((function(e){var t=e.id;return u.includes(t)})),p=i?d.find((function(e){return e.id===s[i]})):[];return E.a.createElement(S.z,null,E.a.createElement(S.q,null,E.a.createElement(O.FormattedMessage,{id:"layer.aggregateBy",values:{field:c.displayName}})),E.a.createElement(_.a,{selectedItems:p,options:d,displayOption:"label",getOptionValue:"id",multiSelect:!1,searchable:!1,onChange:function(e){return a({visConfig:Q(Q({},n.config.visConfig),{},r()({},i,e))},t.key)}}))}},292:function(e,t,n){"use strict";n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return v})),n.d(t,"a",(function(){return E}));var a,r,o,i=n(14),l=n.n(i),c=n(50),s=n.n(c),u=n(6),d=n.n(u),p=n(0),f=n.n(p),g=n(5),m=n(15),h=["children"],y=Object(g.default)(m.D)(a||(a=d()(["\n  margin-top: ","px;\n"])),(function(e){return e.theme.exportIntraSectionMargin})),v=g.default.span(r||(r=d()(["\n  color: ",";\n  font-weight: ",";\n"])),(function(e){return e.theme.errorColor}),(function(e){return e.theme.selectFontWeightBold})),b=g.default.a(o||(o=d()(["\n  text-decoration-line: underline !important;\n"]))),E=function(e){var t=e.children,n=s()(e,h);return f.a.createElement(b,l()({target:"_blank",rel:"noopener noreferrer"},n),t)}},310:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a,r,o,i=n(6),l=n.n(i),c=n(0),s=n.n(c),u=n(5),d=n(22),p=n(15),f=n(794),g=n(483),m=Object(g.a)(),h=function(e){var t=e.error,n=Object(c.useMemo)((function(){return{type:"error",message:t,id:"cloud-export-error"}}),[t]);return s.a.createElement(f.a,null,s.a.createElement(m,{notification:n,isExpanded:!0}))},y=n(19),v=u.default.div(a||(a=l()(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n"]))),b=u.default.div(r||(r=l()(["\n  color: ",";\n  margin-right: 16px;\n  margin-top: 4px;\n"])),(function(e){return e.theme.textColorLT})),E=u.default.svg(o||(o=l()(["\n  margin-right: 16px;\n\n  line {\n    stroke: ",";\n    stroke-width: 4;\n    stroke-linecap: square;\n    stroke-dasharray: 5 12;\n    animation: dash-animation 25s infinite linear;\n  }\n  circle {\n    fill: ",";\n  }\n\n  @keyframes dash-animation {\n    to {\n      stroke-dashoffset: -1000;\n    }\n  }\n"])),(function(e){return e.theme.selectBorderColorLT}),(function(e){return e.theme.selectBorderColorLT})),C=function(){return s.a.createElement(E,{height:"5px",width:"150px"},s.a.createElement("line",{x1:"0",y1:"4",x2:"150",y2:"4"}))},O=function(e){return s.a.createElement(v,null,s.a.createElement(b,null,s.a.createElement(d.MapIcon,{height:"48px"})),s.a.createElement(C,null),e.icon&&s.a.createElement(e.icon,{height:"64px"}))};t.b=function(e){var t=e.error,n=e.isLoading,a=e.providerIcon;return s.a.createElement(p.D,null,s.a.createElement("div",{className:"description"},s.a.createElement("div",{className:"title"},n?s.a.createElement(y.FormattedMessage,{id:"modal.statusPanel.mapUploading"}):t?s.a.createElement(y.FormattedMessage,{id:"modal.statusPanel.error"}):null)),s.a.createElement("div",{className:"selection"},n&&s.a.createElement(O,{icon:a}),t&&s.a.createElement(h,{error:t})))}},338:function(e,t,n){"use strict";n.d(t,"b",(function(){return $})),n.d(t,"c",(function(){return ee})),n.d(t,"d",(function(){return ne})),n.d(t,"a",(function(){return ae}));var a=n(50),r=n.n(a),o=n(8),i=n.n(o),l=n(9),c=n.n(l),s=n(12),u=n.n(s),d=n(7),p=n.n(d),f=n(11),g=n.n(f),m=n(1),h=n.n(m),y=n(14),v=n.n(y),b=n(6),E=n.n(b),C=n(0),O=n.n(C),S=n(5),_=n(25),D=n.n(_),x=n(47),k=n(15),A=n(470),w=n(22),T=n(10),P=n.n(T),L=n(193);function j(e,t,n){return t=p()(t),u()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],p()(e).constructor):t.apply(e,n))}var M=function(e){function t(){var e;i()(this,t);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=j(this,t,[].concat(a)),h()(P()(e),"handleClickOutside",(function(t){"function"==typeof e.props.onClose&&e.props.show&&e.props.onClose(t)})),e}return g()(t,e),c()(t,[{key:"render",value:function(){return O.a.createElement(k.L,{type:this.props.type,className:this.props.className},this.props.children)}}]),t}(C.Component);h()(M,"defaultProps",{show:!0,type:"dark"});var F,I,R,N,B,U=Object(L.default)(M),V=n(792),z=n(280),G=n(19),H=["appName","appWebsite","version","actionItems","visibleDropdown","showExportDropdown","hideExportDropdown"];function q(e,t,n){return t=p()(t),u()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],p()(e).constructor):t.apply(e,n))}function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var K=S.default.div.attrs((function(e){return{className:D()("side-side-panel__header",e.className)}}))(F||(F=E()(["\n  background-color: ",";\n  padding: 12px 16px 0 16px;\n"])),(function(e){return e.theme.sidePanelHeaderBg})),Z=S.default.div.attrs((function(e){return{className:D()("side-panel__header__top",e.className)}}))(I||(I=E()(["\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 16px;\n  width: 100%;\n"]))),X=S.default.div.attrs({className:"side-panel__top__actions"})(R||(R=E()(["\n  display: flex;\n"]))),J=S.default.div.attrs({className:"side-panel__panel-header__action"})(N||(N=E()(["\n  align-items: center;\n  border-radius: 2px;\n  color: ",";\n  display: flex;\n  height: 26px;\n  justify-content: space-between;\n  margin-left: 4px;\n  padding: 5px;\n  font-weight: bold;\n  p {\n    display: inline-block;\n    margin-right: 6px;\n  }\n  a {\n    height: 20px;\n  }\n\n  :hover {\n    cursor: pointer;\n    color: ",";\n\n    a {\n      color: ",";\n    }\n  }\n"])),(function(e){return e.active?e.theme.textColorHl:e.theme.subtextColor}),(function(e){return e.theme.textColorHl}),(function(e){return e.theme.textColorHl})),Q=Object(S.default)(V.a)(B||(B=E()(["\n  position: absolute;\n"]))),$=O.a.memo((function(e){var t=e.item,n=e.showExportDropdown,a=Object(C.useCallback)((function(){t.dropdownComponent?n(t.id):t.onClick&&t.onClick()}),[t,n]);return O.a.createElement(J,{id:"".concat(t.id,"-action"),"data-tip":!0,"data-for":"".concat(t.id,"-action"),onClick:a},t.label?O.a.createElement("p",null,t.label):null,O.a.createElement("a",{target:t.blank?"_blank":"",href:t.href,rel:"noreferrer"},O.a.createElement(t.iconComponent,v()({height:"20px"},t.iconComponentProps))),t.tooltip?O.a.createElement(k.R,{id:"".concat(t.id,"-action"),place:"bottom",delayShow:500,effect:"solid"},O.a.createElement(G.FormattedMessage,{id:t.tooltip})):null)}));$.displayName="PanelAction";var ee=function(){return function(e){var t=e.items,n=e.show,a=e.onClose,r=e.id;return O.a.createElement(Q,{show:n,className:"".concat(r,"-dropdown")},O.a.createElement(U,{className:"panel-header-dropdown__inner",show:n,onClose:a},t.map((function(e){return O.a.createElement(z.a,{id:e.key,key:e.key,label:e.label,icon:e.icon,onClick:e.onClick,onClose:a})}))))}},te=function(){return Object(x.createSelector)((function(e){return e}),(function(e){return(e.items||[]).map((function(t){return Y(Y({},t),{},{onClick:t.onClick&&t.onClick(e)?t.onClick(e):null})})).filter((function(e){return e.onClick}))}))},ne=function(e){var t=te(),n=function(n){return O.a.createElement(e,{items:t(n),show:n.show,onClose:n.onClose,id:"save-export"})};return n.defaultProps={items:[{label:"toolbar.exportImage",icon:w.Picture,key:"image",onClick:function(e){return e.onExportImage}},{label:"toolbar.exportData",icon:w.DataTable,key:"data",onClick:function(e){return e.onExportData}},{label:"toolbar.exportMap",icon:w.Map,key:"map",onClick:function(e){return e.onExportMap}},{label:"toolbar.saveMap",icon:w.Save2,key:"save",onClick:function(e){return e.onSaveMap}},{label:"toolbar.shareMapURL",icon:w.Share,key:"share",onClick:function(e){return e.onShareMap}}]},n};ne.deps=[ee];var ae=function(e){var t=te(),n=function(n){return O.a.createElement(e,{items:t(n),show:n.show,onClose:n.onClose,id:"cloud-storage"})};return n.defaultProps={items:[{label:"Save",icon:w.Save2,key:"save",onClick:function(e){return e.onSaveToStorage}},{label:"Save As",icon:w.Save2,key:"saveAs",onClick:function(e){return e.onSaveAsToStorage}}]},n};function re(e,t){var n;return n=function(e){function t(){return i()(this,t),q(this,t,arguments)}return g()(t,e),c()(t,[{key:"render",value:function(){var e=this.props,t=e.appName,n=e.appWebsite,a=e.version,o=e.actionItems,i=e.visibleDropdown,l=e.showExportDropdown,c=e.hideExportDropdown,s=r()(e,H),u=o||[];return"function"!=typeof this.props.onSaveToStorage&&(u=u.filter((function(e){return"storage"!==e.id}))),O.a.createElement(K,{className:"side-panel__panel-header"},O.a.createElement(Z,{className:"side-panel__panel-header__top"},this.props.logoComponent&&O.a.createElement(this.props.logoComponent,{appName:t,version:a,appWebsite:n}),O.a.createElement(X,null,u.map((function(e){return O.a.createElement("div",{className:"side-panel__panel-header__right",key:e.id,style:{position:"relative"}},O.a.createElement($,{item:e,showExportDropdown:l}),e.dropdownComponent?O.a.createElement(e.dropdownComponent,v()({onClose:c,show:i===e.id},s)):null)})))))}}]),t}(C.Component),h()(n,"defaultProps",{logoComponent:A.a,actionItems:[{id:"storage",iconComponent:w.Db,tooltip:"tooltip.cloudStorage",onClick:function(){},dropdownComponent:t},{id:"save",iconComponent:w.Save,onClick:function(){},label:"Share",dropdownComponent:e}]}),n}ae.deps=[ee],re.deps=[ne,ae];t.e=re},347:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(0),r=n.n(a),o=n(15),i=n(87),l=n(348),c=n(19);function s(e){var t=function(t){var n=t.value;return r.a.createElement(e,{dataset:n})},n=function(e){var n=e.dataId,l=e.datasets,s=e.disabled,u=e.onSelect,d=e.defaultValue,p=e.inputTheme,f=Object(a.useMemo)((function(){return Object.values(l).map((function(e){return{label:e.label,value:e.id,color:e.color}}))}),[l]),g=Object(a.useMemo)((function(){return n?(Array.isArray(n)&&n||[n]).map((function(e){return l[e]})):[]}),[n,l]);return r.a.createElement(o.z,{className:"data-source-selector"},r.a.createElement(o.q,null,r.a.createElement(c.FormattedMessage,{id:"misc.dataSource"})),r.a.createElement(i.a,{inputTheme:p,selectedItems:g,options:f,getOptionValue:"value",filterOption:"label",multiSelect:!1,onChange:u,placeholder:d,disabled:Boolean(s),displayOption:"label",DropDownLineItemRenderComponent:t}))};return n.defaultProps={defaultValue:"Select A Dataset"},n}s.deps=[l.a]},348:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a,r,o=n(6),i=n.n(o),l=n(0),c=n.n(l),s=n(19),u=n(5),d=n(62);function p(e){}var f=u.default.div(a||(a=i()(["\n  display: flex;\n  color: ",";\n  font-size: 11px;\n  letter-spacing: 0.2px;\n  overflow: auto;\n\n  .dataset-color {\n    flex-shrink: 0;\n    margin-top: 3px;\n  }\n\n  .dataset-name {\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n"])),(function(e){return e.theme.textColor})),g=u.default.div(r||(r=i()(["\n  display: flex;\n"]))),m=function(e){var t=e.children,n=e.id;return c.a.createElement(g,{className:"dataset-action update-color","data-tip":!0,"data-for":"update-color-".concat(n)},t)};function h(){return function(e){var t=e.onClick,n=void 0===t?p:t,a=e.onClickSquare,r=void 0===a?p:a,o=e.dataset,i=e.updateTableColor;return c.a.createElement(f,{className:"source-data-tag"},c.a.createElement(m,{id:o.id},c.a.createElement(d.DatasetSquare,{className:"dataset-color",backgroundColor:o.color,onClick:r,"data-tip":!0,"data-for":"update-color-".concat(o.id)}),i?c.a.createElement(d.Tooltip,{id:"update-color-".concat(o.id),effect:"solid"},c.a.createElement("span",null,c.a.createElement(s.FormattedMessage,{id:"Update color"}))):null),c.a.createElement("div",{className:"dataset-name",title:o.label,onClick:n},o.label))}}},349:function(e,t,n){"use strict";var a,r,o,i=n(6),l=n.n(i),c=n(0),s=n.n(c),u=n(5),d=n(25),p=n.n(d),f=u.default.div.attrs({className:"color-range-palette__inner"})(a||(a=l()(["\n  border-radius: 2px;\n  display: flex;\n  flex-direction: row;\n  flex-grow: 1;\n  justify-content: space-between;\n  overflow: hidden;\n"]))),g=u.default.div.attrs((function(e){return{className:p()("color-range-palette",e.className)}}))(r||(r=l()(["\n  display: flex;\n  flex-grow: 1;\n  border-width: 1px;\n  border-style: solid;\n  border-color: ",";\n  padding: 4px;\n  border-radius: 4px;\n"])),(function(e){return e.isSelected?"#FFFFFF":"transparent"})),m=u.default.div.attrs({className:"color-range-palette__block"})(o||(o=l()(["\n  flex-grow: 1;\n"]))),h=function(e){var t=e.colors,n=e.height,a=e.className,r=e.isSelected,o=e.isReversed;return s.a.createElement(g,{className:a,isSelected:r},s.a.createElement(f,{style:{height:n,transform:"scale(".concat(o?-1:1,", 1)")}},t.map((function(e,t){return s.a.createElement(m,{key:"".concat(e,"-").concat(t),style:{backgroundColor:String(e)}})}))))};h.defaultProps={height:10,colors:[],className:"",isSelected:!1,isReversed:!1},t.a=h},350:function(e,t,n){"use strict";var a,r=n(8),o=n.n(r),i=n(9),l=n.n(i),c=n(12),s=n.n(c),u=n(7),d=n.n(u),p=n(10),f=n.n(p),g=n(11),m=n.n(g),h=n(1),y=n.n(h),v=n(6),b=n.n(v),E=n(0),C=n.n(E),O=n(5),S=n(932),_=n(193),D=n(47);function x(e,t,n){return t=d()(t),s()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],d()(e).constructor):t.apply(e,n))}var k=O.default.div(a||(a=b()(["\n  .sketch-picker {\n    span {\n      color: "," !important;\n      font-family: ",";\n    }\n    input {\n      text-align: center;\n      font-family: ",";\n      color: "," !important;\n      border-color: "," !important;\n      box-shadow: none !important;\n      background-color: "," !important;\n    }\n  }\n"])),(function(e){return e.theme.labelColor}),(function(e){return e.theme.fontFamily}),(function(e){return e.theme.fontFamily}),(function(e){return e.theme.inputColor}),(function(e){return e.theme.secondaryInputBgd}),(function(e){return e.theme.inputBgdHover})),A=[],w=function(e){function t(){var e;o()(this,t);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=x(this,t,[].concat(a)),y()(f()(e),"themeSelector",(function(e){return e.theme})),y()(f()(e),"pickerStyleSelector",Object(D.createSelector)(e.themeSelector,(function(e){return{picker:{width:"200px",padding:"10px 10px 8px",boxSizing:"initial",background:e.panelBackground}}}))),y()(f()(e),"handleClickOutside",(function(t){e.props.onSwatchClose()})),e}return m()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.color,n=e.onChange,a=this.pickerStyleSelector(this.props);return C.a.createElement(k,null,C.a.createElement(S.SketchPicker,{color:t,onChange:n,presetColors:A,styles:a,disableAlpha:!0}))}}]),t}(E.Component);t.a=Object(O.withTheme)(Object(_.default)(w))},351:function(e,t,n){"use strict";var a,r=n(6),o=n.n(r),i=n(0),l=n.n(i),c=n(5),s=n(15),u=n(702),d=n(703),p=c.default.div(a||(a=o()(["\n  transition: ",";\n"])),(function(e){return e.theme.transition}));function f(e,t){return function(n){var a=n.datasets,r=n.showDatasetTable,o=n.removeDataset,i=n.onTitleClick,c=n.updateTableColor,u=n.showDeleteDataset,d=void 0!==u&&u;return l.a.createElement(p,{className:"source-data-catalog"},Object.values(a).map((function(n){return l.a.createElement(s.z,{key:n.id},l.a.createElement(e,{showDatasetTable:r,showDeleteDataset:d,removeDataset:o,dataset:n,onTitleClick:i,updateTableColor:c}),r?l.a.createElement(t,{dataset:n}):null)})))}}f.deps=[u.a,d.a],t.a=f},352:function(e,t,n){"use strict";var a,r,o=n(6),i=n.n(o),l=n(0),c=n.n(l),s=n(5),u=n(158),d=n(22),p=n(13),f=n(15),g=Object(s.default)(f.M)(a||(a=i()(["\n  cursor: pointer;\n  padding: 10px 12px;\n\n  .field-selector {\n    width: 100%;\n    flex: 2;\n  }\n\n  border-left: 3px solid;\n  ",";\n"])),(function(e){return e.$labelRCGColorValues&&e.$labelRCGColorValues.length>0?"border-image: ".concat(Object(p.createLinearGradient)("bottom",e.$labelRCGColorValues)," 3;"):"border-color: transparent;"})),m=s.default.div(r||(r=i()(["\n  display: flex;\n  flex: 1;\n  overflow: hidden;\n"])));function h(e){var t={delete:d.Trash};return function(n){var a=n.children,r=n.datasets,o=n.filter,i=n.removeFilter,l=n.actionIcons,s=void 0===l?t:l;return c.a.createElement(g,{className:"filter-panel__header",$labelRCGColorValues:r.map((function(e){return e?e.color:null}))},c.a.createElement(m,null,a),c.a.createElement(e,{id:o.id,tooltip:"tooltip.delete",tooltipType:"error",onClick:i,hoverColor:"errorColor",IconComponent:s.delete}))}}h.deps=[u.a],t.a=h},391:function(e,t,n){"use strict";n.d(t,"a",(function(){return N})),n.d(t,"d",(function(){return H})),n.d(t,"c",(function(){return q})),n.d(t,"b",(function(){return Y}));var a,r,o,i,l=n(8),c=n.n(l),s=n(9),u=n.n(s),d=n(12),p=n.n(d),f=n(7),g=n.n(f),m=n(10),h=n.n(m),y=n(11),v=n.n(y),b=n(1),E=n.n(b),C=n(6),O=n.n(C),S=n(0),_=n.n(S),D=n(153),x=n.n(D),k=n(5),A=n(47),w=n(87),T=n(15),P=n(143),L=n(349),j=n(451),M=n(4),F=n(13),I=n(19);function R(e,t,n){return t=g()(t),p()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],g()(e).constructor):t.apply(e,n))}var N=x()(M.COLOR_RANGES.map((function(e){return e.type})).filter((function(e){return e})).concat(["all","custom"])),B=x()(M.COLOR_RANGES.map((function(e){return e.colors.length}))).sort(F.numberSort),U=k.default.div(a||(a=O()(["\n  padding: 12px 12px 0 12px;\n"]))),V=k.default.div.attrs({className:"color-range-selector"})(r||(r=O()(["\n  padding-bottom: 12px;\n"]))),z=k.default.div(o||(o=O()(["\n  margin-bottom: 8px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  .color-palette__config__label {\n    flex-grow: 1;\n  }\n  .color-palette__config__select {\n    flex-grow: 1;\n  }\n  .item-selector .item-selector__dropdown {\n    ",";\n  }\n"])),(function(e){return e.theme.secondaryInput})),G={type:{type:"select",options:N},steps:{type:"select",options:B},reversed:{type:"switch",options:[!0,!1]},custom:{label:"customPalette",type:"switch",options:[!0,!1]}},H=function(e){function t(){var e;c()(this,t);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=R(this,t,[].concat(a)),E()(h()(e),"configTypeSelector",(function(e){return e.colorPaletteUI.colorRangeConfig.type})),E()(h()(e),"configStepSelector",(function(e){return e.colorPaletteUI.colorRangeConfig.steps})),E()(h()(e),"filteredColorRange",Object(A.createSelector)(e.configTypeSelector,e.configStepSelector,(function(e,t){return M.COLOR_RANGES.filter((function(n){var a="all"===e||e===n.type,r=Number(t)===n.colors.length;return a&&r}))}))),E()(h()(e),"_updateConfig",(function(t){var n=t.key,a=t.value;e._setColorRangeConfig(E()({},n,a))})),E()(h()(e),"_onSetCustomPalette",(function(t){e.props.setColorPaletteUI({customPalette:t})})),E()(h()(e),"_setColorRangeConfig",(function(t){e.props.setColorPaletteUI({colorRangeConfig:t})})),E()(h()(e),"_onCustomPaletteCancel",(function(){e.props.setColorPaletteUI({showSketcher:!1,colorRangeConfig:{custom:!1}})})),E()(h()(e),"_onToggleSketcher",(function(t){e.props.setColorPaletteUI({showSketcher:t})})),e}return v()(t,e),u()(t,[{key:"render",value:function(){var e=this,t=this.props.colorPaletteUI,n=t.customPalette,a=t.showSketcher,r=t.colorRangeConfig,o=this.filteredColorRange(this.props);return _.a.createElement(V,null,_.a.createElement(U,null,(r.custom?["custom"]:Object.keys(r)).map((function(t){return _.a.createElement(q,{key:t,label:G[t].label||t,config:G[t],value:r[t],onChange:function(n){return e._updateConfig({key:t,value:n})}})}))),r.custom?_.a.createElement(j.a,{customPalette:n,showSketcher:a,onApply:this.props.onSelectColorRange,onToggleSketcher:this._onToggleSketcher,setCustomPalette:this._onSetCustomPalette,onCancel:this._onCustomPaletteCancel}):_.a.createElement(Y,{colorRanges:o,onSelect:this.props.onSelectColorRange,selected:this.props.selectedColorRange,reversed:r.reversed}))}}]),t}(S.Component);E()(H,"defaultProps",{onSelectColorRange:function(){},setColorPaletteUI:function(){}});var q=function(e){var t=e.label,n=e.value,a=e.config,r=a.type,o=a.options,i=e.onChange;return _.a.createElement(z,{className:"color-palette__config",onClick:function(e){return e.stopPropagation()}},_.a.createElement("div",{className:"color-palette__config__label"},_.a.createElement(T.q,null,_.a.createElement(I.FormattedMessage,{id:"color.".concat(t)}))),"select"===r&&_.a.createElement("div",{className:"color-palette__config__select"},_.a.createElement(w.a,{selectedItems:n,options:o,multiSelect:!1,searchable:!1,onChange:i})),"switch"===r&&_.a.createElement(P.a,{checked:n,id:"".concat(t,"-toggle"),onChange:function(){return i(!n)},secondary:!0}))},W=k.default.div.attrs({className:"color-palette-outer"})(i||(i=O()(["\n  padding: 0 8px;\n  :hover {\n    background-color: ",";\n    cursor: pointer;\n  }\n"])),(function(e){return e.theme.panelBackgroundHover})),Y=function(e){var t=e.reversed,n=e.onSelect,a=e.selected,r=e.colorRanges;return _.a.createElement("div",{className:"color-palette__group"},r.map((function(e,r){return _.a.createElement(W,{key:"".concat(e.name,"-").concat(r),onClick:function(a){return n(t?Object(F.reverseColorRange)(!0,e):e,a)}},_.a.createElement(L.a,{colors:e.colors,isReversed:t,isSelected:e.name===a.name&&t===Boolean(a.reversed)}))})))}},397:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a,r,o=n(6),i=n.n(o),l=n(0),c=n.n(l),s=n(5),u=n(19),d=n(22),p=n(15),f=n(351),g=s.default.div(a||(a=i()(["\n  line-height: ",";\n  font-weight: 400;\n  letter-spacing: 1.25px;\n  color: ",";\n  font-size: 11px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: ",";\n"])),(function(e){return e.theme.sidePanelTitleLineHeight}),(function(e){return e.theme.subtextColor}),(function(e){return e.showDatasetList?"16px":"4px"})),m=s.default.div(r||(r=i()(["\n  border-bottom: 1px solid ",";\n"])),(function(e){return e.theme.sidePanelBorderColor}));function h(){var e=c.a.memo((function(e){var t=e.onClick,n=e.isInactive;return c.a.createElement(p.b,{className:"add-data-button",onClick:t,inactive:!n,width:"105px",secondary:!0},c.a.createElement(d.Add,{height:"12px"}),c.a.createElement(u.FormattedMessage,{id:"layerManager.addData"}))}));return e.displayName="AddDataButton",e}function y(e,t){return function(n){var a=n.datasets,r=n.showDatasetTable,o=n.updateTableColor,i=n.showDeleteDataset,l=n.removeDataset,s=n.showDatasetList,u=n.showAddDataModal,d=Object.keys(a).length;return c.a.createElement(m,null,c.a.createElement(g,{showDatasetList:s},c.a.createElement("span",null,"Datasets",d?"(".concat(d,")"):""),c.a.createElement(t,{onClick:u,isInactive:!d})),s&&c.a.createElement(e,{datasets:a,showDatasetTable:r,updateTableColor:o,removeDataset:l,showDeleteDataset:i}))}}y.deps=[f.a,h],t.b=y},4:function(e,t,n){"use strict";n.r(t),n.d(t,"ColorsByTheme",(function(){return u})),n.d(t,"Themes",(function(){return d})),n.d(t,"COLOR_RANGES",(function(){return U})),n.d(t,"DEFAULT_COLOR_RANGE",(function(){return V})),n.d(t,"SEQ",(function(){return m})),n.d(t,"SIN",(function(){return h})),n.d(t,"QUA",(function(){return y})),n.d(t,"DIV",(function(){return v})),n.d(t,"DataVizColors",(function(){return b})),n.d(t,"VizColorPalette",(function(){return _})),n.d(t,"ACTION_PREFIX",(function(){return ae})),n.d(t,"KEPLER_UNFOLDED_BUCKET",(function(){return re})),n.d(t,"BASEMAP_ICON_PREFIX",(function(){return oe})),n.d(t,"DEFAULT_MAPBOX_API_URL",(function(){return ie})),n.d(t,"TRANSITION_DURATION",(function(){return le})),n.d(t,"DATA_TABLE_ID",(function(){return ce})),n.d(t,"DELETE_DATA_ID",(function(){return se})),n.d(t,"ADD_DATA_ID",(function(){return ue})),n.d(t,"EXPORT_IMAGE_ID",(function(){return de})),n.d(t,"EXPORT_DATA_ID",(function(){return pe})),n.d(t,"ADD_MAP_STYLE_ID",(function(){return fe})),n.d(t,"EXPORT_MAP_ID",(function(){return ge})),n.d(t,"SAVE_MAP_ID",(function(){return me})),n.d(t,"OVERWRITE_MAP_ID",(function(){return he})),n.d(t,"SHARE_MAP_ID",(function(){return ye})),n.d(t,"KEPLER_GL_NAME",(function(){return ve})),n.d(t,"KEPLER_GL_VERSION",(function(){return be})),n.d(t,"KEPLER_GL_WEBSITE",(function(){return Ee})),n.d(t,"DIMENSIONS",(function(){return Ce})),n.d(t,"THEME",(function(){return Oe})),n.d(t,"SIDEBAR_PANELS",(function(){return Se})),n.d(t,"PANEL_VIEW_TOGGLES",(function(){return _e})),n.d(t,"PANELS",(function(){return De})),n.d(t,"DEFAULT_BLDG_COLOR",(function(){return xe})),n.d(t,"DEFAULT_BACKGROUND_COLOR",(function(){return ke})),n.d(t,"BASE_MAP_BACKGROUND_LAYER_IDS",(function(){return Ae})),n.d(t,"BACKGROUND_LAYER_GROUP_SLUG",(function(){return we})),n.d(t,"THREE_D_BUILDING_LAYER_GROUP_SLUG",(function(){return Te})),n.d(t,"BACKGROUND_LAYER_GROUP",(function(){return Pe})),n.d(t,"DEFAULT_LAYER_GROUPS",(function(){return Le})),n.d(t,"BASE_MAP_COLOR_MODES",(function(){return je})),n.d(t,"NO_MAP_ID",(function(){return Me})),n.d(t,"EMPTY_MAPBOX_STYLE",(function(){return Fe})),n.d(t,"NO_BASEMAP_ICON",(function(){return Ie})),n.d(t,"DEFAULT_MAP_STYLES",(function(){return Re})),n.d(t,"GEOJSON_FIELDS",(function(){return Ne})),n.d(t,"ICON_FIELDS",(function(){return Be})),n.d(t,"TRIP_POINT_FIELDS",(function(){return Ue})),n.d(t,"ALTITUDE_FIELDS",(function(){return Ve})),n.d(t,"TRIP_ARC_FIELDS",(function(){return ze})),n.d(t,"FILTER_TYPES",(function(){return Ge})),n.d(t,"FILTER_VIEW_TYPES",(function(){return He})),n.d(t,"DEFAULT_FILTER_VIEW_TYPE",(function(){return qe})),n.d(t,"SCALE_TYPES",(function(){return We})),n.d(t,"SCALE_FUNC",(function(){return Ye})),n.d(t,"ALL_FIELD_TYPES",(function(){return Ke})),n.d(t,"SORT_ORDER",(function(){return Ze})),n.d(t,"TABLE_OPTION",(function(){return Xe})),n.d(t,"TABLE_OPTION_LIST",(function(){return Je})),n.d(t,"FIELD_TYPE_DISPLAY",(function(){return Qe})),n.d(t,"FIELD_COLORS",(function(){return $e})),n.d(t,"HIGHLIGH_COLOR_3D",(function(){return et})),n.d(t,"CHANNEL_SCALES",(function(){return tt})),n.d(t,"AGGREGATION_TYPES",(function(){return nt})),n.d(t,"AGGREGATION_TYPE_OPTIONS",(function(){return at})),n.d(t,"linearFieldScaleFunctions",(function(){return rt})),n.d(t,"linearFieldAggrScaleFunctions",(function(){return ot})),n.d(t,"ordinalFieldScaleFunctions",(function(){return it})),n.d(t,"ordinalFieldAggrScaleFunctions",(function(){return lt})),n.d(t,"notSupportedScaleOpts",(function(){return ct})),n.d(t,"notSupportAggrOpts",(function(){return st})),n.d(t,"DEFAULT_AGGREGATION",(function(){return ut})),n.d(t,"FIELD_OPTS",(function(){return dt})),n.d(t,"CHANNEL_SCALE_SUPPORTED_FIELDS",(function(){return pt})),n.d(t,"DEFAULT_LAYER_COLOR",(function(){return ft})),n.d(t,"DEFAULT_TOOLTIP_FIELDS",(function(){return gt})),n.d(t,"NO_VALUE_COLOR",(function(){return mt})),n.d(t,"DEFAULT_PICKING_RADIUS",(function(){return ht})),n.d(t,"OVERLAY_BLENDINGS",(function(){return yt})),n.d(t,"LAYER_BLENDINGS",(function(){return vt})),n.d(t,"MAX_DEFAULT_TOOLTIPS",(function(){return bt})),n.d(t,"RESOLUTIONS",(function(){return Et})),n.d(t,"EXPORT_IMG_RATIOS",(function(){return Ct})),n.d(t,"ScreenRatioOption",(function(){return Ot})),n.d(t,"CustomRatioOption",(function(){return St})),n.d(t,"FourByThreeRatioOption",(function(){return _t})),n.d(t,"SixteenByNineRatioOption",(function(){return Dt})),n.d(t,"EXPORT_IMG_RATIO_OPTIONS",(function(){return xt})),n.d(t,"OneXResolutionOption",(function(){return kt})),n.d(t,"TwoXResolutionOption",(function(){return At})),n.d(t,"EXPORT_IMG_RESOLUTION_OPTIONS",(function(){return wt})),n.d(t,"EXPORT_DATA_TYPE",(function(){return Tt})),n.d(t,"EXPORT_DATA_TYPE_OPTIONS",(function(){return Pt})),n.d(t,"EXPORT_MAP_FORMATS",(function(){return Lt})),n.d(t,"EXPORT_HTML_MAP_MODES",(function(){return jt})),n.d(t,"EXPORT_MAP_FORMAT_OPTIONS",(function(){return Mt})),n.d(t,"getHTMLMapModeTileUrl",(function(){return Ft})),n.d(t,"EXPORT_HTML_MAP_MODE_OPTIONS",(function(){return It})),n.d(t,"DEFAULT_UUID_COUNT",(function(){return Rt})),n.d(t,"DEFAULT_NOTIFICATION_MESSAGE",(function(){return Nt})),n.d(t,"DEFAULT_NOTIFICATION_TYPES",(function(){return Bt})),n.d(t,"DEFAULT_NOTIFICATION_TOPICS",(function(){return Ut})),n.d(t,"THROTTLE_NOTIFICATION_TIME",(function(){return Vt})),n.d(t,"BASE_SPEED",(function(){return zt})),n.d(t,"FPS",(function(){return Gt})),n.d(t,"ANIMATION_WINDOW",(function(){return Ht})),n.d(t,"DEFAULT_TIME_FORMAT",(function(){return qt})),n.d(t,"SPEED_CONTROL_RANGE",(function(){return Wt})),n.d(t,"SPEED_CONTROL_STEP",(function(){return Yt})),n.d(t,"GEOCODER_DATASET_NAME",(function(){return Kt})),n.d(t,"GEOCODER_LAYER_ID",(function(){return Zt})),n.d(t,"GEOCODER_GEO_OFFSET",(function(){return Xt})),n.d(t,"GEOCODER_ICON_COLOR",(function(){return Jt})),n.d(t,"GEOCODER_ICON_SIZE",(function(){return Qt})),n.d(t,"EDITOR_LAYER_ID",(function(){return $t})),n.d(t,"EDITOR_LAYER_PICKING_RADIUS",(function(){return en})),n.d(t,"EDITOR_MODES",(function(){return tn})),n.d(t,"PLOT_TYPES",(function(){return nn})),n.d(t,"INIT_FILTER_ITEMS_IN_DROPDOWN",(function(){return an})),n.d(t,"MAX_GPU_FILTERS",(function(){return rn})),n.d(t,"MAP_THUMBNAIL_DIMENSION",(function(){return on})),n.d(t,"MAP_INFO_CHARACTER",(function(){return ln})),n.d(t,"LOADING_METHODS",(function(){return cn})),n.d(t,"DEFAULT_FEATURE_FLAGS",(function(){return sn})),n.d(t,"DATASET_FORMATS",(function(){return un})),n.d(t,"MAP_CONTROLS",(function(){return dn})),n.d(t,"PROJECTED_PIXEL_SIZE_MULTIPLIER",(function(){return pn})),n.d(t,"TEXT_OUTLINE_MULTIPLIER",(function(){return fn})),n.d(t,"dataTestIds",(function(){return gn})),n.d(t,"DEFAULT_TIMEZONE",(function(){return mn})),n.d(t,"DEFAULT_POST_PROCESSING_EFFECT_TYPE",(function(){return hn})),n.d(t,"DEFAULT_LIGHT_COLOR",(function(){return yn})),n.d(t,"DEFAULT_LIGHT_INTENSITY",(function(){return vn})),n.d(t,"DEFAULT_SHADOW_INTENSITY",(function(){return bn})),n.d(t,"DEFAULT_SHADOW_COLOR",(function(){return En})),n.d(t,"LIGHT_AND_SHADOW_EFFECT_TIME_MODES",(function(){return Cn})),n.d(t,"DEFAULT_LIGHT_AND_SHADOW_PROPS",(function(){return On})),n.d(t,"LIGHT_AND_SHADOW_EFFECT",(function(){return Sn})),n.d(t,"POSTPROCESSING_EFFECTS",(function(){return _n})),n.d(t,"EFFECT_DESCRIPTIONS",(function(){return Dn})),n.d(t,"PROPERTY_GROUPS",(function(){return xn})),n.d(t,"DEFAULT_LAYER_OPACITY",(function(){return kn})),n.d(t,"DEFAULT_HIGHLIGHT_COLOR",(function(){return An})),n.d(t,"DEFAULT_LAYER_LABEL",(function(){return wn})),n.d(t,"DEFAULT_TEXT_LABEL",(function(){return Tn})),n.d(t,"DEFAULT_CUSTOM_PALETTE",(function(){return Pn})),n.d(t,"UNKNOWN_COLOR_KEY",(function(){return Ln})),n.d(t,"DEFAULT_COLOR_UI",(function(){return jn})),n.d(t,"LAYER_VIS_CONFIGS",(function(){return Mn})),n.d(t,"LAYER_TEXT_CONFIGS",(function(){return Fn})),n.d(t,"LAYER_TYPES",(function(){return In})),n.d(t,"EDITOR_AVAILABLE_LAYERS",(function(){return Rn})),n.d(t,"KeyEvent",(function(){return Vn})),n.d(t,"TOOLTIP_FORMAT_TYPES",(function(){return J})),n.d(t,"TOOLTIP_KEY",(function(){return Q})),n.d(t,"TOOLTIP_FORMATS",(function(){return $})),n.d(t,"COMPARE_TYPES",(function(){return ee})),n.d(t,"MISSING_MAPBOX_TOKEN",(function(){return zn})),n.d(t,"IMAGE_EXPORT_ERRORS",(function(){return Gn})),n.d(t,"USER_GUIDE_DOC",(function(){return Hn})),n.d(t,"ACTIONS_DOC",(function(){return qn})),n.d(t,"API_REFERENCE_DOC",(function(){return Wn})),n.d(t,"EXPORT_HTML_MAP_DOC",(function(){return Yn})),n.d(t,"ADD_DATA_TO_MAP_DOC",(function(){return Kn})),n.d(t,"MAPBOX_ACCESS_TOKEN",(function(){return Zn})),n.d(t,"EXPORT_HTML_MAP_MODES_DOC",(function(){return Xn})),n.d(t,"GUIDES_FILE_FORMAT_DOC",(function(){return Jn})),n.d(t,"BUG_REPORT_LINK",(function(){return Qn})),n.d(t,"DND_MODIFIERS",(function(){return $n})),n.d(t,"DND_EMPTY_MODIFIERS",(function(){return ea})),n.d(t,"SORTABLE_SIDE_PANEL_TYPE",(function(){return ta})),n.d(t,"DROPPABLE_MAP_CONTAINER_TYPE",(function(){return na})),n.d(t,"SORTABLE_LAYER_TYPE",(function(){return aa})),n.d(t,"SORTABLE_EFFECT_PANEL_TYPE",(function(){return ra})),n.d(t,"SORTABLE_EFFECT_TYPE",(function(){return oa}));var a=n(1),r=n.n(a),o=n(24),i=n.n(o);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s={grey_7:"#898989",brick_20:"#B77B6A",brick_21:"#8B574F",brick_22:"#392421",lime_8:"#7DC240",lime_9:"#76B73D",lime_4:"#CFEDB5",lime_5:"#B6E490",lime_6:"#9EDB6B",lime_7:"#8ECF56",lime_1:"#F3FBED",lime_2:"#EBF8E1",lime_3:"#E3F5D4",orange_22:"#32221D",orange_20:"#DDA37C",orange_21:"#A2705B",stone_9:"#716852",stone_8:"#776E57",stone_20:"#4D4A44",stone_1:"#F3F2EF",amber_22:"#32251D",stone_21:"#282623",amber_20:"#DDB27C",amber_21:"#A2785B",navy_17:"#CAD1E6",navy_16:"#18264D",navy_15:"#132559",navy_14:"#162A65",navy_13:"#1A3177",navy_12:"#1E3788",navy_11:"#223F9A",navy_10:"#2647AC",navy_19:"#7989B7",navy_18:"#9CAAD3",teal_9:"#1C8EB4",teal_8:"#1E96BE",teal_5:"#79C7E3",teal_4:"#A6DAEC",teal_7:"#35A6CC",teal_6:"#4DB5D9",teal_1:"#E9F6FA",teal_3:"#CBE9F4",teal_2:"#DAF0F7",teal_19:"#73A6B7",teal_18:"#96C3D2",teal_11:"#17779A",teal_10:"#1A85AB",teal_13:"#125C77",teal_12:"#146988",teal_15:"#0D4559",teal_14:"#0F4E65",teal_17:"#C7DDE5",teal_16:"#103B49",gold_20:"#DDBE7C",gold_21:"#A27E5B",gold_22:"#32271D",olive_9:"#B8C436",olive_8:"#C3D039",olive_7:"#CFDC4F",olive_6:"#DBE765",olive_5:"#E4ED8B",olive_4:"#EDF3B2",olive_3:"#F5F8D2",olive_2:"#F8FADF",olive_1:"#FBFCEC",green_22:"#212A1F",green_20:"#5A735A",green_21:"#2F3C2F",indigo_17:"#CCC7E4",indigo_16:"#1B1247",indigo_15:"#1C0F58",indigo_14:"#201163",indigo_13:"#261474",indigo_12:"#2C1685",indigo_11:"#321A97",indigo_10:"#371DA8",indigo_19:"#7E71B2",indigo_18:"#A095CF",blue_22:"#222A34",blue_20:"#536A81",blue_21:"#2D3946",olive_22:"#28291C",olive_20:"#878A5E",olive_21:"#484A32",violet_16:"#510E30",violet_17:"#E0C1D8",violet_14:"#6B083F",violet_15:"#620736",violet_12:"#860A5A",violet_13:"#79094D",violet_10:"#A40D77",violet_11:"#950C69",dirt_16:"#261A10",dirt_17:"#BCB6B1",dirt_14:"#322113",dirt_15:"#2D1D10",dirt_12:"#442D19",dirt_13:"#3B2716",violet_18:"#C78BB8",violet_19:"#B1699C",stone_15:"#373227",stone_14:"#3E392D",stone_17:"#C6C4C0",stone_16:"#2E2A22",stone_11:"#5F5845",stone_10:"#6A624D",stone_13:"#494335",stone_12:"#544D3D",stone_19:"#706C63",stone_18:"#938F87",aqua_3:"#CAF2F4",aqua_2:"#D9F6F7",aqua_1:"#E8FAFA",aqua_7:"#2FC5CC",aqua_6:"#47D3D9",aqua_5:"#75DEE3",aqua_4:"#A3E9EC",aqua_9:"#15AEB4",aqua_8:"#17B8BE",orange_7:"#FE891A",orange_6:"#FF9833",orange_5:"#FFB266",orange_4:"#FFCB99",orange_3:"#FFE1C4",orange_2:"#FFEAD5",orange_1:"#FFF2E6",orange_9:"#FA7400",orange_8:"#FD7900",purple_13:"#510869",purple_11:"#670B8C",purple_10:"#720C9D",purple_7:"#9226BE",purple_6:"#A13ECD",purple_5:"#B86EDA",purple_4:"#D09FE6",purple_3:"#E4C7F1",purple_2:"#ECD7F5",purple_1:"#F3E7F9",blue_18:"#99B6D3",blue_17:"#C9D7E6",blue_16:"#16314D",blue_15:"#103459",blue_14:"#133B65",blue_13:"#164677",blue_12:"#195188",purple_9:"#7A0DA6",blue_10:"#2067AC",orange_13:"#D65200",orange_12:"#E45D00",orange_11:"#ED6600",orange_10:"#F26C00",orange_17:"#F8E2CC",orange_16:"#8C330A",orange_15:"#B93C00",orange_14:"#C84600",orange_19:"#F6BD8A",orange_18:"#F8CCA1",magenta_11:"#B51241",magenta_10:"#C5154A",magenta_13:"#970E2D",magenta_12:"#A51037",magenta_15:"#7E0A1D",magenta_14:"#880B23",magenta_17:"#EDCAD6",magenta_16:"#63101D",magenta_19:"#D2809A",magenta_18:"#E29DB4",stone_3:"#E2E0DA",stone_2:"#EBE9E4",stone_5:"#B3AD9E",stone_4:"#CDC9BF",stone_7:"#89806B",stone_6:"#9A927E",blue_9:"#226DB5",blue_8:"#2473BD",blue_7:"#3B85CC",blue_6:"#5297DA",blue_5:"#7DB1E3",blue_4:"#A9CBED",blue_3:"#CDE1F4",blue_2:"#DCEAF7",blue_1:"#EAF2FA",gold_9:"#FAC200",gold_8:"#FDC900",gold_5:"#FFE466",gold_4:"#FFEB8C",gold_7:"#FED21A",gold_6:"#FFDB33",gold_1:"#FFFBE6",gold_3:"#FFF5C4",gold_2:"#FFF8D5",dirt_22:"#191410",dirt_21:"#201B17",dirt_20:"#3D342C",white:"#FFFFFF",gold_19:"#F6E08A",gold_18:"#F8E8A1",grey_8:"#777777",grey_9:"#717171",gold_11:"#EDAB00",gold_10:"#F6BA00",gold_13:"#D68800",gold_12:"#E49B00",gold_15:"#B96500",gold_14:"#C87500",gold_17:"#F8F0CC",gold_16:"#8C500A",grey_10:"#6A6A6A",grey_11:"#5F5F5F",grey_12:"#545454",grey_13:"#494949",grey_14:"#3E3E3E",grey_15:"#373636",grey_16:"#2E2D2D",grey_17:"#C6C6C6",grey_18:"#939393",grey_19:"#707070",dirt_19:"#5B4D42",yellow_20:"#DDC97C",yellow_21:"#A2845B",yellow_22:"#32291D",dirt_10:"#573921",dirt_11:"#4E331D",brown_8:"#986232",brown_9:"#905D2F",stone_22:"#1C1A18",brown_6:"#B7885E",brown_7:"#A87548",brick_1:"#FEEEE8",brick_3:"#FCD6C8",brick_2:"#FDE2D8",brick_5:"#F89570",brick_4:"#FAB8A0",brick_7:"#EF5D28",brick_6:"#F57141",brick_9:"#DF4916",brick_8:"#E7531F",amber_7:"#FEB31A",amber_6:"#FFBE33",amber_5:"#FFCE66",amber_4:"#FFDF99",amber_3:"#FFECC4",amber_2:"#FFF2D5",amber_1:"#FFF7E6",amber_9:"#FAA100",amber_8:"#FDA700",grey_2:"#F1F1F1",grey_3:"#E5E5E4",violet_22:"#301C25",violet_21:"#51303F",violet_20:"#7F4B6D",grey_1:"#F8F8F9",red_19:"#D37676",red_18:"#E49595",red_15:"#880000",red_14:"#910000",red_17:"#EEC7C7",red_16:"#6D0A0A",red_11:"#BB0000",red_10:"#C90000",red_13:"#9F0000",red_12:"#AC0000",black:"#000000",grey_4:"#D6D6D5",grey_5:"#C0C0C0",navy_7:"#4265CC",navy_6:"#5879DA",navy_5:"#829AE3",navy_4:"#ABBCED",navy_3:"#CFD8F4",navy_2:"#DDE3F7",navy_1:"#EBEFFA",navy_9:"#294CB5",navy_8:"#2C51BE",yellow_15:"#B97600",yellow_14:"#C88900",yellow_17:"#F8F6CC",yellow_16:"#8C5C0A",yellow_11:"#EDC800",yellow_10:"#F6DA00",yellow_13:"#D6A000",yellow_12:"#E4B600",yellow_19:"#F6EF8A",yellow_18:"#F8F5A1",purple_20:"#664473",purple_21:"#352139",magenta_1:"#FCE9EF",magenta_3:"#F9CADA",magenta_2:"#FBDAE4",magenta_5:"#EF769E",magenta_4:"#F4A3BF",magenta_7:"#E1316A",magenta_6:"#E9487E",magenta_9:"#CF1750",magenta_8:"#D91955",indigo_3:"#D4CCF3",indigo_2:"#E1DBF6",indigo_1:"#EDE9FA",indigo_7:"#5438C8",indigo_6:"#694FD6",indigo_5:"#8F7BE0",indigo_4:"#B4A7EB",indigo_9:"#3B1EB1",indigo_8:"#482BBD",magenta_20:"#9E5F70",magenta_21:"#6D4046",magenta_22:"#2C1B1E",purple_22:"#231727",red_9:"#D20000",red_8:"#DA0000",red_5:"#F06D6D",red_4:"#F59999",red_7:"#E31A1A",red_6:"#EA4444",red_1:"#FDE6E6",red_3:"#F9C4C4",red_2:"#FBD5D5",grey_21:"#282727",grey_20:"#4D4D4D",grey_22:"#1C1B1B",lime_16:"#30471D",lime_17:"#D9E6CE",lime_14:"#406422",lime_15:"#39581E",lime_12:"#57882E",lime_13:"#4C7628",lime_10:"#6EAC3A",lime_11:"#639A34",lime_18:"#BAD4A4",lime_19:"#9EBB84",dirt_18:"#81746B",violet_8:"#B80F87",violet_9:"#AE0E7F",violet_4:"#E79FD5",violet_5:"#DA70BF",violet_6:"#CE40AA",violet_7:"#C32899",violet_1:"#F9E8F5",violet_2:"#F5D8EE",violet_3:"#F1C8E6",red_20:"#A55C5C",red_21:"#784343",red_22:"#361F1F",amber_19:"#F6D18A",amber_18:"#F8DCA1",amber_13:"#D67100",amber_12:"#E48000",amber_11:"#ED8D00",amber_10:"#F69A00",amber_17:"#F8EACC",amber_16:"#8C440A",amber_15:"#B95300",amber_14:"#C86100",green_17:"#CDDDCD",green_16:"#254325",green_15:"#274F28",green_14:"#2C5A2E",green_13:"#356A36",green_12:"#3D7A3E",green_11:"#458A46",green_10:"#4C9A4E",green_19:"#82A682",green_18:"#A2C2A2",turquoise_19:"#77AC9B",turquoise_18:"#99C7B9",turquoise_15:"#185240",turquoise_14:"#1B5D48",turquoise_17:"#C9E0D9",turquoise_16:"#1A4538",turquoise_11:"#2B8F70",turquoise_10:"#309F7D",turquoise_13:"#216E56",turquoise_12:"#267E63",aqua_22:"#1A2C2B",aqua_20:"#4F7E81",aqua_21:"#2B4447",yellow_9:"#FAE300",yellow_8:"#FDEC00",yellow_5:"#FFFA66",yellow_4:"#FFFB98",yellow_7:"#FEF21A",yellow_6:"#FFF833",yellow_1:"#FFFEE6",yellow_3:"#FFFDC4",yellow_2:"#FFFED5",teal_20:"#507481",teal_21:"#2C3F46",teal_22:"#152629",indigo_22:"#1A1724",purple_12:"#5C097A",indigo_20:"#59507E",indigo_21:"#312C45",purple_17:"#D5C1DF",purple_16:"#360B40",purple_15:"#3F054C",purple_14:"#460658",purple_19:"#9563A8",purple_18:"#B389C6",blue_19:"#7597B6",lime_22:"#1E241A",lime_21:"#3A4531",lime_20:"#6C815B",turquoise_1:"#ECF9F5",turquoise_3:"#D2F1E7",turquoise_2:"#DFF5EE",turquoise_5:"#89DAC1",turquoise_4:"#B1E7D6",turquoise_7:"#4DC19C",turquoise_6:"#62CEAD",turquoise_9:"#34A984",turquoise_8:"#37B38B",brown_4:"#DBC3AF",brown_5:"#C9A686",brown_2:"#F0E7DE",brown_3:"#EADDD0",brown_1:"#F6F0EB",blue_11:"#1C5C9A",brown_14:"#4F3319",purple_8:"#820DAF",brown_15:"#452D16",brown_16:"#3C2A18",brown_18:"#B09C8A",brick_19:"#E19D84",brick_18:"#EEB5A1",brick_15:"#9B1C04",brick_14:"#A42105",brick_17:"#F3D7CC",brick_16:"#7A1F0E",brick_11:"#CB380B",brick_10:"#D73F0D",brick_13:"#B12907",brick_12:"#BE3009",olive_13:"#777E23",olive_12:"#899128",olive_11:"#9BA52E",olive_10:"#ADB933",olive_17:"#E9ECD0",olive_16:"#494C1B",olive_15:"#595E1A",olive_14:"#656B1D",olive_19:"#C3C989",olive_18:"#DBE0A8",navy_22:"#232734",navy_20:"#555F81",navy_21:"#2E3446",brown_21:"#352D24",brown_20:"#645446",brown_22:"#29231C",dirt_4:"#C3B5A9",dirt_5:"#A68F7E",dirt_6:"#886A53",dirt_7:"#75553C",dirt_1:"#F0EDEA",dirt_2:"#E7E1DC",dirt_3:"#DDD4CD",dirt_8:"#624025",dirt_9:"#5D3D23",green_3:"#DAEFDA",green_2:"#E4F3E4",green_1:"#EFF8EF",green_7:"#6ABB6B",green_6:"#7DC97F",green_5:"#9ED79F",green_4:"#BEE4BF",green_9:"#52A353",green_8:"#57AD57",brown_10:"#88572C",brown_11:"#7A4E28",brown_12:"#6B4523",brown_13:"#5D3C1E",turquoise_20:"#52776C",turquoise_21:"#2C403A",turquoise_22:"#1E2C27",brown_17:"#D4CAC1",grey_6:"#A6A5A5",brown_19:"#917A66",aqua_19:"#70B4B7",aqua_18:"#94CFD2",aqua_13:"#0E7077",aqua_12:"#108188",aqua_11:"#12939A",aqua_10:"#13A4AB",aqua_17:"#C6E4E5",aqua_16:"#0F474A",aqua_15:"#0A545A",aqua_14:"#0B5F65"},u=Object.keys(s).reduce((function(e,t){if(!t.includes("_"))return e;var n=t.split("_"),a=i()(n,2),o=a[0],l=a[1];return c(c({},e),{},r()({},o,c(c({},e[o]),{},r()({},l,s[t]))))}),{}),d=["yellow","gold","amber","orange","brick","red","magenta","violet","purple","indigo","navy","blue","teal","aqua","turquoise","green","lime","olive","grey","stone","brown","dirt"],p=n(21),f=n.n(p),g=n(940),m="sequential",h="singlehue",y="qualitative",v="diverging",b={aqua:"#12939A",tumbleweed:"#DDB27C",mule_fawn:"#88572C",tree_poppy:"#FF991F",flame:"#F15C17",sapphire:"#223F9A",orchid:"#DA70BF",chathams_blue:"#125C77",med_aquamarine:"#4DC19C",crocodile:"#776E57",java:"#17B8BE",chalky:"#F6D18A",light_taupe:"#B7885E",peach_orange:"#FFCB99",apricot:"#F89570",portage:"#829AE3",light_orchid:"#E79FD5",blue_green:"#1E96BE",bermuda:"#89DAC1",cloudy:"#B3AD9E"},E=Object.values(b),C=[{name:"Uber Viz Qualitative 0",type:y,category:"Uber",colors:E.slice(0,3)},{name:"Uber Viz Qualitative 0.5",type:y,category:"Uber",colors:E.slice(0,4)},{name:"Uber Viz Qualitative 1",type:y,category:"Uber",colors:E.slice(0,5)},{name:"Uber Viz Qualitative 1.2",type:y,category:"Uber",colors:E.slice(0,6)},{name:"Uber Viz Qualitative 1.4",type:y,category:"Uber",colors:E.slice(0,7)},{name:"Uber Viz Qualitative 1.6",type:y,category:"Uber",colors:E.slice(0,8)},{name:"Uber Viz Qualitative 1.8",type:y,category:"Uber",colors:E.slice(0,9)},{name:"Uber Viz Qualitative 2",type:y,category:"Uber",colors:E.slice(0,10)},{name:"Uber Viz Qualitative 3",type:y,category:"Uber",colors:E.slice(0,15)},{name:"Uber Viz Qualitative 4",type:y,category:"Uber",colors:E.slice(0,20)}],O=[{name:"Uber Viz Sequential 1",type:m,category:"Uber",colors:["#E6FAFA","#89C6CA","#00939C"]},{name:"Uber Viz Sequential 2",type:m,category:"Uber",colors:["#E6FAFA","#AAD7DA","#68B4BB","#00939C"]},{name:"Uber Viz Sequential 3",type:m,category:"Uber",colors:["#E6FAFA","#B8E0E1","#89C6CA","#56ACB3","#00939C"]},{name:"Uber Viz Sequential 4",type:m,category:"Uber",colors:["#E6FAFA","#C1E5E6","#9DD0D4","#75BBC1","#4BA7AF","#00939C"]},{name:"Uber Viz Sequential 5",type:m,category:"Uber",colors:["#E6FAFA","#C1E5E6","#9DD0D4","#75BBC1","#4BA7AF","#00939C","#108188"]},{name:"Uber Viz Sequential 6",type:m,category:"Uber",colors:["#E6FAFA","#C1E5E6","#9DD0D4","#75BBC1","#4BA7AF","#00939C","#108188","#0E7077"]}],S=[{name:"Uber Viz Diverging 0",type:v,category:"Uber",colors:["#C22E00","#FEEEE8","#00939C"].reverse()},{name:"Uber Viz Diverging 0.5",type:v,category:"Uber",colors:["#C22E00","#EFBEAE","#A2D4D7","#00939C"].reverse()},{name:"Uber Viz Diverging 1",type:v,category:"Uber",colors:["#C22E00","#EC9370","#FEEEE8","#85C4C8","#00939C"].reverse()},{name:"Uber Viz Diverging 1.5",type:v,category:"Uber",colors:["#C22E00","#DD7755","#F8C0AA","#BAE1E2","#5DBABF","#00939C"].reverse()},{name:"Uber Viz Diverging 2",type:v,category:"Uber",colors:["#C22E00","#E17449","#F5B097","#FEEEE8","#A2D4D7","#65B3BA","#00939C"].reverse()},{name:"Uber Viz Diverging 2.5",type:v,category:"Uber",colors:["#C22E00","#D45F39","#E68F71","#F8C0AA","#BAE1E2","#7CC7CB","#3EADB3","#00939C"].reverse()},{name:"Uber Viz Diverging 3",type:v,category:"Uber",colors:["#C22E00","#DA6436","#EC9370","#F8C0AA","#FEEEE8","#B2DCDF","#65B3BA","#49A6AE","#00939C"].reverse()},{name:"Uber Viz Diverging 3.5",type:v,category:"Uber",colors:["#C22E00","#D0532B","#DD7755","#EB9C80","#F8C0AA","#BAE1E2","#8CCED1","#5DBABF","#2FA7AE","#00939C"].reverse()},{name:"Uber Viz Diverging 4",type:v,category:"Uber",colors:["#C22E00","#D55A2B","#E68059","#F2A587","#F8C0AA","#FEEEE8","#BAE1E2","#97CED1","#71BABF","#49A6AE","#00939C"].reverse()}],_=[].concat(S,O,C,[{name:"UberPool",type:v,category:"Uber",colors:["#223F9A","#2C51BE","#482BBD","#7A0DA6","#AE0E7F","#CF1750","#E31A1A","#FD7900","#FAC200","#FAE300"]},{name:"UberPool 9",type:v,category:"Uber",colors:["#2C51BE","#482BBD","#7A0DA6","#AE0E7F","#CF1750","#E31A1A","#FD7900","#FAC200","#FAE300"]},{name:"UberPool 8",type:v,category:"Uber",colors:["#213E9A","#3C1FA7","#811CB5","#C318B0","#D01367","#DE0F0E","#EC7007","#F9E200"]},{name:"UberPool 7",type:v,category:"Uber",colors:["#213E9A","#461FA9","#9B1BBA","#CA168E","#DA102C","#E95E08","#F9E200"]},{name:"UberPool 6",type:v,category:"Uber",colors:["#213E9A","#551EAD","#C019BD","#D31256","#E6470A","#F9E200"]},{name:"UberPool 5",type:v,category:"Uber",colors:["#213E9A","#6E1DB2","#CA168E","#E2260C","#F9E200"]},{name:"UberPool 4",type:v,category:"Uber",colors:["#213E9A","#9B1BBA","#DA102C","#F9E200"]},{name:"UberPool 3",type:v,category:"Uber",colors:["#213E9A","#CA168E","#F9E200"]},{name:"Ice And Fire 3",type:v,category:"Uber",colors:["#0198BD","#FAFEB3","#D50255"]},{name:"Ice And Fire 4",type:v,category:"Uber",colors:["#0198BD","#E8FEB5","#FEAD54","#D50255"]},{name:"Ice And Fire 5",type:v,category:"Uber",colors:["#0198BD","#49E3CE","#FAFEB3","#FEAD54","#D50255"]},{name:"Ice And Fire",type:v,category:"Uber",colors:["#0198BD","#49E3CE","#E8FEB5","#FEEDB1","#FEAD54","#D50255"]},{name:"Ice And Fire 7",type:v,category:"Uber",colors:["#0198BD","#54BAB9","#A7DCB6","#FAFEB3","#FCD583","#FEAD54","#D50255"]},{name:"Ice And Fire 8",type:v,category:"Uber",colors:["#007A99","#0198BD","#49E3CE","#E8FEB5","#FEEDB1","#FEAD54","#D50255","#7F1941"]},{name:"Global Warming 3",type:m,category:"Uber",colors:["#5A1846","#C70039","#FFC300"]},{name:"Global Warming 4",type:m,category:"Uber",colors:["#5A1846","#831A3D","#E3611C","#FFC300"]},{name:"Global Warming 5",type:m,category:"Uber",colors:["#5A1846","#831A3D","#AC1C17","#D55D0E","#FFC300"]},{name:"Global Warming",type:m,category:"Uber",colors:["#5A1846","#900C3F","#C70039","#E3611C","#F1920E","#FFC300"]},{name:"Global Warming 7",type:m,category:"Uber",colors:["#5A1846","#751A43","#911932","#AC1C17","#C84411","#E37B0A","#FFC300"]},{name:"Global Warming 8",type:m,category:"Uber",colors:["#4C0035","#650031","#7F0023","#98000A","#B21800","#CB4600","#E57F00","#FFC300"]},{name:"Sunrise 3",type:m,category:"Uber",colors:["#355C7D","#C06C84","#F8B195"]},{name:"Sunrise 4",type:m,category:"Uber",colors:["#355C7D","#9A627C","#C86A7E","#F8B195"]},{name:"Sunrise",type:m,category:"Uber",colors:["#355C7D","#6C5B7B","#C06C84","#F67280","#F8B195"]},{name:"Sunrise 6",type:m,category:"Uber",colors:["#355C7D","#63617F","#916681","#D88185","#E8998D","#F8B195"]},{name:"Sunrise 7",type:m,category:"Uber",colors:["#355C7D","#63617F","#916681","#C06C84","#D28389","#E59A8F","#F8B195"]},{name:"Sunrise 8",type:m,category:"Uber",colors:["#194266","#355C7D","#63617F","#916681","#C06C84","#D28389","#E59A8F","#F8B195"]},{name:"Ocean Green 3",type:m,category:"Uber",colors:["#3A748A","#3EACA8","#E5EEc1"]},{name:"Ocean Green 4",type:m,category:"Uber",colors:["#547A82","#3EACA8","#A2D4AB","#E5EEc1"]},{name:"Ocean Green 5",type:m,category:"Uber",colors:["#3A748A","#54A38F","#73BC84","#A9D597","#E5EEc1"]},{name:"Ocean Green 6",type:m,category:"Uber",colors:["#37535E","#3A748A","#4095B5","#52AEC9","#72BFC4","#93CFBF"]},{name:"Ocean Green 7",type:m,category:"Uber",colors:["#3A748A","#4B9A95","#5EAB8B","#73BC84","#92CC8B","#BEDDA5","#E5EEc1"]},{name:"Ocean Green 8",type:m,category:"Uber",colors:["#37535E","#3A748A","#4B9A95","#5EAB8B","#73BC84","#92CC8B","#BEDDA5","#E5EEc1"]},{name:"Pink Wine 3",type:m,category:"Uber",colors:["#50315E","#956485","#EDD1CA"]},{name:"Pink Wine 4",type:m,category:"Uber",colors:["#50315E","#774976","#B28294","#EDD1CA"]},{name:"Pink Wine 5",type:m,category:"Uber",colors:["#50315E","#643D68","#956485","#C1939D","#EDD1CA"]},{name:"Pink Wine 6",type:m,category:"Uber",colors:["#2C1E3D","#573660","#83537C","#A6758E","#C99DA4","#EDD1CA"]},{name:"Pink Wine 7",type:m,category:"Uber",colors:["#2C1E3D","#4F315A","#774976","#956485","#B28294","#CFA4A8","#EDD1CA"]},{name:"Pink Wine",type:m,category:"Uber",colors:["#2C1E3D","#50315E","#764476","#9A5B88","#B77495","#CF91A3","#E0B1B3","#EDD1CA"]},{name:"Purple Blue Yellow 3",type:m,category:"Uber",colors:["#2B1E3E","#5EA28D","#D6DEBF"]},{name:"Purple Blue Yellow 4",type:m,category:"Uber",colors:["#2B1E3E","#466373","#7BA889","#D6DEBF"]},{name:"Purple Blue Yellow 5",type:m,category:"Uber",colors:["#2B1E3E","#3A4B66","#5F8E86","#8BB68D","#D6DEBF"]},{name:"Purple Blue Yellow 6",type:m,category:"Uber",colors:["#2B1E3E","#343D5E","#4F777E","#709E87","#99BE95","#D6DEBF"]},{name:"Purple Blue Yellow 7",type:m,category:"Uber",colors:["#2B1E3E","#303558","#466373","#5F8E86","#7BA889","#A4C39B","#D6DEBF"]},{name:"Purple Blue Yellow",type:m,category:"Uber",colors:["#2B1E3E","#383C65","#3E5F7E","#49838A","#5EA28D","#82BB92","#AECEA1","#D6DEBF"]}]);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}for(var k=Object.entries(g.a.schemeGroups).reduce((function(e,t){var n=i()(t,2),a=n[0],o=n[1];return x(x({},e),o.reduce((function(e,t){return x(x({},e),{},r()({},t,a))}),{}))}),{}),A=f()(_),w=0,T=Object.entries(g.a);w<T.length;w++){var P=i()(T[w],2),L=P[0],j=P[1];if("schemeGroups"!==L)for(var M=0,F=Object.entries(j);M<F.length;M++){var I=i()(F[M],2),R=I[0],N=I[1];A.push({name:"ColorBrewer ".concat(L,"-").concat(R),type:k[L],category:"ColorBrewer",colors:N})}}var B,U=A,V=A.find((function(e){return"Global Warming"===e.name}))||{name:"Global Warming",type:"SEQ",category:"Uber",colors:["#5A1846","#900C3F","#C70039","#E3611C","#F1920E","#FFC300"]},z=n(96),G=n.n(z),H=n(160),q=n(1005),W=n(1006),Y=n(559),K=n(392),Z=n(456),X=n(837),J={NONE:"none",DATE:"date",DATE_TIME:"date_time",DECIMAL:"decimal",PERCENTAGE:"percentage",BOOLEAN:"boolean"},Q="format",$={NONE:{id:"NONE",label:"None",format:null,type:J.NONE},DECIMAL_SHORT:{id:"DECIMAL_SHORT",label:"12345  10k",format:".1s",type:J.DECIMAL},DECIMAL_COMMA:{id:"DECIMAL_COMMA",label:"12345  12,345",format:",",type:J.DECIMAL},DECIMAL_SHORT_COMMA:{id:"DECIMAL_SHORT_COMMA",label:"12345  12.3k",format:".3~s",type:J.DECIMAL},DECIMAL_PERCENT_FULL_0:{id:"DECIMAL_PERCENT_FULL_0",label:".01  1%",format:".0%",type:J.DECIMAL},DECIMAL_PERCENT_FULL_1:{id:"DECIMAL_PERCENT_FULL_1",label:".01  1.0%",format:".1%",type:J.DECIMAL},DECIMAL_PERCENT_FULL_2:{id:"DECIMAL_PERCENT_FULL_2",label:".01  1.00%",format:".2%",type:J.DECIMAL},DECIMAL_PRECENT_REGULAR:{id:"DECIMAL_PRECENT_REGULAR",label:"12.345  12.35%",format:"~%",type:J.PERCENTAGE},DECIMAL_DECIMAL_FIXED_2:{id:"DECIMAL_DECIMAL_FIXED_2",label:"1.2345  1.23",format:".2~f",type:J.DECIMAL},DECIMAL_DECIMAL_FIXED_3:{id:"DECIMAL_DECIMAL_FIXED_3",label:"1.2345  1.234",format:".3~f",type:J.DECIMAL},DECIMAL_DECIMAL_FIXED_4:{id:"DECIMAL_DECIMAL_FIXED_4",label:"1.23456  1.2346",format:".4~f",type:J.DECIMAL},DECIMAL_SCIENTIFIC_FIXED_2:{id:"DECIMAL_SCIENTIFIC_FIXED_2",label:"0.12345  1.23e-1",format:".2~e",type:J.DECIMAL},DECIMAL_SCIENTIFIC_FIXED_3:{id:"DECIMAL_SCIENTIFIC_FIXED_3",label:"0.12345  1.235e-1",format:".3~e",type:J.DECIMAL},DECIMAL_SCIENTIFIC_FIXED_4:{id:"DECIMAL_SCIENTIFIC_FIXED_4",label:"0.123456  1.2346e-1",format:".4~e",type:J.DECIMAL},DECIMAL_INT:{id:"DECIMAL_INT",label:"12345  12350",format:".4~r",type:J.DECIMAL},DECIMAL_THREE:{id:"DECIMAL_THREE",label:"12345.4321  12,345.432",format:",.3~f",type:J.DECIMAL},DECIMAL_FOUR:{id:"DECIMAL_FOUR",label:"12345.54321  12,345.5432",format:",.4~f",type:J.DECIMAL},DECIMAL_DELTA:{id:"DECIMAL_DELTA",label:"12345.4321  +12,345.432",format:"+,.3f",type:J.DECIMAL},DECIMAL_CURRENCY:{id:"DECIMAL_CURRENCY",label:"12345.4321  $12,345.43",format:"$,.2f",type:J.DECIMAL},DATE_L:{id:"DATE_L",label:"",format:"L",type:J.DATE},DATE_LL:{id:"DATE_LL",label:"",format:"LL",type:J.DATE},DATE_dddd_LL:{id:"DATE_dddd_LL",label:"",format:"dddd LL",type:J.DATE},DATE_ddd_LL:{id:"DATE_ddd_LL",label:"",format:"ddd LL",type:J.DATE},DATE_TIME_L_LT:{id:"DATE_TIME_L_LT",label:"",format:"L LT",type:J.DATE_TIME},DATE_TIME_L_LTS:{id:"DATE_TIME_L_LTS",label:"",format:"L LTS",type:J.DATE_TIME},DATE_TIME_LLL:{id:"DATE_TIME_LLL",label:"",format:"LLL",type:J.DATE_TIME},DATE_TIME_LL_LTS:{id:"DATE_TIME_LL_LTS",label:"",format:"LL LTS",type:J.DATE_TIME},DATE_TIME_ddd_LLL:{id:"DATE_TIME_ddd_LLL",label:"",format:"ddd LLL",type:J.DATE_TIME},DATE_TIME_LTS:{id:"DATE_TIME_LTS",label:"",format:"LTS",type:J.DATE_TIME},BOOLEAN_NUM:{id:"BOOLEAN_NUM",label:"0 | 1",format:"01",type:J.BOOLEAN},BOOLEAN_Y_N:{id:"BOOLEAN_Y_N",label:"yes | no",format:"yn",type:J.BOOLEAN}},ee={ABSOLUTE:"absolute",RELATIVE:"relative"};function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ae="@@kepler.gl/",re="https://studio-public-data.foursquare.com/statics/keplergl",oe="".concat(re,"/geodude"),ie="https://api.mapbox.com",le=0,ce="dataTable",se="deleteData",ue="addData",de="exportImage",pe="exportData",fe="addMapStyle",ge="exportMap",me="saveMap",he="overwriteMap",ye="shareMap",ve="kepler.gl",be="3.0.0",Ee="http://kepler.gl/",Ce={sidePanel:{width:300,margin:{top:20,left:20,bottom:30,right:20},headerHeight:96},mapControl:{width:184,padding:12,mapLegend:{pinned:{bottom:22,right:12}}}},Oe=G()({light:null,dark:null,base:null}),Se=[{id:"filter",label:"sidebar.panels.filter",onClick:null}],_e=G()({list:null,byDataset:null}),De=Se,xe="#D1CEC7",ke="#000000",Ae=["background","bg","land","water"],we="Background",Te="3d building",Pe={slug:we,filter:function(){return!1},defaultVisibility:!1,isVisibilityToggleAvailable:!1,isMoveToTopAvailable:!1,isColorPickerAvailable:!0},Le=[{slug:"label",filter:function(e){return e.id.match(/(?=(label|place-|poi-))/)},defaultVisibility:!0,isVisibilityToggleAvailable:!0,isMoveToTopAvailable:!0,isColorPickerAvailable:!1},{slug:"road",filter:function(e){return e.id.match(/(?=(road|railway|tunnel|street|bridge))(?!.*label)/)},defaultVisibility:!0,isVisibilityToggleAvailable:!0,isMoveToTopAvailable:!0,isColorPickerAvailable:!1},{slug:"border",filter:function(e){return e.id.match(/border|boundaries|boundary/)},defaultVisibility:!1,isVisibilityToggleAvailable:!0,isMoveToTopAvailable:!0,isColorPickerAvailable:!1},{slug:"building",filter:function(e){return e.id.match(/building/)},defaultVisibility:!0,isVisibilityToggleAvailable:!0,isMoveToTopAvailable:!0,isColorPickerAvailable:!1},{slug:"water",filter:function(e){return e.id.match(/(?=(water|stream|ferry))/)},defaultVisibility:!0,isVisibilityToggleAvailable:!0,isMoveToTopAvailable:!0,isColorPickerAvailable:!1},{slug:"land",filter:function(e){return e.id.match(/(?=(parks|landcover|industrial|sand|hillshade))/)},defaultVisibility:!0,isVisibilityToggleAvailable:!0,isMoveToTopAvailable:!0,isColorPickerAvailable:!1},{slug:Te,filter:function(){return!1},defaultVisibility:!1,isVisibilityToggleAvailable:!0,isMoveToTopAvailable:!0,isColorPickerAvailable:!0}],je=G()({NONE:null,DARK:null,LIGHT:null}),Me="no_map",Fe={version:8,sources:{},layers:[]},Ie="".concat(oe,"/NO_BASEMAP.png"),Re=[{id:Me,label:"No Basemap",url:"",icon:Ie,layerGroups:[Pe],colorMode:je.NONE,style:Fe},{id:"dark-matter",label:"DarkMatter",url:"https://basemaps.cartocdn.com/gl/dark-matter-gl-style/style.json",icon:"".concat(oe,"/DARKMATTER.png"),layerGroups:Le,colorMode:je.DARK,complimentaryStyleId:"positron"},{id:"dark-matter-nolabels",label:"DarkMatterNoLabels",url:"https://basemaps.cartocdn.com/gl/dark-matter-nolabels-gl-style/style.json",icon:"".concat(oe,"/DARKMATTER_NOLABELS.png"),layerGroups:Le,colorMode:je.DARK,complimentaryStyleId:"positron-nolabels"},{id:"positron",label:"Positron",url:"https://basemaps.cartocdn.com/gl/positron-gl-style/style.json",icon:"".concat(oe,"/POSITRON.png"),layerGroups:Le,colorMode:je.LIGHT,complimentaryStyleId:"dark-matter"},{id:"positron-nolabels",label:"PositronNoLabels",url:"https://basemaps.cartocdn.com/gl/positron-nolabels-gl-style/style.json",icon:"".concat(oe,"/POSITRON_NOLABELS.png"),layerGroups:Le,colorMode:je.LIGHT,complimentaryStyleId:"dark-matter-nolabels"},{id:"voyager",label:"Voyager",url:"https://basemaps.cartocdn.com/gl/voyager-gl-style/style.json",icon:"".concat(oe,"/VOYAGER.png"),layerGroups:Le,colorMode:je.LIGHT,complimentaryStyleId:"dark-matter"},{id:"voyager-nolabels",label:"VoyagerNoLabels",url:"https://basemaps.cartocdn.com/gl/voyager-nolabels-gl-style/style.json",icon:"".concat(oe,"/VOYAGER_NOLABELS.png"),layerGroups:Le,colorMode:je.LIGHT,complimentaryStyleId:"dark-matter-nolabels"}],Ne={geojson:["_geojson","all_points","geojson"]},Be={icon:["icon"]},Ue=[["lat","lng"],["lat","lon"],["lat","long"],["latitude","longitude"]],Ve=["alt","altitude"],ze={lat0:"begintrip",lng0:"begintrip",lat1:"dropoff",lng1:"dropoff"},Ge=G()({range:null,select:null,input:null,timeRange:null,multiSelect:null,polygon:null}),He=G()({side:null,enlarged:null,minified:null}),qe=He.side,We=G()({ordinal:null,quantile:null,quantize:null,linear:null,sqrt:null,log:null,point:null}),Ye=r()(r()(r()(r()(r()(r()(r()({},We.linear,H.a),We.quantize,q.a),We.quantile,W.a),We.ordinal,Y.a),We.sqrt,K.c),We.log,Z.a),We.point,X.b),Ke=G()({boolean:null,date:null,geojson:null,integer:null,real:null,string:null,timestamp:null,point:null,array:null,object:null,geoarrow:null}),Ze=G()({ASCENDING:null,DESCENDING:null,UNSORT:null}),Xe=G()({SORT_ASC:null,SORT_DES:null,UNSORT:null,PIN:null,UNPIN:null,COPY:null,FORMAT_COLUMN:null}),Je=[{value:Xe.SORT_ASC,display:"Sort Ascending",icon:"ArrowUp",condition:function(e){return e.sortMode!==Ze.ASCENDING}},{value:Xe.SORT_DES,display:"Sort Descending",icon:"ArrowDown",condition:function(e){return e.sortMode!==Ze.DESCENDING}},{value:Xe.UNSORT,display:"Unsort Column",icon:"Cancel",condition:function(e){return e.isSorted}},{value:Xe.PIN,display:"Pin Column",icon:"Pin",condition:function(e){return!e.isPinned}},{value:Xe.UNPIN,display:"Unpin Column",icon:"Cancel",condition:function(e){return e.isPinned}},{value:Xe.COPY,display:"Copy Column",icon:"Clipboard"},{value:Xe.FORMAT_COLUMN,display:"Format Column",icon:"Hash"}],Qe=(B={},r()(r()(r()(r()(r()(r()(r()(r()(r()(r()(B,Ke.boolean,{label:"bool",color:"242, 152, 163"}),Ke.date,{label:"date",color:"160, 106, 206"}),Ke.geojson,{label:"geo",color:"106, 160, 206"}),Ke.geoarrow,{label:"geo",color:"106, 160, 206"}),Ke.integer,{label:"int",color:"248, 194, 28"}),Ke.real,{label:"float",color:"248, 194, 28"}),Ke.string,{label:"string",color:"140, 210, 205"}),Ke.timestamp,{label:"time",color:"106, 160, 56"}),Ke.point,{label:"point",color:"0, 172, 237"}),Ke.array,{label:"array",color:"231, 110, 58"}),r()(B,Ke.object,{label:"object",color:"74, 165, 150"})),$e={default:"237, 88, 106"},et=[255,255,255,60],tt=G()({color:null,radius:null,size:null,colorAggr:null,sizeAggr:null}),nt={count:"count",average:"average",maximum:"maximum",minimum:"minimum",median:"median",stdev:"stdev",sum:"sum",variance:"variance",mode:"mode",countUnique:"countUnique"},at=Object.entries(nt).map((function(e){var t=i()(e,2),n=t[0],a=t[1];return{id:n,label:"stdev"===n?"Std Deviation":"countUnique"===n?"Count Unique":"string"==typeof a?a.charAt(0).toUpperCase()+a.slice(1):a}})),rt=r()(r()(r()({},tt.color,[We.quantize,We.quantile]),tt.radius,[We.sqrt]),tt.size,[We.linear,We.sqrt,We.log]),ot=r()(r()({},tt.colorAggr,r()(r()(r()(r()(r()(r()(r()({},nt.average,[We.quantize,We.quantile]),nt.maximum,[We.quantize,We.quantile]),nt.minimum,[We.quantize,We.quantile]),nt.median,[We.quantize,We.quantile]),nt.stdev,[We.quantize,We.quantile]),nt.sum,[We.quantize,We.quantile]),nt.variance,[We.quantize,We.quantile])),tt.sizeAggr,r()(r()(r()(r()(r()(r()(r()({},nt.average,[We.linear,We.sqrt,We.log]),nt.maximum,[We.linear,We.sqrt,We.log]),nt.minimum,[We.linear,We.sqrt,We.log]),nt.median,[We.linear,We.sqrt,We.log]),nt.stdev,[We.linear,We.sqrt,We.log]),nt.sum,[We.linear,We.sqrt,We.log]),nt.variance,[We.linear,We.sqrt,We.log])),it=r()(r()(r()({},tt.color,[We.ordinal]),tt.radius,[We.point]),tt.size,[We.point]),lt=r()(r()({},tt.colorAggr,r()(r()({},nt.mode,[We.ordinal]),nt.countUnique,[We.quantize,We.quantile])),tt.sizeAggr,{}),ct=r()(r()(r()({},tt.color,[]),tt.radius,[]),tt.size,[]),st=r()(r()({},tt.colorAggr,{}),tt.sizeAggr,{}),ut=r()(r()({},tt.colorAggr,r()({},nt.count,[We.quantize,We.quantile])),tt.sizeAggr,r()({},nt.count,[We.linear,We.sqrt,We.log])),dt=r()(r()(r()(r()(r()(r()(r()(r()(r()(r()({},Ke.string,{type:"categorical",scale:ne(ne({},it),lt),format:{legend:function(e){return e},tooltip:[]}}),Ke.real,{type:"numerical",scale:ne(ne({},rt),ot),format:{legend:function(e){return e},tooltip:[J.NONE,J.DECIMAL,J.PERCENTAGE]}}),Ke.timestamp,{type:"time",scale:ne(ne({},rt),st),format:{legend:function(e){return e},tooltip:[J.NONE,J.DATE,J.DATE_TIME]}}),Ke.integer,{type:"numerical",scale:ne(ne({},rt),ot),format:{legend:function(e){return e},tooltip:[J.NONE,J.DECIMAL,J.PERCENTAGE]}}),Ke.boolean,{type:"boolean",scale:ne(ne({},it),lt),format:{legend:function(e){return e},tooltip:[J.NONE,J.BOOLEAN]}}),Ke.date,{type:"time",scale:ne(ne({},it),lt),format:{legend:function(e){return e},tooltip:[J.NONE,J.DATE]}}),Ke.geojson,{type:"geometry",scale:ne(ne({},ct),st),format:{legend:function(e){return"..."},tooltip:[]}}),Ke.geoarrow,{type:"geometry",scale:ne(ne({},ct),st),format:{legend:function(e){return"..."},tooltip:[]}}),Ke.object,{type:"numerical",scale:{},format:{legend:function(e){return"..."},tooltip:[]}}),Ke.array,{type:"numerical",scale:{},format:{legend:function(e){return"..."},tooltip:[]}}),pt=Object.keys(tt).reduce((function(e,t){return ne(ne({},e),{},r()({},t,Object.keys(dt).filter((function(e){return dt[e].scale[t]&&Object.keys(dt[e].scale[t]).length}))))}),{}),ft={tripArc:"#9226C6",begintrip_lat:"#1E96BE",dropoff_lat:"#FF991F",request_lat:"#52A353"},gt=[],mt=[0,0,0,0],ht=3,yt={normal:{label:"overlayBlending.normal",value:"normal"},screen:{label:"overlayBlending.screen",value:"screen"},darken:{label:"overlayBlending.darken",value:"darken"}},vt={additive:{label:"layerBlending.additive",blendFunc:["SRC_ALPHA","DST_ALPHA"],blendEquation:"FUNC_ADD"},normal:{label:"layerBlending.normal",blendFunc:["SRC_ALPHA","ONE_MINUS_SRC_ALPHA","ONE","ONE_MINUS_SRC_ALPHA"],blendEquation:["FUNC_ADD","FUNC_ADD"]},subtractive:{label:"layerBlending.subtractive",blendFunc:["ONE","ONE_MINUS_DST_COLOR","SRC_ALPHA","DST_ALPHA"],blendEquation:["FUNC_SUBTRACT","FUNC_ADD"]}},bt=5,Et=G()({ONE_X:null,TWO_X:null}),Ct=G()({SCREEN:null,FOUR_BY_THREE:null,SIXTEEN_BY_NINE:null,CUSTOM:null}),Ot={id:Ct.SCREEN,label:"modal.exportImage.ratioOriginalScreen",getSize:function(e,t){return{width:e,height:t}}},St={id:Ct.CUSTOM,hidden:!0,label:"modal.exportImage.ratioCustom",getSize:function(e,t){return{width:e,height:t}}},_t={id:Ct.FOUR_BY_THREE,label:"modal.exportImage.ratio4_3",getSize:function(e,t){return{width:e,height:Math.round(.75*e)}}},Dt={id:Ct.SIXTEEN_BY_NINE,label:"modal.exportImage.ratio16_9",getSize:function(e,t){return{width:e,height:Math.round(.5625*e)}}},xt=[Ot,St,_t,Dt],kt={id:Et.ONE_X,label:"1x",available:!0,scale:1,getSize:function(e,t){return{width:e,height:t}}},At={id:Et.TWO_X,label:"2x",available:!0,scale:2,getSize:function(e,t){return{width:2*e,height:2*t}}},wt=[kt,At],Tt=G()({CSV:null}),Pt=[{id:Tt.CSV,label:Tt.CSV.toLowerCase(),available:!0}],Lt=G()({HTML:null,JSON:null}),jt=G()({READ:null,EDIT:null}),Mt=Object.entries(Lt).map((function(e){return{id:e[0],label:e[1].toLowerCase(),available:!0}}));function Ft(e){return"https://d1a3f4spazzrp4.cloudfront.net/kepler.gl/documentation/map-".concat(e.toLowerCase(),"-mode.png")}var It=Object.entries(jt).map((function(e){return{id:e[0],label:"modal.exportMap.html.".concat(e[1].toLowerCase()),available:!0,url:Ft(e[1])}})),Rt=6,Nt="MESSAGE_NOT_PROVIDED",Bt=G()({info:null,error:null,warning:null,success:null}),Ut=G()({global:null,file:null}),Vt=330,zt=600,Gt=60,Ht=G()({free:null,incremental:null,point:null,interval:null}),qt="MM/DD/YY HH:mm:ssa",Wt=[0,10],Yt=.001,Kt="geocoder_dataset",Zt="geocoder_layer",Xt=.05,Jt=[255,0,0],Qt=80,$t="kepler_editor_layer",en=6,tn={DRAW_POLYGON:"DRAW_POLYGON",DRAW_RECTANGLE:"DRAW_RECTANGLE",EDIT:"EDIT_VERTEX"},nn=G()({histogram:null,lineChart:null}),an=100,rn=4,on={width:300,height:200},ln={title:100,description:100},cn=G()({upload:null,storage:null}),sn={},un=G()({row:null,geojson:null,csv:null,keplergl:null,arrow:null}),dn=G()({visibleLayers:null,mapLegend:null,toggle3d:null,splitMap:null,mapDraw:null,mapLocale:null,effect:null}),pn=2/3,fn=5,gn={infoIcon:"info-icon",warningIcon:"warning-icon",errorIcon:"error-icon",successIcon:"success-icon",checkmarkIcon:"checkmark-icon",sortableLayerItem:"sortable-layer-item",staticLayerItem:"static-layer-item",layerTitleEditor:"layer__title__editor",removeLayerAction:"remove-layer-action",layerPanel:"layer-panel",sortableEffectItem:"sortable-effect-item",staticEffectItem:"static-effect-item",providerLoading:"provider-loading",providerMapInfoPanel:"provider-map-info-panel",providerSelect:"provider-select",cloudHeader:"cloud-header",providerShareMap:"provider-share-map"},mn="UTC",hn="ink",yn=[255,255,255],vn=1,bn=.5,En=[0,0,0],Cn={pick:"pick",current:"current",animation:"animation"},On={timestamp:Date.now(),timeMode:Cn.pick,shadowIntensity:bn,shadowColor:[].concat(En),sunLightColor:[].concat(yn),sunLightIntensity:vn,ambientLightColor:[].concat(yn),ambientLightIntensity:vn},Sn={type:"lightAndShadow",name:"Light & Shadow",parameters:[{name:"timestamp",min:0,max:Number.MAX_SAFE_INTEGER},{name:"shadowIntensity",min:0,max:1,defaultValue:bn},{name:"sunLightIntensity",min:0,max:1,defaultValue:vn},{name:"ambientLightIntensity",min:0,max:1,defaultValue:vn},{name:"shadowColor",type:"color",min:0,max:255,defaultValue:En},{name:"sunLightColor",type:"color",min:0,max:255,defaultValue:yn},{name:"ambientLightColor",type:"color",min:0,max:255,defaultValue:yn}]},_n={ink:{type:"ink",name:"Ink",parameters:[{name:"strength",min:0,max:1}]},brightnessContrast:{type:"brightnessContrast",name:"Brightness & Contrast",parameters:[{name:"brightness",min:-1,max:1},{name:"contrast",min:-1,max:1}]},hueSaturation:{type:"hueSaturation",name:"Hue & Saturation",parameters:[{name:"hue",min:-1,max:1},{name:"saturation",defaultValue:.25,min:-1,max:1}]},vibrance:{type:"vibrance",name:"Vibrance",parameters:[{name:"amount",defaultValue:.5,min:-1,max:1}]},sepia:{type:"sepia",name:"Sepia",parameters:[{name:"amount",min:0,max:1}]},dotScreen:{type:"dotScreen",name:"Dot Screen",parameters:[{name:"angle",min:0,max:Math.PI/2},{name:"size",min:1,max:20},{name:"center",type:"array",label:["Center X","Center Y"],defaultValue:[.5,.5],min:0,max:1}]},colorHalftone:{type:"colorHalftone",name:"Color Halftone",parameters:[{name:"angle",min:0,max:Math.PI/2},{name:"size",min:1,max:20},{name:"center",type:"array",label:["Center X","Center Y"],defaultValue:[.5,.5],min:0,max:1}]},noise:{type:"noise",name:"Noise",parameters:[{name:"amount",min:0,max:1}]},triangleBlur:{type:"triangleBlur",name:"Blur (Triangle)",parameters:[{name:"radius",min:0,max:100}]},zoomBlur:{type:"zoomBlur",name:"Blur (Zoom)",parameters:[{name:"strength",defaultValue:.05,min:0,max:1},{name:"center",type:"array",label:["Center X","Center Y"],defaultValue:[.5,.5],min:0,max:1}]},tiltShift:{type:"tiltShift",name:"Blur (Tilt Shift)",parameters:[{name:"blurRadius",label:"Blur",min:0,max:50},{name:"gradientRadius",label:"Gradient",min:0,max:400},{name:"start",type:"array",label:["Start",!1],defaultValue:[0,0],min:0,max:1},{name:"end",type:"array",label:["End",!1],defaultValue:[1,1],min:0,max:1}]},edgeWork:{type:"edgeWork",name:"Edge work",parameters:[{name:"radius",min:1,max:50}]},vignette:{type:"vignette",name:"Vignette",parameters:[{name:"amount",min:0,max:1},{name:"radius",min:0,max:1}]},magnify:{type:"magnify",name:"Magnify",parameters:[{name:"screenXY",type:"array",label:["Position X","Position Y"],defaultValue:[.5,.5],min:0,max:1},{name:"radiusPixels",label:"Size",min:10,max:500},{name:"zoom",min:.5,max:50},{name:"borderWidthPixels",label:"Border Width",defaultValue:3,min:0,max:50}]},hexagonalPixelate:{type:"hexagonalPixelate",name:"Hexagonal Pixelate",parameters:[{name:"scale",defaultValue:20,min:1,max:50}]}},Dn=[Sn].concat(f()(Object.keys(_n).map((function(e){return _n[e]})))),xn=G()({color:null,stroke:null,radius:null,height:null,angle:null,cell:null,precision:null,display:null}),kn=.8,An=[252,242,26,255],wn="new layer",Tn={field:null,color:[255,255,255],size:18,offset:[0,0],anchor:"start",alignment:"center",outlineWidth:0,outlineColor:[255,0,0,255],background:!1,backgroundColor:[0,0,200,255]},Pn={name:"color.customPalette",type:"custom",category:"Custom",colors:[]},Ln="__unknownColor__",jn={customPalette:Pn,showSketcher:!1,showDropdown:!1,colorRangeConfig:{type:"all",steps:6,reversed:!1,custom:!1}},Mn={thickness:{type:"number",defaultValue:2,label:"layerVisConfigs.strokeWidth",isRanged:!1,range:[0,100],step:.1,group:xn.stroke,property:"thickness",allowCustomValue:!0},strokeWidthRange:{type:"number",defaultValue:[0,10],label:"layerVisConfigs.strokeWidthRange",isRanged:!0,range:[0,200],step:.1,group:xn.stroke,property:"sizeRange",allowCustomValue:!0},trailLength:{type:"number",defaultValue:180,label:"layerVisConfigs.strokeWidth",isRanged:!1,range:[1,1e3],step:1,group:xn.stroke,property:"trailLength",allowCustomValue:!0},radius:{type:"number",defaultValue:10,label:"layerVisConfigs.radius",isRanged:!1,range:[0,100],step:.1,group:xn.radius,property:"radius",allowCustomValue:!0},fixedRadius:{defaultValue:!1,type:"boolean",label:"layerVisConfigs.fixedRadius",description:"layerVisConfigs.fixedRadiusDescription",group:xn.radius,property:"fixedRadius"},fixedHeight:{defaultValue:!1,type:"boolean",label:"layerVisConfigs.fixedHeight",description:"layerVisConfigs.fixedHeightDescription",group:xn.height,property:"fixedHeight"},radiusRange:{type:"number",defaultValue:[0,50],isRanged:!0,range:[0,500],step:.1,label:"layerVisConfigs.radiusRange",group:xn.radius,property:"radiusRange",allowCustomValue:!0},clusterRadius:{type:"number",label:"layerVisConfigs.clusterRadius",defaultValue:40,isRanged:!1,range:[1,500],step:.1,group:xn.radius,property:"clusterRadius",allowCustomValue:!0},clusterRadiusRange:{type:"number",label:"layerVisConfigs.radiusRangePixels",defaultValue:[1,40],isRanged:!0,range:[1,150],step:.1,group:xn.radius,property:"radiusRange",allowCustomValue:!0},opacity:{type:"number",defaultValue:kn,label:"layerVisConfigs.opacity",isRanged:!1,range:[0,1],step:.01,group:xn.color,property:"opacity",allowCustomValue:!1},coverage:{type:"number",defaultValue:1,label:"layerVisConfigs.coverage",isRanged:!1,range:[0,1],step:.01,group:xn.cell,property:"coverage",allowCustomValue:!1},outline:{type:"boolean",defaultValue:!1,label:"layer.outline",group:xn.display,property:"outline"},colorRange:{type:"color-range-select",defaultValue:V,label:"layerVisConfigs.colorRange",group:xn.color,property:"colorRange"},strokeColorRange:{type:"color-range-select",defaultValue:V,label:"layerVisConfigs.strokeColorRange",group:xn.color,property:"strokeColorRange"},targetColor:{type:"color-select",label:"layerVisConfigs.targetColor",defaultValue:null,group:xn.color,property:"targetColor"},strokeColor:{type:"color-select",label:"layerVisConfigs.strokeColor",defaultValue:null,group:xn.color,property:"strokeColor"},colorAggregation:{type:"select",defaultValue:nt.average,label:"layerVisConfigs.colorAggregation",options:Object.keys(nt),group:xn.color,property:"colorAggregation",condition:function(e){return Boolean(e.colorField)}},sizeAggregation:{type:"select",defaultValue:nt.average,label:"layerVisConfigs.heightAggregation",options:Object.keys(nt),group:xn.height,property:"sizeAggregation",condition:function(e){return Boolean(e.sizeField)}},percentile:{type:"number",defaultValue:[0,100],label:function(e){return"Filter by ".concat(e.colorField?"".concat(e.visConfig.colorAggregation," ").concat(e.colorField.name):"count"," percentile")},isRanged:!0,range:[0,100],step:.01,group:xn.color,property:"percentile",condition:function(e){return"ordinal"!==e.colorScale},allowCustomValue:!1},elevationPercentile:{type:"number",defaultValue:[0,100],label:function(e){return"Filter by ".concat(e.sizeField?"".concat(e.visConfig.sizeAggregation," ").concat(e.sizeField.name):"count"," percentile")},isRanged:!0,range:[0,100],step:.01,group:xn.height,property:"elevationPercentile",condition:function(e){return Boolean(e.visConfig.enable3d&&(e.colorField||e.sizeField))},allowCustomValue:!1},resolution:{type:"number",defaultValue:8,label:"layerVisConfigs.resolution",isRanged:!1,range:[0,13],step:1,group:xn.cell,property:"resolution",allowCustomValue:!0},sizeScale:{type:"number",defaultValue:10,label:"layerVisConfigs.sizeScale",isRanged:!1,range:[1,1e3],step:1,group:xn.stroke,property:"sizeScale",allowCustomValue:!0},angle:{type:"number",label:"layerVisConfigs.angle",defaultValue:0,isRanged:!1,range:[0,360],group:xn.angle,step:1,property:"angle",allowCustomValue:!0},worldUnitSize:{type:"number",defaultValue:1,label:"layerVisConfigs.worldUnitSize",isRanged:!1,range:[0,500],step:1e-4,group:xn.cell,property:"worldUnitSize",allowCustomValue:!0},elevationScale:{type:"number",defaultValue:5,label:"layerVisConfigs.elevationScale",isRanged:!1,range:[0,100],step:.1,group:xn.height,property:"elevationScale",allowCustomValue:!0},enableElevationZoomFactor:{type:"boolean",defaultValue:!0,label:"layerVisConfigs.enableElevationZoomFactor",group:xn.height,property:"enableElevationZoomFactor",description:"layerVisConfigs.enableElevationZoomFactorDescription"},elevationRange:{type:"number",defaultValue:[0,500],label:"layerVisConfigs.heightScale",isRanged:!0,range:[0,1e3],step:.01,group:xn.height,property:"sizeRange",allowCustomValue:!0},heightRange:{type:"number",defaultValue:[0,500],label:"Height Scale",isRanged:!0,range:[0,1e3],step:.01,group:xn.height,property:"heightRange",allowCustomValue:!0},coverageRange:{type:"number",defaultValue:[0,1],label:"layerVisConfigs.coverageRange",isRanged:!0,range:[0,1],step:.01,group:xn.radius,property:"coverageRange",allowCustomValue:!1},"hi-precision":{type:"boolean",defaultValue:!1,label:"layerVisConfigs.highPrecisionRendering",group:xn.precision,property:"hi-precision",description:"layerVisConfigs.highPrecisionRenderingDescription"},enable3d:{type:"boolean",defaultValue:!1,label:"layerVisConfigs.height",group:xn.height,property:"enable3d",description:"layerVisConfigs.heightDescription"},stroked:{type:"boolean",label:"layerVisConfigs.stroke",defaultValue:!0,group:xn.display,property:"stroked"},filled:{type:"boolean",label:"layerVisConfigs.fill",defaultValue:!1,group:xn.display,property:"filled"},extruded:{type:"boolean",defaultValue:!1,label:"layerVisConfigs.enablePolygonHeight",group:xn.display,property:"extruded"},wireframe:{type:"boolean",defaultValue:!1,label:"layerVisConfigs.showWireframe",group:xn.display,property:"wireframe"},weight:{type:"number",defaultValue:1,label:"layerVisConfigs.weightIntensity",isRanged:!1,range:[.01,500],step:.01,group:xn.cell,property:"weight",condition:function(e){return Boolean(e.weightField)},allowCustomValue:!0},heatmapRadius:{type:"number",defaultValue:20,label:"layerVisConfigs.radius",isRanged:!1,range:[0,100],step:.1,group:xn.cell,property:"radius",allowCustomValue:!0},darkBaseMapEnabled:{type:"boolean",defaultValue:!0,label:"layerVisConfigs.darkModeEnabled",property:"darkBaseMapEnabled",group:xn.display}},Fn={fontSize:{type:"number",range:[1,100],value0:1,step:1,isRanged:!1,label:"Font size",showInput:!0},outlineWidth:{type:"number",range:[0,1],value0:0,step:.01,isRanged:!1,label:"Outline width",showInput:!0},textAnchor:{type:"select",options:["start","middle","end"],multiSelect:!1,searchable:!1},textAlignment:{type:"select",options:["top","center","bottom"],multiSelect:!1,searchable:!1}},In=G()({point:null,arc:null,line:null,grid:null,hexagon:null,geojson:null,cluster:null,icon:null,heatmap:null,hexagonId:null,"3D":null,trip:null,s2:null}),Rn=[In.point,In.hexagon,In.arc,In.line,In.hexagonId,In.geojson],Nn=n(31),Bn=n.n(Nn),Un=Object.assign({},Bn.a.KeyEvent);Un.DOM_VK_UP=Un.DOM_VK_UP||38,Un.DOM_VK_DOWN=Un.DOM_VK_DOWN||40,Un.DOM_VK_BACK_SPACE=Un.DOM_VK_BACK_SPACE||8,Un.DOM_VK_RETURN=Un.DOM_VK_RETURN||13,Un.DOM_VK_ENTER=Un.DOM_VK_ENTER||14,Un.DOM_VK_ESCAPE=Un.DOM_VK_ESCAPE||27,Un.DOM_VK_TAB=Un.DOM_VK_TAB||9,Un.DOM_VK_DELETE=Un.DOM_VK_DELETE||46;var Vn=Un,zn="Mapbox Token not valid. [Click here](https://github.com/keplergl/kepler.gl#mapboxapiaccesstoken-string-required)",Gn={dataUri:'[kepler.gl] Failed to create image from data uri.\n  Copy the uri in the javascript console when reporting this bug.\n  The uri is the string starts with "data:image/png"',styleSheet:"[kepler.gl] Failed to fetch stylesheet when exporting image.\n    This probably will not affect the map. It might affect the legend.\n    The stylesheet failed to load is: "},Hn="https://docs.kepler.gl/docs/user-guides",qn="https://docs.kepler.gl/docs/api-reference/actions/actions",Wn="https://docs.kepler.gl/docs/api-reference",Yn="".concat(Hn,"/k-save-and-export"),Kn="".concat(qn,"#adddatatomap"),Zn="https://docs.mapbox.com/help/how-mapbox-works/access-tokens/",Xn="".concat(Hn,"/k-save-and-export#export-html-map"),Jn="".concat(Hn,"/b-kepler-gl-workflow/a-add-data-to-the-map#supported-file-formats"),Qn="https://github.com/keplergl/kepler.gl/issues/new?assignees=&labels=bug&template=bug_report.md&title=%5BBug%5D",$n=[n(571).restrictToVerticalAxis],ea=[],ta="root",na="map",aa="layer",ra="root",oa="effect"},451:function(e,t,n){"use strict";var a,r,o,i,l,c,s,u,d,p=n(21),f=n.n(p),g=n(8),m=n.n(g),h=n(9),y=n.n(h),v=n(12),b=n.n(v),E=n(7),C=n.n(E),O=n(10),S=n.n(O),_=n(11),D=n.n(_),x=n(1),k=n.n(x),A=n(6),w=n.n(A),T=n(0),P=n.n(T),L=n(25),j=n.n(L),M=n(5),F=n(601),I=n(255),R=n(15),N=n(22),B=n(349),U=n(350),V=n(13);function z(e,t,n){return t=C()(t),b()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],C()(e).constructor):t.apply(e,n))}var G=Object(M.css)(a||(a=w()(["\n  .layer__drag-handle {\n    color: ",";\n    opacity: 1;\n    cursor: move;\n  }\n"])),(function(e){return e.theme.textColorHl})),H=M.default.div(r||(r=w()(["\n  display: flex;\n  align-items: center;\n  padding-top: 6px;\n  padding-bottom: 6px;\n  z-index: ",";\n\n  :not(.sorting) {\n    :hover {\n      background-color: ",";\n      ",";\n    }\n  }\n\n  &.sorting-colors {\n    background-color: ",";\n    ",";\n  }\n"])),(function(e){return e.theme.dropdownWrapperZ+1}),(function(e){return e.theme.panelBackgroundHover}),G,(function(e){return e.theme.panelBackgroundHover}),G),q=M.default.div(o||(o=w()(["\n  display: flex;\n  align-items: center;\n  opacity: 0;\n"]))),W=M.default.div(i||(i=w()(["\n  color: ",";\n  svg {\n    :hover {\n      color: ",";\n    }\n  }\n  height: 12px;\n  margin-left: auto;\n  margin-right: 12px;\n  :hover {\n    cursor: pointer;\n  }\n"])),(function(e){return e.theme.textColor}),(function(e){return e.theme.subtextColorActive})),Y=M.default.div(l||(l=w()(["\n  width: calc(100% - 16px);\n  height: 1px;\n  background-color: ",";\n  margin-top: 8px;\n  margin-left: 8px;\n"])),(function(e){return e.theme.labelColor})),K=M.default.div.attrs({className:"custom-palette__swatch"})(c||(c=w()(["\n  background-color: ",";\n  width: 32px;\n  height: 18px;\n  display: inline-block;\n  :hover {\n    box-shadow: ",";\n    cursor: pointer;\n  }\n"])),(function(e){return e.color}),(function(e){return e.theme.boxShadow})),Z=M.default.div(s||(s=w()(["\n  padding: 0 8px;\n  :hover {\n    background-color: ",";\n    cursor: pointer;\n  }\n"])),(function(e){return e.theme.panelBackgroundHover})),X=M.default.div(u||(u=w()(["\n  margin-top: 11px;\n  display: flex;\n  direction: rtl;\n"]))),J=M.default.div(d||(d=w()(["\n  margin-left: 12px;\n  input {\n    color: ",";\n    font-size: 10px;\n  }\n"])),(function(e){return e.theme.textColorHl})),Q=Object(F.SortableElement)((function(e){var t=e.children,n=e.isSorting;return P.a.createElement(H,{className:j()("custom-palette__sortable-items",{sorting:n})},t)})),$=Object(F.SortableContainer)((function(e){var t=e.children,n=e.className;return P.a.createElement("div",{className:n},t)})),ee=Object(F.SortableHandle)((function(e){var t=e.className,n=e.children;return P.a.createElement(q,{className:t},n)})),te=function(e){function t(){var e;m()(this,t);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=z(this,t,[].concat(a)),k()(S()(e),"state",{isSorting:!1}),k()(S()(e),"root",Object(T.createRef)()),k()(S()(e),"_onPickerUpdate",(function(t){var n=e.props.customPalette.colors,a=f()(n);a[e.props.showSketcher]=t.hex,e._setColorPaletteUI(a)})),k()(S()(e),"_onColorDelete",(function(t){var n=e.props.customPalette.colors,a=f()(n);a.length>1&&a.splice(t,1),e._setColorPaletteUI(a)})),k()(S()(e),"_onColorAdd",(function(){var t=e.props.customPalette.colors,n=[].concat(f()(t),[t[t.length-1]]);e._setColorPaletteUI(n)})),k()(S()(e),"_onSwatchClick",(function(t){e.props.onToggleSketcher(t)})),k()(S()(e),"_onSwatchClose",(function(){e.props.onToggleSketcher(!1)})),k()(S()(e),"_onApply",(function(t){t.stopPropagation(),t.preventDefault(),e.props.onCancel(),e.props.onApply(e.props.customPalette,t)})),k()(S()(e),"_onSortEnd",(function(t){var n=t.oldIndex,a=t.newIndex,r=e.props.customPalette.colors,o=Object(V.arrayMove)(r,n,a);e._setColorPaletteUI(o),e.setState({isSorting:!1})})),k()(S()(e),"_onSortStart",(function(){e.setState({isSorting:!0})})),k()(S()(e),"_inputColorHex",(function(t,n){var a=n.target.value,r=e.props.customPalette.colors,o=f()(r);o[t]=a.toUpperCase(),e._setColorPaletteUI(o)})),e}return D()(t,e),y()(t,[{key:"_setColorPaletteUI",value:function(e){this.props.setCustomPalette({colors:e})}},{key:"render",value:function(){var e=this,t=this.props.customPalette.colors;return P.a.createElement("div",{className:"custom-palette-panel",ref:this.root},P.a.createElement(Z,null,P.a.createElement(B.a,{colors:t})),P.a.createElement($,{className:"custom-palette-container",onSortEnd:this._onSortEnd,onSortStart:this._onSortStart,lockAxis:"y",helperClass:"sorting-colors",useDragHandle:!0},t.map((function(t,n){return P.a.createElement(Q,{key:n,index:n,isSorting:e.state.isSorting},P.a.createElement(ee,{className:"layer__drag-handle"},P.a.createElement(N.VertDots,{height:"20px"})),P.a.createElement(K,{color:t,onClick:function(){return e._onSwatchClick(n)}}),P.a.createElement(J,null,P.a.createElement(R.j,{type:"text",className:"custom-palette-hex__input",value:t.toUpperCase(),onClick:function(e){e.stopPropagation()},onChange:function(t){return e._inputColorHex(n,t)},id:"input-layer-label-".concat(n)})),P.a.createElement(W,{onClick:function(){return e._onColorDelete(n)}},P.a.createElement(N.Trash,{className:"trashbin"})))}))),P.a.createElement(R.b,{className:"add-step__button",link:!0,onClick:this._onColorAdd},"+ Add Step"),P.a.createElement(Y,null),P.a.createElement(X,null,P.a.createElement(R.b,{className:"confirm-apply__button",link:!0,onClick:this._onApply},"Confirm"),P.a.createElement(R.b,{link:!0,onClick:this.props.onCancel},"Cancel")),P.a.createElement(I.a,{isOpened:!1!==this.props.showSketcher,left:280,top:-300},P.a.createElement(U.a,{color:t[this.props.showSketcher],onChange:this._onPickerUpdate,onSwatchClose:this._onSwatchClose})))}}]),t}(T.Component);t.a=te},452:function(e,t,n){"use strict";n.d(t,"a",(function(){return G})),n.d(t,"b",(function(){return W}));var a,r,o,i,l,c=n(8),s=n.n(c),u=n(9),d=n.n(u),p=n(12),f=n.n(p),g=n(7),m=n.n(g),h=n(10),y=n.n(h),v=n(11),b=n.n(v),E=n(1),C=n.n(E),O=n(6),S=n.n(O),_=n(0),D=n.n(_),x=n(5),k=n(482),A=n(760),w=n(47),T=n(796),P=n(732),L=n(22),j=n(255),M=n(564);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){C()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e,t,n){return t=m()(t),f()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],m()(e).constructor):t.apply(e,n))}var N={},B="68px",U="16px",V=x.default.div(a||(a=S()(["\n  min-height: 85vh;\n  overflow: hidden;\n  display: flex;\n"]))),z=x.default.div(r||(r=S()(["\n  display: flex;\n  padding: "," "," 0 0;\n\n  .overflow-horizontal {\n    display: flex;\n    overflow-x: auto;\n    overflow-y: hidden;\n    flex-direction: row;\n    ","\n  }\n"])),U,B,(function(e){return e.theme.modalScrollBar})),G=x.default.div(o||(o=S()(["\n  align-items: center;\n  border-bottom: 3px solid ",";\n  cursor: pointer;\n  display: flex;\n  height: 35px;\n  margin: 0 3px;\n  padding: 0 5px;\n\n  :hover {\n    border-bottom: 3px solid black;\n  }\n"])),(function(e){return e.active?"black":"transparent"})),H=x.default.div(i||(i=S()(["\n  display: flex;\n  justify-content: flex-end;\n  position: absolute;\n  top: 24px;\n  right: 48px;\n  svg {\n    stroke: black;\n  }\n  cursor: pointer;\n"]))),q=function(e){var t=e.activeDataset,n=e.datasets,a=e.showDatasetTable;return D.a.createElement(z,{className:"dataset-modal-catalog"},D.a.createElement("div",{className:"overflow-horizontal"},Object.values(n).map((function(e){return D.a.createElement(G,{className:"dataset-modal-tab",active:e===t,key:e.id,onClick:function(){return a(e.id)}},D.a.createElement(k.a,{dataset:e}))}))))},W=D.a.memo(q);W.displayName="DatasetTabs",K.deps=[A.a,M.b];var Y=x.default.div(l||(l=S()(["\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  min-height: 100%;\n  max-height: 100%;\n  max-width: 100%;\n"])));function K(e,t){var n=function(n){function a(){var e;s()(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=R(this,a,[].concat(n)),C()(y()(e),"state",{showConfig:!1}),C()(y()(e),"datasetCellSizeCache",{}),C()(y()(e),"dataId",(function(e){var t=e.dataId;return void 0===t?"":t})),C()(y()(e),"datasets",(function(e){return e.datasets})),C()(y()(e),"fields",(function(e){var t=e.datasets,n=e.dataId;return(t[void 0===n?"":n]||{}).fields})),C()(y()(e),"columns",Object(w.createSelector)(e.fields,(function(e){return e.map((function(e){return e.name}))}))),C()(y()(e),"colMeta",Object(w.createSelector)([e.fields,e.datasets],(function(e){return e.reduce((function(e,t){var n=t.name,a=t.displayName,r=t.type,o=t.filterProps,i=t.format,l=t.displayFormat;return I(I({},e),{},C()({},n,I(I(I({name:a||n,type:r},i?{format:i}:{}),l?{displayFormat:l}:{}),null!=o&&o.columnStats?{columnStats:o.columnStats}:{})))}),{})}))),C()(y()(e),"cellSizeCache",Object(w.createSelector)(e.dataId,e.datasets,(function(t,n){if(!n[t])return{};var a=n[t],r=a.fields,o=a.dataContainer,i=null;if(e.datasetCellSizeCache[t]&&e.datasetCellSizeCache[t].fields===r&&e.datasetCellSizeCache[t].dataContainer===o||(i=!0),!i)return e.datasetCellSizeCache[t].cellSizeCache;var l=r.reduce((function(t,n,a){return I(I({},t),{},C()({},n.name,Object(T.b)({text:{dataContainer:o,column:n.displayName},colIdx:a,type:n.type,fontSize:e.props.theme.cellFontSize,font:e.props.theme.fontFamily,minCellSize:122})))}),{});return e.datasetCellSizeCache[t]={cellSizeCache:l,fields:r,dataContainer:o},l}))),C()(y()(e),"copyTableColumn",(function(t){var n=e.props,a=n.dataId,r=void 0===a?"":a;(0,n.copyTableColumn)(r,t)})),C()(y()(e),"pinTableColumn",(function(t){var n=e.props,a=n.dataId,r=void 0===a?"":a;(0,n.pinTableColumn)(r,t)})),C()(y()(e),"sortTableColumn",(function(t,n){var a=e.props,r=a.dataId,o=void 0===r?"":r;(0,a.sortTableColumn)(o,t,n)})),C()(y()(e),"setColumnDisplayFormat",(function(t){var n=e.props,a=n.dataId,r=n.setColumnDisplayFormat;a&&r(a,t)})),C()(y()(e),"onOpenConfig",(function(){e.setState({showConfig:!0})})),C()(y()(e),"onCloseConfig",(function(){e.setState({showConfig:!1})})),e}return b()(a,n),d()(a,[{key:"render",value:function(){var n=this.props,a=n.datasets,r=n.dataId,o=n.showDatasetTable,i=n.showTab,l=void 0===i||i;if(!a||!r)return null;var c=a[r],s=this.columns(this.props),u=this.colMeta(this.props),d=this.cellSizeCache(this.props);return D.a.createElement(V,{className:"dataset-modal",id:"dataset-modal"},D.a.createElement(P.a,null),D.a.createElement(Y,null,l?D.a.createElement(W,{activeDataset:c,datasets:a,showDatasetTable:o}):null,D.a.createElement(H,{className:"display-config-button"},D.a.createElement(L.Gear,{onClick:this.onOpenConfig}),D.a.createElement(j.a,{right:240,top:20,isOpened:this.state.showConfig,onClose:this.onCloseConfig},D.a.createElement(t,{columns:s,colMeta:u,setColumnDisplayFormat:this.setColumnDisplayFormat,onClose:this.onCloseConfig}))),a[r]?D.a.createElement(e,{key:r,dataId:r,columns:s,colMeta:u,cellSizeCache:d,dataContainer:c.dataContainer,pinnedColumns:c.pinnedColumns,sortOrder:c.sortOrder,sortColumn:c.sortColumn||N,copyTableColumn:this.copyTableColumn,pinTableColumn:this.pinTableColumn,sortTableColumn:this.sortTableColumn,setColumnDisplayFormat:this.setColumnDisplayFormat,hasStats:!1}):null))}}]),a}(D.a.Component);return Object(x.withTheme)(n)}t.c=K},471:function(e,t,n){"use strict";var a,r,o=n(21),i=n.n(o),l=n(14),c=n.n(l),s=n(1),u=n.n(s),d=n(6),p=n.n(d),f=n(0),g=n.n(f),m=n(5),h=n(25),y=n.n(h),v=n(154),b=n(35),E=n(699),C=n(13),O=n(4),S=m.default.div(a||(a=p()(["\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n"]))),_=m.default.div(r||(r=p()(["\n  z-index: ",";\n  transition: ",";\n  transform: ",";\n  &.sorting {\n    opacity: 0.3;\n    pointer-events: none;\n  }\n  &.sorting-layers .layer-panel__header {\n    background-color: ",";\n    font-family: ",";\n    font-weight: ",";\n    font-size: ",";\n    line-height: ",";\n    *,\n    *:before,\n    *:after {\n      box-sizing: border-box;\n    }\n    .layer__drag-handle {\n      opacity: 1;\n      color: ",";\n    }\n  }\n"])),(function(e){return e.theme.dropdownWrapperZ+1}),(function(e){return e.transition}),(function(e){return e.transform}),(function(e){return e.theme.panelBackgroundHover}),(function(e){return e.theme.fontFamily}),(function(e){return e.theme.fontWeight}),(function(e){return e.theme.fontSize}),(function(e){return e.theme.lineHeight}),(function(e){return e.theme.textColorHl})),D=[];function x(e){var t=function(t){var n=t.layer,a=t.idx,r=t.panelProps,o=t.layerActions,i=t.disabled,l=Object(v.useSortable)({id:n.id,data:{type:O.SORTABLE_LAYER_TYPE,parent:O.SORTABLE_SIDE_PANEL_TYPE},disabled:i}),s=l.attributes,d=l.listeners,p=l.setNodeRef,f=l.isDragging,m=l.transform,h=l.transition;return g.a.createElement(_,c()({ref:p,className:y()(u()({},O.dataTestIds.sortableLayerItem,!i),u()({},O.dataTestIds.staticLayerItem,i),{sorting:f}),"data-testid":i?O.dataTestIds.staticLayerItem:O.dataTestIds.sortableLayerItem,transform:b.CSS.Transform.toString(m),transition:h},s),g.a.createElement(e,c()({},r,o,{key:n.id,idx:a,layer:n,listeners:d,isDraggable:!i})))};return function(e){var n=e.layers,a=e.datasets,r=e.layerOrder,o=e.uiStateActions,l=e.visStateActions,c=e.mapStateActions,s=e.layerClasses,u=e.isSortable,d=void 0===u||u,p=o.toggleModal,m=Object(f.useMemo)((function(){return r.reduce((function(e,t){var a=Object(C.findById)(t)(n.filter(Boolean));return a?a.config.hidden?e:[].concat(i()(e),[a]):e}),D)}),[n,r]),h=Object(f.useMemo)((function(){return m.map((function(e){return e.id}))}),[m]),y=Object(f.useMemo)((function(){return Object.keys(s).map((function(e){var t=new s[e]({dataId:""});return{id:e,label:t.name,icon:t.layerIcon,requireData:t.requireData}}))}),[s]),b=Object(f.useMemo)((function(){return{layerColorUIChange:l.layerColorUIChange,layerConfigChange:l.layerConfigChange,layerVisualChannelConfigChange:l.layerVisualChannelConfigChange,layerTypeChange:l.layerTypeChange,layerVisConfigChange:l.layerVisConfigChange,layerTextLabelChange:l.layerTextLabelChange,removeLayer:l.removeLayer,zoomToLayer:c.fitBounds,duplicateLayer:l.duplicateLayer,layerSetIsValid:l.layerSetIsValid}}),[l,c]),E=Object(f.useMemo)((function(){return{datasets:a,openModal:p,layerTypeOptions:y}}),[a,p,y]);return g.a.createElement(S,null,g.a.createElement(v.SortableContext,{id:O.SORTABLE_SIDE_PANEL_TYPE,items:h,strategy:v.verticalListSortingStrategy,disabled:!d},m.map((function(e){return g.a.createElement(t,{key:e.id,layer:e,idx:n.findIndex((function(t){return(null==t?void 0:t.id)===e.id})),panelProps:E,layerActions:b,disabled:!d})}))))}}x.deps=[E.a],t.a=x},472:function(e,t,n){"use strict";var a,r,o,i=n(1),l=n.n(i),c=n(6),s=n.n(c),u=n(0),d=n.n(u),p=n(5),f=n(680),g=n(681),m=n(15),h=n(19),y=n(4);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=p.default.div.attrs({className:"panel-view-list-toggle"})(a||(a=s()([""]))),C=p.default.div.attrs({className:"panel-view-list-toggle-inner"})(r||(r=s()(["\n  display: flex;\n  justify-content: flex-end;\n  align-content: center;\n  gap: 10px;\n  display:none;\n"]))),O=p.default.div.attrs({className:"layer-panel-toggle-option"})(o||(o=s()(["\n  color: ",";\n  :hover {\n    cursor: pointer;\n    color: ",";\n  }\n"])),(function(e){return e.active?e.theme.subtextColorActive:e.theme.panelTabColor}),(function(e){return e.theme.subtextColorActive}));var S=[{id:y.PANEL_VIEW_TOGGLES.list,iconComponent:f.a,label:"sidebar.panelViewToggle.list"},{id:y.PANEL_VIEW_TOGGLES.byDataset,iconComponent:g.a,label:"sidebar.panelViewToggle.byDataset"}];function _(e){return function(t){var n=t.mode,a=t.togglePanelListView,r=Object(u.useMemo)((function(){return S.map((function(e){return b(b({},e),{},{isActive:n===e.id})}))}),[n]);return d.a.createElement(E,null,d.a.createElement(C,null,r.map((function(t){return d.a.createElement(e,{key:t.id,onClick:function(){return e=t.id,a(e);var e},option:t,isActive:t.isActive})}))))}}_.deps=[function(){return function(e){var t=e.isActive,n=e.onClick,a=e.option;return d.a.createElement(O,{"data-tip":!0,"data-for":"".concat(a.id,"-toggle-option"),active:t,onClick:n},d.a.createElement(a.iconComponent,{height:"20px"}),d.a.createElement(m.R,{id:"".concat(a.id,"-toggle-option"),effect:"solid",delayShow:500,place:"bottom"},d.a.createElement("span",null,d.a.createElement(h.FormattedMessage,{id:a.label}))))}}],t.a=_},483:function(e,t,n){"use strict";n.d(t,"a",(function(){return V}));var a,r,o,i,l,c,s=n(8),u=n.n(s),d=n(9),p=n.n(d),f=n(12),g=n.n(f),m=n(7),h=n.n(m),y=n(10),v=n.n(y),b=n(11),E=n.n(b),C=n(1),O=n.n(C),S=n(6),_=n.n(S),D=n(0),x=n.n(D),k=n(5),A=n(22),w=n(484),T=n.n(w),P=n(4);function L(e,t,n){return t=h()(t),g()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],h()(e).constructor):t.apply(e,n))}var j=k.default.div.attrs({className:"notification-item--content-block"})(a||(a=_()(["\n  display: block;\n  position: relative;\n  width: ","px;\n  margin-left: auto;\n"])),(function(e){return e.theme.notificationPanelItemWidth*(1+Number(e.isExpanded))})),M=k.default.div(r||(r=_()(["\n  background-color: ",";\n  color: #fff;\n  display: flex;\n  flex-direction: row;\n  width: ","px;\n  height: ","px;\n  font-size: 11px;\n  margin-bottom: 1rem;\n  padding: 1em;\n  border-radius: 4px;\n  box-shadow: ",";\n  cursor: pointer;\n"])),(function(e){return e.theme.notificationColors[e.type]||"#000"}),(function(e){return e.theme.notificationPanelItemWidth*(1+Number(e.isExpanded))}),(function(e){return e.theme.notificationPanelItemHeight*(1+Number(e.isExpanded))}),(function(e){return e.theme.boxShadow})),F=Object(k.default)(A.Delete)(o||(o=_()(["\n  cursor: pointer;\n  width: 13px;\n  height: 13px;\n"]))),I=k.default.div.attrs({className:"notification-item--counter"})(i||(i=_()(["\n  position: absolute;\n  font-size: 11px;\n  font-weight: bold;\n  text-align: center;\n  left: -4px;\n  bottom: -4px;\n  border-radius: 50%;\n  width: 20px;\n  height: 20px;\n  background-color: #ffffff;\n  border: 1px solid ",";\n  color: ",";\n  box-shadow: ",";\n"])),(function(e){return e.theme.notificationColors[e.type]||"#000"}),(function(e){return e.theme.notificationColors[e.type]||"#000"}),(function(e){return e.theme.boxShadow})),R=k.default.div.attrs({className:"notification-item--message"})(l||(l=_()(["\n  flex-grow: 2;\n  width: ","px;\n  margin: 0 1em;\n  overflow: ",";\n  padding-right: ",";\n\n  p {\n    margin-top: 0;\n    a {\n      color: #fff;\n      text-decoration: underline;\n    }\n  }\n"])),(function(e){return e.theme.notificationPanelItemWidth}),(function(e){return e.isExpanded?"auto":"hidden"}),(function(e){return e.isExpanded?"1em":0})),N=k.default.div(c||(c=_()(["\n  svg {\n    vertical-align: text-top;\n  }\n"]))),B={info:x.a.createElement(A.Info,{"data-testid":P.dataTestIds.infoIcon}),warning:x.a.createElement(A.Warning,{"data-testid":P.dataTestIds.warningIcon}),error:x.a.createElement(A.Warning,{"data-testid":P.dataTestIds.errorIcon}),success:x.a.createElement(A.Checkmark,{"data-testid":P.dataTestIds.successIcon})},U=function(e){return x.a.createElement("a",{href:e.href,target:"_blank",rel:"noopener noreferrer"},e.children)};function V(){return function(e){function t(){var e;u()(this,t);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=L(this,t,[].concat(a)),O()(v()(e),"state",{isExpanded:!1}),e}return E()(t,e),p()(t,[{key:"componentDidMount",value:function(){this.props.isExpanded&&this.setState({isExpanded:!0})}},{key:"render",value:function(){var e=this,t=this.props,n=t.notification,a=t.removeNotification,r=this.state.isExpanded;return x.a.createElement(j,{isExpanded:r,theme:this.props.theme},(n.count||0)>1?x.a.createElement(I,{type:n.type,theme:this.props.theme},n.count):null,x.a.createElement(M,{className:"notification-item",type:n.type,isExpanded:r,onClick:function(){return e.setState({isExpanded:!r})}},x.a.createElement(N,{className:"notification-item--icon"},B[n.type]),x.a.createElement(R,{isExpanded:r,theme:this.props.theme},x.a.createElement(T.a,{source:n.message,renderers:{link:U}})),"function"==typeof a?x.a.createElement("div",{className:"notification-item--action"},x.a.createElement(F,{height:"10px",onClick:function(){return a(n.id)}})):null))}}]),t}(D.Component)}},485:function(e,t,n){"use strict";var a,r,o=n(6),i=n.n(o),l=n(0),c=n.n(l),s=n(5),u=n(486),d=n(19),p=s.default.div(a||(a=i()(["\n  text-align: center;\n\n  span {\n    margin: 0 auto;\n  }\n"]))),f=s.default.div.attrs({className:"data-loading-dialog"})(r||(r=i()(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-grow: 1;\n\n  .loading-content {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  .loading-message {\n    margin-left: 32px;\n    color: ",";\n    font-weight: 500;\n    font-size: 14px;\n  }\n"])),(function(e){return e.theme.titleColorLT}));t.a=function(e){var t=e.size,n=void 0===t?64:t,a=e.message,r=void 0===a?"modal.loadingDialog.loading":a;return c.a.createElement(f,null,c.a.createElement("div",{className:"loading-content"},c.a.createElement(p,null,c.a.createElement(u.a,{size:n})),c.a.createElement("div",{className:"loading-message"},c.a.createElement(d.FormattedMessage,{id:r}))))}},509:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(81),i=n.n(o),l=n(4);t.a=function(e){var t=e.onUpdateImageSetting,n=e.cleanupExportImage,o=e.provider,c=e.children;return Object(a.useEffect)((function(){return t({exporting:!0}),function(){n()}}),[t,n]),Object(a.useEffect)((function(){o?o.thumbnail&&t({mapW:i()(o,["thumbnail","width"])||l.MAP_THUMBNAIL_DIMENSION.width,mapH:i()(o,["thumbnail","height"])||l.MAP_THUMBNAIL_DIMENSION.height,ratio:l.EXPORT_IMG_RATIOS.CUSTOM,legend:!1}):t({mapW:l.MAP_THUMBNAIL_DIMENSION.width,mapH:l.MAP_THUMBNAIL_DIMENSION.height,ratio:l.EXPORT_IMG_RATIOS.CUSTOM,legend:!1})}),[o,t]),r.a.createElement(r.a.Fragment,null,c)}},511:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a,r=n(6),o=n.n(r),i=n(737),l=n(0),c=n.n(l),s=n(5),u=n(4),d=s.default.div.attrs({className:"provider-selection"})(a||(a=o()(["\n  display: flex;\n  gap: 8px;\n"]))),p=function(e){var t=e.cloudProviders,n=void 0===t?[]:t;return c.a.createElement("div",{"data-testid":u.dataTestIds.providerSelect},n.length?c.a.createElement(d,null,n.map((function(e){return c.a.createElement(i.a,{key:e.name,provider:e})}))):c.a.createElement("p",null,"No storage provider available"))}},561:function(e,t,n){"use strict";n.d(t,"a",(function(){return L}));var a,r,o,i,l=n(8),c=n.n(l),s=n(9),u=n.n(s),d=n(12),p=n.n(d),f=n(7),g=n.n(f),m=n(10),h=n.n(m),y=n(11),v=n.n(y),b=n(1),E=n.n(b),C=n(6),O=n.n(C),S=n(0),_=n.n(S),D=n(5),x=n(22);function k(e,t,n){return t=g()(t),p()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],g()(e).constructor):t.apply(e,n))}var A=D.default.div(a||(a=O()(["\n  z-index: 99;\n  height: 100%;\n  width: ","px;\n  display: flex;\n  transition: width 250ms;\n  position: absolute;\n  padding-top: ","px;\n  padding-right: ","px;\n  padding-bottom: ","px;\n  padding-left: ","px;\n  pointer-events: none; /* prevent padding from blocking input */\n  & > * {\n    /* all children should allow input */\n    pointer-events: all;\n  }\n"])),(function(e){return e.width+2*e.theme.sidePanel.margin.left}),(function(e){return e.theme.sidePanel.margin.top}),(function(e){return e.theme.sidePanel.margin.right}),(function(e){return e.theme.sidePanel.margin.bottom}),(function(e){return e.theme.sidePanel.margin.left})),w=D.default.div(r||(r=O()(["\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);\n  transition: left 250ms, right 250ms;\n  left: ","px;\n  align-items: stretch;\n  flex-grow: 1;\n"])),(function(e){return e.left})),T=D.default.div(o||(o=O()(["\n  background-color: ",";\n  border-radius: 1px;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  border-left: ","px solid\n    ",";\n"])),(function(e){return e.theme.sidePanelBg}),(function(e){return e.theme.sidePanelBorder}),(function(e){return e.theme.sidePanelBorderColor})),P=D.default.div(i||(i=O()(["\n  align-items: center;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);\n  justify-content: center;\n  background-color: ",";\n  border-radius: 1px;\n  color: ",";\n  display: flex;\n  height: 20px;\n  position: absolute;\n  right: -8px;\n  top: ","px;\n  width: 20px;\n\n  :hover {\n    cursor: pointer;\n    box-shadow: none;\n    background-color: ",";\n  }\n"])),(function(e){return e.theme.sideBarCloseBtnBgd}),(function(e){return e.theme.sideBarCloseBtnColor}),(function(e){return e.theme.sidePanel.margin.top}),(function(e){return e.theme.sideBarCloseBtnBgdHover})),L=function(){return function(e){var t=e.onClick,n=e.isOpen;return _.a.createElement(P,{className:"side-bar__close",onClick:t},_.a.createElement(x.ArrowRight,{height:"12px",style:{transform:"rotate(".concat(n?180:0,"deg)")}}))}};function j(e){var t;return t=function(t){function n(){var e;c()(this,n);for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return e=k(this,n,[].concat(a)),E()(h()(e),"_onOpenOrClose",(function(){window.localStorage.setItem("issidebarshow",e.props.isOpen?"0":"1"),e.props.isOpen?(window.localStorage.setItem("actedupon1","Yes"),window.localStorage.setItem("actedupon3","Yes")):(window.localStorage.setItem("actedupon2","No"),window.localStorage.setItem("actedupon4","No")),e.props.onOpenOrClose({isOpen:!e.props.isOpen})})),e}return v()(n,t),u()(n,[{key:"render",value:function(){var t=this.props,n=t.isOpen,a=t.minifiedWidth,r=t.width,o=t.shouldShowCollapseButton,i=n?0:a-r;return _.a.createElement(A,{width:n?r:0,className:"side-panel--container"},_.a.createElement(w,{className:"side-bar",style:{width:"".concat(r,"px")},left:i},n?_.a.createElement(T,{className:"side-bar__inner"},this.props.children):null,o?_.a.createElement(e,{isOpen:n,onClick:this._onOpenOrClose}):null))}}]),n}(S.Component),E()(t,"defaultProps",{width:300,minifiedWidth:0,isOpen:!0,onOpenOrClose:function(){},shouldShowCollapseButton:!0}),t}j.deps=[L],t.b=j},562:function(e,t,n){"use strict";n.d(t,"a",(function(){return B}));var a,r,o=n(8),i=n.n(o),l=n(9),c=n.n(l),s=n(12),u=n.n(s),d=n(7),p=n.n(d),f=n(10),g=n.n(f),m=n(11),h=n.n(m),y=n(6),v=n.n(y),b=n(1),E=n.n(b),C=n(0),O=n.n(C),S=n(166),_=n(5),D=n(19),x=n(471),k=n(700),A=n(472),w=n(235),T=n(397),P=n(704),L=n(87),j=n(15),M=n(254),F=n(4);function I(e,t,n){return t=p()(t),u()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],p()(e).constructor):t.apply(e,n))}function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var B=O.a.memo((function(e){var t=e.layerBlending,n=e.updateLayerBlending,a=e.intl,r=Object.keys(F.LAYER_BLENDINGS).reduce((function(e,t){return N(N({},e),{},E()({},a.formatMessage({id:F.LAYER_BLENDINGS[t].label}),t))}),{}),o=Object(C.useCallback)((function(e){return n(r[e])}),[n,r]);return O.a.createElement(j.z,null,O.a.createElement(j.q,null,O.a.createElement(D.FormattedMessage,{id:"layerBlending.title"})),O.a.createElement(L.a,{selectedItems:a.formatMessage({id:F.LAYER_BLENDINGS[t].label}),options:Object.keys(r),multiSelect:!1,searchable:!1,onChange:o}))}));B.displayName="LayerBlendingSelector";var U=_.default.div(a||(a=v()(["\n  float: right;\n"]))),V=_.default.div(r||(r=v()(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n"]))),z=O.a.memo((function(e){var t=e.overlayBlending,n=e.updateOverlayBlending,a=e.intl,r=e.infoHelper,o=Object.keys(F.OVERLAY_BLENDINGS).reduce((function(e,t){return N(N({},e),{},E()({},a.formatMessage({id:F.OVERLAY_BLENDINGS[t].label}),t))}),{}),i=Object(C.useCallback)((function(e){return n(o[e])}),[n,o]);return O.a.createElement(j.z,null,O.a.createElement(V,null,O.a.createElement(j.q,null,O.a.createElement(D.FormattedMessage,{id:"overlayBlending.title"})),O.a.createElement(U,null,r)),O.a.createElement(L.a,{selectedItems:a.formatMessage({id:F.OVERLAY_BLENDINGS[t].label}),options:Object.keys(o),multiSelect:!1,searchable:!1,onChange:i}))}));function G(e,t,n,a,r,o,l){var s=function(s){function u(){var e;i()(this,u);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=I(this,u,[].concat(n)),E()(g()(e),"_addLayer",(function(t){e.props.visStateActions.addLayer(void 0,t)})),E()(g()(e),"_togglePanelListView",(function(t){e.props.uiStateActions.togglePanelListView({panelId:"layer",listView:t})})),e}return h()(u,s),c()(u,[{key:"render",value:function(){var i=this.props,c=i.layers,s=i.datasets,u=i.intl,d=i.layerOrder,p=i.showAddDataModal,f=i.updateTableColor,g=i.showDatasetTable,m=i.removeDataset,h=i.uiStateActions,y=i.visStateActions,v=i.mapStateActions,b=i.panelListView,E=i.panelMetadata,C=b===F.PANEL_VIEW_TOGGLES.byDataset;return O.a.createElement("div",{className:"layer-manager"},O.a.createElement(j.z,null,O.a.createElement(n,{togglePanelListView:this._togglePanelListView,mode:b})),O.a.createElement(r,{datasets:s,showDatasetTable:g,updateTableColor:f,removeDataset:m,showDeleteDataset:!0,showDatasetList:!C,showAddDataModal:p}),O.a.createElement(j.y,null),O.a.createElement(j.z,null,O.a.createElement(a,{className:"layer-manager-title",title:u.formatMessage({id:E.label})},O.a.createElement(o,{datasets:s,onAdd:this._addLayer}))),O.a.createElement(j.z,null,C?O.a.createElement(t,{datasets:s,showDatasetTable:g,layers:c,updateTableColor:f,removeDataset:m,layerOrder:d,layerClasses:this.props.layerClasses,uiStateActions:h,visStateActions:y,mapStateActions:v,showDeleteDataset:!0}):O.a.createElement(e,{layers:c,datasets:s,layerOrder:d,uiStateActions:h,visStateActions:y,mapStateActions:v,layerClasses:this.props.layerClasses})),O.a.createElement(B,{layerBlending:this.props.layerBlending,updateLayerBlending:y.updateLayerBlending,intl:u}),O.a.createElement(z,{overlayBlending:this.props.overlayBlending,updateOverlayBlending:y.updateOverlayBlending,intl:u,infoHelper:O.a.createElement(l,{id:"overlayBlending-description",description:"overlayBlending.description"})}))}}]),u}(C.Component);return Object(S.c)(s)}z.displayName="OverlayBlendingSelector",G.deps=[x.a,k.a,A.a,w.a,T.b,P.a,M.a],t.b=G},565:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a,r,o,i,l=n(6),c=n.n(l),s=n(0),u=n.n(s),d=n(25),p=n.n(d),f=n(5),g=n(2),m=n.n(g),h=n(44),y=n(135),v=n(596),b=f.default.div(a||(a=c()(["\n  align-items: flex-end;\n  display: flex;\n  border-bottom: 1px solid #d8d8d8;\n  margin-bottom: 32px;\n  justify-content: space-between;\n\n  .load-data-modal__tab__inner {\n    display: flex;\n    width: 100%;\n  }\n\n  .load-data-modal__tab__item.active {\n    color: ",";\n    border-bottom: 3px solid ",";\n    font-weight: 500;\n  }\n\n  ",";\n"])),(function(e){return e.theme.textColorLT}),(function(e){return e.theme.textColorLT}),h.media.portable(r||(r=c()(["\n    font-size: 12px;\n  "])))),E=f.default.div(o||(o=c()(["\n  border-bottom: 3px solid transparent;\n  cursor: pointer;\n  margin-left: 32px;\n  padding: 16px 0;\n  font-size: 14px;\n  font-weight: 400;\n  color: ",";\n\n  ",";\n\n  :first-child {\n    margin-left: 0;\n    padding-left: 0;\n  }\n\n  :hover {\n    color: ",";\n  }\n"])),(function(e){return e.theme.subtextColorLT}),h.media.portable(i||(i=c()(["\n    margin-left: 16px;\n    font-size: 12px;\n  "]))),(function(e){return e.theme.textColorLT})),C=function(){},O=function(e){var t=e.currentMethod,n=e.method,a=e.toggleMethod,r=Object(s.useCallback)((function(){return a(n)}),[n,a]),o=Object(y.a)();return n.tabElementType?u.a.createElement(n.tabElementType,{onClick:r,intl:o}):u.a.createElement(E,{className:p()("load-data-modal__tab__item",{active:t&&n.id===t}),onClick:r},u.a.createElement("div",null,n.label?u.a.createElement(v.a,{id:n.label}):n.id))};t.b=function(){var e=function(e){var t=e.currentMethod,n=e.toggleMethod,a=e.loadingMethods;return u.a.createElement(b,{className:"load-data-modal__tab"},u.a.createElement("div",{className:"load-data-modal__tab__inner"},a.map((function(e){return u.a.createElement(O,{key:e.id,method:e,currentMethod:t,toggleMethod:n})}))))};return e.propTypes={toggleMethod:m.a.func.isRequired,currentMethod:m.a.string,loadingMethods:m.a.arrayOf(m.a.object)},e.defaultProps={toggleMethod:C,currentMethod:null,loadingMethods:[]},e}},566:function(e,t,n){"use strict";n.d(t,"a",(function(){return D})),n.d(t,"b",(function(){return P}));var a,r,o,i,l=n(24),c=n.n(l),s=n(6),u=n.n(s),d=n(0),p=n.n(d),f=n(5),g=n(488),m=n(44),h=n(509),y=n(15),v=n(310),b=n(19),E=n(194),C=n(511),O=n(4),S=f.default.label(a||(a=u()(["\n  font-size: 12px;\n  color: ",";\n  letter-spacing: 0.2px;\n"])),(function(e){return e.theme.textColorLT})),_=f.default.div.attrs({className:"sharing-url"})(r||(r=u()(["\n  width: 100%;\n  display: flex;\n  margin-bottom: 14px;\n  flex-direction: column;\n\n  input {\n    border-right: 0;\n  }\n\n  .button {\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n  }\n"]))),D=function(e){var t=e.url,n=e.message,a=void 0===n?"":n,r=Object(d.useState)(!1),o=c()(r,2),i=o[0],l=o[1];return p.a.createElement(_,null,p.a.createElement(S,null,a),p.a.createElement("div",{style:{display:"flex"}},p.a.createElement(y.l,{type:"text",value:t,readOnly:!0}),p.a.createElement(g.CopyToClipboard,{text:t,onCopy:function(){return l(!0)}},p.a.createElement(y.b,{width:"80px"},i?"Copied!":"Copy"))))},x=function(){},k=Object(f.default)(y.H)(o||(o=u()(["\n  padding: 24px 72px 40px 72px;\n  margin: 0 -72px -40px -72px;\n  display: flex;\n  flex-direction: column;\n"]))),A=f.default.div(i||(i=u()(["\n  min-height: 500px;\n"]))),w={textDecoration:"underline"},T=function(e){var t=e.cloudProviders;return p.a.createElement(y.D,null,p.a.createElement("div",{className:"description"},p.a.createElement("div",{className:"title"},p.a.createElement(b.FormattedMessage,{id:"modal.shareMap.title"}))),p.a.createElement(C.a,{cloudProviders:t}))};function P(){return function(e){var t=e.isProviderLoading,n=void 0!==t&&t,a=e.onExport,r=void 0===a?x:a,o=e.providerError,i=void 0===o?null:o,l=e.successInfo,c=void 0===l?{}:l,s=e.onUpdateImageSetting,u=void 0===s?x:s,g=e.cleanupExportImage,C=Object(E.b)(),S=C.provider,_=C.cloudProviders,P=c.shareUrl,L=c.folderLink;return Object(d.useEffect)((function(){S&&r(S)}),[S]),p.a.createElement(f.ThemeProvider,{theme:m.themeLT},p.a.createElement(h.a,{provider:S,onUpdateImageSetting:u,cleanupExportImage:g},p.a.createElement(k,{className:"export-cloud-modal"},p.a.createElement(T,{cloudProviders:_}),null!=S&&S.hasSharingUrl()?p.a.createElement(A,{"data-testid":O.dataTestIds.providerShareMap},p.a.createElement(y.D,null,p.a.createElement("div",{className:"description"},p.a.createElement("div",{className:"title"},p.a.createElement(b.FormattedMessage,{id:"modal.shareMap.shareUriTitle"})),p.a.createElement("div",{className:"subtitle"},p.a.createElement(b.FormattedMessage,{id:"modal.shareMap.shareUriSubtitle"}))),p.a.createElement("div",{className:"selection"},p.a.createElement("div",{className:"title warning"},p.a.createElement(b.FormattedMessage,{id:"modal.shareMap.shareDisclaimer"})))),p.a.createElement(y.D,{disabled:n},p.a.createElement("div",{className:"description"},p.a.createElement("div",{className:"title"},p.a.createElement(b.FormattedMessage,{id:"modal.shareMap.cloudTitle"})),p.a.createElement("div",{className:"subtitle"},p.a.createElement(b.FormattedMessage,{id:"modal.shareMap.cloudSubtitle"})))),n||i?p.a.createElement(v.b,{isLoading:n,error:i,providerIcon:S.icon}):null,P&&p.a.createElement(y.D,null,p.a.createElement("div",{className:"description"},p.a.createElement("div",{className:"title"},"Share Url")),p.a.createElement("div",{className:"selection"},p.a.createElement(D,{key:0,url:P}),S&&L&&p.a.createElement("a",{key:1,href:L,target:"_blank",rel:"noopener noreferrer",style:w},S.name)))):null)))}}},579:function(e,t,n){"use strict";n.d(t,"a",(function(){return A}));var a,r,o,i,l=n(1),c=n.n(l),s=n(24),u=n.n(s),d=n(6),p=n.n(d),f=n(0),g=n.n(f),m=n(5),h=n(15),y=n(138),v=n(19),b=n(4),E=n(62),C=n(13),O=m.default.div(a||(a=p()(["\n  display: flex;\n  line-height: 12px;\n  margin-bottom: 12px;\n"]))),S=m.default.div(r||(r=p()(["\n  display: flex;\n"]))),_=m.default.label(o||(o=p()(["\n  color: ",";\n  font-weight: 500;\n  letter-spacing: 0.2px;\n  font-size: ",";\n  padding-right: 15px;\n\n  &:last-child {\n    position: absolute;\n    right: 0;\n    padding: 0;\n  }\n"])),(function(e){return e.theme.textColor}),(function(e){return e.theme.layerConfigGroupLabelLabelFontSize})),D=m.default.input(i||(i=p()(["\n  ",";\n  font-size: ",";\n  width: 44px;\n  overflow: auto;\n  height: 20px;\n  margin-top: 5px;\n"])),(function(e){return e.theme.input}),(function(e){return e.theme.sliderInputFontSize})),x=function(e){var t=e.value,n=e.onChange,a=e.name,r=Object(f.useState)(t),o=u()(r,2),i=o[0],l=o[1],c=Object(f.useRef)(null);Object(f.useEffect)((function(){l(t)}),[t]);var s=Object(f.useCallback)((function(e){switch(e.keyCode){case b.KeyEvent.DOM_VK_ENTER:case b.KeyEvent.DOM_VK_RETURN:n(i),null!==c&&(null==c||c.current.blur())}}),[n,i]),d=Object(f.useCallback)((function(e){return l(e.target.value)}),[l]),p=Object(f.useCallback)((function(){return n(a,i)}),[n,a,i]);return g.a.createElement(D,{type:"number",ref:c,value:i,onChange:d,onBlur:p,onKeyDown:s,id:a})},k=function(e){var t=e.isRanged,n=e.value,a=e.onChangeCustomInput,r=Object(f.useCallback)((function(e,r){a(t?"value0"===e?[r,n[1]]:[n[0],r]:r)}),[t,n,a]);return g.a.createElement(S,null,t?g.a.createElement(O,null,g.a.createElement(_,null,"min",g.a.createElement(x,{name:"value0",value:n[0],onChange:r})),g.a.createElement(_,null,"max",g.a.createElement(x,{name:"value1",value:n[1],onChange:r}))):g.a.createElement(O,null,g.a.createElement(x,{name:"value",value:n,onChange:r})))};function A(e){return function(t){var n=t.layer.config,a=t.property,r=t.label,o=t.range,i=t.step,l=t.isRanged,s=t.allowCustomValue,d=t.disabled,p=t.onChange,m=t.inputTheme,y=n.visConfig[a],b=Object(f.useState)(!Object(C.isInRange)(y,o)),S=u()(b,2),D=S[0],x=S[1],A=Object(f.useCallback)((function(){if(D){var e=l?[Object(C.clamp)(o,y[0]),Object(C.clamp)(o,y[1])]:Object(C.clamp)(o,y);p(c()({},a,e))}x(!D)}),[p,a,l,y,o,D,x]);return g.a.createElement(h.z,{disabled:Boolean(d)},r?g.a.createElement(h.q,null,"string"==typeof r?g.a.createElement(v.FormattedMessage,{id:r}):"function"==typeof r?g.a.createElement(v.FormattedMessage,{id:r(n)}):g.a.createElement(v.FormattedMessage,{id:"property.".concat(a)})):null,s?g.a.createElement(O,null,g.a.createElement(_,null,"custom input"),g.a.createElement(E.Checkbox,{id:"property.".concat(a),checked:D,onChange:A})):null,D?g.a.createElement(k,{isRanged:l,value:y,onChangeCustomInput:function(e){return p(c()({},a,e))}}):g.a.createElement(e,{range:o,value0:l?y[0]:o[0],value1:l?y[1]:y,step:i,isRanged:Boolean(l),onChange:function(e){return p(c()({},a,l?e:e[1]))},inputTheme:m,showInput:!0}))}}A.deps=[y.a]},580:function(e,t,n){"use strict";var a,r=n(1),o=n.n(r),i=n(6),l=n.n(i),c=n(0),s=n.n(c),u=n(5),d=n(254),p=n(143),f=n(15),g=n(19),m=n(13),h=u.default.div(a||(a=l()(["\n  display: flex;\n  justify-content: space-between;\n\n  .vis-config-switch__title {\n    display: flex;\n  }\n"])));function y(e){return function(t){var n=t.layer,a=n.id,r=n.config,i=t.property,l=t.onChange,c=t.label,u=t.description,d=t.disabled;return s.a.createElement(f.z,{disabled:Boolean(d)},s.a.createElement(h,{className:"vis-config-switch"},s.a.createElement("div",{className:"vis-config-switch__title"},c?s.a.createElement(f.q,null,c&&s.a.createElement(g.FormattedMessage,{id:c})||Object(m.capitalizeFirstLetter)(i)):null,u?s.a.createElement("div",null,s.a.createElement(e,{description:u,id:"".concat(a,"-").concat(i,"-description")})):null),s.a.createElement("div",{className:"vis-config-switch__switch"},s.a.createElement(p.a,{checked:r.visConfig[i],id:"".concat(a,"-").concat(i,"-switch"),onChange:function(){return l(o()({},i,!r.visConfig[i]))}}))))}}y.deps=[d.a],t.a=y},581:function(e,t,n){"use strict";var a,r=n(6),o=n.n(r),i=n(0),l=n.n(i),c=n(5),s=n(19),u=n(13),d=n(689),p=n(15),f=c.default.div(a||(a=o()(["\n  display: flex;\n  justify-content: space-between;\n"])));function g(e,t,n){if(e&&null!=t&&t[n]){var a=t[n],r=e.filter((function(e){var t=e.pair;return Object(u.toArray)(a.fieldPairKey).some((function(e){return t.hasOwnProperty(e)}))}));return r.length>0?r:null}return null}function m(e){return function(t){var n=t.columnPairs,a=t.fieldPairs,r=t.columns,o=t.columnLabels,c=t.fields,u=t.updateLayerConfig,d=t.assignColumn,m=t.assignColumnPairs,h=Object(i.useMemo)((function(){return n&&a?a.map((function(e){return{name:e.defaultName,type:"point",pair:e.pair}})):null}),[n,a]),y=Object(i.useCallback)((function(e,t){var a=t&&t.pair&&n?m(e,t.pair):d(e,t);u({columns:a})}),[u,n,m,d]);return Object.keys(r).length?l.a.createElement("div",null,l.a.createElement(p.z,null,l.a.createElement("div",{className:"layer-config__column"},l.a.createElement(f,null,l.a.createElement(p.q,null,l.a.createElement(s.FormattedMessage,{id:"columns.title"})),l.a.createElement(p.q,null,l.a.createElement(s.FormattedMessage,{id:"layer.required"}))),Object.keys(r).map((function(t){return l.a.createElement(e,{column:r[t],columns:r,label:o&&o[t]||t,key:t,allFields:c,fieldPairs:g(h,n,t),onSelect:function(e){return y(t,e)}})}))))):l.a.createElement("div",null)}}m.deps=[d.a],t.a=m},582:function(e,t,n){"use strict";var a,r=n(6),o=n.n(r),i=n(0),l=n.n(i),c=n(5),s=n(4),u=n(25),d=n.n(u),p=n(19),f=c.default.div(a||(a=o()(["\n  &.list {\n    display: flex;\n    align-items: center;\n\n    .layer-type-selector__item__icon {\n      color: ",";\n      background-size: ","px\n        ","px;\n      height: ","px;\n      width: ","px;\n      margin-right: 12px;\n    }\n  }\n\n  .layer-type-selector__item__icon {\n    color: ",";\n    display: flex;\n    background-image: url(",");\n    background-size: ","px\n      ","px;\n    height: ","px;\n    width: ","px;\n  }\n\n  .layer-type-selector__item__label {\n    text-transform: capitalize;\n    font-size: 12px;\n    text-align: center;\n    color: ",";\n  }\n"])),(function(e){return e.theme.activeColor}),(function(e){return e.theme.layerTypeIconSizeSM}),(function(e){return e.theme.layerTypeIconSizeSM}),(function(e){return e.theme.layerTypeIconSizeSM}),(function(e){return e.theme.layerTypeIconSizeSM}),(function(e){return e.theme.labelColor}),"".concat(s.KEPLER_UNFOLDED_BUCKET,"/images/kepler.gl-layer-icon-bg.png"),(function(e){return e.theme.layerTypeIconSizeL}),(function(e){return e.theme.layerTypeIconSizeL}),(function(e){return e.theme.layerTypeIconSizeL}),(function(e){return e.theme.layerTypeIconSizeL}),(function(e){return e.theme.selectColor}));t.a=function(){return Object(c.withTheme)((function(e){var t=e.value,n=e.isTile,a=e.theme;return l.a.createElement(f,{className:d()("layer-type-selector__item__inner",{list:!n})},l.a.createElement("div",{className:"layer-type-selector__item__icon"},l.a.createElement(t.icon,{height:"".concat(n?a.layerTypeIconSizeL:a.layerTypeIconSizeSM,"px")})),l.a.createElement("div",{className:"layer-type-selector__item__label"},l.a.createElement(p.FormattedMessage,{id:"layer.type.".concat(t.label.toLowerCase()),defaultMessage:t.label})))}))}},689:function(e,t,n){"use strict";var a,r,o,i=n(6),l=n.n(i),c=n(0),s=n.n(c),u=n(5),d=n(19),p=n(15),f=n(144),g=n(66),m=u.default.div(a||(a=l()(["\n  display: flex;\n  margin-bottom: 8px;\n  align-items: center;\n"]))),h=u.default.div(r||(r=l()(["\n  width: 27%;\n  line-height: 1.2;\n  padding-right: 6px;\n"]))),y=u.default.div(o||(o=l()(["\n  width: 73%;\n"])));function v(e){return function(t){var n=t.column,a=t.columns,r=t.label,o=t.allFields,i=t.onSelect,l=t.fieldPairs;return s.a.createElement(m,{className:"layer-config__column__selector"},s.a.createElement(h,{className:"layer-config__column__name"},s.a.createElement(p.q,null,s.a.createElement(d.FormattedMessage,{id:"columns.".concat(r)}),n.optional?null:"  *")),s.a.createElement(y,{className:"layer-config__column__select"},s.a.createElement(e,{suggested:l,error:!Object(g.validateColumn)(n,a,o),fields:o,value:n.value,erasable:Boolean(n.optional),onSelect:i})))}}v.deps=[f.b],t.a=v},691:function(e,t,n){"use strict";var a,r=n(6),o=n.n(r),i=n(0),l=n.n(i),c=n(5),s=n(692),u=n(582),d=n(87),p=n(15),f=c.default.div(a||(a=o()(["\n  .item-selector .item-selector__dropdown {\n    padding: 4px 10px 4px 10px;\n  }\n"])));h.deps=[u.a,s.a];var g=function(e){return e.label},m=function(e){return e.id};function h(e,t){return Object(c.withTheme)((function(n){var a=n.selected,r=n.options,o=n.onSelect,c=n.disabled,s=Object(i.useMemo)((function(){return r.find((function(e){return e.id===a}))}),[r,a]);return l.a.createElement(p.z,null,l.a.createElement(f,{className:"layer-config__type"},l.a.createElement(d.a,{selectedItems:s,options:r,multiSelect:!1,disabled:c,placeholder:"placeholder.selectType",onChange:o,getOptionValue:m,filterOption:"label",displayOption:g,DropDownLineItemRenderComponent:e,DropDownRenderComponent:t})))}))}t.a=h},692:function(e,t,n){"use strict";var a,r,o=n(6),i=n.n(o),l=n(0),c=n.n(l),s=n(5),u=n(25),d=n.n(u),p=n(119),f=s.default.div(a||(a=i()(["\n  ",";\n  background-color: ",";\n  border-top: 1px solid ",";\n  display: flex;\n  flex-wrap: wrap;\n  align-items: flex-start;\n  padding: ","px 0 0 ","px;\n"])),(function(e){return e.theme.dropdownList}),(function(e){return e.theme.dropdownListBgd}),(function(e){return e.theme.dropdownListBorderTop}),(function(e){return e.theme.layerTypeIconPdL}),(function(e){return e.theme.layerTypeIconPdL})),g=s.default.div(r||(r=i()(["\n  padding-bottom: ","px;\n  padding-right: ","px;\n\n  &.disabled {\n    pointer-events: none;\n    opacity: 0.3;\n  }\n\n  &.selected {\n    .layer-type-selector__item__icon {\n      border: 1px solid #caf2f4;\n    }\n  }\n\n  :hover,\n  &.selected {\n    cursor: pointer;\n    .layer-type-selector__item__icon {\n      color: ",";\n    }\n\n    .layer-type-selector__item__label {\n      color: ",";\n    }\n  }\n"])),(function(e){return e.theme.layerTypeIconPdL}),(function(e){return e.theme.layerTypeIconPdL}),(function(e){return e.theme.activeColor}),(function(e){return e.theme.textColor}));t.a=function(){return function(e){var t=e.onOptionSelected,n=e.options,a=e.selectedItems,r=e.selectionIndex,o=e.customListItemComponent,i=Object(l.useCallback)((function(e,n){e.preventDefault(),t(n,e)}),[t]),s=o;return c.a.createElement(f,{className:p.b.list},n.map((function(e,t){return c.a.createElement(g,{className:d()("layer-type-selector__item",{selected:a.find((function(t){return t.id===e.id})),hover:r===t,disabled:e.disabled}),key:"".concat(e.id,"_").concat(t),onMouseDown:function(t){return i(t,e)},onClick:function(t){return i(t,e)}},c.a.createElement(s,{value:e,isTile:!0}))})))}}},693:function(e,t,n){"use strict";var a,r=n(14),o=n.n(r),i=n(8),l=n.n(i),c=n(9),s=n.n(c),u=n(12),d=n.n(u),p=n(7),f=n.n(p),g=n(11),m=n.n(g),h=n(6),y=n.n(h),v=n(0),b=n.n(v),E=n(19),C=n(5),O=n(15),S=n(22),_=n(184),D=n(143),x=n(87),k=n(78),A=n(138),w=n(144),T=n(4);function P(e,t,n){return t=f()(t),d()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],f()(e).constructor):t.apply(e,n))}var L=C.default.div(a||(a=y()(["\n  display: flex;\n  justify-content: space-between;\n  line-height: 11px;\n  margin-bottom: 8px;\n"])));function j(e,t,n,a){return function(r){function i(){return l()(this,i),P(this,i,arguments)}return m()(i,r),s()(i,[{key:"render",value:function(){var r=this,i=this.props,l=i.updateLayerTextLabel,c=i.textLabel,s=i.fields,u=c.map((function(e){return e.field&&e.field.name})).filter((function(e){return Boolean(e)}));return b.a.createElement(t,{label:"panel.text.label",collapsible:!0},b.a.createElement(k.b,null,b.a.createElement(n,{fields:s,value:u,onSelect:function(e){return l("all","fields",e)},multiSelect:!0})),b.a.createElement(k.a,null,c.map((function(t,i){return b.a.createElement("div",{key:t.field?t.field.name:"null-".concat(i)},b.a.createElement(O.q,null,b.a.createElement(E.FormattedMessage,{id:"panel.text.labelWithId",values:{labelId:i+1}})),b.a.createElement(O.z,null,b.a.createElement(n,{fields:s,value:t.field&&t.field.name||"placeholder.selectField",placeholder:"placeholder.empty",onSelect:function(e){return l(i,"field",e)},erasable:!0})),b.a.createElement(O.z,null,b.a.createElement(O.q,null,b.a.createElement(E.FormattedMessage,{id:"panel.text.fontSize"})),b.a.createElement(e,o()({},T.LAYER_TEXT_CONFIGS.fontSize,{value1:t.size,isRanged:!1,onChange:function(e){return l(i,"size",e[1])}}))),b.a.createElement(O.z,null,b.a.createElement(O.q,null,b.a.createElement(E.FormattedMessage,{id:"panel.text.fontColor"})),b.a.createElement(a,{colorSets:[{selectedColor:t.color,setColor:function(e){return l(i,"color",e)}}]})),b.a.createElement(O.z,null,b.a.createElement(O.q,null,b.a.createElement(E.FormattedMessage,{id:"panel.text.outlineWidth"})),b.a.createElement(e,o()({},T.LAYER_TEXT_CONFIGS.outlineWidth,{value1:t.outlineWidth,isRanged:!1,onChange:function(e){return l(i,"outlineWidth",e[1])}}))),b.a.createElement(O.z,null,b.a.createElement(O.q,null,b.a.createElement(E.FormattedMessage,{id:"panel.text.outlineColor"})),b.a.createElement(a,{colorSets:[{selectedColor:t.outlineColor,setColor:function(e){return l(i,"outlineColor",e)}}],useOpacity:!0})),b.a.createElement(O.z,null,b.a.createElement(L,null,b.a.createElement(O.q,null,b.a.createElement(E.FormattedMessage,{id:"panel.text.backgroundColor"})),b.a.createElement(D.a,{checked:t.background,id:"".concat(r.props.id,"-textBackgroundEnabled-").concat(i),onChange:function(){return l(i,"background",!t.background)}})),b.a.createElement(a,{colorSets:[{selectedColor:t.backgroundColor,setColor:function(e){return l(i,"backgroundColor",e)}}],useOpacity:!0,disabled:!t.background})),b.a.createElement(O.z,null,b.a.createElement(O.A,null,b.a.createElement(O.t,null,b.a.createElement(O.q,null,b.a.createElement(E.FormattedMessage,{id:"panel.text.textAnchor"})),b.a.createElement(x.a,o()({},T.LAYER_TEXT_CONFIGS.textAnchor,{selectedItems:t.anchor,onChange:function(e){return l(i,"anchor",e)}}))),b.a.createElement(O.t,null,b.a.createElement(O.q,null,b.a.createElement(E.FormattedMessage,{id:"panel.text.alignment"})),b.a.createElement(x.a,o()({},T.LAYER_TEXT_CONFIGS.textAlignment,{selectedItems:t.alignment,onChange:function(e){return l(i,"alignment",e)}}))))))})),b.a.createElement(O.z,null,b.a.createElement(O.b,{link:!0,onClick:function(){return l(c.length,"",null)}},b.a.createElement(S.Add,{height:"12px"}),b.a.createElement(E.FormattedMessage,{id:"panel.text.addMoreLabel"})))))}}]),i}(v.Component)}j.deps=[A.a,k.e,w.b,_.c],t.a=j},694:function(e,t,n){"use strict";var a,r,o,i=n(6),l=n.n(i),c=n(0),s=n.n(c),u=n(770),d=n(5),p=n(13),f=n(4),g=d.default.div(a||(a=l()(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  padding: 12px;\n\n  :hover {\n    cursor: pointer;\n  }\n"]))),m=d.default.div(r||(r=l()(["\n  display: flex;\n  flex-grow: 1;\n  flex-direction: column;\n  justify-content: space-between;\n"]))),h=d.default.div(o||(o=l()(["\n  flex-grow: 1;\n  height: ",";\n  border-width: 1px;\n  border-style: solid;\n"])),"8px");t.a=function(e){var t=e.selectedColor,n=e.onSelectColor;return s.a.createElement(g,{className:"single-color-palette"},f.Themes.map((function(e,a){return s.a.createElement(m,{key:e,className:"single-color-palette__column"},Object(u.a)(1,23,1).map((function(a,r){return s.a.createElement(h,{className:"single-color-palette__block",style:{backgroundColor:f.ColorsByTheme[e][a],borderColor:t===f.ColorsByTheme[e][a].toUpperCase()?"white":f.ColorsByTheme[e][a]},key:"".concat(e,"_").concat(a),selected:t===f.ColorsByTheme[e][a].toUpperCase(),onClick:function(t){return n(Object(p.hexToRgb)(f.ColorsByTheme[e][a]),t)}})})))})))}},695:function(e,t,n){"use strict";var a,r=n(6),o=n.n(r),i=n(0),l=n.n(i),c=n(5),s=n(19),u=n(15),d=c.default.div(a||(a=o()(["\n  position: absolute;\n  right: 12px;\n  top: -4px;\n"])));t.a=function(e){var t=e.onClick;return l.a.createElement(d,null,l.a.createElement(u.b,{link:!0,small:!0,onClick:t},l.a.createElement(s.FormattedMessage,{id:"layerConfiguration.howTo"})))}},696:function(e,t,n){"use strict";n.d(t,"a",(function(){return A}));var a,r=n(14),o=n.n(r),i=n(1),l=n.n(i),c=n(6),s=n.n(c),u=n(0),d=n.n(u),p=n(4),f=n(22),g=n(561),m=n(338),h=n(697),y=n(562),v=n(705),b=n(756),E=n(712),C=n(715),O=n(5),S=n(81),_=n.n(S);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=O.default.div(a||(a=s()(["\n  ",";\n  flex-grow: 1;\n  padding: ","px;\n  overflow-y: scroll;\n  overflow-x: hidden;\n\n  .side-panel__content__inner {\n    display: flex;\n    height: 100%;\n    flex-direction: column;\n  }\n"])),(function(e){return e.theme.sidePanelScrollBar}),(function(e){return e.theme.sidePanelInnerPadding}));function A(e,t,n,a,r,i,l,c){var s={layer:a,filter:r,interaction:i,map:l},g={layer:f.Layers,filter:f.FilterFunnel,interaction:f.Settings,map:f.CursorClick},m=p.SIDEBAR_PANELS.map((function(e){return x(x({},e),{},{component:s[e.id],iconComponent:g[e.id]})})),h=_()(c,["defaultProps","getProps"])||function(){return{}},y=function(a){var r=a.appName,i=a.appWebsite,l=a.availableProviders,s=void 0===l?{}:l,f=a.datasets,g=a.filters,y=a.layers,v=a.layerBlending,b=a.overlayBlending,E=a.layerClasses,C=a.layerOrder,O=a.interactionConfig,S=a.panels,_=void 0===S?m:S,D=a.mapInfo,x=a.mapSaved,A=a.mapStateActions,w=a.mapStyle,T=a.mapStyleActions,P=a.onSaveMap,L=a.uiState,j=a.uiStateActions,M=a.visStateActions,F=a.version,I=a.width,R=j.openDeleteModal,N=j.toggleModal,B=j.toggleSidePanel,U=L.activeSidePanel,V=M.setMapInfo,z=M.showDatasetTable,G=M.updateTableColor,H=s.hasShare,q=s.hasStorage,W=D.title,Y=Boolean(U),K=Object(u.useCallback)((function(){return B(U?"":"filter")}),[U,B]),Z=Object(u.useCallback)((function(){return N(p.EXPORT_IMAGE_ID)}),[N]),X=Object(u.useCallback)((function(){return N(p.EXPORT_DATA_ID)}),[N]),J=Object(u.useCallback)((function(){return N(p.EXPORT_MAP_ID)}),[N]),Q=Object(u.useCallback)((function(){return N(x?p.OVERWRITE_MAP_ID:p.SAVE_MAP_ID)}),[x,N]),$=Object(u.useCallback)((function(){V({title:"".concat(W||"Kepler.gl"," (Copy)")}),N(p.SAVE_MAP_ID)}),[W,V,N]),ee=Object(u.useCallback)((function(){return N(p.SHARE_MAP_ID)}),[N]),te=Object(u.useCallback)((function(e){return z(e)}),[z]),ne=Object(u.useCallback)((function(e,t){return G(e,t)}),[G]),ae=Object(u.useCallback)((function(){return N(p.ADD_DATA_ID)}),[N]),re=Object(u.useCallback)((function(){return N(p.ADD_MAP_STYLE_ID)}),[N]),oe=Object(u.useCallback)((function(e){return R(e)}),[R]),ie=Object(u.useMemo)((function(){return _.find((function(e){return e.id===U}))||null}),[U,_]),le=Object(u.useMemo)((function(){return h(a)}),[a]),ce=null==ie?void 0:ie.component;return d.a.createElement(e,{width:I,isOpen:Y,shouldShowCollapseButton:L.isSidePanelCloseButtonVisible,minifiedWidth:0,onOpenOrClose:K},d.a.createElement(t,{appName:r,version:F,appWebsite:i,visibleDropdown:L.visibleDropdown,showExportDropdown:j.showExportDropdown,hideExportDropdown:j.hideExportDropdown,onExportImage:Z,onExportData:X,onExportMap:J,onSaveMap:q?P:void 0,onSaveToStorage:q?Q:null,onSaveAsToStorage:q&&x?$:null,onShareMap:H?ee:null}),d.a.createElement(n,{panels:_,activePanel:U,togglePanel:j.toggleSidePanel}),d.a.createElement(k,{className:"side-panel__content"},d.a.createElement("div",{className:"side-panel__content__inner"},ce?d.a.createElement(ce,{datasets:f,filters:g,layers:y,layerClasses:E,layerOrder:C,layerBlending:v,overlayBlending:b,mapStyle:w,mapStyleActions:T,mapStateActions:A,interactionConfig:O,removeDataset:oe,showDatasetTable:te,updateTableColor:ne,showAddDataModal:ae,showAddMapStyleModal:re,uiStateActions:j,visStateActions:M,panelMetadata:ie,panelListView:"layer"===(null==ie?void 0:ie.id)?L.layerPanelListView:"filter"===(null==ie?void 0:ie.id)?L.filterPanelListView:null}):null,d.a.createElement(c,o()({},le,{activeSidePanel:U,updateTableColor:ne})))))};return y.defaultProps={panels:m,mapInfo:{}},y}A.deps=[g.b,m.e,h.a,y.b,v.a,b.a,E.a,C.a]},697:function(e,t,n){"use strict";var a,r=n(6),o=n.n(r),i=n(0),l=n.n(i),c=n(5),s=n(698),u=c.default.div.attrs({className:"side-side-panel__header__bottom"})(a||(a=o()(["\n  background-color: ",";\n  border-bottom: 1px solid ",";\n  padding: 0 16px;\n  display: flex;\n  min-height: 0px;\n  display:none;\n"])),(function(e){return e.theme.sidePanelHeaderBg}),(function(e){return e.theme.sidePanelHeaderBorder}));function d(e){return function(t){var n=t.activePanel,a=t.panels,r=t.togglePanel,o=Object(i.useCallback)((function(e){(e.onClick||r)(e.id)}),[r]);return l.a.createElement(u,null,a.map((function(t){return l.a.createElement(e,{key:t.id,panel:t,isActive:n===t.id,onClick:function(){return o(t)}})})))}}d.deps=[s.a],t.a=d},698:function(e,t,n){"use strict";var a,r=n(6),o=n.n(r),i=n(0),l=n.n(i),c=n(5),s=n(15),u=n(19),d=c.default.div.attrs({className:"side-panel__tab"})(a||(a=o()(["\n  align-items: flex-end;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: ",";\n  color: ",";\n  display: flex;\n  justify-content: center;\n  margin-right: ","px;\n  padding-bottom: ","px;\n  width: ",";\n\n  :hover {\n    cursor: pointer;\n    color: ",";\n  }\n"])),(function(e){return e.active?e.theme.panelToggleBorderColor:"transparent"}),(function(e){return e.active?e.theme.subtextColorActive:e.theme.panelTabColor}),(function(e){return e.theme.panelToggleMarginRight}),(function(e){return e.theme.panelToggleBottomPadding}),(function(e){return e.theme.panelTabWidth}),(function(e){return e.theme.textColorHl}));t.a=function(){return function(e){var t=e.isActive,n=e.onClick,a=e.panel;return l.a.createElement(d,{"data-tip":!0,"data-for":"".concat(a.id,"-nav"),active:t,onClick:n},l.a.createElement(a.iconComponent,{height:"20px"}),l.a.createElement(s.R,{id:"".concat(a.id,"-nav"),effect:"solid",delayShow:500,place:"bottom"},l.a.createElement("span",null,l.a.createElement(u.FormattedMessage,{id:a.label||a.id}))))}}},699:function(e,t,n){"use strict";var a,r=n(8),o=n.n(r),i=n(9),l=n.n(i),c=n(12),s=n.n(c),u=n(7),d=n.n(u),p=n(10),f=n.n(p),g=n(11),m=n.n(g),h=n(1),y=n.n(h),v=n(6),b=n.n(v),E=n(0),C=n.n(E),O=n(5),S=n(271),_=n(269),D=n(4);function x(e,t,n){return t=d()(t),s()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],d()(e).constructor):t.apply(e,n))}var k=O.default.div(a||(a=b()(["\n  font-size: 12px;\n  border-radius: 1px;\n  z-index: 1000;\n  &.dragging {\n    cursor: move;\n  }\n"])));function A(e,t){return function(n){function a(){var e;o()(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=x(this,a,[].concat(n)),y()(f()(e),"updateLayerConfig",(function(t){e.props.layerConfigChange(e.props.layer,t)})),y()(f()(e),"updateLayerType",(function(t){e.props.layerTypeChange(e.props.layer,t)})),y()(f()(e),"updateLayerVisConfig",(function(t){e.props.layerVisConfigChange(e.props.layer,t)})),y()(f()(e),"updateLayerColorUI",(function(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];(t=e.props).layerColorUIChange.apply(t,[e.props.layer].concat(a))})),y()(f()(e),"updateLayerTextLabel",(function(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];(t=e.props).layerTextLabelChange.apply(t,[e.props.layer].concat(a))})),y()(f()(e),"updateLayerVisualChannelConfig",(function(t,n){e.props.layerVisualChannelConfigChange(e.props.layer,t,n)})),y()(f()(e),"_updateLayerLabel",(function(t){var n=t.target.value;e.updateLayerConfig({label:n})})),y()(f()(e),"_toggleVisibility",(function(t){t.stopPropagation();var n=!e.props.layer.config.isVisible;e.updateLayerConfig({isVisible:n})})),y()(f()(e),"_resetIsValid",(function(t){null==t||t.stopPropagation(),e.props.layerSetIsValid(e.props.layer,!0)})),y()(f()(e),"_toggleEnableConfig",(function(t){null==t||t.stopPropagation();var n=e.props.layer.config.isConfigActive;e.updateLayerConfig({isConfigActive:!n})})),y()(f()(e),"_removeLayer",(function(t){null==t||t.stopPropagation(),e.props.removeLayer(e.props.layer.id)})),y()(f()(e),"_zoomToLayer",(function(t){var n,a;null==t||t.stopPropagation();var r=null===(n=e.props.layer)||void 0===n||null===(a=n.meta)||void 0===a?void 0:a.bounds;r&&e.props.zoomToLayer(r)})),y()(f()(e),"_duplicateLayer",(function(t){null==t||t.stopPropagation(),e.props.duplicateLayer(e.props.layer.id)})),e}return m()(a,n),l()(a,[{key:"render",value:function(){var n=this.props,a=n.layer,r=n.datasets,o=n.isDraggable,i=n.layerTypeOptions,l=n.listeners,c=a.config,s=a.isValid,u=c.isConfigActive,d="function"==typeof a.isValidToSave&&a.isValidToSave();return C.a.createElement(k,{active:u,className:"layer-panel ".concat(this.props.className),"data-testid":D.dataTestIds.layerPanel,style:this.props.style,onMouseDown:this.props.onMouseDown,onTouchStart:this.props.onTouchStart},C.a.createElement(t,{isConfigActive:u,layerId:a.id,isVisible:c.isVisible,isValid:s,label:c.label,labelRCGColorValues:c.dataId?r[c.dataId].color:null,layerType:a.type,allowDuplicate:d,onToggleEnableConfig:this._toggleEnableConfig,onToggleVisibility:this._toggleVisibility,onResetIsValid:this._resetIsValid,onUpdateLayerLabel:this._updateLayerLabel,onRemoveLayer:this._removeLayer,onZoomToLayer:this._zoomToLayer,onDuplicateLayer:this._duplicateLayer,isDragNDropEnabled:o,listeners:l}),u&&C.a.createElement(e,{layer:a,datasets:r,layerTypeOptions:i,openModal:this.props.openModal,updateLayerColorUI:this.updateLayerColorUI,updateLayerConfig:this.updateLayerConfig,updateLayerVisualChannelConfig:this.updateLayerVisualChannelConfig,updateLayerType:this.updateLayerType,updateLayerTextLabel:this.updateLayerTextLabel,updateLayerVisConfig:this.updateLayerVisConfig}))}}]),a}(E.Component)}A.deps=[S.b,_.e],t.a=A},700:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(701);function i(e){return function(t){var n=t.datasets,o=t.showDatasetTable,i=t.layers,l=t.updateTableColor,c=t.showDeleteDataset,s=t.removeDataset,u=t.layerOrder,d=t.layerClasses,p=t.uiStateActions,f=t.visStateActions,g=t.mapStateActions,m=Object(a.useMemo)((function(){return Object.values(n).map((function(e){var t=i.map((function(t){return t.config.dataId===e.id?t:null})).filter((function(e){return Boolean(e)}));return{dataset:e,datasetLayers:t}}))}),[n,i]);return r.a.createElement(r.a.Fragment,null,m.map((function(t){return r.a.createElement(e,{key:t.dataset.id,dataset:t.dataset,layers:t.datasetLayers,datasets:n,showDatasetTable:o,updateTableColor:l,showDeleteDataset:c,removeDataset:s,layerOrder:u,layerClasses:d,uiStateActions:p,visStateActions:f,mapStateActions:g})})))}}i.deps=[o.a],t.a=i},701:function(e,t,n){"use strict";var a,r=n(1),o=n.n(r),i=n(6),l=n.n(i),c=n(0),s=n.n(c),u=n(5),d=n(351),p=n(471),f=u.default.div.attrs({className:"dataset-layer-section"})(a||(a=l()(["\n  margin-bottom: 16px;\n"])));function g(e,t){return function(n){var a=n.dataset,r=n.datasets,i=n.showDatasetTable,l=n.layers,u=n.updateTableColor,d=n.showDeleteDataset,p=n.removeDataset,g=n.layerOrder,m=n.layerClasses,h=n.uiStateActions,y=n.visStateActions,v=n.mapStateActions,b=Object(c.useMemo)((function(){return o()({},a.id,a)}),[a]);return s.a.createElement(f,null,s.a.createElement(e,{datasets:b,showDatasetTable:i,updateTableColor:u,removeDataset:p,showDeleteDataset:d}),s.a.createElement(t,{datasets:r,layerOrder:g,layers:l,layerClasses:m,uiStateActions:h,visStateActions:y,mapStateActions:v,isSortable:!1}))}}g.deps=[d.a,p.a],t.a=g},702:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var a,r,o=n(24),i=n.n(o),l=n(6),c=n.n(l),s=n(0),u=n.n(s),d=n(5),p=n(19),f=n(120),g=n(15),m=n(22),h=n(348),y=n(350),v=n(62),b=n(13),E=d.default.div(a||(a=c()(["\n  color: ",";\n  display: flex;\n  align-items: flex-start;\n\n  .source-data-arrow {\n    height: 16px;\n  }\n  :hover {\n    cursor: ",";\n\n    .dataset-name {\n      color: ",";\n    }\n\n    .dataset-action {\n      color: ",";\n      opacity: 1;\n    }\n\n    .dataset-action:hover {\n      color: ",";\n    }\n  }\n"])),(function(e){return e.theme.textColor}),(function(e){return e.clickable?"pointer":"auto"}),(function(e){return e.clickable?e.theme.textColorHl:e.theme.textColor}),(function(e){return e.theme.textColor}),(function(e){return e.theme.textColorHl})),C=d.default.div(r||(r=c()(["\n  margin-left: 12px;\n  height: 16px;\n  opacity: 0;\n"]))),O=function(e){var t=e.id,n=e.showDatasetTable;return u.a.createElement(C,{className:"dataset-action show-data-table","data-tip":!0,"data-for":"data-table-".concat(t)},u.a.createElement(f.Table,{height:"16px",onClick:function(e){e.stopPropagation(),null==n||n(t)}}),u.a.createElement(g.R,{id:"data-table-".concat(t),effect:"solid"},u.a.createElement("span",null,u.a.createElement(p.FormattedMessage,{id:"datasetTitle.showDataTable"}))))},S=function(e){var t=e.datasetKey,n=e.removeDataset;return u.a.createElement(C,{className:"dataset-action remove-dataset","data-tip":!0,"data-for":"delete-".concat(t)},u.a.createElement(m.Trash,{height:"16px",onClick:function(e){e.stopPropagation(),null==n||n(t)}}),u.a.createElement(g.R,{id:"delete-".concat(t),effect:"solid",type:"error"},u.a.createElement("span",null,u.a.createElement(p.FormattedMessage,{id:"datasetTitle.removeDataset"}))))};function _(e){return function(t){var n=t.showDatasetTable,a=t.showDeleteDataset,r=t.onTitleClick,o=t.removeDataset,l=t.dataset,c=t.updateTableColor,d=Object(s.useState)(!1),p=i()(d,2),f=p[0],h=p[1],C=Object(s.useRef)(null),_=l.id,D=Object(s.useCallback)((function(){h(!f)}),[h,f]),x=Object(s.useCallback)((function(){h(!1)}),[h]),k=Object(s.useCallback)((function(e){c(_,[e.rgb.r,e.rgb.g,e.rgb.b])}),[c,_]),A=Object(s.useCallback)((function(e){e.stopPropagation(),"function"==typeof r?r():"function"==typeof n&&n(_)}),[r,n,_]);return u.a.createElement("div",{className:"custom-palette-panel",ref:C},u.a.createElement(E,{className:"source-data-title",clickable:Boolean(n||r)},u.a.createElement(e,{dataset:l,onClick:A,updateTableColor:c,onClickSquare:D}),u.a.createElement(v.Portaled,{isOpened:!1!==f,left:110,top:-50,onClose:x},u.a.createElement(y.a,{color:Object(b.rgbToHex)(l.color),onChange:k,onSwatchClose:x})),n?u.a.createElement(g.d,{className:"source-data-arrow"},u.a.createElement(m.ArrowRight,{height:"12px"})):null,n?u.a.createElement(O,{id:_,showDatasetTable:n}):null,a?u.a.createElement(S,{datasetKey:_,removeDataset:o}):null))}}_.deps=[h.a]},703:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a,r=n(6),o=n.n(r),i=n(0),l=n.n(i),c=n(5),s=n(355),u=n(19),d=Object(s.b)(","),p=c.default.div(a||(a=o()(["\n  font-size: 11px;\n  color: ",";\n  padding-left: 19px;\n"])),(function(e){return e.theme.subtextColor}));function f(){return function(e){var t=e.dataset;return l.a.createElement(p,{className:"source-data-rows"},l.a.createElement(u.FormattedMessage,{id:"datasetInfo.rowCount",values:{rowCount:d(t.dataContainer.numRows())}}))}}},704:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(793);t.a=function(){return function(e){var t=e.datasets,n=e.onAdd;return r.a.createElement(o.a,{datasets:t,className:"add-layer-button",width:"110px",onAdd:n,buttonIntlId:"layerManager.addLayer"})}}},705:function(e,t,n){"use strict";var a=n(14),r=n.n(a),o=n(21),i=n.n(o),l=n(1),c=n.n(l),s=n(0),u=n.n(s),d=n(135),p=n(15),f=n(351),g=n(706),m=n(4),h=n(13),y=n(472),v=n(235),b=n(710),E=n(397);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n,a,o,l){var f=function(e){var n=e.filtersByIndex,a=e.filters,r=e.datasets,o=e.layers,l=e.isAnyFilterAnimating,d=e.visStateActions,f=d.removeFilter,g=d.setFilter,y=d.toggleFilterAnimation,v=d.toggleFilterFeature,b=d.setFilterView,E=Object(s.useMemo)((function(){return n.reduce((function(e,t){var n=t.filter,a=t.idx;return O(O({},e),{},c()({},n.id,{removeFilter:function(){return f(a)},toggleFilterView:function(){return b(a,Object(h.isSideFilter)(n)?m.FILTER_VIEW_TYPES.enlarged:m.FILTER_VIEW_TYPES.side)},toggleAnimation:function(){return y(a)},toggleFilterFeature:function(){return v(a)}}))}),{})}),[n,f,b,y,v]);return u.a.createElement(p.z,null,i()(n).reverse().map((function(e){var n=e.filter,i=e.idx;return u.a.createElement(t,{key:"".concat(n.id,"-").concat(i),idx:i,filters:a,filter:n,datasets:r,layers:o,isAnyFilterAnimating:l,removeFilter:E[n.id].removeFilter,enlargeFilter:E[n.id].toggleFilterView,toggleAnimation:E[n.id].toggleAnimation,toggleFilterFeature:E[n.id].toggleFilterFeature,setFilter:g})})))},g=function(e){var t=e.filtersByIndex,n=e.filters,a=e.dataset,r=e.datasets,o=e.layers,i=e.isAnyFilterAnimating,d=e.visStateActions,p=e.showDatasetTable,g=e.updateTableColor,m=e.removeDataset,h=e.showDeleteDataset,y=Object(s.useMemo)((function(){return c()({},a.id,a)}),[a]);return u.a.createElement(u.a.Fragment,null,u.a.createElement(l,{datasets:y,showDatasetTable:p,updateTableColor:g,removeDataset:m,showDeleteDataset:h}),u.a.createElement(f,{filtersByIndex:t,filters:n,datasets:r,layers:o,isAnyFilterAnimating:i,visStateActions:d}))};return function(e){var t=e.filters,i=void 0===t?[]:t,l=e.datasets,h=e.layers,y=e.showDatasetTable,v=e.updateTableColor,b=e.removeDataset,E=(e.showAddDataModal,e.panelMetadata),C=e.panelListView,S=e.visStateActions,_=e.uiStateActions,D=S.addFilter,x=_.togglePanelListView,k=i.some((function(e){return e.isAnimating})),A=Object(s.useCallback)((function(e){return D(e)}),[D]),w=C===m.PANEL_VIEW_TOGGLES.byDataset,T=Object(s.useMemo)((function(){return i.map((function(e,t){return{filter:e,idx:t}}))}),[i]),P=Object(s.useMemo)((function(){return Object.keys(l).reduce((function(e,t){return O(O({},e),{},c()({},t,T.filter((function(e){return e.filter.dataId&&e.filter.dataId[0]===t}))))}),{})}),[l,T]),L=Object(s.useCallback)((function(e){x({panelId:"filter",listView:e})}),[x]),j=Object(d.a)(),M={datasets:l,filters:i,layers:h,isAnyFilterAnimating:k,visStateActions:S},F={showDatasetTable:y,updateTableColor:v,removeDataset:b,showDeleteDataset:!0};return u.a.createElement("div",{className:"filter-manager"},u.a.createElement(p.z,null,u.a.createElement(o,{togglePanelListView:L,mode:C})),"",u.a.createElement(p.y,null),u.a.createElement(p.z,null,u.a.createElement(n,{className:"filter-manager-title",title:j.formatMessage({id:E.label})},u.a.createElement(a,{datasets:l,onAdd:A}))),u.a.createElement(p.z,null,w?Object.keys(P).map((function(e){return u.a.createElement(g,r()({key:e,filtersByIndex:P[e],dataset:l[e]},M,F))})):u.a.createElement(f,r()({filtersByIndex:T},M))))}}S.deps=[E.b,g.a,v.a,b.a,y.a,f.a],t.a=S},706:function(e,t,n){"use strict";var a,r=n(14),o=n.n(r),i=n(8),l=n.n(i),c=n(9),s=n.n(c),u=n(12),d=n.n(u),p=n(7),f=n.n(p),g=n(10),m=n.n(g),h=n(11),y=n.n(h),v=n(1),b=n.n(v),E=n(6),C=n.n(E),O=n(0),S=n.n(O),_=n(47),D=n(5),x=n(81),k=n.n(x),A=n(4),w=n(474),T=n(1434),P=n(1435),L=n(1436),j=n(1437),M=n(1450);function F(e,t,n){return t=f()(t),d()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],f()(e).constructor):t.apply(e,n))}var I=D.default.div(a||(a=C()(["\n  margin-bottom: 12px;\n  border-radius: 1px;\n"])));function R(e,t,n,a,r,i){var c=b()(b()(b()(b()(b()({default:e},A.FILTER_TYPES.timeRange,t),A.FILTER_TYPES.select,n),A.FILTER_TYPES.multiSelect,a),A.FILTER_TYPES.range,r),A.FILTER_TYPES.polygon,i);return function(e){function t(){var e;l()(this,t);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=F(this,t,[].concat(a)),b()(m()(e),"fieldsSelector",(function(e){var t=e.filter.dataId[0];return t?k()(e,["datasets",t,"fields"],[]):[]})),b()(m()(e),"filterSelector",(function(e){return e.filters})),b()(m()(e),"nameSelector",(function(e){return e.filter.name})),b()(m()(e),"dataIdSelector",(function(e){return e.filter.dataId[0]})),b()(m()(e),"availableFieldsSelector",Object(_.createSelector)(e.fieldsSelector,e.filterSelector,e.nameSelector,e.dataIdSelector,(function(e,t,n,a){return e.filter((function(e){return e.type&&e.type!==A.ALL_FIELD_TYPES.geojson&&(n.includes(e.name)||!t.find((function(t){return t.name.includes(e.name)&&t.dataId.includes(a)})))}))}))),e}return y()(t,e),s()(t,[{key:"render",value:function(){var e=this.props.filter.type,t=e&&c[e]||c.default,n=this.availableFieldsSelector(this.props);return S.a.createElement(I,{className:"filter-panel"},S.a.createElement(t,o()({allAvailableFields:n},this.props)))}}]),t}(O.Component)}R.deps=[w.a,T.a,P.a,L.a,j.a,M.a],t.a=R},710:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(793);t.a=function(){return function(e){var t=e.datasets,n=e.onAdd;return r.a.createElement(o.a,{datasets:t,className:"add-filter-button",width:"105px",onAdd:n,buttonIntlId:"filterManager.addFilter"})}}},711:function(e,t,n){"use strict";var a=n(1),r=n.n(a),o=n(0),i=n.n(o),l=n(138),c=n(15),s=n(66),u=n(19);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e){return function(t){var n=t.config,a=t.onChange;return i.a.createElement(c.z,null,i.a.createElement(c.q,null,i.a.createElement(u.FormattedMessage,{id:"misc.brushRadius"})),i.a.createElement(e,{range:s.BRUSH_CONFIG.range,value0:0,value1:n.size||5,step:.1,isRanged:!1,onChange:function(e){return a(p(p({},n),{},{size:e[1]}))},inputTheme:"secondary"}))}}f.deps=[l.a],t.a=f},712:function(e,t,n){"use strict";var a=n(8),r=n.n(a),o=n(9),i=n.n(o),l=n(12),c=n.n(l),s=n(7),u=n.n(s),d=n(10),p=n.n(d),f=n(11),g=n.n(f),m=n(1),h=n.n(m),y=n(0),v=n.n(y),b=n(47),E=n(15),C=n(713),O=n(758),S=n(235),_=n(22),D=n(166),x=n(19);function k(e,t,n){return t=u()(t),c()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],u()(e).constructor):t.apply(e,n))}function A(e,t,n){var a=function(a){function o(){var e;r()(this,o);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=k(this,o,[].concat(n)),h()(p()(e),"state",{isSelecting:!1}),h()(p()(e),"_toggleSelecting",(function(){e.setState({isSelecting:!e.state.isSelecting})})),h()(p()(e),"_selectStyle",(function(t){(0,e.props.mapStyleActions.mapStyleChange)(t),e._toggleSelecting()})),h()(p()(e),"getCustomMapStylesActions",Object(b.createSelector)((function(e){return e.mapStyle.mapStyles}),(function(e){return e.mapStyleActions}),(function(e,t){var n={};return Object.values(e).filter((function(e){return Boolean(e.custom)})).forEach((function(e){var a=e.id;n[a]=[{id:"remove-map-style-".concat(a),IconComponent:_.Trash,tooltip:"tooltip.removeBaseMapStyle",onClick:function(){return t.removeCustomMapStyle({id:a})}}]})),n}))),e}return g()(o,a),i()(o,[{key:"render",value:function(){var a=this.props,r=a.mapStyle,o=a.intl,i=a.mapStyleActions,l=a.showAddMapStyleModal,c=a.panelMetadata,s=(r.mapStyles[r.styleType]||{}).layerGroups||[],u=this.getCustomMapStylesActions(this.props);return v.a.createElement("div",{className:"map-style-panel"},v.a.createElement(n,{className:"map-manager-title",title:o.formatMessage({id:c.label})},v.a.createElement(E.b,{className:"add-map-style-button",onClick:l},v.a.createElement(_.Add,{height:"12px"}),v.a.createElement(x.FormattedMessage,{id:"mapManager.addMapStyle"}))),v.a.createElement("div",null,v.a.createElement(e,{mapStyle:r,isSelecting:this.state.isSelecting,onChange:this._selectStyle,toggleActive:this._toggleSelecting,customMapStylesActions:u}),s.length?v.a.createElement(t,{layers:r.visibleLayerGroups,editableLayers:s,topLayers:r.topLayerGroups,onChange:i.mapConfigChange,threeDBuildingColor:r.threeDBuildingColor,on3dBuildingColorChange:i.set3dBuildingColor,backgroundColor:r.backgroundColor,onBackgroundColorChange:i.setBackgroundColor}):null))}}]),o}(y.Component);return Object(D.c)(a)}A.deps=[C.a,O.a,S.a],t.a=A},713:function(e,t,n){"use strict";var a,r=n(6),o=n.n(r),i=n(0),l=n.n(i),c=n(5),s=n(25),u=n.n(s),d=n(19),p=n(4),f=n(22),g=n(158),m=n(15),h=Object(c.default)(m.M)(a||(a=o()(["\n  height: 48px;\n  margin-bottom: 5px;\n  opacity: 1;\n  position: relative;\n  transition: opacity 0.05s ease-in, height 0.25s ease-out;\n\n  &.collapsed {\n    height: 0;\n    margin-bottom: 0;\n    opacity: 0;\n  }\n\n  :hover {\n    cursor: pointer;\n    background-color: ",";\n  }\n\n  .map-title-block img {\n    margin-right: 12px;\n  }\n\n  .map-preview {\n    border-radius: 3px;\n    height: 30px;\n    width: 40px;\n  }\n\n  &.selected {\n    outline: 1px solid #caf2f4;\n  }\n\n  /* show callout dot if props.hasCallout and theme provides calloutDot base styles */\n  :after {\n    ","\n    background-color: #00ACF5;\n    top: 12px;\n    left: 15px;\n    display: ",";\n  }\n\n  .custom-style-actions {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n"])),(function(e){return e.theme.panelBackgroundHover}),(function(e){return e.theme.calloutDot}),(function(e){var t=e.theme,n=e.hasCallout;return t.calloutDot&&n?"block":"none"}));function y(e){var t={arrowDown:f.ArrowDown};return function(n){var a=n.mapStyle,r=n.onChange,o=n.toggleActive,i=n.isSelecting,c=n.customMapStylesActions,s=n.actionIcons,f=void 0===s?t:s,g=a.mapStyles,y=a.styleType;return l.a.createElement("div",null,l.a.createElement(m.q,null,l.a.createElement(d.FormattedMessage,{id:"mapManager.mapStyle"})),Object.values(g).map((function(t){var n=t.id,a=t.custom,s=t.icon,d=void 0===s?p.NO_BASEMAP_ICON:s,g=t.label,v=void 0===g?"Untitled":g;return l.a.createElement(h,{className:u()("map-dropdown-option",{collapsed:!i&&n!==y,selected:i&&n===y}),key:n,onClick:i?function(){return r(n)}:o,hasCallout:Boolean(a)},l.a.createElement(m.o,{className:"map-title-block"},l.a.createElement("img",{className:"map-preview",src:d}),l.a.createElement(m.p,{className:"map-preview-name"},v)),i?null:l.a.createElement(e,{className:"map-dropdown-option__enable-config",id:"map-enable-config",IconComponent:f.arrowDown,tooltip:"tooltip.selectBaseMapStyle",onClick:o}),i&&a?l.a.createElement("div",{className:"custom-style-actions"},((null==c?void 0:c[n])||[]).map((function(t){return l.a.createElement(e,{key:t.id,className:"map-dropdown-option__enable-config",id:t.id,IconComponent:t.IconComponent,tooltip:t.tooltip,onClick:function(e){e.stopPropagation(),t.onClick()}})}))):null)})))}}y.deps=[g.a],t.a=y},714:function(e,t,n){"use strict";var a,r,o=n(24),i=n.n(o),l=n(6),c=n.n(l),s=n(0),u=n.n(s),d=n(5),p=n(13),f=n(19),g=n(62),m=n(15),h=n(350),y=n(184),v=d.default.div(a||(a=c()(["\n  margin-right: ","px;\n  cursor: pointer;\n  ","\n"])),(function(e){return e.extraMarginRight?0:24}),(function(e){return e.disabled&&Object(d.css)(r||(r=c()(["\n      cursor: none;\n      pointer-events: none;\n      opacity: 0.3;\n    "])))}));function b(){return function(e){var t=e.slug,n=e.color,a=e.onColorChange,r=e.extraMarginRight,o=e.disabled,l=Object(s.useState)(!1),c=i()(l,2),d=c[0],b=c[1],E=Object(s.useCallback)((function(){b(!d)}),[b,d]),C=Object(s.useCallback)((function(){b(!1)}),[b]),O=Object(s.useCallback)((function(e){a([e.rgb.r,e.rgb.g,e.rgb.b])}),[a]);return u.a.createElement(v,{extraMarginRight:r,disabled:o},u.a.createElement(y.a,{backgroundcolor:n,onClick:E,className:"color-selector__selector__block","data-tip":!0,"data-for":"update-color-".concat(t)}),u.a.createElement(m.R,{id:"update-color-".concat(t),effect:"solid",delayShow:500},u.a.createElement("span",null,u.a.createElement(f.FormattedMessage,{id:"Update color"}))),u.a.createElement(g.Portaled,{isOpened:!1!==d,left:110,top:-50,onClose:C},u.a.createElement(h.a,{color:Object(p.rgbToHex)(n),onChange:O,onSwatchClose:C})))}}b.deps=[],t.a=b},715:function(e,t,n){"use strict";var a=n(0),r=n.n(a);t.a=function(){var e=function(e){return r.a.createElement("div",null)};return e.defaultProps={panels:[],getProps:function(e){return{}}},e}},729:function(e,t,n){"use strict";var a=n(272);t.a=function(){return a.c}},730:function(e,t,n){"use strict";var a,r=n(6),o=n.n(r),i=n(0),l=n.n(i),c=n(5),s=n(482),u=n(19),d=c.default.div(a||(a=o()(["\n  margin-top: 24px;\n"]))),p=function(e){var t=e.dataset,n=e.layers,a=(void 0===n?[]:n).filter((function(e){return e.config.dataId===(t&&t.id)}));return l.a.createElement("div",{className:"delete-dataset-modal"},l.a.createElement(s.a,{dataset:t}),l.a.createElement(d,{className:"delete-dataset-msg"},l.a.createElement(u.FormattedMessage,{id:"modal.deleteData.warning",values:{length:a.length}})))};t.a=function(){return p}},733:function(e,t,n){"use strict";var a,r=n(14),o=n.n(r),i=n(24),l=n.n(i),c=n(6),s=n.n(c),u=n(0),d=n.n(u),p=n(5),f=n(81),g=n.n(f),m=n(135),h=n(453),y=n(750),v=n(565),b=n(485),E=n(4),C=p.default.div.attrs({className:"load-data-modal"})(a||(a=s()(["\n  padding: ",";\n  min-height: 440px;\n  display: flex;\n  flex-direction: column;\n"])),(function(e){return e.theme.modalPadding})),O=function(){};function S(e,t,n){var a=function(t){var n=Object(m.a)(),a=t.loadingMethods,r=t.isCloudMapLoading,i=Object(u.useState)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.isArray(e)?g()(e,[0]):null}(a)),c=l()(i,2),s=c[0],p=c[1],f=null==s?void 0:s.elementType;return d.a.createElement(C,null,d.a.createElement(e,{currentMethod:null==s?void 0:s.id,loadingMethods:a,toggleMethod:p}),r?d.a.createElement(b.a,{size:64}):f&&d.a.createElement(f,o()({key:null==s?void 0:s.id,intl:n},t)))};return a.defaultProps={onFileUpload:O,fileLoading:!1,loadingMethods:[{id:E.LOADING_METHODS.upload,label:"modal.loadData.upload",elementType:t},{id:E.LOADING_METHODS.storage,label:"modal.loadData.storage",elementType:n}]},a}S.deps=[v.b,h.c,y.a],t.a=S},737:function(e,t,n){"use strict";var a,r,o,i,l,c,s=n(18),u=n.n(s),d=n(165),p=n.n(d),f=n(24),g=n.n(f),m=n(6),h=n.n(m),y=n(0),v=n.n(y),b=n(5),E=n(22),C=n(15),O=n(194);function S(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */S=function(){return t};var e,t={},n=Object.prototype,a=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function d(e,t,n,a){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),l=new P(a||[]);return r(i,"_invoke",{value:k(e,n,l)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var f="suspendedStart",g="executing",m="completed",h={};function y(){}function v(){}function b(){}var E={};s(E,i,(function(){return this}));var C=Object.getPrototypeOf,O=C&&C(C(L([])));O&&O!==n&&a.call(O,i)&&(E=O);var _=b.prototype=y.prototype=Object.create(E);function D(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function n(r,o,i,l){var c=p(e[r],e,o);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==u()(d)&&a.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var o;r(this,"_invoke",{value:function(e,a){function r(){return new t((function(t,r){n(e,a,t,r)}))}return o=o?o.then(r,r):r()}})}function k(t,n,a){var r=f;return function(o,i){if(r===g)throw new Error("Generator is already running");if(r===m){if("throw"===o)throw i;return{value:e,done:!0}}for(a.method=o,a.arg=i;;){var l=a.delegate;if(l){var c=A(l,a);if(c){if(c===h)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(r===f)throw r=m,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r=g;var s=p(t,n,a);if("normal"===s.type){if(r=a.done?m:"suspendedYield",s.arg===h)continue;return{value:s.arg,done:a.done}}"throw"===s.type&&(r=m,a.method="throw",a.arg=s.arg)}}}function A(t,n){var a=n.method,r=t.iterator[a];if(r===e)return n.delegate=null,"throw"===a&&t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method)||"return"!==a&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+a+"' method")),h;var o=p(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,h;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,h):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function n(){for(;++r<t.length;)if(a.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(u()(t)+" is not iterable")}return v.prototype=b,r(_,"constructor",{value:b,configurable:!0}),r(b,"constructor",{value:v,configurable:!0}),v.displayName=s(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,s(e,c,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},D(x.prototype),s(x.prototype,l,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,a,r,o){void 0===o&&(o=Promise);var i=new x(d(e,n,a,r),o);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},D(_),s(_,c,"Generator"),s(_,i,(function(){return this})),s(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var a in t)n.push(a);return n.reverse(),function e(){for(;n.length;){var a=n.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},t.values=L,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(a,r){return l.type="throw",l.arg=t,n.next=a,r&&(n.method="next",n.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=a.call(i,"catchLoc"),s=a.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;T(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,a){return this.delegate={iterator:L(t),resultName:n,nextLoc:a},"next"===this.method&&(this.arg=e),h}},t}var _=b.default.div.attrs({className:"provider-tile__wrapper"})(a||(a=h()(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start;\n  border-radius: 2px;\n  border: 1px solid\n    ",";\n  color: ",";\n  cursor: pointer;\n  font-weight: 500;\n  width: 120px;\n  height: 168px;\n  background-color: #ffffff;\n  transition: ",";\n  position: relative;\n  :hover {\n    border: 1px solid ",";\n    color: ",";\n  }\n\n  .button {\n    margin-top: 20px;\n  }\n"])),(function(e){return e.selected?e.theme.primaryBtnBgd:e.theme.selectBorderColorLT}),(function(e){return e.selected?e.theme.primaryBtnBgd:e.theme.selectBorderColorLT}),(function(e){return e.theme.transition}),(function(e){return e.theme.primaryBtnBgd}),(function(e){return e.theme.primaryBtnBgd})),D=Object(b.default)(C.e)(r||(r=h()(["\n  margin-right: 12px;\n  position: relative;\n"]))),x=b.default.div(o||(o=h()(["\n  font-size: 12px;\n  margin-top: 12px;\n  margin-bottom: 4px;\n"]))),k=b.default.div(i||(i=h()(["\n  font-size: 11px;\n  margin-top: 8px;\n  text-align: center;\n  color: ",";\n  overflow: hidden;\n  width: 100px;\n  text-overflow: ellipsis;\n"])),(function(e){return e.theme.primaryBtnActBgd})),A=function(e){var t=e.onClick;return v.a.createElement(C.b,{className:"login-button",link:!0,small:!0,onClick:t},v.a.createElement(E.Login,null),"Login")},w=function(e){var t=e.onClick;return v.a.createElement(C.b,{className:"logout-button",link:!0,small:!0,onClick:t},v.a.createElement(E.Logout,null),"Logout")},T=b.default.div(l||(l=h()(["\n  width: 37px;\n  height: 19px;\n  display: flex;\n  align-content: center;\n  justify-content: center;\n  border-radius: 8px;\n  padding: 4px 8px;\n  background-color: #EDE9F9;\n  color: #8863F8;\n  position: absolute;\n  left: 35%;\n  top: -8px\n  z-index: 500;\n  font-size: 11px;\n  line-height: 10px;\n"]))),P=b.default.span(c||(c=h()(["\n  color: ",";\n  font-weight: ",";\n"])),(function(e){return e.theme.errorColor}),(function(e){return e.theme.selectFontWeightBold}));t.a=function(e){var t=e.provider,n=e.actionName,a=Object(y.useState)(null),r=g()(a,2),o=r[0],i=r[1],l=Object(y.useState)(null),c=g()(l,2),s=c[0],u=c[1],d=Object(y.useState)(!1),f=g()(d,2),m=f[0],h=f[1],b=Object(O.b)(),E=b.provider,L=b.setProvider,j=t===E;Object(y.useEffect)((function(){t&&(u(null),h(!0),u(null),t.getUser().then(i).catch(u).finally((function(){u(null),h(!1)})))}),[t]);var M=Object(y.useCallback)(p()(S().mark((function e(){var n;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(null),h(!0),e.prev=2,e.next=5,t.login();case 5:n=e.sent,i(n),L(t),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),u(e.t0);case 13:h(!1);case 14:case"end":return e.stop()}}),e,null,[[2,10]])}))),[t]),F=Object(y.useCallback)(p()(S().mark((function e(){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m){e.next=2;break}return e.abrupt("return");case 2:if(!o){e.next=5;break}return L(t),e.abrupt("return");case 5:return e.prev=5,e.next=8,M();case 8:L(t),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(5),u(e.t0),L(null);case 15:case"end":return e.stop()}}),e,null,[[5,11]])}))),[L,t,o,m]),I=Object(y.useCallback)(p()(S().mark((function e(){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.prev=1,e.next=4,t.logout();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),u(e.t0);case 9:h(!1),i(null),L(null);case 12:case"end":return e.stop()}}),e,null,[[1,6]])}))),[t]),R=t.displayName,N=t.name;return v.a.createElement(D,null,t.isNew?v.a.createElement(T,null,"New"):null,v.a.createElement("div",null),v.a.createElement(_,{onClick:F,selected:j},v.a.createElement(x,null,R||N),t.icon?v.a.createElement(t.icon,{height:"64px"}):null,m?v.a.createElement("div",null,"Loading ..."):v.a.createElement(v.a.Fragment,null,o?v.a.createElement(k,null,n||o.name):null),j?v.a.createElement(C.f,null):null),o||s?v.a.createElement(w,{onClick:I}):v.a.createElement(A,{onClick:M}),s?v.a.createElement(P,null,s.message):null)}},738:function(e,t,n){"use strict";var a,r=n(6),o=n.n(r),i=n(0),l=n.n(i),c=n(5),s=n(487),u=n(4),d=n(15),p=n(143),f=n(166),g=n(19),m=c.default.div(a||(a=o()(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  width: 250px;\n\n  .image-option-section {\n    .image-option-section-title {\n      font-weight: 500;\n      font-size: 14px;\n    }\n  }\n\n  .button-list {\n    display: flex;\n    flex-direction: row;\n    padding: 8px 0px;\n  }\n\n  input {\n    margin-right: 8px;\n  }\n"])));t.a=function(){return Object(f.c)((function(e){var t=e.mapW,n=e.mapH,a=e.exportImage,r=e.onUpdateImageSetting,o=e.cleanupExportImage,c=e.intl,f=a.legend,h=a.ratio,y=a.resolution;return Object(i.useEffect)((function(){return r({exporting:!0}),o}),[r,o]),Object(i.useEffect)((function(){n===a.mapH&&t===a.mapW||r({mapH:n,mapW:t})}),[n,t,a,r]),l.a.createElement(d.H,{className:"export-image-modal"},l.a.createElement(m,null,l.a.createElement("div",{className:"image-option-section"},l.a.createElement("div",{className:"image-option-section-title"},l.a.createElement(g.FormattedMessage,{id:"modal.exportImage.ratioTitle"})),l.a.createElement(g.FormattedMessage,{id:"modal.exportImage.ratioDescription"}),l.a.createElement("div",{className:"button-list",id:"export-image-modal__option_ratio"},u.EXPORT_IMG_RATIO_OPTIONS.filter((function(e){return!e.hidden})).map((function(e){return l.a.createElement(d.x,{key:e.id,selected:h===e.id,onClick:function(){return r({ratio:e.id})}},l.a.createElement(g.FormattedMessage,{id:e.label}),h===e.id&&l.a.createElement(d.f,null))})))),l.a.createElement("div",{className:"image-option-section"},l.a.createElement("div",{className:"image-option-section-title"},l.a.createElement(g.FormattedMessage,{id:"modal.exportImage.resolutionTitle"})),l.a.createElement(g.FormattedMessage,{id:"modal.exportImage.resolutionDescription"}),l.a.createElement("div",{className:"button-list",id:"export-image-modal__option_resolution"},u.EXPORT_IMG_RESOLUTION_OPTIONS.map((function(e){return l.a.createElement(d.x,{key:e.id,selected:y===e.id,onClick:function(){return e.available&&r({resolution:e.id})}},e.label,y===e.id&&l.a.createElement(d.f,null))})))),l.a.createElement("div",{className:"image-option-section"},l.a.createElement("div",{className:"image-option-section-title"},l.a.createElement(g.FormattedMessage,{id:"modal.exportImage.mapLegendTitle"})),l.a.createElement(p.a,{type:"checkbox",id:"add-map-legend",checked:f,label:c.formatMessage({id:"modal.exportImage.mapLegendAdd"}),onChange:function(){return r({legend:!f})}}))),l.a.createElement(s.a,{exportImage:a}))}))}},739:function(e,t,n){"use strict";var a=n(8),r=n.n(a),o=n(9),i=n.n(o),l=n(12),c=n.n(l),s=n(7),u=n.n(s),d=n(10),p=n.n(d),f=n(11),g=n.n(f),m=n(1),h=n.n(m),y=n(0),v=n.n(y),b=n(4),E=n(22),C=n(15),O=n(166),S=n(19);function _(e,t,n){return t=u()(t),c()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],u()(e).constructor):t.apply(e,n))}var D=function(e,t,n,a){if(void 0!==t){var r=e[t];if(!r)return a.formatMessage({id:"modal.exportData.fileCount"},{fileCount:Object.keys(e).length});var o=r.dataContainer,i=r.filteredIdxCPU;if(n&&!i)return"-";var l=n?null==i?void 0:i.length:o.numRows();return a.formatMessage({id:"modal.exportData.rowCount"},{rowCount:null==l?void 0:l.toLocaleString()})}};t.a=function(){var e=function(e){function t(){var e;r()(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=_(this,t,[].concat(a)),h()(p()(e),"_onSelectDataset",(function(t){var n=t.target.value;e.props.applyCPUFilter(n),e.props.onChangeExportSelectedDataset(n)})),e}return g()(t,e),i()(t,[{key:"componentDidMount",value:function(){var e=this.props.selectedDataset||Object.keys(this.props.datasets);this.props.applyCPUFilter(e)}},{key:"render",value:function(){var e=this.props,t=e.supportedDataTypes,n=void 0===t?b.EXPORT_DATA_TYPE_OPTIONS:t,a=e.datasets,r=e.selectedDataset,o=e.dataType,i=e.filtered,l=e.onChangeExportDataType,c=e.onChangeExportFiltered,s=e.intl;return v.a.createElement(C.H,{className:"export-data-modal"},v.a.createElement("div",null,v.a.createElement(C.D,null,v.a.createElement("div",{className:"description"},v.a.createElement("div",{className:"title"},v.a.createElement(S.FormattedMessage,{id:"modal.exportData.datasetTitle"})),v.a.createElement("div",{className:"subtitle"},v.a.createElement(S.FormattedMessage,{id:"modal.exportData.datasetSubtitle"}))),v.a.createElement("div",{className:"selection"},v.a.createElement("select",{value:r,onChange:this._onSelectDataset},[s.formatMessage({id:"modal.exportData.allDatasets"})].concat(Object.keys(a)).map((function(e){return v.a.createElement("option",{key:e,value:e},a[e]&&a[e].label||e)}))))),v.a.createElement(C.D,null,v.a.createElement("div",{className:"description"},v.a.createElement("div",{className:"title"},v.a.createElement(S.FormattedMessage,{id:"modal.exportData.dataTypeTitle"})),v.a.createElement("div",{className:"subtitle"},v.a.createElement(S.FormattedMessage,{id:"modal.exportData.dataTypeSubtitle"}))),v.a.createElement("div",{className:"selection"},n.map((function(e){return v.a.createElement(C.O,{key:e.id,selected:o===e.id,onClick:function(){return e.available&&l(e.id)}},v.a.createElement(E.FileType,{ext:e.label,height:"80px",fontSize:"11px"}),o===e.id&&v.a.createElement(C.f,null))})))),v.a.createElement(C.D,null,v.a.createElement("div",{className:"description"},v.a.createElement("div",{className:"title"},v.a.createElement(S.FormattedMessage,{id:"modal.exportData.dataTypeTitle"})),v.a.createElement("div",{className:"subtitle"},v.a.createElement(S.FormattedMessage,{id:"modal.exportData.filterDataSubtitle"}))),v.a.createElement("div",{className:"selection"},v.a.createElement(C.F,{className:"unfiltered-option",selected:!i,onClick:function(){return c(!1)}},v.a.createElement("div",{className:"filter-option-title"},v.a.createElement(S.FormattedMessage,{id:"modal.exportData.unfilteredData"})),v.a.createElement("div",{className:"filter-option-subtitle"},D(a,r,!1,s)),!i&&v.a.createElement(C.f,null)),v.a.createElement(C.F,{className:"filtered-option",selected:i,onClick:function(){return c(!0)}},v.a.createElement("div",{className:"filter-option-title"},v.a.createElement(S.FormattedMessage,{id:"modal.exportData.filteredData"})),v.a.createElement("div",{className:"filter-option-subtitle"},D(a,r,!0,s)),i&&v.a.createElement(C.f,null))))))}}]),t}(y.Component);return Object(O.c)(e)}},740:function(e,t,n){"use strict";var a=n(1),r=n.n(a),o=n(0),i=n.n(o),l=n(22),c=n(15),s=n(4),u=n(292),d=n(741),p=n(742),f=n(19),g={width:"100%"},m=function(){return{}};function h(e,t){var n=function(n){var a=n.config,o=void 0===a?{}:a,d=n.onChangeExportMapFormat,p=void 0===d?m:d,h=n.onChangeExportMapHTMLMode,y=void 0===h?m:h,v=n.onEditUserMapboxAccessToken,b=void 0===v?m:v,E=n.options,C=void 0===E?{format:""}:E;return i.a.createElement(c.H,{className:"export-map-modal"},i.a.createElement("div",{style:g},i.a.createElement(u.b,null,i.a.createElement("div",{className:"description"},i.a.createElement("div",{className:"title"},i.a.createElement(f.FormattedMessage,{id:"modal.exportMap.formatTitle"})),i.a.createElement("div",{className:"subtitle"},i.a.createElement(f.FormattedMessage,{id:"modal.exportMap.formatSubtitle"}))),i.a.createElement("div",{className:"selection"},s.EXPORT_MAP_FORMAT_OPTIONS.map((function(e){return i.a.createElement(c.O,{key:e.id,selected:C.format===e.id,onClick:function(){return e.available&&p(e.id)}},i.a.createElement(l.FileType,{ext:e.label,height:"80px",fontSize:"11px"}),C.format===e.id&&i.a.createElement(c.f,null))})))),r()(r()({},s.EXPORT_MAP_FORMATS.HTML,i.a.createElement(e,{onChangeExportMapHTMLMode:y,onEditUserMapboxAccessToken:b,options:C[C.format]})),s.EXPORT_MAP_FORMATS.JSON,i.a.createElement(t,{config:o}))[C.format]))};return n.displayName="ExportMapModal",i.a.memo(n)}h.deps=[d.a,p.a],t.a=h},741:function(e,t,n){"use strict";var a,r,o,i=n(6),l=n.n(i),c=n(0),s=n.n(c),u=n(15),d=n(292),p=n(4),f=n(5),g=n(166),m=n(19),h=Object(f.default)(u.D)(a||(a=l()(["\n  .disclaimer {\n    font-size: ",";\n    color: ",";\n    margin-top: 12px;\n  }\n"])),(function(e){return e.theme.inputFontSize}),(function(e){return e.theme.inputColor})),y=f.default.input(r||(r=l()(["\n  width: 100%;\n  padding: ",";\n  color: ",";\n  height: ",";\n  outline: 0;\n  font-size: ",";\n\n  :active,\n  :focus,\n  &.focus,\n  &.active {\n    outline: 0;\n  }\n"])),(function(e){return e.theme.inputPadding}),(function(e){return e.error?"red":e.theme.titleColorLT}),(function(e){return e.theme.inputBoxHeight}),(function(e){return e.theme.inputFontSize})),v=Object(f.default)(u.O)(o||(o=l()(["\n  height: unset;\n  width: unset;\n  img {\n    width: 180px;\n    height: 120px;\n  }\n"])));t.a=function(){var e=function(e){var t=e.onChangeExportMapHTMLMode,n=void 0===t?function(e){}:t,a=e.onEditUserMapboxAccessToken,r=void 0===a?function(e){}:a,o=e.options,i=void 0===o?{}:o,l=e.intl;return s.a.createElement("div",null,s.a.createElement(d.b,null,s.a.createElement("div",{className:"description"}),s.a.createElement("div",{className:"selection"},s.a.createElement(m.FormattedMessage,{id:"modal.exportMap.html.selection"}))),s.a.createElement(h,{className:"export-map-modal__html-options"},s.a.createElement("div",{className:"description"},s.a.createElement("div",{className:"title"},s.a.createElement(m.FormattedMessage,{id:"modal.exportMap.html.tokenTitle"})),s.a.createElement("div",{className:"subtitle"},s.a.createElement(m.FormattedMessage,{id:"modal.exportMap.html.tokenSubtitle"}))),s.a.createElement("div",{className:"selection"},s.a.createElement(y,{onChange:function(e){return r(e.target.value)},type:"text",placeholder:l.formatMessage({id:"modal.exportMap.html.tokenPlaceholder"}),value:i?i.userMapboxToken:""}),s.a.createElement("div",{className:"disclaimer"},s.a.createElement(d.c,null,s.a.createElement(m.FormattedMessage,{id:"modal.exportMap.html.tokenMisuseWarning"})),s.a.createElement(m.FormattedMessage,{id:"modal.exportMap.html.tokenDisclaimer"}),s.a.createElement(d.a,{href:p.EXPORT_HTML_MAP_DOC},s.a.createElement(m.FormattedMessage,{id:"modal.exportMap.html.tokenUpdate"}))))),s.a.createElement(h,null,s.a.createElement("div",{className:"description"},s.a.createElement("div",{className:"title"},s.a.createElement(m.FormattedMessage,{id:"modal.exportMap.html.modeTitle"})),s.a.createElement("div",{className:"subtitle"},s.a.createElement(m.FormattedMessage,{id:"modal.exportMap.html.modeSubtitle1"}),s.a.createElement("a",{href:p.EXPORT_HTML_MAP_MODES_DOC},s.a.createElement(m.FormattedMessage,{id:"modal.exportMap.html.modeSubtitle2"})))),s.a.createElement("div",{className:"selection"},p.EXPORT_HTML_MAP_MODE_OPTIONS.map((function(e){return s.a.createElement(v,{key:e.id,selected:i.mode===e.id,onClick:function(){return e.available&&n(e.id)}},s.a.createElement("img",{src:e.url,alt:""}),s.a.createElement("p",null,s.a.createElement(m.FormattedMessage,{id:"modal.exportMap.html.modeDescription",values:{mode:l.formatMessage({id:e.label})}})),i.mode===e.id&&s.a.createElement(u.f,null))})))))};return e.displayName="ExportHtmlMap",Object(g.c)(e)}},742:function(e,t,n){"use strict";var a,r=n(24),o=n.n(r),i=n(6),l=n.n(i),c=n(0),s=n.n(c),u=n(930),d=n.n(u),p=n(4),f=n(5),g=n(15),m=n(292),h=n(19),y=n(488),v=Object(f.default)(g.D)(a||(a=l()(["\n  .note {\n    color: ",";\n    font-size: 11px;\n  }\n\n  .viewer {\n    position: relative;\n    border: 1px solid ",";\n    background-color: white;\n    border-radius: 2px;\n    display: inline-block;\n    font: inherit;\n    line-height: 1.5em;\n    padding: 0.5em 3.5em 0.5em 1em;\n    margin: 0;\n    box-sizing: border-box;\n    height: 180px;\n    width: 100%;\n    overflow-y: scroll;\n    overflow-x: auto;\n    white-space: pre-wrap;\n    word-wrap: break-word;\n    max-width: 600px;\n  }\n\n  .copy-button {\n    margin: 1em 1em 0 0;\n    position: absolute;\n    top: 0;\n    right: 0;\n  }\n"])),(function(e){return e.theme.errorColor}),(function(e){return e.theme.selectBorderColorLT})),b=function(e){var t=e.config,n=void 0===t?{}:t,a=Object(c.useState)(!1),r=o()(a,2),i=r[0],l=r[1];return s.a.createElement("div",null,s.a.createElement(m.b,null,s.a.createElement("div",{className:"description"}),s.a.createElement("div",{className:"selection"},s.a.createElement(h.FormattedMessage,{id:"modal.exportMap.json.selection"}))),s.a.createElement(v,{className:"export-map-modal__json-options"},s.a.createElement("div",{className:"description"},s.a.createElement("div",{className:"title"},s.a.createElement(h.FormattedMessage,{id:"modal.exportMap.json.configTitle"})),s.a.createElement("div",{className:"subtitle"},s.a.createElement(h.FormattedMessage,{id:"modal.exportMap.json.configDisclaimer"}),s.a.createElement(m.a,{href:p.ADD_DATA_TO_MAP_DOC},"addDataToMap"),".")),s.a.createElement("div",{className:"selection"},s.a.createElement("div",{className:"viewer"},s.a.createElement(d.a,{id:"json-pretty",json:n}),s.a.createElement(y.CopyToClipboard,{text:JSON.stringify(n),onCopy:function(){return l(!0)}},s.a.createElement(g.b,{width:"80px"},i?"Copied!":"Copy"))),s.a.createElement("div",{className:"disclaimer"},s.a.createElement(m.c,null,s.a.createElement(h.FormattedMessage,{id:"modal.exportMap.json.disclaimer"}))))))};b.displayName="ExportJsonMap";var E=s.a.memo(b);t.a=function(){return E}},743:function(e,t,n){"use strict";var a,r,o,i,l,c=n(14),s=n.n(c),u=n(8),d=n.n(u),p=n(9),f=n.n(p),g=n(12),m=n.n(g),h=n(7),y=n.n(h),v=n(10),b=n.n(v),E=n(11),C=n.n(E),O=n(1),S=n.n(O),_=n(6),D=n.n(_),x=n(0),k=n.n(x),A=n(142),w=n(25),T=n.n(w),P=n(5),L=n(274),j=n(15),M=n(44),F=n(13),I=n(166),R=n(19),N=n(405),B=n.n(N);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z(e,t,n){return t=y()(t),m()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],y()(e).constructor):t.apply(e,n))}var G="Failed to load map style, make sure it is published. For private style, paste in your access token.",H=P.default.div(a||(a=D()(["\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  margin-left: 116px;\n  flex-shrink: 0;\n\n  .preview-title {\n    font-weight: 500;\n    font-size: 10px;\n    padding: 8px 0px;\n  }\n\n  .preview-title.error {\n    color: ",";\n  }\n\n  ",";\n\n  ",";\n"])),(function(e){return e.theme.errorColor}),M.media.portable(r||(r=D()(["\n    margin-left: 32px;\n  "]))),M.media.palm(o||(o=D()(["\n    margin-left: unset;\n    .preview-title {\n      margin-top: 0px;\n    }\n  "])))),q=P.default.div(i||(i=D()(["\n  background: ",";\n  border-radius: 4px;\n  box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.18);\n  width: ","px;\n  height: ","px;\n  position: relative;\n\n  .preview-image-placeholder {\n    position: absolute;\n    top: 0;\n    left: 0;\n  }\n\n  .preview-image-spinner {\n    position: absolute;\n    left: calc(50% - 25px);\n    top: calc(50% - 25px);\n  }\n"])),(function(e){return e.theme.modalImagePlaceHolder}),264,190),W=P.default.a(l||(l=D()(["\n  font-weight: 500;\n\n  :hover {\n    cursor: pointer;\n  }\n"])));t.a=function(){var e=function(e){function t(){var e;d()(this,t);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=z(this,t,[].concat(a)),S()(b()(e),"state",{reRenderKey:0,previousToken:null}),S()(b()(e),"mapRef",void 0),S()(b()(e),"_map",void 0),S()(b()(e),"loadMapStyleJson",(function(t){e.props.loadCustomMapStyle({style:t,error:!1})})),S()(b()(e),"loadMapStyleError",(function(){e.props.loadCustomMapStyle({error:!0})})),e}return C()(t,e),f()(t,[{key:"componentDidUpdate",value:function(){var e=this,t=this.mapRef&&this.mapRef.getMap();t&&this._map!==t&&(this._map=t,t.on("style.load",(function(){var n=t.getStyle();e.loadMapStyleJson(n)})),t.on("error",(function(){e.loadMapStyleError()})))}},{key:"render",value:function(){var e=this,t=this.props,n=t.inputStyle,a=t.mapState,r=t.mapboxApiUrl,o=t.intl,i=n.accessToken||this.props.mapboxApiAccessToken,l=V(V({},a),{},{baseApiUrl:r,mapboxAccessToken:i,mapLib:B.a,preserveDrawingBuffer:!0,transformRequest:F.transformRequest});return k.a.createElement("div",{className:"add-map-style-modal"},k.a.createElement(j.H,null,k.a.createElement(j.K,null,k.a.createElement(j.J,null,k.a.createElement("div",{className:"modal-section-title"},k.a.createElement(R.FormattedMessage,{id:"modal.addStyle.pasteTitle"})),k.a.createElement("div",{className:"modal-section-subtitle"},o.formatMessage({id:"modal.addStyle.pasteSubtitle0"}),k.a.createElement(W,{target:"_blank",href:"https://www.mapbox.com/help/studio-manual-publish/#style-url"}," ",o.formatMessage({id:"modal.addStyle.pasteSubtitle2"}))," ",o.formatMessage({id:"modal.addStyle.pasteSubtitle3"}),k.a.createElement(W,{target:"_blank",href:"https://docs.mapbox.com/mapbox-gl-js/style-spec"}," ",o.formatMessage({id:"modal.addStyle.pasteSubtitle4"}))),k.a.createElement(j.l,{type:"text",value:n.url||"",onChange:function(t){var n=t.target.value;return e.props.inputMapStyle({url:n})},placeholder:"e.g. https://basemaps.cartocdn.com/gl/positron-gl-style/style.json"})),k.a.createElement(j.J,null,k.a.createElement("div",{className:"modal-section-title"},k.a.createElement(R.FormattedMessage,{id:"modal.addStyle.namingTitle"})),k.a.createElement(j.l,{type:"text",value:n.label||"",onChange:function(t){var n=t.target.value;return e.props.inputMapStyle({label:n})}}))),k.a.createElement(H,null,k.a.createElement("div",{className:T()("preview-title",{error:n.error})},n.error?G:n.style&&n.style.name||""),k.a.createElement(q,{className:"preview-image"},n.isValid?k.a.createElement(j.G,null,k.a.createElement(L.default,s()({},l,{ref:function(t){e.mapRef=t},key:this.state.reRenderKey,style:{width:264,height:190},mapStyle:null===n.url?void 0:n.url}))):k.a.createElement("div",{className:"preview-image-spinner"})))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.inputStyle&&e.inputStyle.accessToken&&e.inputStyle.accessToken!==t.previousToken?{reRenderKey:t.reRenderKey+1,previousToken:e.inputStyle.accessToken}:null}}]),t}(x.Component);return Object(I.c)(Object(A.polyfill)(e))}},744:function(e,t,n){"use strict";var a,r=n(1),o=n.n(r),i=n(6),l=n.n(i),c=n(0),s=n.n(c),u=n(5),d=n(509),p=n(510),f=n(310),g=n(511),m=n(4),h=n(15),y=n(487),v=n(19),b=n(272),E=n(194),C=u.default.div.attrs({className:"save-map-modal"})(a||(a=l()(["\n  .save-map-modal-content {\n    min-height: 400px;\n    flex-direction: column;\n  }\n\n  .description {\n    width: 300px;\n  }\n\n  .image-preview-panel {\n    width: 300px;\n\n    .image-preview {\n      padding: 0;\n    }\n  }\n\n  .map-info-panel {\n    flex-direction: column;\n  }\n\n  .save-map-modal-description {\n    .modal-section-subtitle {\n      margin-left: 6px;\n    }\n  }\n"]))),O=function(e){},S={resize:"none"},_=function(e){var t=e.mapInfo,n=e.characterLimits,a=e.onChangeInput,r=t.description,o=void 0===r?"":r,i=t.title,l=void 0===i?"":i;return s.a.createElement("div",{className:"selection map-info-panel","data-testid":m.dataTestIds.providerMapInfoPanel},s.a.createElement(h.J,{className:"save-map-modal-name"},s.a.createElement("div",{className:"modal-section-title"},"Name*"),s.a.createElement("div",null,s.a.createElement(h.l,{id:"map-title",type:"text",value:l,onChange:function(e){return a("title",e)},placeholder:"Type map title"}))),s.a.createElement(h.J,null,s.a.createElement(p.b,{className:"save-map-modal-description"},s.a.createElement("div",{className:"modal-section-title"},"Description"),s.a.createElement("div",{className:"modal-section-subtitle"},"(optional)")),s.a.createElement("div",null,s.a.createElement(h.Q,{rows:3,id:"map-description",style:S,value:o,onChange:function(e){return a("description",e)},placeholder:"Type map description"})),s.a.createElement(h.I,{error:Boolean(null==n?void 0:n.description)&&o.length>Number(null==n?void 0:n.description)},o.length,"/",(null==n?void 0:n.description)||m.MAP_INFO_CHARACTER.description," ","characters")))},D=function(e){var t=e.cloudProviders;return s.a.createElement(h.D,null,s.a.createElement("div",{className:"description"},s.a.createElement("div",{className:"title"},s.a.createElement(v.FormattedMessage,{id:"modal.saveMap.title"})),s.a.createElement("div",{className:"subtitle"},s.a.createElement(v.FormattedMessage,{id:"modal.saveMap.subtitle"}))),s.a.createElement(g.a,{cloudProviders:t}))},x={margin:"2px 0"},k={textDecoration:"underline"};t.a=function(){return function(e){var t=e.mapInfo,n=e.exportImage,a=e.characterLimits,r=void 0===a?m.MAP_INFO_CHARACTER:a,i=e.isProviderLoading,l=e.providerError,u=e.onUpdateImageSetting,p=void 0===u?O:u,g=e.cleanupExportImage,v=e.onSetMapInfo,S=e.onCancel,A=e.onConfirm,w=Object(E.b)(),T=w.provider,P=w.cloudProviders,L=Object(c.useMemo)((function(){return{large:!0,disabled:Boolean(!(T&&t.title)),children:"modal.button.save"}}),[T,t]),j=Object(c.useCallback)((function(){T&&A(T)}),[T]);return s.a.createElement(d.a,{provider:T,onUpdateImageSetting:p,cleanupExportImage:g},s.a.createElement(C,null,s.a.createElement(h.H,{className:"save-map-modal-content"},s.a.createElement(D,{cloudProviders:P}),T&&s.a.createElement(s.a.Fragment,null,T.getManagementUrl?s.a.createElement(h.D,{style:x},s.a.createElement("div",{className:"selection"},s.a.createElement("a",{key:1,href:T.getManagementUrl(),target:"_blank",rel:"noopener noreferrer",style:k},"Go to your Kepler.gl ",T.displayName," page"))):null,s.a.createElement(h.D,null,s.a.createElement("div",{className:"description image-preview-panel"},s.a.createElement(y.a,{exportImage:n,width:m.MAP_THUMBNAIL_DIMENSION.width,showDimension:!1})),i?s.a.createElement("div",{"data-testid":m.dataTestIds.providerLoading,className:"selection map-saving-animation"},s.a.createElement(f.a,{icon:T&&T.icon})):s.a.createElement(_,{mapInfo:t,characterLimits:r,onChangeInput:function(e,t){var n=t.target.value;v(o()({},e,n))}}))),l?s.a.createElement(f.b,{isLoading:!1,error:l.message,providerIcon:T&&T.icon}):null)),s.a.createElement(b.a,{cancel:S,confirm:j,confirmButton:L}))}}},745:function(e,t,n){"use strict";n.d(t,"a",(function(){return G}));var a,r,o=n(14),i=n.n(o),l=n(8),c=n.n(l),s=n(9),u=n.n(s),d=n(12),p=n.n(d),f=n(7),g=n.n(f),m=n(10),h=n.n(m),y=n(11),v=n.n(y),b=n(1),E=n.n(b),C=n(6),O=n.n(C),S=n(0),_=n.n(S),D=n(47),x=n(5),k=n(274),A=n(187),w=n.n(A),T=n(13),P=n(66),L=n(399),j=n(481),M=n(307),F=n(4);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){E()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e,t,n){return t=g()(t),p()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],g()(e).constructor):t.apply(e,n))}var B=["maplibregl-control-container","attrition-link","attrition-logo","map-control__panel-split-viewport-tools"],U=function(e){return!B.includes(e.className)};G.deps=[L.b,j.a];var V=x.default.div(a||(a=O()(["\n  .maplibregl-ctrl-bottom-left,\n  .maplibregl-ctrl-bottom-right,\n  .maplibre-attribution-container,\n  .map-control__panel-split-viewport-tools {\n    display: none;\n  }\n\n  position: absolute;\n  top: ","px;\n  left: ","px;\n"])),-9999,-9999),z=x.default.div(r||(r=O()(["\n  width: ","px;\n  height: ","px;\n  display: flex;\n"])),(function(e){return e.width}),(function(e){return e.height}));function G(e,t){return function(n){function a(e){var t;return c()(this,a),t=N(this,a,[e]),E()(h()(t),"plottingAreaRef",Object(S.createRef)()),E()(h()(t),"mapStyleSelector",(function(e){return e.mapFields.mapStyle})),E()(h()(t),"mapScaleSelector",(function(e){var t=e.exportImageSetting.imageSize,n=e.mapFields.mapState;if(t.scale)return t.scale;var a=Object(T.getScaleFromImageSize)(t.imageW,t.imageH,n.width*(n.isSplit?2:1),n.height);return a>0?a:1})),E()(h()(t),"scaledMapStyleSelector",Object(D.createSelector)(t.mapStyleSelector,t.mapScaleSelector,(function(e,t){return R(R({},e),{},{bottomMapStyle:Object(T.scaleMapStyleByResolution)(e.bottomMapStyle,t),topMapStyle:Object(T.scaleMapStyleByResolution)(e.topMapStyle,t)})}))),E()(h()(t),"_onMapRender",(function(e){e.isStyleLoaded()&&t._retrieveNewScreenshot()})),E()(h()(t),"_retrieveNewScreenshot",(function(){if(t.plottingAreaRef.current){var e=t.props.exportImageSetting,n=e.imageSize,a=e.escapeXhtmlForWebpack;Object(T.convertToPng)(t.plottingAreaRef.current,{filter:U,width:n.imageW,height:n.imageH,escapeXhtmlForWebpack:a}).then(t.props.setExportImageDataUri).catch((function(e){t.props.setExportImageError(e),t.props.enableErrorNotification&&t.props.addNotification(Object(T.exportImageError)({err:e}))}))}})),t._onMapRender=w()(t._onMapRender,500),t._retrieveNewScreenshot=w()(t._retrieveNewScreenshot,500),t}return v()(a,n),u()(a,[{key:"componentDidMount",value:function(){this.props.setExportImageSetting({processing:!0})}},{key:"componentDidUpdate",value:function(e){var t=this;["ratio","resolution","legend"].some((function(n){return t.props.exportImageSetting[n]!==e.exportImageSetting[n]}))&&(this.props.setExportImageSetting({processing:!0}),this._retrieveNewScreenshot())}},{key:"render",value:function(){var n=this.props,a=n.exportImageSetting,r=n.mapFields,o=n.splitMaps,l=void 0===o?[]:o,c=r.mapState,s=r.visState,u=s.layers,d=s.layerData,p=a.imageSize,f=a.legend,g=l&&l.length>1,m={width:(null==p?void 0:p.imageW)||1,height:(null==p?void 0:p.imageH)||1},h=m.width/(g?2:1),y=m.height,v=this.mapScaleSelector(this.props),b=R(R({},c),{},{width:h,height:y,zoom:c.zoom+(Math.log2(v)||0)});if(a.center){var E=u.filter((function(e,t){return e.id!==F.GEOCODER_LAYER_ID&&e.shouldRenderLayer(d[t])})),C=Object(P.findMapBounds)(E),O=Object(T.getCenterAndZoomFromBounds)(C,{width:h,height:y});if(O){var S=Number.isFinite(O.zoom)?O.zoom:c.zoom;b.longitude=O.center[0],b.latitude=O.center[1],b.zoom=S+Number(Math.log2(v)||0)}}var D=R(R({},r),{},{mapStyle:this.scaledMapStyleSelector(this.props),mapState:b,mapControls:{mapLegend:{show:f,active:!0}},MapComponent:k.Map,onMapRender:this._onMapRender,isExport:!0,deckGlProps:R(R({},r.deckGlProps),{},{glOptions:{preserveDrawingBuffer:!0,useDevicePixels:!1}})}),x=g?_.a.createElement(t,{className:"plot-container-maps",mapState:b},l.map((function(t,n){return _.a.createElement(e,i()({key:n,index:n,primary:1===n},D))}))):_.a.createElement(e,i()({index:0,primary:!0},D));return _.a.createElement(V,{className:"export-map-instance"},_.a.createElement(z,{ref:this.plottingAreaRef,width:m.width,height:m.height},_.a.createElement(M.b,{mapState:b},x)))}}]),a}(S.Component)}},746:function(e,t,n){"use strict";n.d(t,"a",(function(){return D}));var a,r=n(8),o=n.n(r),i=n(9),l=n.n(i),c=n(12),s=n.n(c),u=n(7),d=n.n(u),p=n(11),f=n.n(p),g=n(1),m=n.n(g),h=n(6),y=n.n(h),v=n(0),b=n.n(v),E=n(5),C=n(483),O=n(4);function S(e,t,n){return t=d()(t),s()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],d()(e).constructor):t.apply(e,n))}var _=E.default.div(a||(a=y()(["\n  background: transparent;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  padding: 4px;\n  overflow-y: auto;\n  overflow-x: hidden;\n  position: absolute;\n  top: 1em;\n  right: 1em;\n  z-index: 10000;\n  box-sizing: border-box;\n"])));function D(e){var t=function(t){function n(){return o()(this,n),S(this,n,arguments)}return f()(n,t),l()(n,[{key:"render",value:function(){var t=this,n=this.props.notifications.filter((function(e){return e.topic===O.DEFAULT_NOTIFICATION_TOPICS.global}));return b.a.createElement(_,{className:"notification-panel",style:{display:n.length?"block":"none"}},n.map((function(n){return b.a.createElement(e,{key:n.id,notification:n,removeNotification:t.props.removeNotification})})))}}]),n}(v.Component);return m()(t,"displayName","NotificationPanel"),b.a.memo(t)}D.deps=[C.a]},750:function(e,t,n){"use strict";var a,r,o,i,l,c,s=n(24),u=n.n(s),d=n(0),p=n.n(d),f=n(6),g=n.n(f),m=n(15),h=n(22),y=n(19),v=n(5),b=n(4),E=v.default.div(a||(a=g()(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 16px;\n  font-size: 12px;\n  line-height: 14px;\n"]))),C=v.default.a(r||(r=g()(["\n  margin-bottom: 16px;\n  color: #3a414c;\n  cursor: pointer;\n\n  &:hover {\n    font-weight: 500;\n  }\n"]))),O={textDecoration:"underline"},S=v.default.span(o||(o=g()(["\n  font-size: 14px;\n  line-height: 16px;\n  font-weight: 500;\n  margin-bottom: 16px;\n\n  span {\n    text-transform: capitalize;\n  }\n"]))),_=function(e){var t=e.provider,n=e.onBack,a=Object(d.useMemo)((function(){return t.getManagementUrl()}),[t]);return p.a.createElement("div",{"data-testid":b.dataTestIds.cloudHeader},p.a.createElement(E,null,p.a.createElement(C,null,p.a.createElement(m.b,{link:!0,onClick:n},p.a.createElement(h.ArrowLeft,{height:"14px"}),p.a.createElement(y.FormattedMessage,{id:"modal.loadStorageMap.back"}))),a&&p.a.createElement("a",{key:1,href:a,target:"_blank",rel:"noopener noreferrer",style:O},t.displayName)),p.a.createElement(S,null,p.a.createElement("span",null,t.displayName),p.a.createElement(y.FormattedMessage,{id:"modal.loadStorageMap.storageMaps"})))},D=n(485),x=n(28),k=n.n(x),A=function(e){return p.a.createElement("div",e,e.children,p.a.createElement(h.Base,{height:"32px",viewBox:"0 0 16 16"},p.a.createElement("path",{fill:"#d3d8d6",d:"m13.6 11.572-3.2 2.1336v-9.2776l3.2-2.1336zm-12-7.144 3.2-2.1336v9.2776l-3.2 2.1336zm13.244 8.2376c0.2224-0.148 0.356-0.3984 0.356-0.6656v-11.2c0-0.2952-0.1624-0.5664-0.4224-0.7048-0.26-0.14-0.576-0.1248-0.8216 0.0392l-4.3128 2.876-3.5432-2.8352c-0.1208-0.0936-0.2952-0.1624-0.472-0.1688-0.1648-0.0064-0.348 0.0464-0.472 0.128l-4.8 3.2c-0.2224 0.1488-0.356 0.3984-0.356 0.6656v11.2c0 0.2952 0.1624 0.5664 0.4224 0.7056 0.1184 0.0632 0.248 0.0944 0.3776 0.0944 0.1552 0 0.3096-0.0448 0.444-0.1344l4.3128-2.876 3.5432 2.8352c0.1448 0.116 0.3216 0.1752 0.5 0.1752 0.1184 0 0.236-0.0248 0.3464-0.0784z"})))},w=function(e){var t=e.privateMap;return p.a.createElement("span",{className:"vis_item-privacy"},t?"Private":"Public")},T=v.default.div(i||(i=g()(["\n  flex: 0 0 auto;\n  width: 208px;\n  display: flex;\n  flex-direction: column;\n  padding: 16px 8px;\n  color: #3a414c;\n  cursor: pointer;\n  font-size: 12px;\n  line-height: 18px;\n  border: 1px solid transparent;\n\n  &:hover {\n    .vis_item-icon,\n    .vis_item-thumb,\n    .vis_item-description,\n    .vis_item-modification-date {\n      opacity: 1;\n    }\n    border: 1px solid #bbbbbb;\n  }\n\n  .vis_item-icon,\n  .vis_item-thumb,\n  .vis_item-description,\n  .vis_item-modification-date {\n    opacity: 0.9;\n    transition: opacity 0.4s ease;\n  }\n\n  .vis_item-icon {\n    position: relative;\n    flex: 0 0 108px;\n    background-color: #6a7484;\n    border-radius: 4px;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n  }\n\n  .vis_item-thumb {\n    position: relative;\n    flex: 0 0 108px;\n    background-size: cover;\n    background-position: center;\n    border-radius: 4px;\n  }\n\n  .vis_item-privacy {\n    position: absolute;\n    top: 0;\n    left: 0;\n    padding: 3px 6px;\n    border-radius: 4px 0;\n    background-color: rgba(58, 65, 76, 0.7);\n    color: #fff;\n    font-size: 11px;\n    line-height: 18px;\n  }\n\n  .vis_item-title {\n    margin-top: 16px;\n    font-weight: 500;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n\n  .vis_item-description {\n    flex: 1 1 auto;\n    margin-top: 8px;\n  }\n\n  .vis_item-modification-date {\n    margin-top: 16px;\n    flex: 1 0 auto;\n    color: #6a7484;\n    line-height: 15px;\n  }\n"]))),P=function(e){var t,n=e.vis,a=e.onClick,r={backgroundImage:"url(".concat(n.thumbnail,")")};return p.a.createElement(T,{onClick:a},n.thumbnail?p.a.createElement("div",{role:"thumbnail-wrapper",className:"vis_item-thumb",style:r},n.hasOwnProperty("privateMap")?p.a.createElement(w,{privateMap:n.privateMap}):null):p.a.createElement(A,{role:"map-icon",className:"vis_item-icon"},n.hasOwnProperty("privateMap")?p.a.createElement(w,{privateMap:n.privateMap}):null),p.a.createElement("span",{className:"vis_item-title"},n.title),(null===(t=n.description)||void 0===t?void 0:t.length)&&p.a.createElement("span",{className:"vis_item-description"},n.description),p.a.createElement("span",{className:"vis_item-modification-date"},"Last modified ",k.a.utc(n.updatedAt).fromNow()))},L=n(510),j=v.default.div(l||(l=g()(["\n  text-align: center;\n  span {\n    margin: 0 auto;\n  }\n"]))),M=Object(v.default)(L.b)(c||(c=g()(["\n  justify-content: flex-start;\n  flex-wrap: wrap;\n"]))),F=function(e){var t=e.provider,n=e.onSelectMap,a=e.isLoading,r=e.maps,o=e.error;return o?p.a.createElement("div",null,"Error while fetching maps: ",o.message):a?p.a.createElement(j,null,p.a.createElement(D.a,{size:64})):p.a.createElement(M,null,(null!=r?r:[]).length?r.map((function(e){return p.a.createElement(P,{key:e.id,onClick:function(){return n(t,e)},vis:e})})):p.a.createElement("div",{className:"visualization-list__message"},p.a.createElement(y.FormattedMessage,{id:"modal.loadStorageMap.noSavedMaps"})))},I=n(194),R=n(511);t.a=function(){return function(e){var t=e.onLoadCloudMap,n=Object(I.b)(),a=n.provider,r=n.setProvider,o=n.cloudProviders,i=Object(d.useState)(!1),l=u()(i,2),c=l[0],s=l[1],f=Object(d.useState)(null),g=u()(f,2),m=g[0],h=g[1],y=Object(d.useState)(null),v=u()(y,2),b=v[0],E=v[1],C=Object(d.useCallback)((function(e){h(null),E(null),e?(s(!0),e.listMaps().then(h).catch(E).finally((function(){return s(!1)}))):s(!1)}),[]);Object(d.useEffect)((function(){C(a)}),[a]);var O=Object(d.useCallback)((function(e,n){t({loadParams:n.loadParams,provider:e})}),[]);return p.a.createElement(L.a,null,a?p.a.createElement(p.a.Fragment,null,p.a.createElement(_,{provider:a,onBack:function(){return r(null)}}),p.a.createElement(F,{isLoading:c,onSelectMap:O,provider:a,error:b,maps:m})):p.a.createElement(R.a,{cloudProviders:o}))}}},756:function(e,t,n){"use strict";var a,r=n(0),o=n.n(r),i=n(135),l=n(1),c=n.n(l),s=n(24),u=n.n(s),d=n(6),p=n.n(d),f=n(5),g=n(143),m=n(235),h=n(711),y=n(757),v=n(15),b=n(22),E=n(19);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S=f.default.div(a||(a=p()(["\n  padding-bottom: 6px;\n"])));D.deps=[y.a,h.a,m.a];var _={tooltip:b.Messages,geocoder:b.Pin,brush:b.Crosshairs,coordinate:b.CursorClick};function D(e,t,n){return function(n){var a=n.config,i=n.onConfigChange,l=n.datasets,s=n.setColumnDisplayFormat,d=n.interactionConfigIcons,p=void 0===d?_:d,f=Object(r.useState)(!1),m=u()(f,2),h=m[0],y=m[1],b=Object(r.useCallback)((function(e){i(O(O({},a),e))}),[i,a]),C=Object(r.useCallback)((function(e,t,n){s(e,c()({},t,n))}),[s]),D=Object(r.useCallback)((function(){y(!h)}),[y,h]),x=a.enabled,k=Object(r.useCallback)((function(){b({enabled:!x})}),[b,x]),A=Object(r.useCallback)((function(e){return b({config:e})}),[b]),w=p[a.id],T=null;switch(a.id){case"tooltip":T=o.a.createElement(e,{datasets:l,config:a.config,onChange:A,onDisplayFormatChange:C});break;case"brush":T=o.a.createElement(t,{config:a.config,onChange:A})}return o.a.createElement(S,{className:"interaction-panel"},o.a.createElement(v.M,{className:"interaction-panel__header",onClick:D},o.a.createElement(v.o,{className:"interaction-panel__header__content"},o.a.createElement("div",{className:"interaction-panel__header__icon icon"},w?o.a.createElement(w,{height:"16px"}):null),o.a.createElement("div",{className:"interaction-panel__header__title"},o.a.createElement(v.p,null,o.a.createElement(E.FormattedMessage,{id:a.label})))),o.a.createElement("div",{className:"interaction-panel__header__actions"},o.a.createElement(g.a,{checked:a.enabled,id:"".concat(a.id,"-toggle"),onChange:k,secondary:!0}))),a.enabled&&T&&o.a.createElement(v.n,{className:"interaction-panel__content"},T))}}var x=D;function k(e,t){return function(n){var a=n.interactionConfig,r=n.datasets,l=n.visStateActions,c=n.panelMetadata,s=l.interactionConfigChange,u=l.setColumnDisplayFormat,d=Object(i.a)();return o.a.createElement("div",{className:"interaction-manager"},o.a.createElement(t,{className:"interaction-manager-title",title:d.formatMessage({id:c.label})}),Object.keys(a).map((function(t){return o.a.createElement(e,{datasets:r,config:a[t],key:t,onConfigChange:s,setColumnDisplayFormat:u})})))}}k.deps=[x,m.a];t.a=k},757:function(e,t,n){"use strict";var a,r,o,i,l,c,s,u=n(1),d=n.n(u),p=n(6),f=n.n(p),g=n(0),m=n.n(g),h=n(5),y=n(166),v=n(19),b=n(15),E=n(348),C=n(14),O=n.n(C),S=n(8),_=n.n(S),D=n(9),x=n.n(D),k=n(12),A=n.n(k),w=n(7),T=n.n(w),P=n(10),L=n.n(P),j=n(11),M=n.n(j),F=n(18),I=n.n(F),R=n(25),N=n.n(R),B=n(35),U=n(396),V=n(22),z=n(119),G=n(13),H=n(193),q=n(475);function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e,t,n){return t=T()(t),A()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],T()(e).constructor):t.apply(e,n))}var Z=h.default.div(a||(a=f()(["\n  position: relative;\n"]))),X=h.default.div(r||(r=f()(["\n  margin-right: 4px;\n"]))),J=h.default.div(o||(o=f()(["\n  margin-left: -64px;\n  position: absolute;\n  top: 20px;\n  width: 140px;\n  z-index: 101;\n"]))),Q="SHOW",$="ACTIVE",ee=h.default.div.attrs({className:"tooltip-chicklet__icon"})(i||(i=f()(["\n  color: ",";\n"])),(function(e){return e.status===Q?e.theme.subtextColorActive:e.status===$?e.theme.activeColor:e.theme.textColor})),te=h.default.div(l||(l=f()(["\n  transition: ",";\n  transform: ",";\n  &.sorting {\n    opacity: 0.3;\n    pointer-events: none;\n  }\n  :hover {\n    .tooltip-chicklet__drag-handler {\n      opacity: 1;\n    }\n  }\n"])),(function(e){return e.transition}),(function(e){return e.transform})),ne=h.default.div.attrs({className:"tooltip-chicklet__drag-handler"})(c||(c=f()(["\n  display: flex;\n  align-items: center;\n  z-index: 1000;\n  opacity: 0;\n  margin-left: -5px;\n  :hover {\n    cursor: move;\n    color: ",";\n  }\n"])),(function(e){return e.theme.tooltipVerticalLineColor})),ae=h.default.span(s||(s=f()(["\n  margin-right: 5px;\n  text-overflow: ellipsis;\n  width: 100%;\n  overflow: hidden;\n  max-width: 160px;\n"])));var re,oe,ie,le=function(e,t,n,a,r){var o=function(o){function i(){var e;_()(this,i);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=K(this,i,[].concat(n)),d()(L()(e),"state",{show:!1}),d()(L()(e),"node",void 0),d()(L()(e),"handleClickOutside",(function(t){var n;null===(n=e.node)||void 0===n||n.contains(t.target)})),e}return M()(i,o),x()(i,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside,!1)}},{key:"render",value:function(){var o=this,i=this.props,l=i.disabled,c=i.item,s=i.displayOption,u=i.remove,p=i.attributes,f=i.listeners,g=i.setNodeRef,h=i.transform,y=i.transition,b=i.isDragging,E=this.state.show,C=t.fieldsToShow[e].find((function(e){return e.name===c.name}));if(!C)return null;var S=a.find((function(e){return e.name===C.name}));if(!S)return null;var _=Object(G.getFormatLabels)(a,C.name),D=Boolean(S.displayFormat),x=_.findIndex((function(e){return Object(G.getFormatValue)(e)===S.displayFormat})),k=E?Q:D?$:null;return m.a.createElement(te,O()({ref:g,className:N()("sortable-layer-items",{sorting:b}),transform:B.CSS.Translate.toString(h),transition:y||""},p),m.a.createElement(U.a,{ref:function(e){return o.node=e}},m.a.createElement(ne,f,m.a.createElement(V.VertDots,{height:"12px"})),m.a.createElement(ae,{title:s(c)},s(c)),_.length>1&&m.a.createElement(Z,null,m.a.createElement(q.a,{placement:"top",render:function(){return m.a.createElement("span",null,D?function(e,t){if(!t)return null;var n=e.find((function(e){return Object(G.getFormatValue)(e)===t}));return n?n.label:"object"===I()(t)?JSON.stringify(t,null,2):String(t)}(_,S.displayName):m.a.createElement(v.FormattedMessage,{id:"fieldSelector.formatting"}))}},m.a.createElement(X,null,m.a.createElement(ee,{status:k},m.a.createElement(V.Hash,{height:"8px",onClick:function(e){e.stopPropagation(),o.setState({show:Boolean(!E)})}})))),E&&m.a.createElement(J,null,m.a.createElement(z.c,{options:_,selectionIndex:x,displayOption:function(e){return e.label},onOptionSelected:function(a,i){i.stopPropagation(),o.setState({show:!1});var l=Object(G.getFormatValue)(a),c=t.fieldsToShow[e].map((function(e){return e.name===C.name?{name:C.name,format:l}:e})),s=Y(Y({},t),{},{fieldsToShow:Y(Y({},t.fieldsToShow),{},d()({},e,c))});n(s),r(e,S.name,l)}}))),m.a.createElement(V.Delete,{onClick:l?null:u})))}}]),i}(g.Component);return Object(H.default)(o)},ce=n(143),se=n(87),ue=n(4),de=n(144);function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ge=h.default.div(re||(re=f()(["\n  .item-selector > div > div {\n    overflow: visible;\n  }\n"]))),me=h.default.div(oe||(oe=f()(["\n  display: inherit;\n  padding: 0;\n\n  .button.clear-all {\n    background: transparent;\n    color: ",";\n    margin: 0 0 0 8px;\n    padding: 0;\n\n    &:hover {\n      color: ",";\n    }\n  }\n"])),(function(e){return e.theme.subtextColor}),(function(e){return e.theme.textColor})),he=h.default.div(ie||(ie=f()(["\n  color: ",";\n  display: flex;\n  font-size: ",";\n  justify-content: space-between;\n  line-height: 11px;\n  margin-bottom: 8px;\n"])),(function(e){return e.theme.labelColor}),(function(e){return e.theme.inputFontSize}));function ye(e,t){var n=function(n){var a=n.config,r=n.onChange,o=n.dataset,i=n.onDisplayFormatChange,l=o.id,c=Object(g.useCallback)((function(){return r(fe(fe({},a),{},{fieldsToShow:fe(fe({},a.fieldsToShow),{},d()({},l,[]))}))}),[a,l,r]),s=Object(g.useCallback)((function(e,t){return e.map((function(e){return t.find((function(t){return t.name===e.name}))||{name:e.name,format:null}}))}),[]),u=Object(g.useCallback)((function(e){var t=fe(fe({},a),{},{fieldsToShow:fe(fe({},a.fieldsToShow),{},d()({},l,s(e,a.fieldsToShow[l])))});r(t)}),[a,l,r]),p=Object(g.useCallback)((function(e){return r(fe(fe({},a),{},{fieldsToShow:fe(fe({},a.fieldsToShow),{},d()({},l,e))}))}),[a,l,r]);return m.a.createElement(b.z,{key:l},m.a.createElement(b.u,null,m.a.createElement(e,{dataset:o}),Boolean(a.fieldsToShow[l].length)&&m.a.createElement(me,null,m.a.createElement(b.b,{className:"clear-all",onClick:c,width:"54px",secondary:!0},m.a.createElement(v.FormattedMessage,{id:"fieldSelector.clearAll"})))),m.a.createElement(t,{fields:o.fields,value:a.fieldsToShow[l],onSelect:u,reorderItems:p,closeOnSelect:!1,multiSelect:!0,inputTheme:"secondary",CustomChickletComponent:le(l,a,r,o.fields,i)}))};return Object(y.c)((function(e){var t=e.config,a=e.datasets,r=e.onChange,o=e.onDisplayFormatChange,i=e.intl,l=Object(g.useCallback)((function(e){return r(fe(fe({},t),{},{compareType:e}))}),[t,r]);return m.a.createElement(ge,null,Object.keys(t.fieldsToShow).map((function(e){return e===ue.GEOCODER_DATASET_NAME?null:m.a.createElement(n,{key:e,config:t,onChange:r,dataset:a[e],onDisplayFormatChange:o})})),m.a.createElement(he,null,m.a.createElement(v.FormattedMessage,{id:"compare.modeLabel"}),m.a.createElement(ce.a,{checked:t.compareMode,id:"compare-mode-toggle",onChange:function(){var e=fe(fe({},t),{},{compareMode:!t.compareMode});r(e)},secondary:!0})),m.a.createElement(b.z,null,m.a.createElement(b.q,null,m.a.createElement(v.FormattedMessage,{id:"compare.typeLabel"})),m.a.createElement(se.a,{disabled:!t.compareMode,displayOption:function(e){return i.formatMessage({id:"compare.types.".concat(e)})},selectedItems:t.compareType,options:Object.values(ue.COMPARE_TYPES),multiSelect:!1,searchable:!1,inputTheme:"secondary",getOptionValue:function(e){return e},onChange:l})))}))}ye.deps=[E.a,de.b];t.a=ye},758:function(e,t,n){"use strict";var a,r,o=n(6),i=n.n(o),l=n(0),c=n.n(l),s=n(5),u=n(158),d=n(1),p=n.n(d),f=n(19),g=n(13),m=n(714),h=n(15);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=s.default.div(a||(a=i()(["\n  margin-bottom: 10px;\n  display: flex;\n  justify-content: space-between;\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n\n  .layer-group__visibility-toggle {\n    margin-right: 12px;\n  }\n"]))),E=Object(s.default)(h.r)(r||(r=i()(["\n  color: ",";\n"])),(function(e){return e.active?e.theme.textColor:e.theme.labelColor}));function C(e){return function(t){var n=t.PanelHeaderAction,a=t.onChange,r=t.slug,o=t.layers,i=t.topLayers,s=t.actionIcons,u=t.color,d=t.onColorChange,m=t.isVisibilityToggleAvailable,y=void 0===m||m,C=t.isMoveToTopAvailable,O=void 0===C||C,S=t.isColorPickerAvailable,_=void 0!==S&&S,D=Object(l.useCallback)((function(){a({visibleLayerGroups:v(v({},o),{},p()({},r,!o[r]))})}),[a,o,r]),x=Object(l.useCallback)((function(){a({topLayerGroups:v(v({},i),{},p()({},r,!i[r]))})}),[a,i,r]);return c.a.createElement(b,{className:"layer-group__select"},y?c.a.createElement(h.s,null,c.a.createElement(n,{className:"layer-group__visibility-toggle",id:"".concat(r,"-toggle"),tooltip:o[r]?"tooltip.hide":"tooltip.show",onClick:D,IconComponent:o[r]?s.visible:s.hidden,active:o[r],flush:!0}),c.a.createElement(E,{active:o[r]},c.a.createElement(f.FormattedMessage,{id:"mapLayers.".concat(Object(g.camelize)(r))}))):c.a.createElement(h.d,null,c.a.createElement(E,{style:{marginLeft:"28px"},active:!0},c.a.createElement(f.FormattedMessage,{id:"mapLayers.".concat(Object(g.camelize)(r))}))),c.a.createElement(h.d,{className:"layer-group__trailing-actions"},_&&u?c.a.createElement(e,{slug:r,color:u,onColorChange:d,extraMarginRight:O,disabled:y&&!o[r]}):null,O?c.a.createElement(n,{id:"".concat(r,"-top"),tooltip:"tooltip.moveToTop",disabled:!o[r],IconComponent:s.top,active:i[r],onClick:x}):null))}}C.deps=[m.a];var O,S=C,_=n(22),D=n(223),x=n(4);function k(){}var A=s.default.div(O||(O=i()(["\n  padding-bottom: 12px;\n"])));function w(e,t){var n={visible:_.EyeSeen,hidden:_.EyeUnseen,top:D.Upload};return function(a){var r=a.layers,o=a.editableLayers,i=a.onChange,l=a.topLayers,s=a.threeDBuildingColor,u=a.on3dBuildingColorChange,d=a.backgroundColor,p=a.onBackgroundColorChange,g=a.actionIcons,m=void 0===g?n:g;return c.a.createElement(A,{className:"map-style__layer-group__selector"},c.a.createElement("div",{className:"layer-group__header"},c.a.createElement(h.q,null,c.a.createElement(f.FormattedMessage,{id:"mapLayers.title"}))),c.a.createElement(h.n,{className:"map-style__layer-group"},o.map((function(n){var a=n.slug,o=n.isVisibilityToggleAvailable,f=n.isMoveToTopAvailable,g=n.isColorPickerAvailable;return c.a.createElement(t,{key:a,PanelHeaderAction:e,onChange:i,slug:a,layers:r,topLayers:l,actionIcons:m,isVisibilityToggleAvailable:o,isMoveToTopAvailable:f,isColorPickerAvailable:g,color:g&&a===x.THREE_D_BUILDING_LAYER_GROUP_SLUG?s:a===x.BACKGROUND_LAYER_GROUP_SLUG?d:null,onColorChange:g&&a===x.THREE_D_BUILDING_LAYER_GROUP_SLUG?u:a===x.BACKGROUND_LAYER_GROUP_SLUG?p:k})}))))}}w.deps=[u.a,S];t.a=w},759:function(e,t,n){"use strict";n.d(t,"a",(function(){return Se}));var a,r,o,i,l=n(14),c=n.n(l),s=n(8),u=n.n(s),d=n(9),p=n.n(d),f=n(12),g=n.n(f),m=n(7),h=n.n(m),y=n(10),v=n.n(y),b=n(11),E=n.n(b),C=n(1),O=n.n(C),S=n(6),_=n.n(S),D=n(0),x=n.n(D),k=n(5),A=n(81),w=n.n(A),T=n(100),P=n.n(T),L=n(729),j=n(13),M=n(66),F=n(730),I=n(15),R=n(310),N=n(19),B=n(509),U=n(194),V=n(272);function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var H,q,W,Y,K,Z,X,J,Q=k.default.div(a||(a=_()(["\n  margin-top: 24px;\n  font-size: 14px;\n"]))),$=k.default.span(r||(r=_()(["\n  font-weight: 600;\n  color: black;\n"]))),ee=k.default.div(o||(o=_()(["\n  margin-top: 24px;\n"]))),te=Object(k.default)(I.e)(i||(i=_()(["\n  padding: 24px 12px;\n  min-height: 220px;\n"]))),ne={large:!0,children:"Yes",disabled:!1},ae=function(){return function(e){var t=e.mapSaved,n=e.title,a=e.isProviderLoading,r=e.onUpdateImageSetting,o=e.cleanupExportImage,i=e.onCancel,l=e.onConfirm,c=Object(U.b)().provider,s=Object(D.useMemo)((function(){return G(G({},ne),{},{disabled:!c})}),[c]);return x.a.createElement(B.a,{provider:c,onUpdateImageSetting:r,cleanupExportImage:o},x.a.createElement(te,{className:"overwrite-map-modal"},a?x.a.createElement(Q,null,x.a.createElement($,null,x.a.createElement(N.FormattedMessage,{id:"modal.overwriteMap.title"})),x.a.createElement(R.a,{icon:c&&c.icon})):x.a.createElement(x.a.Fragment,null,x.a.createElement(ee,null,c&&c.icon?x.a.createElement(c.icon,{height:"64px"}):null),x.a.createElement(Q,{className:"overwrite-map-msg"},x.a.createElement($,null,n," "),x.a.createElement(N.FormattedMessage,{id:"modal.overwriteMap.alreadyExists",values:{mapSaved:t}})))),x.a.createElement(V.a,{cancel:i,confirm:function(){return c&&l(c)},confirmButton:s}))}},re=(ae(),ae),oe=n(452),ie=n(733),le=n(738),ce=n(739),se=n(740),ue=n(743),de=n(744),pe=n(566),fe=n(44),ge=n(4),me=n(60);function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ve(e,t,n){return t=h()(t),g()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],h()(e).constructor):t.apply(e,n))}var be=Object(k.css)(H||(H=_()(["\n  top: 70px;\n  padding: 0;\n  width: 90vw;\n  max-width: 90vw;\n\n  "," ",";\n"])),fe.media.portable(q||(q=_()(["\n    padding: 0;\n  "]))),fe.media.palm(W||(W=_()(["\n    padding: 0;\n    margin: 0 auto;\n  "])))),Ee=Object(k.css)(Y||(Y=_()(["\n  width: 40%;\n  padding: 40px 40px 32px 40px;\n"]))),Ce=Object(k.css)(K||(K=_()(["\n  top: 60px;\n"]))),Oe=Object(k.css)(Z||(Z=_()(["\n  max-width: 960px;\n"])));function Se(e,t,n,a,r,o,i,l,s,d,f){return function(g){function m(){var e;u()(this,m);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=ve(this,m,[].concat(n)),O()(v()(e),"componentDidMount",(function(){P.a.addEventListener("keyup",e._onKeyUp)})),O()(v()(e),"_onKeyUp",(function(t){t.keyCode===ge.KeyEvent.DOM_VK_ESCAPE&&e._closeModal()})),O()(v()(e),"_closeModal",(function(){e.props.uiStateActions.toggleModal(null)})),O()(v()(e),"_deleteDataset",(function(t){e.props.visStateActions.removeDataset(t),e._closeModal()})),O()(v()(e),"_onAddCustomMapStyle",(function(){e.props.mapStyleActions.addCustomMapStyle(),e._closeModal()})),O()(v()(e),"_onFileUpload",(function(t){e.props.visStateActions.loadFiles(t)})),O()(v()(e),"_onExportImage",(function(){e.props.uiState.exportImage.processing||(Object(j.exportImage)(e.props.uiState.exportImage,"".concat(e.props.appName,".png")),e.props.uiStateActions.cleanupExportImage(),e._closeModal())})),O()(v()(e),"_onExportData",(function(){Object(M.exportData)(e.props,e.props.uiState.exportData),e._closeModal()})),O()(v()(e),"_onExportMap",(function(){var t=e.props.uiState.exportMap.format;(t===ge.EXPORT_MAP_FORMATS.HTML?j.exportHtml:j.exportJson)(e.props,e.props.uiState.exportMap[t]||{}),e._closeModal()})),O()(v()(e),"_exportFileToCloud",(function(t){var n=t.provider,a=t.isPublic,r=t.overwrite,o=t.closeModal,i=Object(j.exportMap)(e.props);e.props.providerActions.exportFileToCloud({mapData:i,provider:n,options:{isPublic:a,overwrite:r},closeModal:o,onSuccess:e.props.onExportToCloudSuccess,onError:e.props.onExportToCloudError})})),O()(v()(e),"_onSaveMap",(function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e._exportFileToCloud({provider:t,isPublic:!1,overwrite:n,closeModal:!0})})),O()(v()(e),"_onOverwriteMap",(function(){e._onSaveMap(!0)})),O()(v()(e),"_onShareMapUrl",(function(t){e._exportFileToCloud({provider:t,isPublic:!0,overwrite:!1,closeModal:!1})})),O()(v()(e),"_onCloseSaveMap",(function(){e.props.providerActions.resetProviderStatus(),e._closeModal()})),O()(v()(e),"_onLoadCloudMap",(function(t){e.props.providerActions.loadCloudMap(ye(ye({},t),{},{onSuccess:e.props.onLoadCloudMapSuccess,onError:e.props.onLoadCloudMapError}))})),e}return E()(m,g),p()(m,[{key:"componentWillUnmount",value:function(){P.a.removeEventListener("keyup",this._onKeyUp)}},{key:"render",value:function(){var u=this,p=this.props,g=p.containerW,m=p.containerH,h=p.mapStyle,y=p.mapState,v=p.uiState,b=p.visState,E=p.rootNode,C=p.visStateActions,O=p.uiStateActions,S=p.providerState,D=v.currentModal,A=v.datasetKeyToRemove,T=b.datasets,P=b.layers,L=b.editingDataset,j=null,F={};if(D&&D.id&&D.template)j=x.a.createElement(D.template,null),F=D.modalProps;else switch(D){case ge.DATA_TABLE_ID:var I=.9*g;j=x.a.createElement(n,{datasets:T,dataId:L,showDatasetTable:C.showDatasetTable,sortTableColumn:C.sortTableColumn,pinTableColumn:C.pinTableColumn,copyTableColumn:C.copyTableColumn,setColumnDisplayFormat:C.setColumnDisplayFormat,uiStateActions:O,uiState:v}),F.cssStyle=Object(k.css)(X||(X=_()(["\n              ",";\n              ",";\n            "])),be,fe.media.palm(J||(J=_()(["\n                width: ","px;\n              "])),I));break;case ge.DELETE_DATA_ID:A&&T&&T[A]&&(j=x.a.createElement(e,{dataset:T[A],layers:P}),F={title:"modal.title.deleteDataset",cssStyle:Ee,footer:!0,onConfirm:function(){return u._deleteDataset(A)},onCancel:this._closeModal,confirmButton:{negative:!0,large:!0,children:"modal.button.delete"}});break;case ge.ADD_DATA_ID:j=x.a.createElement(a,c()({},S,{onClose:this._closeModal,onFileUpload:this._onFileUpload,onLoadCloudMap:this._onLoadCloudMap,loadFiles:v.loadFiles,fileLoading:b.fileLoading,fileLoadingProgress:b.fileLoadingProgress,fileFormatNames:Object(M.getFileFormatNames)(this.props.visState),fileExtensions:Object(M.getFileExtensions)(this.props.visState)})),F={title:"modal.title.addDataToMap",cssStyle:Ce,footer:!1,onConfirm:this._closeModal};break;case ge.EXPORT_IMAGE_ID:j=x.a.createElement(r,{exportImage:v.exportImage,mapW:g,mapH:m,onUpdateImageSetting:O.setExportImageSetting,cleanupExportImage:O.cleanupExportImage}),F={title:"modal.title.exportImage",cssStyle:"",footer:!0,onCancel:this._closeModal,onConfirm:this._onExportImage,confirmButton:{large:!0,disabled:v.exportImage.processing,children:"modal.button.download"}};break;case ge.EXPORT_DATA_ID:j=x.a.createElement(o,c()({},v.exportData,{supportedDataTypes:ge.EXPORT_DATA_TYPE_OPTIONS,datasets:T,applyCPUFilter:this.props.visStateActions.applyCPUFilter,onChangeExportDataType:O.setExportDataType,onChangeExportSelectedDataset:O.setExportSelectedDataset,onChangeExportFiltered:O.setExportFiltered})),F={title:"modal.title.exportData",cssStyle:"",footer:!0,onCancel:this._closeModal,onConfirm:this._onExportData,confirmButton:{large:!0,children:"modal.button.export"}};break;case ge.EXPORT_MAP_ID:var R=b.schema.getConfigToSave({mapStyle:h,visState:b,mapState:y,uiState:v});j=x.a.createElement(i,{config:R,options:v.exportMap,onChangeExportMapFormat:O.setExportMapFormat,onEditUserMapboxAccessToken:O.setUserMapboxAccessToken,onChangeExportMapHTMLMode:O.setExportHTMLMapMode}),F={title:"modal.title.exportMap",cssStyle:"",footer:!0,onCancel:this._closeModal,onConfirm:this._onExportMap,confirmButton:{large:!0,children:"modal.button.export"}};break;case ge.ADD_MAP_STYLE_ID:j=x.a.createElement(l,{mapboxApiAccessToken:this.props.mapboxApiAccessToken,mapboxApiUrl:this.props.mapboxApiUrl,mapState:this.props.mapState,inputStyle:h.inputStyle,inputMapStyle:this.props.mapStyleActions.inputMapStyle,loadCustomMapStyle:this.props.mapStyleActions.loadCustomMapStyle}),F={title:"modal.title.addCustomMapboxStyle",cssStyle:"",footer:!0,onCancel:this._closeModal,onConfirm:this._onAddCustomMapStyle,confirmButton:{large:!0,disabled:!h.inputStyle.style,children:"modal.button.addStyle"}};break;case ge.SAVE_MAP_ID:j=x.a.createElement(d,c()({},S,{exportImage:v.exportImage,mapInfo:b.mapInfo,onSetMapInfo:C.setMapInfo,cleanupExportImage:O.cleanupExportImage,onUpdateImageSetting:O.setExportImageSetting,onCancel:this._closeModal,onConfirm:function(e){return u._onSaveMap(e,!1)}})),F={title:"modal.title.saveMap",cssStyle:"",footer:!1};break;case ge.OVERWRITE_MAP_ID:j=x.a.createElement(t,c()({},S,{title:w()(b,["mapInfo","title"]),onUpdateImageSetting:O.setExportImageSetting,cleanupExportImage:O.cleanupExportImage,onConfirm:this._onOverwriteMap,onCancel:this._closeModal})),F={title:"Overwrite Existing File?",cssStyle:Ee,footer:!1};break;case ge.SHARE_MAP_ID:j=x.a.createElement(f,c()({},S,{onExport:this._onShareMapUrl,cleanupExportImage:O.cleanupExportImage,onUpdateImageSetting:O.setExportImageSetting})),F={title:"modal.title.shareURL",cssStyle:"",onCancel:this._onCloseSaveMap}}return E?x.a.createElement(s,c()({parentSelector:function(){return Object(me.findDOMNode)(E)},isOpen:Boolean(D),onCancel:this._closeModal},F,{cssStyle:Oe.concat(F.cssStyle)}),j):null}}]),m}(D.Component)}Se.deps=[F.a,re,oe.c,ie.a,le.a,ce.a,se.a,ue.a,L.a,de.a,pe.b]},78:function(e,t,n){"use strict";n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return k})),n.d(t,"d",(function(){return w})),n.d(t,"c",(function(){return P}));var a,r,o,i,l,c,s,u=n(1),d=n.n(u),p=n(24),f=n.n(p),g=n(6),m=n.n(g),h=n(0),y=n.n(h),v=n(5),b=n(25),E=n.n(b),C=n(596),O=n(143),S=n(254),_=n(22),D=v.default.div(a||(a=m()(["\n  display: flex;\n  align-items: center;\n  color: ",";\n"])),(function(e){return e.theme.textColor})),x=v.default.div.attrs({className:"layer-config-group__content__collapsible"})(r||(r=m()(["\n  transition: max-height 0.3s ease-out;\n  height: max-content;\n  max-height: 1200px;\n  overflow: auto;\n"]))),k=v.default.div.attrs({className:"layer-config-group__header__collapsible"})(o||(o=m()(["\n  overflow: visible;\n  overflow: hidden;\n  max-height: 0;\n"]))),A=v.default.div(i||(i=m()(["\n  padding-left: ","px;\n  margin-bottom: ","px;\n\n  &.disabled {\n    opacity: 0.3;\n    pointer-events: none;\n  }\n  &.collapsed {\n    .layer-config-group__header__collapsible {\n      overflow: visible;\n      max-height: 600px;\n    }\n    .layer-config-group__content {\n      .layer-config-group__content__collapsible {\n        overflow: hidden;\n        max-height: 0;\n      }\n    }\n  }\n"])),(function(e){return e.theme.layerConfigGroupPaddingLeft}),(function(e){return e.theme.layerConfigGroupMarginBottom})),w=v.default.div.attrs({className:"layer-config-group__header"})(l||(l=m()(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 12px;\n  cursor: default;\n\n  :hover {\n    ","\n    .layer-config-group__label {\n      color: ",";\n    }\n\n    .layer-config-group__action {\n      color: ",";\n    }\n  }\n"])),(function(e){return e.collapsible&&"cursor: pointer;"}),(function(e){return e.theme.textColorHl}),(function(e){return e.theme.textColorHl})),T=v.default.div(c||(c=m()(["\n  &.disabled {\n    opacity: 0.3;\n    pointer-events: none;\n    * {\n      pointer-events: none;\n    }\n  }\n"])));function P(e){var t=v.default.div(s||(s=m()(["\n    border-left: "," solid\n      ",";\n    line-height: 12px;\n    margin-left: ",";\n    padding-left: ",";\n\n    display: flex;\n    align-items: center;\n\n    span {\n      color: ",";\n      font-weight: 500;\n      letter-spacing: 0.2px;\n      text-transform: capitalize;\n      margin-left: ",";\n      font-size: ",";\n    }\n  "])),(function(e){return e.theme.layerConfigGroupLabelBorderLeft}),(function(e){return e.theme.labelColor}),(function(e){return e.theme.layerConfigGroupLabelMargin}),(function(e){return e.theme.layerConfigGroupLabelPadding}),(function(e){return e.theme.textColor}),(function(e){return e.theme.layerConfigGroupLabelLabelMargin}),(function(e){return e.theme.layerConfigGroupLabelLabelFontSize}));return function(n){var a=n.label,r=n.description;return y.a.createElement(t,{className:"layer-config-group__label"},y.a.createElement("span",null,y.a.createElement(C.a,{id:a||"misc.empty",defaultMessage:a})),r&&y.a.createElement(e,{description:r,id:a}))}}function L(e){var t=function(t){var n=t.label,a=t.children,r=t.property,o=t.layer,i=t.onChange,l=t.collapsible,c=t.description,s=t.disabled,u=t.expanded,p=t.IconComponent,g=void 0===p?_.VertThreeDots:p,m=Object(h.useState)(!u),v=f()(m,2),b=v[0],C=v[1],S=Object(h.useCallback)((function(){l&&C(!b)}),[b,C,l]);return y.a.createElement(A,{className:E()("layer-config-group",{collapsed:b,disabled:s})},y.a.createElement(w,{onClick:S,collapsible:l},y.a.createElement(e,{label:n,description:c,collapsed:b}),y.a.createElement(D,{className:"layer-config-group__action"},r?y.a.createElement(O.a,{checked:null==o?void 0:o.config.visConfig[r],id:"".concat(null==o?void 0:o.id,"-").concat(r),onChange:function(){return null==i?void 0:i(d()({},r,!(null!=o&&o.config.visConfig[r])))}}):null,l?y.a.createElement(g,{height:"18px"}):null)),y.a.createElement(T,{className:E()("layer-config-group__content",{disabled:r&&!(null!=o&&o.config.visConfig[r])})},a))};return t.defaultProps={collapsible:!1,expanded:!1,onChange:function(){},description:"",disabled:!1},t}P.deps=[S.a],L.deps=[P],t.e=L},793:function(e,t,n){"use strict";var a,r,o,i=n(24),l=n.n(i),c=n(6),s=n.n(c),u=n(0),d=n.n(u),p=n(5),f=n(19),g=n(473),m=n(22),h=n(15),y=n(468),v=n(259),b=n(135),E=n(118),C=p.default.div.attrs({className:"add-layer-menu-dropdown"})(a||(a=s()(["\n  .list-selector {\n    border-top: 1px solid ",";\n    width: 100%;\n    /* disable scrolling, currently set to 280px internally */\n    max-height: unset;\n  }\n  .list__item > div {\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-start;\n    line-height: 18px;\n    padding: 0;\n    svg {\n      margin-right: 10px;\n    }\n  }\n"])),(function(e){return e.theme.secondaryInputBorderColor})),O=p.default.div.attrs({className:"dropdown-menu"})(r||(r=s()(["\n  display: flex;\n  flex-direction: column;\n  min-width: 240px;\n  max-width: 240px;\n  position: absolute;\n  top: 100%;\n  left: -53px;\n  z-index: 5;\n"]))),S=p.default.div.attrs({className:"dropdown-menu-list-item-wrapper"})(o||(o=s()(["\n  display: flex;\n  color: ",";\n  font-size: 11px;\n  letter-spacing: 0.2px;\n  overflow: auto;\n  .dataset-color {\n    flex-shrink: 0;\n    margin-top: 3px;\n  }\n  .dataset-name {\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n"])),(function(e){return e.theme.textColor})),_=function(e){var t=e.value;return d.a.createElement(S,null,d.a.createElement(h.g,{className:"dataset-color",backgroundColor:t.color}),d.a.createElement("div",{className:"dataset-name",title:t.label},t.label))};t.a=function(e){var t=e.datasets,n=e.onAdd,a=e.buttonIntlId,r=e.width,o=e.className,i=e.inactive,c=Object(u.useState)(),s=l()(c,2),p=s[0],S=s[1],D=Object(u.useMemo)((function(){return Object.values(t).map((function(e){return{label:e.label,value:e.id,color:e.color}}))}),[t]),x=Object(u.useCallback)((function(){1===D.length&&n(D[0].value)}),[D,n]);Object(u.useEffect)((function(){if(localStorage.getItem("cprops"))var e=setInterval((function(){console.log("hit interval"),0===D.length||D[0]&&"external_data"===D[0].value?(console.log(D),clearInterval(e),"No"===window.localStorage.getItem("actedupon1")&&n("external_data"),window.localStorage.setItem("actedupon1","No")):clearInterval(e)}),500)}),[localStorage.getItem("cprops"),localStorage.getItem("sprops")]);var k=Object(u.useCallback)((function(e){n(e.value),p&&p.hide()}),[n,p]),A=Object(b.a)(),w=d.a.createElement(h.b,{tabIndex:-1,className:o||"add-by-dataset-button",width:r,onClick:x,disabled:!D.length||i},d.a.createElement(m.Add,{height:"12px"}),d.a.createElement(f.FormattedMessage,{id:a}));return 1===D.length?w:d.a.createElement(E.d.Consumer,null,(function(e){return d.a.createElement(g.default,{trigger:"click",arrow:!1,interactive:!0,placement:"bottom",appendTo:(null==e?void 0:e.current)||"parent",onCreate:S,duration:0,content:d.a.createElement(O,null,d.a.createElement(C,null,d.a.createElement(y.a,{className:"typeahead",customClasses:{results:"list-selector",input:"typeahead__input",listItem:"list__item"},placeholder:A?A.formatMessage({id:"placeholder.search"}):"Search",selectedItems:null,options:D,displayOption:v.a.generateOptionToStringFor("label"),filterOption:"label",searchable:!0,onOptionSelected:k,customListItemComponent:_})))},w)}))}},799:function(e,t,n){"use strict";n.d(t,"a",(function(){return pe}));var a=n(8),r=n.n(a),o=n(9),i=n.n(o),l=n(1),c=n.n(l),s=n(13),u=n(4);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f=function(){function e(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r()(this,e),c()(this,"id",void 0),c()(this,"type",void 0),c()(this,"isEnabled",void 0),c()(this,"parameters",void 0),c()(this,"isConfigActive",void 0),c()(this,"isJsonEditorActive",void 0),c()(this,"deckEffect",void 0),c()(this,"_uiConfig",void 0),this.id=n.id||"e_".concat(Object(s.generateHashId)(6));var a=this.getDefaultProps(n);this.type=a.type,this.isEnabled=a.isEnabled,this.isConfigActive=a.isConfigActive,this.isJsonEditorActive=a.isJsonEditorActive,this._uiConfig=u.LIGHT_AND_SHADOW_EFFECT.type===this.type?u.LIGHT_AND_SHADOW_EFFECT.parameters:(null===(t=u.POSTPROCESSING_EFFECTS[this.type])||void 0===t?void 0:t.parameters)||[],this.parameters=Object(s.validateEffectParameters)(a.parameters,this._uiConfig),this.deckEffect=null,this._initializeEffect()}return i()(e,[{key:"_initializeEffect",value:function(){}},{key:"getDefaultProps",value:function(){var e,t,n,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:a.id||"e_".concat(Object(s.generateHashId)(6)),type:a.type||u.DEFAULT_POST_PROCESSING_EFFECT_TYPE,isEnabled:null===(e=a.isEnabled)||void 0===e||e,isConfigActive:null===(t=a.isConfigActive)||void 0===t||t,isJsonEditorActive:null!==(n=a.isJsonEditorActive)&&void 0!==n&&n,parameters:p({},a.parameters)}}},{key:"setProps",value:function(e){var t,n,a,r,o;this.id=null!==(t=e.id)&&void 0!==t?t:this.id,this.type=null!==(n=e.type)&&void 0!==n?n:this.type,this.isEnabled=null!==(a=e.isEnabled)&&void 0!==a?a:this.isEnabled,this.isConfigActive=null!==(r=e.isConfigActive)&&void 0!==r?r:this.isConfigActive,this.isJsonEditorActive=null!==(o=e.isJsonEditorActive)&&void 0!==o?o:this.isJsonEditorActive,this.parameters=p(p({},this.parameters),Object(s.validateEffectParameters)(e.parameters,this._uiConfig))}},{key:"isValidToSave",value:function(){return Boolean(this.type&&this.id&&this.deckEffect)}},{key:"getParameterDescriptions",value:function(){return this._uiConfig||[]}}]),e}(),g=n(21),m=n.n(g),h=n(12),y=n.n(h),v=n(63),b=n.n(v),E=n(7),C=n.n(E),O=n(11),S=n.n(O),_=n(663),D=n(1154),x=n(109),k=n.n(x),A=n(31),w=n(497),T=n(587),P=n(951),L=n(425);function j(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function F(e,t,n){return t=C()(t),y()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],C()(e).constructor):t.apply(e,n))}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function R(e,t,n,a){var r=e.indexOf(n);return r<0?(A.console.error("Cannot edit ".concat(t," layer shader")),e):e.slice(0,r)+a+e.slice(r)}var N=w.a?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},w.a):void 0;N.fs=R(N.fs,"custom shadow #1","uniform vec4 shadow_uColor;","uniform bool u_outputUniformShadow;"),N.fs=R(N.fs,"custom shadow #1","vec4 rgbaDepth = texture2D(shadowMap, position.xy);","if(u_outputUniformShadow) return 1.0;"),N.getUniforms=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=w.a.getUniforms(e,t);return void 0!==e.outputUniformShadow&&(n.u_outputUniformShadow=e.outputUniformShadow),n};var B=function(e){function t(e){var n;return r()(this,t),(n=F(this,t,[e])).useOutputUniformShadow=!1,n}return S()(t,e),i()(t,[{key:"preRender",value:function(e,t){var n=t.layers,a=t.layerFilter,r=t.viewports,o=t.onViewportActive,i=t.views;if(this.shadow){this.shadowMatrices=this._calculateMatrices(),0===this.shadowPasses.length&&this._createShadowPasses(e),this.programManager||(this.programManager=P.a.getDefaultProgramManager(e),N&&this.programManager.addDefaultModule(N)),this.dummyShadowMap||(this.dummyShadowMap=new L.a(e,{width:1,height:1}));for(var l=0;l<this.shadowPasses.length;l++){this.shadowPasses[l].render({layers:n,layerFilter:a,viewports:r,onViewportActive:o,views:i,moduleParameters:{shadowLightId:l,dummyShadowMap:this.dummyShadowMap,shadowMatrices:this.shadowMatrices,useOutputUniformShadow:!1}})}}}},{key:"getModuleParameters",value:function(e){var n=b()(C()(t.prototype),"getModuleParameters",this).call(this,e);return n.outputUniformShadow=this.outputUniformShadow,n}},{key:"cleanup",value:function(){var e,t=j(this.shadowPasses);try{for(t.s();!(e=t.n()).done;){e.value.delete()}}catch(e){t.e(e)}finally{t.f()}this.shadowPasses.length=0,this.shadowMaps.length=0,this.dummyShadowMap&&(this.dummyShadowMap.delete(),this.dummyShadowMap=null),this.shadow&&this.programManager&&(this.programManager.removeDefaultModule(N),this.programManager=null)}}]),t}(T.a);function U(e,t,n){return t=C()(t),y()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],C()(e).constructor):t.apply(e,n))}function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var G=z(z({},u.LIGHT_AND_SHADOW_EFFECT),{},{class:null}),H=function(e){function t(e){return r()(this,t),U(this,t,[e])}return S()(t,e),i()(t,[{key:"_initializeEffect",value:function(){this.parameters=z(z({},u.DEFAULT_LIGHT_AND_SHADOW_PROPS),{},{timezone:k.a.tz.guess(!0)},this.parameters);var e=this.parameters,t=new _.a({color:e.ambientLightColor,intensity:e.ambientLightIntensity}),n=new D.a({timestamp:e.timestamp,color:e.sunLightColor,intensity:e.sunLightIntensity,_shadow:!0});this.deckEffect=new B({ambientLight:t,sunLight:n}),this.deckEffect&&(this.deckEffect.shadowColor=[].concat(m()(Object(s.normalizeColor)(e.shadowColor)),[e.shadowIntensity]))}},{key:"getDefaultProps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return b()(C()(t.prototype),"getDefaultProps",this).call(this,z({type:G.type},e))}},{key:"setProps",value:function(e){if(b()(C()(t.prototype),"setProps",this).call(this,e),e.parameters){var n=this.parameters;if(this.type===G.type){var a=this.deckEffect;if(a){a.shadowColor=[].concat(m()(Object(s.normalizeColor)(n.shadowColor)),[n.shadowIntensity]),a.ambientLight.intensity=n.ambientLightIntensity,a.ambientLight.color=n.ambientLightColor.slice();var r=a.directionalLights[0];r&&(r.intensity=n.sunLightIntensity,r.color=n.sunLightColor.slice(),r.timestamp=n.timestamp)}}}}}]),t}(f),q=n(1385),W=n(2142),Y=n(2143),K=n(2144),Z=n(2145),X=n(2146),J=n(2147),Q=n(2148),$=n(2149),ee=n(2150),te=n(2151),ne=n(2152),ae=n(2153),re=n(2154),oe=n(2155),ie=n(2156);function le(e,t,n){return t=C()(t),y()(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],C()(e).constructor):t.apply(e,n))}function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ue=[se(se({},u.POSTPROCESSING_EFFECTS.ink),{},{class:W.a}),se(se({},u.POSTPROCESSING_EFFECTS.brightnessContrast),{},{class:Y.a}),se(se({},u.POSTPROCESSING_EFFECTS.hueSaturation),{},{class:K.a}),se(se({},u.POSTPROCESSING_EFFECTS.vibrance),{},{class:Z.a}),se(se({},u.POSTPROCESSING_EFFECTS.sepia),{},{class:X.a}),se(se({},u.POSTPROCESSING_EFFECTS.dotScreen),{},{class:J.a}),se(se({},u.POSTPROCESSING_EFFECTS.colorHalftone),{},{class:Q.a}),se(se({},u.POSTPROCESSING_EFFECTS.noise),{},{class:$.a}),se(se({},u.POSTPROCESSING_EFFECTS.triangleBlur),{},{class:ee.a}),se(se({},u.POSTPROCESSING_EFFECTS.zoomBlur),{},{class:te.a}),se(se({},u.POSTPROCESSING_EFFECTS.tiltShift),{},{class:ne.a}),se(se({},u.POSTPROCESSING_EFFECTS.edgeWork),{},{class:ae.a}),se(se({},u.POSTPROCESSING_EFFECTS.vignette),{},{class:re.a}),se(se({},u.POSTPROCESSING_EFFECTS.magnify),{},{class:oe.a}),se(se({},u.POSTPROCESSING_EFFECTS.hexagonalPixelate),{},{class:ie.a})],de=function(e){function t(e){return r()(this,t),le(this,t,[e])}return S()(t,e),i()(t,[{key:"_initializeEffect",value:function(){var e=this,t=ue.find((function(t){return t.type===e.type}));if(t){var n,a;this.deckEffect=new q.a(t.class,this.parameters);var r=null===(n=this.deckEffect)||void 0===n||null===(a=n.module)||void 0===a?void 0:a.uniforms;if(r){var o,i=Object.keys(r),l={};i.forEach((function(t){var n,a,o,i,c,s,u,d;l[t]=(n=t,a=e._uiConfig,o=r,u=a.find((function(e){return e.name===n})),d=o[n],null!==(i=null!==(c=null!==(s=null==u?void 0:u.defaultValue)&&void 0!==s?s:null==d?void 0:d.value)&&void 0!==c?c:d)&&void 0!==i?i:null==u?void 0:u.min)})),this.parameters=se(se({},l),this.parameters),null===(o=this.deckEffect)||void 0===o||o.setProps(this.parameters)}}}},{key:"getDefaultProps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return b()(C()(t.prototype),"getDefaultProps",this).call(this,se({type:u.DEFAULT_POST_PROCESSING_EFFECT_TYPE},e))}},{key:"setProps",value:function(e){var n;(b()(C()(t.prototype),"setProps",this).call(this,e),e.parameters)&&(null===(n=this.deckEffect)||void 0===n||n.setProps(this.parameters))}}]),t}(f);function pe(e){return(null==e?void 0:e.type)===u.LIGHT_AND_SHADOW_EFFECT.type?new H(e):new de(e)}}}]);
//# sourceMappingURL=3.bundle.js.map