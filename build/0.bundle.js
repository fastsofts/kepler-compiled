(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1255:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=w;var l,o,i,u,c=r(n(1)),d=r(n(24)),f=r(n(6)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),p=r(n(5)),m=n(41),g=r(n(267)),y=n(19),v=n(4),b=n(270),h=n(13);function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}var _=p.default.div(l||(l=(0,f.default)(["\n  display: flex;\n  line-height: 12px;\n  margin-bottom: 12px;\n"]))),C=p.default.div(o||(o=(0,f.default)(["\n  display: flex;\n"]))),O=p.default.label(i||(i=(0,f.default)(["\n  color: ",";\n  font-weight: 500;\n  letter-spacing: 0.2px;\n  font-size: ",";\n  padding-right: 15px;\n\n  &:last-child {\n    position: absolute;\n    right: 0;\n    padding: 0;\n  }\n"])),(function(e){return e.theme.textColor}),(function(e){return e.theme.layerConfigGroupLabelLabelFontSize})),P=p.default.input(u||(u=(0,f.default)(["\n  ",";\n  font-size: ",";\n  width: 44px;\n  overflow: auto;\n  height: 20px;\n  margin-top: 5px;\n"])),(function(e){return e.theme.input}),(function(e){return e.theme.sliderInputFontSize})),S=function(e){var t=e.value,n=e.onChange,r=e.name,a=(0,s.useState)(t),l=(0,d.default)(a,2),o=l[0],i=l[1],u=(0,s.useRef)(null);(0,s.useEffect)((function(){i(t)}),[t]);var c=(0,s.useCallback)((function(e){switch(e.keyCode){case v.KeyEvent.DOM_VK_ENTER:case v.KeyEvent.DOM_VK_RETURN:n(o),null!==u&&(null==u||u.current.blur())}}),[n,o]),f=(0,s.useCallback)((function(e){return i(e.target.value)}),[i]),p=(0,s.useCallback)((function(){return n(r,o)}),[n,r,o]);return s.default.createElement(P,{type:"number",ref:u,value:o,onChange:f,onBlur:p,onKeyDown:c,id:r})},x=function(e){var t=e.isRanged,n=e.value,r=e.onChangeCustomInput,a=(0,s.useCallback)((function(e,a){r(t?"value0"===e?[a,n[1]]:[n[0],a]:a)}),[t,n,r]);return s.default.createElement(C,null,t?s.default.createElement(_,null,s.default.createElement(O,null,"min",s.default.createElement(S,{name:"value0",value:n[0],onChange:a})),s.default.createElement(O,null,"max",s.default.createElement(S,{name:"value1",value:n[1],onChange:a}))):s.default.createElement(_,null,s.default.createElement(S,{name:"value",value:n,onChange:a})))};function w(e){return function(t){var n=t.layer.config,r=t.property,a=t.label,l=t.range,o=t.step,i=t.isRanged,u=t.allowCustomValue,f=t.disabled,p=t.onChange,g=t.inputTheme,v=n.visConfig[r],E=(0,s.useState)(!(0,h.isInRange)(v,l)),C=(0,d.default)(E,2),P=C[0],S=C[1],w=(0,s.useCallback)((function(){if(P){var e=i?[(0,h.clamp)(l,v[0]),(0,h.clamp)(l,v[1])]:(0,h.clamp)(l,v);p((0,c.default)({},r,e))}S(!P)}),[p,r,i,v,l,P,S]);return s.default.createElement(m.SidePanelSection,{disabled:Boolean(f)},a?s.default.createElement(m.PanelLabel,null,"string"==typeof a?s.default.createElement(y.FormattedMessage,{id:a}):"function"==typeof a?s.default.createElement(y.FormattedMessage,{id:a(n)}):s.default.createElement(y.FormattedMessage,{id:"property.".concat(r)})):null,u?s.default.createElement(_,null,s.default.createElement(O,null,"custom input"),s.default.createElement(b.Checkbox,{id:"property.".concat(r),checked:P,onChange:w})):null,P?s.default.createElement(x,{isRanged:i,value:v,onChangeCustomInput:function(e){return p((0,c.default)({},r,e))}}):s.default.createElement(e,{range:l,value0:i?v[0]:l[0],value1:i?v[1]:v,step:o,isRanged:Boolean(i),onChange:function(e){return p((0,c.default)({},r,i?e:e[1]))},inputTheme:g,showInput:!0}))}}w.deps=[g.default]},1256:function(e,t,n){"use strict";var r=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,l=r(n(1)),o=r(n(6)),i=r(n(0)),u=r(n(5)),c=r(n(553)),d=r(n(268)),f=n(41),s=n(19),p=n(13),m=u.default.div(a||(a=(0,o.default)(["\n  display: flex;\n  justify-content: space-between;\n\n  .vis-config-switch__title {\n    display: flex;\n  }\n"])));function g(e){return function(t){var n=t.layer,r=n.id,a=n.config,o=t.property,u=t.onChange,c=t.label,g=t.description,y=t.disabled;return i.default.createElement(f.SidePanelSection,{disabled:Boolean(y)},i.default.createElement(m,{className:"vis-config-switch"},i.default.createElement("div",{className:"vis-config-switch__title"},c?i.default.createElement(f.PanelLabel,null,c&&i.default.createElement(s.FormattedMessage,{id:c})||(0,p.capitalizeFirstLetter)(o)):null,g?i.default.createElement("div",null,i.default.createElement(e,{description:g,id:"".concat(r,"-").concat(o,"-description")})):null),i.default.createElement("div",{className:"vis-config-switch__switch"},i.default.createElement(d.default,{checked:a.visConfig[o],id:"".concat(r,"-").concat(o,"-switch"),onChange:function(){return u((0,l.default)({},o,!a.visConfig[o]))}}))))}}g.deps=[c.default];var y=g;t.default=y},1257:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,o=r(n(6)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),u=r(n(5)),c=n(19),d=n(13),f=r(n(1258)),s=n(41);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}var m=u.default.div(l||(l=(0,o.default)(["\n  display: flex;\n  justify-content: space-between;\n"])));function g(e,t,n){if(e&&null!=t&&t[n]){var r=t[n],a=e.filter((function(e){var t=e.pair;return(0,d.toArray)(r.fieldPairKey).some((function(e){return t.hasOwnProperty(e)}))}));return a.length>0?a:null}return null}function y(e){return function(t){var n=t.columnPairs,r=t.fieldPairs,a=t.columns,l=t.columnLabels,o=t.fields,u=t.updateLayerConfig,d=t.assignColumn,f=t.assignColumnPairs,p=(0,i.useMemo)((function(){return n&&r?r.map((function(e){return{name:e.defaultName,type:"point",pair:e.pair}})):null}),[n,r]),y=(0,i.useCallback)((function(e,t){var r=t&&t.pair&&n?f(e,t.pair):d(e,t);u({columns:r})}),[u,n,f,d]);return Object.keys(a).length?i.default.createElement("div",null,i.default.createElement(s.SidePanelSection,null,i.default.createElement("div",{className:"layer-config__column"},i.default.createElement(m,null,i.default.createElement(s.PanelLabel,null,i.default.createElement(c.FormattedMessage,{id:"columns.title"})),i.default.createElement(s.PanelLabel,null,i.default.createElement(c.FormattedMessage,{id:"layer.required"}))),Object.keys(a).map((function(t){return i.default.createElement(e,{column:a[t],columns:a,label:l&&l[t]||t,key:t,allFields:o,fieldPairs:g(p,n,t),onSelect:function(e){return y(t,e)}})}))))):i.default.createElement("div",null)}}y.deps=[f.default];var v=y;t.default=v},1258:function(e,t,n){"use strict";var r=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,l,o,i=r(n(6)),u=r(n(0)),c=r(n(5)),d=n(19),f=n(41),s=r(n(335)),p=n(66),m=c.default.div(a||(a=(0,i.default)(["\n  display: flex;\n  margin-bottom: 8px;\n  align-items: center;\n"]))),g=c.default.div(l||(l=(0,i.default)(["\n  width: 27%;\n  line-height: 1.2;\n  padding-right: 6px;\n"]))),y=c.default.div(o||(o=(0,i.default)(["\n  width: 73%;\n"])));function v(e){return function(t){var n=t.column,r=t.columns,a=t.label,l=t.allFields,o=t.onSelect,i=t.fieldPairs;return u.default.createElement(m,{className:"layer-config__column__selector"},u.default.createElement(g,{className:"layer-config__column__name"},u.default.createElement(f.PanelLabel,null,u.default.createElement(d.FormattedMessage,{id:"columns.".concat(a)}),n.optional?null:"  *")),u.default.createElement(y,{className:"layer-config__column__select"},u.default.createElement(e,{suggested:i,error:!(0,p.validateColumn)(n,r,l),fields:l,value:n.value,erasable:Boolean(n.optional),onSelect:o})))}}v.deps=[s.default];var b=v;t.default=b},1259:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.LayerTypeListItemFactory=m,t.default=void 0;var l,o=r(n(6)),i=r(n(0)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(5)),c=n(4),d=r(n(25)),f=n(19);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}var p=u.default.div(l||(l=(0,o.default)(["\n  &.list {\n    display: flex;\n    align-items: center;\n\n    .layer-type-selector__item__icon {\n      color: ",";\n      background-size: ","px\n        ","px;\n      height: ","px;\n      width: ","px;\n      margin-right: 12px;\n    }\n  }\n\n  .layer-type-selector__item__icon {\n    color: ",";\n    display: flex;\n    background-image: url(",");\n    background-size: ","px\n      ","px;\n    height: ","px;\n    width: ","px;\n  }\n\n  .layer-type-selector__item__label {\n    text-transform: capitalize;\n    font-size: 12px;\n    text-align: center;\n    color: ",";\n  }\n"])),(function(e){return e.theme.activeColor}),(function(e){return e.theme.layerTypeIconSizeSM}),(function(e){return e.theme.layerTypeIconSizeSM}),(function(e){return e.theme.layerTypeIconSizeSM}),(function(e){return e.theme.layerTypeIconSizeSM}),(function(e){return e.theme.labelColor}),"".concat(c.KEPLER_UNFOLDED_BUCKET,"/images/kepler.gl-layer-icon-bg.png"),(function(e){return e.theme.layerTypeIconSizeL}),(function(e){return e.theme.layerTypeIconSizeL}),(function(e){return e.theme.layerTypeIconSizeL}),(function(e){return e.theme.layerTypeIconSizeL}),(function(e){return e.theme.selectColor}));function m(){return(0,u.withTheme)((function(e){var t=e.value,n=e.isTile,r=e.theme;return i.default.createElement(p,{className:(0,d.default)("layer-type-selector__item__inner",{list:!n})},i.default.createElement("div",{className:"layer-type-selector__item__icon"},i.default.createElement(t.icon,{height:"".concat(n?r.layerTypeIconSizeL:r.layerTypeIconSizeSM,"px")})),i.default.createElement("div",{className:"layer-type-selector__item__label"},i.default.createElement(f.FormattedMessage,{id:"layer.type.".concat(t.label.toLowerCase()),defaultMessage:t.label})))}))}var g=m;t.default=g},1260:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.AggregationTypeSelector=t.AggregationScaleSelector=void 0,t.ChannelByValueSelectorFactory=K,t.default=Y,t.getVisConfiguratorProps=t.getLayerFields=t.getLayerDataset=t.getLayerConfiguratorProps=t.getLayerChannelConfigProps=void 0;var l,o,i=r(n(1)),u=r(n(14)),c=r(n(8)),d=r(n(9)),f=r(n(11)),s=r(n(12)),p=r(n(7)),m=r(n(6)),g=I(n(0)),y=r(n(5)),v=n(19),b=n(41),h=r(n(183)),E=r(n(1988)),_=r(n(1257)),C=r(n(1262)),O=r(n(1261)),P=r(n(640)),S=r(n(1256)),x=r(n(1255)),w=I(n(887)),M=r(n(1264)),k=n(1268),j=r(n(1269)),D=r(n(1989)),F=n(13),T=n(4);function L(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(L=function(e){return e?n:t})(e)}function I(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=L(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e){var t=function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}();return function(){var n,r=(0,p.default)(e);if(t){var a=(0,p.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var B=y.default.div.attrs({className:"layer-panel__config"})(l||(l=(0,m.default)(["\n  position: relative;\n  margin-top: ",";\n  padding: ",";\n  border-left: "," dashed\n    ",";\n"])),(function(e){return e.theme.layerConfiguratorMargin}),(function(e){return e.theme.layerConfiguratorPadding}),(function(e){return e.theme.layerConfiguratorBorder}),(function(e){return e.theme.layerConfiguratorBorderColor})),W=y.default.div.attrs({className:"layer-panel__config__visualC-config"})(o||(o=(0,m.default)(["\n  margin-top: 12px;\n"]))),z=function(e,t){var n;return null!==(n=t.config)&&void 0!==n&&n.dataId&&e[t.config.dataId]?e[t.config.dataId].fields:[]};t.getLayerFields=z;var H=function(e,t){var n;return null!==(n=t.config)&&void 0!==n&&n.dataId&&e[t.config.dataId]?e[t.config.dataId]:null};t.getLayerDataset=H;var V=function(e){return{layer:e.layer,fields:z(e.datasets,e.layer),onChange:e.updateLayerConfig,setColorUI:e.updateLayerColorUI}};t.getLayerConfiguratorProps=V;var G=function(e){return{layer:e.layer,fields:z(e.datasets,e.layer),onChange:e.updateLayerVisConfig,setColorUI:e.updateLayerColorUI}};t.getVisConfiguratorProps=G;var U=function(e){return{layer:e.layer,fields:z(e.datasets,e.layer),onChange:e.updateLayerVisualChannelConfig}};function Y(e,t,n,r,a,l,o,i,s,p,m){return function(y){(0,f.default)(h,y);var v=R(h);function h(){return(0,c.default)(this,h),v.apply(this,arguments)}return(0,d.default)(h,[{key:"_renderPointLayerConfig",value:function(e){return this._renderScatterplotLayerConfig(e)}},{key:"_renderIconLayerConfig",value:function(e){return this._renderScatterplotLayerConfig(e)}},{key:"_renderScatterplotLayerConfig",value:function(e){var l=e.layer,o=e.visConfiguratorProps,c=e.layerChannelConfigProps,d=e.layerConfiguratorProps;return g.default.createElement(W,null,g.default.createElement(r,(0,u.default)({},l.visConfigSettings.filled||{label:"layer.color"},o,{collapsible:!0}),l.config.colorField?g.default.createElement(p,o):g.default.createElement(s,d),g.default.createElement(w.ConfigGroupCollapsibleContent,null,g.default.createElement(a,(0,u.default)({channel:l.visualChannels.color},c)),g.default.createElement(t,(0,u.default)({},l.visConfigSettings.opacity,o)))),l.type===T.LAYER_TYPES.point?g.default.createElement(r,(0,u.default)({},l.visConfigSettings.outline,o,{collapsible:!0}),l.config.strokeColorField?g.default.createElement(p,(0,u.default)({},o,{property:"strokeColorRange"})):g.default.createElement(s,(0,u.default)({},o,{selectedColor:l.config.visConfig.strokeColor,property:"strokeColor"})),g.default.createElement(w.ConfigGroupCollapsibleContent,null,g.default.createElement(a,(0,u.default)({channel:l.visualChannels.strokeColor},c)),g.default.createElement(t,(0,u.default)({},l.visConfigSettings.thickness,o,{disabled:!l.config.visConfig.outline})))):null,g.default.createElement(r,{label:"layer.radius",collapsible:!0},l.config.sizeField?g.default.createElement(t,(0,u.default)({},l.visConfigSettings.radiusRange,o,{label:!1,disabled:!l.config.sizeField||l.config.visConfig.fixedRadius})):g.default.createElement(t,(0,u.default)({},l.visConfigSettings.radius,o,{label:!1,disabled:Boolean(l.config.sizeField)})),g.default.createElement(w.ConfigGroupCollapsibleContent,null,g.default.createElement(a,(0,u.default)({channel:l.visualChannels.size},c)),l.config.sizeField?g.default.createElement(i,(0,u.default)({},l.visConfigSettings.fixedRadius,o)):null)),g.default.createElement(n,{id:l.id,fields:o.fields,updateLayerTextLabel:this.props.updateLayerTextLabel,textLabel:l.config.textLabel}))}},{key:"_renderClusterLayerConfig",value:function(e){var n=e.layer,l=e.visConfiguratorProps,o=e.layerConfiguratorProps,i=e.layerChannelConfigProps;return g.default.createElement(W,null,g.default.createElement(r,{label:"layer.color",collapsible:!0},g.default.createElement(p,l),g.default.createElement(w.ConfigGroupCollapsibleContent,null,g.default.createElement(X,(0,u.default)({},o,{channel:n.visualChannels.color})),g.default.createElement(a,(0,u.default)({channel:n.visualChannels.color},i)),n.visConfigSettings.colorAggregation.condition(n.config)?g.default.createElement(Z,(0,u.default)({},n.visConfigSettings.colorAggregation,i,{channel:n.visualChannels.color})):null,g.default.createElement(t,(0,u.default)({},n.visConfigSettings.opacity,l)))),g.default.createElement(r,{label:"layer.radius",collapsible:!0},g.default.createElement(t,(0,u.default)({},n.visConfigSettings.clusterRadius,l)),g.default.createElement(w.ConfigGroupCollapsibleContent,null,g.default.createElement(t,(0,u.default)({},n.visConfigSettings.radiusRange,l)))))}},{key:"_renderHeatmapLayerConfig",value:function(e){var n=e.layer,l=e.visConfiguratorProps,o=(e.layerConfiguratorProps,e.layerChannelConfigProps);return g.default.createElement(W,null,g.default.createElement(r,{label:"layer.color",collapsible:!0},g.default.createElement(p,l),g.default.createElement(w.ConfigGroupCollapsibleContent,null,g.default.createElement(t,(0,u.default)({},n.visConfigSettings.opacity,l)))),g.default.createElement(r,{label:"layer.radius"},g.default.createElement(t,(0,u.default)({},n.visConfigSettings.radius,l,{label:!1}))),g.default.createElement(r,{label:"layer.weight"},g.default.createElement(a,(0,u.default)({channel:n.visualChannels.weight},o))))}},{key:"_renderGridLayerConfig",value:function(e){return this._renderAggregationLayerConfig(e)}},{key:"_renderHexagonLayerConfig",value:function(e){return this._renderAggregationLayerConfig(e)}},{key:"_renderAggregationLayerConfig",value:function(e){var n=e.layer,l=e.visConfiguratorProps,o=e.layerConfiguratorProps,c=e.layerChannelConfigProps,d=n.config.visConfig.enable3d;return g.default.createElement(W,null,g.default.createElement(r,{label:"layer.color",collapsible:!0},g.default.createElement(p,l),g.default.createElement(w.ConfigGroupCollapsibleContent,null,g.default.createElement(X,(0,u.default)({},o,{channel:n.visualChannels.color})),g.default.createElement(a,(0,u.default)({channel:n.visualChannels.color},c)),n.visConfigSettings.colorAggregation.condition(n.config)?g.default.createElement(Z,(0,u.default)({},n.visConfigSettings.colorAggregation,c,{description:"layer.colorByDescription",channel:n.visualChannels.color})):null,n.visConfigSettings.percentile&&n.visConfigSettings.percentile.condition(n.config)?g.default.createElement(t,(0,u.default)({},n.visConfigSettings.percentile,l)):null,g.default.createElement(t,(0,u.default)({},n.visConfigSettings.opacity,l)))),g.default.createElement(r,{label:"layer.radius",collapsible:!0},g.default.createElement(t,(0,u.default)({},n.visConfigSettings.worldUnitSize,l)),g.default.createElement(w.ConfigGroupCollapsibleContent,null,g.default.createElement(t,(0,u.default)({},n.visConfigSettings.coverage,l)))),n.visConfigSettings.enable3d?g.default.createElement(r,(0,u.default)({},n.visConfigSettings.enable3d,l,{collapsible:!0}),g.default.createElement(t,(0,u.default)({},n.visConfigSettings.elevationScale,l,{label:"layerVisConfigs.heightMultiplier"})),g.default.createElement(w.ConfigGroupCollapsibleContent,null,g.default.createElement(a,(0,u.default)({},c,{channel:n.visualChannels.size,description:"layer.elevationByDescription",disabled:!d})),g.default.createElement(X,(0,u.default)({},o,{channel:n.visualChannels.size})),g.default.createElement(t,(0,u.default)({},n.visConfigSettings.sizeRange,l,{label:"layerVisConfigs.heightRange"})),g.default.createElement(i,(0,u.default)({},n.visConfigSettings.enableElevationZoomFactor,l,{label:"layerVisConfigs.enableHeightZoomFactor"})),n.visConfigSettings.sizeAggregation.condition(n.config)?g.default.createElement(Z,(0,u.default)({},n.visConfigSettings.sizeAggregation,c,{channel:n.visualChannels.size})):null,n.visConfigSettings.elevationPercentile.condition(n.config)?g.default.createElement(t,(0,u.default)({},n.visConfigSettings.elevationPercentile,l)):null)):null)}},{key:"_renderHexagonIdLayerConfig",value:function(e){var l=e.layer,o=e.visConfiguratorProps,c=e.layerConfiguratorProps,d=e.layerChannelConfigProps;return g.default.createElement(W,null,g.default.createElement(r,(0,u.default)({},l.visConfigSettings.filled,o,{label:"layer.fillColor",collapsible:!0}),l.config.colorField?g.default.createElement(p,o):g.default.createElement(s,c),g.default.createElement(w.ConfigGroupCollapsibleContent,null,g.default.createElement(a,(0,u.default)({channel:l.visualChannels.color},d)),g.default.createElement(t,(0,u.default)({},l.visConfigSettings.opacity,o,{disabled:!l.config.visConfig.filled})))),g.default.createElement(r,(0,u.default)({},l.visConfigSettings.outline,o,{collapsible:!0}),g.default.createElement(a,(0,u.default)({channel:l.visualChannels.strokeColor},d)),l.config.strokeColorField?g.default.createElement(p,(0,u.default)({},o,{property:"strokeColorRange"})):g.default.createElement(s,(0,u.default)({},o,{selectedColor:l.config.visConfig.strokeColor,property:"strokeColor"})),g.default.createElement(w.ConfigGroupCollapsibleContent,null,g.default.createElement(t,(0,u.default)({},l.visConfigSettings.strokeOpacity,o,{disabled:!l.config.visConfig.outline})),g.default.createElement(t,(0,u.default)({},l.visConfigSettings.thickness,o,{disabled:!l.config.visConfig.outline})))),g.default.createElement(r,{label:"layer.coverage",collapsible:!0},l.config.coverageField?g.default.createElement(t,(0,u.default)({},l.visConfigSettings.coverageRange,o,{label:!1})):g.default.createElement(t,(0,u.default)({},l.visConfigSettings.coverage,o,{label:!1})),g.default.createElement(w.ConfigGroupCollapsibleContent,null,g.default.createElement(a,(0,u.default)({channel:l.visualChannels.coverage},d)))),g.default.createElement(r,(0,u.default)({},l.visConfigSettings.enable3d,o,{collapsible:!0}),g.default.createElement(a,(0,u.default)({channel:l.visualChannels.size},d)),g.default.createElement(w.ConfigGroupCollapsibleContent,null,g.default.createElement(t,(0,u.default)({},l.visConfigSettings.elevationScale,o)),g.default.createElement(t,(0,u.default)({},l.visConfigSettings.sizeRange,o,{label:"layerVisConfigs.heightRange"})),g.default.createElement(i,(0,u.default)({},l.visConfigSettings.enableElevationZoomFactor,o)))),g.default.createElement(n,{id:l.id,fields:o.fields,updateLayerTextLabel:this.props.updateLayerTextLabel,textLabel:l.config.textLabel}))}},{key:"_renderArcLayerConfig",value:function(e){return this._renderLineLayerConfig(e)}},{key:"_renderLineLayerConfig",value:function(e){var n=e.layer,l=e.visConfiguratorProps,o=e.layerConfiguratorProps,i=e.layerChannelConfigProps;return g.default.createElement(W,null,g.default.createElement(r,{label:"layer.color",collapsible:!0},n.config.colorField?g.default.createElement(p,l):g.default.createElement(m,{layer:n,setColorUI:o.setColorUI,onChangeConfig:o.onChange,onChangeVisConfig:l.onChange}),g.default.createElement(w.ConfigGroupCollapsibleContent,null,g.default.createElement(a,(0,u.default)({channel:n.visualChannels.sourceColor},i)),g.default.createElement(t,(0,u.default)({},n.visConfigSettings.opacity,l)))),g.default.createElement(r,{label:"layer.stroke",collapsible:!0},n.config.sizeField?g.default.createElement(t,(0,u.default)({},n.visConfigSettings.sizeRange,l,{disabled:!n.config.sizeField,label:!1})):g.default.createElement(t,(0,u.default)({},n.visConfigSettings.thickness,l,{label:!1})),g.default.createElement(w.ConfigGroupCollapsibleContent,null,g.default.createElement(a,(0,u.default)({channel:n.visualChannels.size},i)))),n.visConfigSettings.elevationScale?g.default.createElement(r,{label:"layerVisConfigs.elevationScale",collapsible:!0},g.default.createElement(t,(0,u.default)({},n.visConfigSettings.elevationScale,l))):null)}},{key:"_renderTripLayerConfig",value:function(e){var n=e.layer,l=e.visConfiguratorProps,o=e.layerConfiguratorProps,i=e.layerChannelConfigProps,c=n.meta.featureTypes,d=void 0===c?{}:c;return g.default.createElement(W,null,g.default.createElement(r,{label:"layer.color",collapsible:!0},n.config.colorField?g.default.createElement(p,l):g.default.createElement(s,o),g.default.createElement(w.ConfigGroupCollapsibleContent,null,g.default.createElement(a,(0,u.default)({channel:n.visualChannels.color},i)),g.default.createElement(t,(0,u.default)({},n.visConfigSettings.opacity,l)))),g.default.createElement(r,(0,u.default)({},l,{label:"layer.strokeWidth",collapsible:!0}),n.config.sizeField?g.default.createElement(t,(0,u.default)({},n.visConfigSettings.sizeRange,l,{label:!1})):g.default.createElement(t,(0,u.default)({},n.visConfigSettings.thickness,l,{label:!1})),g.default.createElement(w.ConfigGroupCollapsibleContent,null,g.default.createElement(a,(0,u.default)({channel:n.visualChannels.size},i)))),g.default.createElement(r,(0,u.default)({},l,d.polygon?n.visConfigSettings.stroked:{},{label:"layer.trailLength",description:"layer.trailLengthDescription"}),g.default.createElement(t,(0,u.default)({},n.visConfigSettings.trailLength,l,{label:!1}))))}},{key:"_renderGeojsonLayerConfig",value:function(e){var n=e.layer,l=e.visConfiguratorProps,o=e.layerConfiguratorProps,c=e.layerChannelConfigProps,d=n.meta.featureTypes,f=void 0===d?{}:d,m=n.config.visConfig;return g.default.createElement(W,null,f.polygon||f.point?g.default.createElement(r,(0,u.default)({},n.visConfigSettings.filled,l,{label:"layer.fillColor",collapsible:!0}),n.config.colorField?g.default.createElement(p,l):g.default.createElement(s,o),g.default.createElement(w.ConfigGroupCollapsibleContent,null,g.default.createElement(a,(0,u.default)({channel:n.visualChannels.color},c)),g.default.createElement(t,(0,u.default)({},n.visConfigSettings.opacity,l)))):null,g.default.createElement(r,(0,u.default)({},n.visConfigSettings.stroked,l,{label:"layer.strokeColor",collapsible:!0}),n.config.strokeColorField?g.default.createElement(p,(0,u.default)({},l,{property:"strokeColorRange"})):g.default.createElement(s,(0,u.default)({},l,{selectedColor:n.config.visConfig.strokeColor,property:"strokeColor"})),g.default.createElement(w.ConfigGroupCollapsibleContent,null,g.default.createElement(a,(0,u.default)({channel:n.visualChannels.strokeColor},c)),g.default.createElement(t,(0,u.default)({},n.visConfigSettings.strokeOpacity,l)))),g.default.createElement(r,(0,u.default)({},l,f.polygon?n.visConfigSettings.stroked:{},{label:"layer.strokeWidth",collapsible:!0}),n.config.sizeField?g.default.createElement(t,(0,u.default)({},n.visConfigSettings.sizeRange,l,{label:!1})):g.default.createElement(t,(0,u.default)({},n.visConfigSettings.thickness,l,{label:!1})),g.default.createElement(w.ConfigGroupCollapsibleContent,null,g.default.createElement(a,(0,u.default)({channel:n.visualChannels.size},c)))),f.polygon?g.default.createElement(r,(0,u.default)({},l,n.visConfigSettings.enable3d,{disabled:!m.filled,collapsible:!0}),g.default.createElement(t,(0,u.default)({},n.visConfigSettings.elevationScale,l,{label:!1})),g.default.createElement(w.ConfigGroupCollapsibleContent,null,g.default.createElement(a,(0,u.default)({channel:n.visualChannels.height},c)),g.default.createElement(i,(0,u.default)({},n.visConfigSettings.fixedHeight,l)),g.default.createElement(i,(0,u.default)({},l,n.visConfigSettings.wireframe)))):null,f.point?g.default.createElement(r,{label:"layer.radius",collapsible:!0},n.config.radiusField?g.default.createElement(t,(0,u.default)({},n.visConfigSettings.radiusRange,l,{label:!1,disabled:!n.config.radiusField})):g.default.createElement(t,(0,u.default)({},n.visConfigSettings.radius,l,{label:!1,disabled:Boolean(n.config.radiusField)})),g.default.createElement(w.ConfigGroupCollapsibleContent,null,g.default.createElement(a,(0,u.default)({channel:n.visualChannels.radius},c)))):null)}},{key:"_render3DLayerConfig",value:function(e){var n=e.layer,a=e.visConfiguratorProps;return g.default.createElement(g.Fragment,null,g.default.createElement(r,{label:"layer.3DModel",collapsible:!0},g.default.createElement(b.Input,{type:"file",accept:".glb,.gltf",onChange:function(e){if(e.target.files&&e.target.files[0]){var t=URL.createObjectURL(e.target.files[0]);a.onChange({scenegraph:t})}}})),g.default.createElement(r,{label:"layer.3DModelOptions",collapsible:!0},g.default.createElement(t,(0,u.default)({},n.visConfigSettings.sizeScale,a,{disabled:!1})),g.default.createElement(t,(0,u.default)({},n.visConfigSettings.angleX,a,{disabled:!1})),g.default.createElement(t,(0,u.default)({},n.visConfigSettings.angleY,a,{disabled:!1})),g.default.createElement(t,(0,u.default)({},n.visConfigSettings.angleZ,a,{disabled:!1}))))}},{key:"_renderS2LayerConfig",value:function(e){var n=e.layer,l=e.visConfiguratorProps,o=e.layerConfiguratorProps,c=e.layerChannelConfigProps,d=n.config.visConfig;return g.default.createElement(W,null,g.default.createElement(r,(0,u.default)({},n.visConfigSettings.filled,l,{label:"layer.fillColor",collapsible:!0}),n.config.colorField?g.default.createElement(p,l):g.default.createElement(s,o),g.default.createElement(w.ConfigGroupCollapsibleContent,null,g.default.createElement(a,(0,u.default)({channel:n.visualChannels.color},c)),g.default.createElement(t,(0,u.default)({},n.visConfigSettings.opacity,l)))),g.default.createElement(r,(0,u.default)({},n.visConfigSettings.stroked,l,{label:"layer.strokeColor",collapsible:!0}),n.config.strokeColorField?g.default.createElement(p,(0,u.default)({},l,{property:"strokeColorRange"})):g.default.createElement(s,(0,u.default)({},l,{selectedColor:n.config.visConfig.strokeColor,property:"strokeColor"})),g.default.createElement(w.ConfigGroupCollapsibleContent,null,g.default.createElement(a,(0,u.default)({channel:n.visualChannels.strokeColor},c)))),g.default.createElement(r,(0,u.default)({},l,{label:"layer.strokeWidth",collapsible:!0}),n.config.sizeField?g.default.createElement(t,(0,u.default)({},n.visConfigSettings.sizeRange,l,{label:!1})):g.default.createElement(t,(0,u.default)({},n.visConfigSettings.thickness,l,{label:!1})),g.default.createElement(w.ConfigGroupCollapsibleContent,null,g.default.createElement(a,(0,u.default)({channel:n.visualChannels.size},c)))),g.default.createElement(r,(0,u.default)({},l,n.visConfigSettings.enable3d,{disabled:!d.filled,collapsible:!0}),g.default.createElement(a,(0,u.default)({channel:n.visualChannels.height},c)),g.default.createElement(t,(0,u.default)({},n.visConfigSettings.elevationScale,l,{label:"layerVisConfigs.elevationScale"})),g.default.createElement(w.ConfigGroupCollapsibleContent,null,g.default.createElement(t,(0,u.default)({},n.visConfigSettings.heightRange,l,{label:"layerVisConfigs.heightRange"})),g.default.createElement(i,(0,u.default)({},n.visConfigSettings.enableElevationZoomFactor,l)),g.default.createElement(i,(0,u.default)({},l,n.visConfigSettings.wireframe)))))}},{key:"render",value:function(){var t=this,n=this.props,a=n.layer,i=n.datasets,u=n.updateLayerConfig,c=n.layerTypeOptions,d=n.updateLayerType,f=n.disableTypeSelect,s=void 0!==f&&f,p=a.config.dataId?i[a.config.dataId]:{},m=p.fields,y=void 0===m?[]:m,v=p.fieldPairs,b=void 0===v?void 0:v,h=a.config,E=G(this.props),_=V(this.props),C=U(this.props),O=H(i,a),P=a.type&&"_render".concat((0,F.capitalizeFirstLetter)(a.type),"LayerConfig");return g.default.createElement(B,null,a.layerInfoModal?g.default.createElement(j.default,{onClick:function(){return t.props.openModal(a.layerInfoModal)}}):null,g.default.createElement(r,{label:"layer.basic",collapsible:!0,expanded:!a.hasAllColumns()},g.default.createElement(o,{selected:a.type,disabled:s,options:c,onSelect:d}),g.default.createElement(w.ConfigGroupCollapsibleContent,null,g.default.createElement(e,{datasets:i,id:a.id,dataId:h.dataId,onSelect:function(e){return u({dataId:e})}}),g.default.createElement(l,{columnPairs:a.columnPairs,columns:a.config.columns,assignColumnPairs:a.assignColumnPairs.bind(a),assignColumn:a.assignColumn.bind(a),columnLabels:a.columnLabels,fields:y,fieldPairs:b,updateLayerConfig:u})),a.errorMessage?g.default.createElement(D.default,{errorMessage:a.errorMessage}):null),P&&this[P]&&this[P]({layer:a,dataset:O,visConfiguratorProps:E,layerChannelConfigProps:C,layerConfiguratorProps:_}))}}]),h}(g.Component)}function K(e){return function(t){var n=t.layer,r=t.channel,a=t.onChange,l=t.fields,o=t.description,u=r.channelScaleType,c=r.field,d=r.key,f=r.property,s=r.scale,p=r.defaultMeasure,m=r.supportedFieldTypes||T.CHANNEL_SCALE_SUPPORTED_FIELDS[u],y=l.filter((function(e){var t=e.type;return m.includes(t)})),v=n.getScaleOptions(r.key),b=!n.isAggregated&&n.config[s]&&v.length>1;return g.default.createElement(e,{channel:r.key,description:o||"layerConfiguration.defaultDescription",fields:y,id:n.id,key:"".concat(d,"-channel-selector"),property:f,placeholder:p||"placeholder.selectField",scaleOptions:v,scaleType:s?n.config[s]:null,selectedField:n.config[c],showScale:b,updateField:function(e){return a((0,i.default)({},c,e),d)},updateScale:function(e){return a((0,i.default)({},s,e),d)}})}}t.getLayerChannelConfigProps=U,Y.deps=[P.default,x.default,M.default,w.default,K,_.default,C.default,S.default,k.LayerColorSelectorFactory,k.LayerColorRangeSelectorFactory,k.ArcLayerColorSelectorFactory],K.deps=[E.default];var X=function(e){var t=e.channel,n=e.layer,r=e.onChange,a=t.scale,l=t.key,o=n.getScaleOptions(l);return Array.isArray(o)&&o.length>1?g.default.createElement(O.default,{label:"".concat(l," Scale"),options:o,scaleType:n.config[a],onSelect:function(e){return r((0,i.default)({},a,e),l)}}):null};t.AggregationScaleSelector=X;var Z=function(e){var t=e.channel,n=e.layer,r=e.onChange,a=t.field,l=t.aggregation,o=t.key,u=n.config[a],c=n.config.visConfig,d=n.getAggregationOptions(o),f=T.AGGREGATION_TYPE_OPTIONS.filter((function(e){var t=e.id;return d.includes(t)})),s=l?f.find((function(e){return e.id===c[l]})):[];return g.default.createElement(b.SidePanelSection,null,g.default.createElement(b.PanelLabel,null,g.default.createElement(v.FormattedMessage,{id:"layer.aggregateBy",values:{field:u.displayName}})),g.default.createElement(h.default,{selectedItems:s,options:f,displayOption:"label",getOptionValue:"id",multiSelect:!1,searchable:!1,onChange:function(e){return r({visConfig:N(N({},n.config.visConfig),{},(0,i.default)({},l,e))},t.key)}}))};t.AggregationTypeSelector=Z},1261:function(e,t,n){"use strict";var r=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(0)),l=n(41),o=r(n(183)),i=n(19),u=n(13),c=function(e){var t=e.label,n=e.onSelect,r=e.options,c=e.scaleType,d=e.disabled,f=void 0!==d&&d;return a.default.createElement(l.SidePanelSection,null,a.default.createElement(l.PanelLabel,null,a.default.createElement(i.FormattedMessage,{id:t?"scale.".concat((0,u.camelize)(t)):"misc.scale",defaultMessage:t})),a.default.createElement(o.default,{disabled:f,selectedItems:c,options:r,multiSelect:!1,searchable:!1,onChange:n}))};t.default=c},1262:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,o=r(n(6)),i=m(n(0)),u=m(n(5)),c=r(n(1263)),d=r(n(1259)),f=r(n(183)),s=n(41);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}var g=u.default.div(l||(l=(0,o.default)(["\n  .item-selector .item-selector__dropdown {\n    padding: 4px 10px 4px 10px;\n  }\n"])));b.deps=[d.default,c.default];var y=function(e){return e.label},v=function(e){return e.id};function b(e,t){return(0,u.withTheme)((function(n){var r=n.selected,a=n.options,l=n.onSelect,o=n.disabled,u=(0,i.useMemo)((function(){return a.find((function(e){return e.id===r}))}),[a,r]);return i.default.createElement(s.SidePanelSection,null,i.default.createElement(g,{className:"layer-config__type"},i.default.createElement(f.default,{selectedItems:u,options:a,multiSelect:!1,disabled:o,placeholder:"placeholder.selectType",onChange:l,getOptionValue:v,filterOption:"label",displayOption:y,DropDownLineItemRenderComponent:e,DropDownRenderComponent:t})))}))}var h=b;t.default=h},1263:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.LayerTypeDropdownListFactory=g,t.default=void 0;var l,o,i=r(n(6)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),c=r(n(5)),d=r(n(25)),f=n(301);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}var p=c.default.div(l||(l=(0,i.default)(["\n  ",";\n  background-color: ",";\n  border-top: 1px solid ",";\n  display: flex;\n  flex-wrap: wrap;\n  align-items: flex-start;\n  padding: ","px 0 0 ","px;\n"])),(function(e){return e.theme.dropdownList}),(function(e){return e.theme.dropdownListBgd}),(function(e){return e.theme.dropdownListBorderTop}),(function(e){return e.theme.layerTypeIconPdL}),(function(e){return e.theme.layerTypeIconPdL})),m=c.default.div(o||(o=(0,i.default)(["\n  padding-bottom: ","px;\n  padding-right: ","px;\n\n  &.disabled {\n    pointer-events: none;\n    opacity: 0.3;\n  }\n\n  &.selected {\n    .layer-type-selector__item__icon {\n      border: 1px solid #caf2f4;\n    }\n  }\n\n  :hover,\n  &.selected {\n    cursor: pointer;\n    .layer-type-selector__item__icon {\n      color: ",";\n    }\n\n    .layer-type-selector__item__label {\n      color: ",";\n    }\n  }\n"])),(function(e){return e.theme.layerTypeIconPdL}),(function(e){return e.theme.layerTypeIconPdL}),(function(e){return e.theme.activeColor}),(function(e){return e.theme.textColor}));function g(){return function(e){var t=e.onOptionSelected,n=e.options,r=e.selectedItems,a=e.selectionIndex,l=e.customListItemComponent,o=(0,u.useCallback)((function(e,n){e.preventDefault(),t(n,e)}),[t]),i=l;return u.default.createElement(p,{className:f.classList.list},n.map((function(e,t){return u.default.createElement(m,{className:(0,d.default)("layer-type-selector__item",{selected:r.find((function(t){return t.id===e.id})),hover:a===t,disabled:e.disabled}),key:"".concat(e.id,"_").concat(t),onMouseDown:function(t){return o(t,e)},onClick:function(t){return o(t,e)}},u.default.createElement(i,{value:e,isTile:!0}))})))}}var y=g;t.default=y},1264:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,o=r(n(14)),i=r(n(8)),u=r(n(9)),c=r(n(11)),d=r(n(12)),f=r(n(7)),s=r(n(6)),p=x(n(0)),m=n(19),g=r(n(5)),y=n(41),v=n(55),b=r(n(642)),h=r(n(268)),E=r(n(183)),_=x(n(887)),C=r(n(267)),O=r(n(335)),P=n(4);function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function x(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function w(e){var t=function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}();return function(){var n,r=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,d.default)(this,n)}}var M=g.default.div(l||(l=(0,s.default)(["\n  display: flex;\n  justify-content: space-between;\n  line-height: 11px;\n  margin-bottom: 8px;\n"])));function k(e,t,n,r){return function(a){(0,c.default)(d,a);var l=w(d);function d(){return(0,i.default)(this,d),l.apply(this,arguments)}return(0,u.default)(d,[{key:"render",value:function(){var a=this,l=this.props,i=l.updateLayerTextLabel,u=l.textLabel,c=l.fields,d=u.map((function(e){return e.field&&e.field.name})).filter((function(e){return Boolean(e)}));return p.default.createElement(t,{label:"panel.text.label",collapsible:!0},p.default.createElement(_.ConfigGroupCollapsibleHeader,null,p.default.createElement(n,{fields:c,value:d,onSelect:function(e){return i("all","fields",e)},multiSelect:!0})),p.default.createElement(_.ConfigGroupCollapsibleContent,null,u.map((function(t,l){return p.default.createElement("div",{key:t.field?t.field.name:"null-".concat(l)},p.default.createElement(y.PanelLabel,null,p.default.createElement(m.FormattedMessage,{id:"panel.text.labelWithId",values:{labelId:l+1}})),p.default.createElement(y.SidePanelSection,null,p.default.createElement(n,{fields:c,value:t.field&&t.field.name||"placeholder.selectField",placeholder:"placeholder.empty",onSelect:function(e){return i(l,"field",e)},erasable:!0})),p.default.createElement(y.SidePanelSection,null,p.default.createElement(y.PanelLabel,null,p.default.createElement(m.FormattedMessage,{id:"panel.text.fontSize"})),p.default.createElement(e,(0,o.default)({},P.LAYER_TEXT_CONFIGS.fontSize,{value1:t.size,isRanged:!1,onChange:function(e){return i(l,"size",e[1])}}))),p.default.createElement(y.SidePanelSection,null,p.default.createElement(y.PanelLabel,null,p.default.createElement(m.FormattedMessage,{id:"panel.text.fontColor"})),p.default.createElement(r,{colorSets:[{selectedColor:t.color,setColor:function(e){return i(l,"color",e)}}]})),p.default.createElement(y.SidePanelSection,null,p.default.createElement(y.PanelLabel,null,p.default.createElement(m.FormattedMessage,{id:"panel.text.outlineWidth"})),p.default.createElement(e,(0,o.default)({},P.LAYER_TEXT_CONFIGS.outlineWidth,{value1:t.outlineWidth,isRanged:!1,onChange:function(e){return i(l,"outlineWidth",e[1])}}))),p.default.createElement(y.SidePanelSection,null,p.default.createElement(y.PanelLabel,null,p.default.createElement(m.FormattedMessage,{id:"panel.text.outlineColor"})),p.default.createElement(r,{colorSets:[{selectedColor:t.outlineColor,setColor:function(e){return i(l,"outlineColor",e)}}],useOpacity:!0})),p.default.createElement(y.SidePanelSection,null,p.default.createElement(M,null,p.default.createElement(y.PanelLabel,null,p.default.createElement(m.FormattedMessage,{id:"panel.text.backgroundColor"})),p.default.createElement(h.default,{checked:t.background,id:"".concat(a.props.id,"-textBackgroundEnabled-").concat(l),onChange:function(){return i(l,"background",!t.background)}})),p.default.createElement(r,{colorSets:[{selectedColor:t.backgroundColor,setColor:function(e){return i(l,"backgroundColor",e)}}],useOpacity:!0,disabled:!t.background})),p.default.createElement(y.SidePanelSection,null,p.default.createElement(y.SpaceBetweenFlexbox,null,p.default.createElement(y.SBFlexboxItem,null,p.default.createElement(y.PanelLabel,null,p.default.createElement(m.FormattedMessage,{id:"panel.text.textAnchor"})),p.default.createElement(E.default,(0,o.default)({},P.LAYER_TEXT_CONFIGS.textAnchor,{selectedItems:t.anchor,onChange:function(e){return i(l,"anchor",e)}}))),p.default.createElement(y.SBFlexboxItem,null,p.default.createElement(y.PanelLabel,null,p.default.createElement(m.FormattedMessage,{id:"panel.text.alignment"})),p.default.createElement(E.default,(0,o.default)({},P.LAYER_TEXT_CONFIGS.textAlignment,{selectedItems:t.alignment,onChange:function(e){return i(l,"alignment",e)}}))))))})),p.default.createElement(y.SidePanelSection,null,p.default.createElement(y.Button,{link:!0,onClick:function(){return i(u.length,"",null)}},p.default.createElement(v.Add,{height:"12px"}),p.default.createElement(m.FormattedMessage,{id:"panel.text.addMoreLabel"})))))}}]),d}(p.Component)}k.deps=[C.default,_.default,O.default,b.default];var j=k;t.default=j},1265:function(e,t,n){"use strict";var r=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,l,o,i=r(n(6)),u=r(n(0)),c=n(101),d=r(n(5)),f=n(13),s=n(4),p=d.default.div(a||(a=(0,i.default)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  padding: 12px;\n\n  :hover {\n    cursor: pointer;\n  }\n"]))),m=d.default.div(l||(l=(0,i.default)(["\n  display: flex;\n  flex-grow: 1;\n  flex-direction: column;\n  justify-content: space-between;\n"]))),g=d.default.div(o||(o=(0,i.default)(["\n  flex-grow: 1;\n  height: ",";\n  border-width: 1px;\n  border-style: solid;\n"])),"8px"),y=function(e){var t=e.selectedColor,n=e.onSelectColor;return u.default.createElement(p,{className:"single-color-palette"},s.Themes.map((function(e,r){return u.default.createElement(m,{key:e,className:"single-color-palette__column"},(0,c.range)(1,23,1).map((function(r,a){return u.default.createElement(g,{className:"single-color-palette__block",style:{backgroundColor:s.ColorsByTheme[e][r],borderColor:t===s.ColorsByTheme[e][r].toUpperCase()?"white":s.ColorsByTheme[e][r]},key:"".concat(e,"_").concat(r),selected:t===s.ColorsByTheme[e][r].toUpperCase(),onClick:function(t){return n((0,f.hexToRgb)(s.ColorsByTheme[e][r]),t)}})})))})))};t.default=y},1266:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.PaletteConfig=t.ColorPaletteGroup=t.ALL_TYPES=t.ALL_STEPS=void 0;var l,o,i,u,c=r(n(8)),d=r(n(9)),f=r(n(10)),s=r(n(11)),p=r(n(12)),m=r(n(7)),g=r(n(1)),y=r(n(6)),v=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),b=r(n(153)),h=r(n(5)),E=n(47),_=r(n(183)),C=n(41),O=r(n(268)),P=r(n(643)),S=r(n(1267)),x=n(4),w=n(13),M=n(19);function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function j(e){var t=function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}();return function(){var n,r=(0,m.default)(e);if(t){var a=(0,m.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,p.default)(this,n)}}var D=(0,b.default)(x.COLOR_RANGES.map((function(e){return e.type})).filter((function(e){return e})).concat(["all","custom"]));t.ALL_TYPES=D;var F=(0,b.default)(x.COLOR_RANGES.map((function(e){return e.colors.length}))).sort(w.numberSort);t.ALL_STEPS=F;var T=h.default.div(l||(l=(0,y.default)(["\n  padding: 12px 12px 0 12px;\n"]))),L=h.default.div.attrs({className:"color-range-selector"})(o||(o=(0,y.default)(["\n  padding-bottom: 12px;\n"]))),I=h.default.div(i||(i=(0,y.default)(["\n  margin-bottom: 8px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  .color-palette__config__label {\n    flex-grow: 1;\n  }\n  .color-palette__config__select {\n    flex-grow: 1;\n  }\n  .item-selector .item-selector__dropdown {\n    ",";\n  }\n"])),(function(e){return e.theme.secondaryInput})),A={type:{type:"select",options:D},steps:{type:"select",options:F},reversed:{type:"switch",options:[!0,!1]},custom:{label:"customPalette",type:"switch",options:[!0,!1]}},N=function(e){(0,s.default)(n,e);var t=j(n);function n(){var e;(0,c.default)(this,n);for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a)),(0,g.default)((0,f.default)(e),"configTypeSelector",(function(e){return e.colorPaletteUI.colorRangeConfig.type})),(0,g.default)((0,f.default)(e),"configStepSelector",(function(e){return e.colorPaletteUI.colorRangeConfig.steps})),(0,g.default)((0,f.default)(e),"filteredColorRange",(0,E.createSelector)(e.configTypeSelector,e.configStepSelector,(function(e,t){return x.COLOR_RANGES.filter((function(n){var r="all"===e||e===n.type,a=Number(t)===n.colors.length;return r&&a}))}))),(0,g.default)((0,f.default)(e),"_updateConfig",(function(t){var n=t.key,r=t.value;e._setColorRangeConfig((0,g.default)({},n,r))})),(0,g.default)((0,f.default)(e),"_onSetCustomPalette",(function(t){e.props.setColorPaletteUI({customPalette:t})})),(0,g.default)((0,f.default)(e),"_setColorRangeConfig",(function(t){e.props.setColorPaletteUI({colorRangeConfig:t})})),(0,g.default)((0,f.default)(e),"_onCustomPaletteCancel",(function(){e.props.setColorPaletteUI({showSketcher:!1,colorRangeConfig:{custom:!1}})})),(0,g.default)((0,f.default)(e),"_onToggleSketcher",(function(t){e.props.setColorPaletteUI({showSketcher:t})})),e}return(0,d.default)(n,[{key:"render",value:function(){var e=this,t=this.props.colorPaletteUI,n=t.customPalette,r=t.showSketcher,a=t.colorRangeConfig,l=this.filteredColorRange(this.props);return v.default.createElement(L,null,v.default.createElement(T,null,(a.custom?["custom"]:Object.keys(a)).map((function(t){return v.default.createElement(R,{key:t,label:A[t].label||t,config:A[t],value:a[t],onChange:function(n){return e._updateConfig({key:t,value:n})}})}))),a.custom?v.default.createElement(S.default,{customPalette:n,showSketcher:r,onApply:this.props.onSelectColorRange,onToggleSketcher:this._onToggleSketcher,setCustomPalette:this._onSetCustomPalette,onCancel:this._onCustomPaletteCancel}):v.default.createElement(W,{colorRanges:l,onSelect:this.props.onSelectColorRange,selected:this.props.selectedColorRange,reversed:a.reversed}))}}]),n}(v.Component);t.default=N,(0,g.default)(N,"defaultProps",{onSelectColorRange:function(){},setColorPaletteUI:function(){}});var R=function(e){var t=e.label,n=e.value,r=e.config,a=r.type,l=r.options,o=e.onChange;return v.default.createElement(I,{className:"color-palette__config",onClick:function(e){return e.stopPropagation()}},v.default.createElement("div",{className:"color-palette__config__label"},v.default.createElement(C.PanelLabel,null,v.default.createElement(M.FormattedMessage,{id:"color.".concat(t)}))),"select"===a&&v.default.createElement("div",{className:"color-palette__config__select"},v.default.createElement(_.default,{selectedItems:n,options:l,multiSelect:!1,searchable:!1,onChange:o})),"switch"===a&&v.default.createElement(O.default,{checked:n,id:"".concat(t,"-toggle"),onChange:function(){return o(!n)},secondary:!0}))};t.PaletteConfig=R;var B=h.default.div.attrs({className:"color-palette-outer"})(u||(u=(0,y.default)(["\n  padding: 0 8px;\n  :hover {\n    background-color: ",";\n    cursor: pointer;\n  }\n"])),(function(e){return e.theme.panelBackgroundHover})),W=function(e){var t=e.reversed,n=e.onSelect,r=e.selected,a=e.colorRanges;return v.default.createElement("div",{className:"color-palette__group"},a.map((function(e,a){return v.default.createElement(B,{key:"".concat(e.name,"-").concat(a),onClick:function(r){return n(t?(0,w.reverseColorRange)(!0,e):e,r)}},v.default.createElement(P.default,{colors:e.colors,isReversed:t,isSelected:e.name===r.name&&t===Boolean(r.reversed)}))})))};t.ColorPaletteGroup=W},1267:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DragHandle=void 0;var l,o,i,u,c,d,f,s,p,m=r(n(21)),g=r(n(8)),y=r(n(9)),v=r(n(10)),b=r(n(11)),h=r(n(12)),E=r(n(7)),_=r(n(1)),C=r(n(6)),O=L(n(0)),P=r(n(25)),S=L(n(5)),x=n(601),w=r(n(554)),M=n(41),k=n(55),j=r(n(643)),D=r(n(644)),F=n(13);function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function L(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function I(e){var t=function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}();return function(){var n,r=(0,E.default)(e);if(t){var a=(0,E.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,h.default)(this,n)}}var A=(0,S.css)(l||(l=(0,C.default)(["\n  .layer__drag-handle {\n    color: ",";\n    opacity: 1;\n    cursor: move;\n  }\n"])),(function(e){return e.theme.textColorHl})),N=S.default.div(o||(o=(0,C.default)(["\n  display: flex;\n  align-items: center;\n  padding-top: 6px;\n  padding-bottom: 6px;\n  z-index: ",";\n\n  :not(.sorting) {\n    :hover {\n      background-color: ",";\n      ",";\n    }\n  }\n\n  &.sorting-colors {\n    background-color: ",";\n    ",";\n  }\n"])),(function(e){return e.theme.dropdownWrapperZ+1}),(function(e){return e.theme.panelBackgroundHover}),A,(function(e){return e.theme.panelBackgroundHover}),A),R=S.default.div(i||(i=(0,C.default)(["\n  display: flex;\n  align-items: center;\n  opacity: 0;\n"]))),B=S.default.div(u||(u=(0,C.default)(["\n  color: ",";\n  svg {\n    :hover {\n      color: ",";\n    }\n  }\n  height: 12px;\n  margin-left: auto;\n  margin-right: 12px;\n  :hover {\n    cursor: pointer;\n  }\n"])),(function(e){return e.theme.textColor}),(function(e){return e.theme.subtextColorActive})),W=S.default.div(c||(c=(0,C.default)(["\n  width: calc(100% - 16px);\n  height: 1px;\n  background-color: ",";\n  margin-top: 8px;\n  margin-left: 8px;\n"])),(function(e){return e.theme.labelColor})),z=S.default.div.attrs({className:"custom-palette__swatch"})(d||(d=(0,C.default)(["\n  background-color: ",";\n  width: 32px;\n  height: 18px;\n  display: inline-block;\n  :hover {\n    box-shadow: ",";\n    cursor: pointer;\n  }\n"])),(function(e){return e.color}),(function(e){return e.theme.boxShadow})),H=S.default.div(f||(f=(0,C.default)(["\n  padding: 0 8px;\n  :hover {\n    background-color: ",";\n    cursor: pointer;\n  }\n"])),(function(e){return e.theme.panelBackgroundHover})),V=S.default.div(s||(s=(0,C.default)(["\n  margin-top: 11px;\n  display: flex;\n  direction: rtl;\n"]))),G=S.default.div(p||(p=(0,C.default)(["\n  margin-left: 12px;\n  input {\n    color: ",";\n    font-size: 10px;\n  }\n"])),(function(e){return e.theme.textColorHl})),U=(0,x.SortableElement)((function(e){var t=e.children,n=e.isSorting;return O.default.createElement(N,{className:(0,P.default)("custom-palette__sortable-items",{sorting:n})},t)})),Y=(0,x.SortableContainer)((function(e){var t=e.children,n=e.className;return O.default.createElement("div",{className:n},t)})),K=(0,x.SortableHandle)((function(e){var t=e.className,n=e.children;return O.default.createElement(R,{className:t},n)}));t.DragHandle=K;var X=function(e){(0,b.default)(n,e);var t=I(n);function n(){var e;(0,g.default)(this,n);for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a)),(0,_.default)((0,v.default)(e),"state",{isSorting:!1}),(0,_.default)((0,v.default)(e),"root",(0,O.createRef)()),(0,_.default)((0,v.default)(e),"_onPickerUpdate",(function(t){var n=e.props.customPalette.colors,r=(0,m.default)(n);r[e.props.showSketcher]=t.hex,e._setColorPaletteUI(r)})),(0,_.default)((0,v.default)(e),"_onColorDelete",(function(t){var n=e.props.customPalette.colors,r=(0,m.default)(n);r.length>1&&r.splice(t,1),e._setColorPaletteUI(r)})),(0,_.default)((0,v.default)(e),"_onColorAdd",(function(){var t=e.props.customPalette.colors,n=[].concat((0,m.default)(t),[t[t.length-1]]);e._setColorPaletteUI(n)})),(0,_.default)((0,v.default)(e),"_onSwatchClick",(function(t){e.props.onToggleSketcher(t)})),(0,_.default)((0,v.default)(e),"_onSwatchClose",(function(){e.props.onToggleSketcher(!1)})),(0,_.default)((0,v.default)(e),"_onApply",(function(t){t.stopPropagation(),t.preventDefault(),e.props.onCancel(),e.props.onApply(e.props.customPalette,t)})),(0,_.default)((0,v.default)(e),"_onSortEnd",(function(t){var n=t.oldIndex,r=t.newIndex,a=e.props.customPalette.colors,l=(0,F.arrayMove)(a,n,r);e._setColorPaletteUI(l),e.setState({isSorting:!1})})),(0,_.default)((0,v.default)(e),"_onSortStart",(function(){e.setState({isSorting:!0})})),(0,_.default)((0,v.default)(e),"_inputColorHex",(function(t,n){var r=n.target.value,a=e.props.customPalette.colors,l=(0,m.default)(a);l[t]=r.toUpperCase(),e._setColorPaletteUI(l)})),e}return(0,y.default)(n,[{key:"_setColorPaletteUI",value:function(e){this.props.setCustomPalette({colors:e})}},{key:"render",value:function(){var e=this,t=this.props.customPalette.colors;return O.default.createElement("div",{className:"custom-palette-panel",ref:this.root},O.default.createElement(H,null,O.default.createElement(j.default,{colors:t})),O.default.createElement(Y,{className:"custom-palette-container",onSortEnd:this._onSortEnd,onSortStart:this._onSortStart,lockAxis:"y",helperClass:"sorting-colors",useDragHandle:!0},t.map((function(t,n){return O.default.createElement(U,{key:n,index:n,isSorting:e.state.isSorting},O.default.createElement(K,{className:"layer__drag-handle"},O.default.createElement(k.VertDots,{height:"20px"})),O.default.createElement(z,{color:t,onClick:function(){return e._onSwatchClick(n)}}),O.default.createElement(G,null,O.default.createElement(M.InlineInput,{type:"text",className:"custom-palette-hex__input",value:t.toUpperCase(),onClick:function(e){e.stopPropagation()},onChange:function(t){return e._inputColorHex(n,t)},id:"input-layer-label-".concat(n)})),O.default.createElement(B,{onClick:function(){return e._onColorDelete(n)}},O.default.createElement(k.Trash,{className:"trashbin"})))}))),O.default.createElement(M.Button,{className:"add-step__button",link:!0,onClick:this._onColorAdd},"+ Add Step"),O.default.createElement(W,null),O.default.createElement(V,null,O.default.createElement(M.Button,{className:"confirm-apply__button",link:!0,onClick:this._onApply},"Confirm"),O.default.createElement(M.Button,{link:!0,onClick:this.props.onCancel},"Cancel")),O.default.createElement(w.default,{isOpened:!1!==this.props.showSketcher,left:280,top:-300},O.default.createElement(D.default,{color:t[this.props.showSketcher],onChange:this._onPickerUpdate,onSwatchClose:this._onSwatchClose})))}}]),n}(O.Component);t.default=X},1268:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.ArcLayerColorSelectorFactory=s,t.LayerColorRangeSelectorFactory=f,t.LayerColorSelectorFactory=d;var l=r(n(1)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),i=r(n(642)),u=n(41);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e){return function(t){var n=t.layer,r=t.onChange,a=t.selectedColor,i=t.property,c=void 0===i?"color":i,d=t.setColorUI,f=(0,o.useCallback)((function(e){return d(c,e)}),[d,c]);return o.default.createElement(u.SidePanelSection,null,o.default.createElement(e,{colorSets:[{selectedColor:a||n.config.color,setColor:function(e){return r((0,l.default)({},c,e))}}],colorUI:n.config.colorUI[c],setColorUI:f}))}}function f(e){return function(t){var n=t.layer,r=t.onChange,a=t.property,i=void 0===a?"colorRange":a,c=t.setColorUI,d=(0,o.useCallback)((function(e){return c(i,e)}),[c,i]);return o.default.createElement(u.SidePanelSection,null,o.default.createElement(e,{colorSets:[{selectedColor:n.config.visConfig[i],isRange:!0,setColor:function(e){return r((0,l.default)({},i,e))}}],colorUI:n.config.colorUI[i],setColorUI:d}))}}function s(e){return function(t){var n=t.layer,r=t.onChangeConfig,a=t.onChangeVisConfig,l=t.property,i=void 0===l?"color":l,c=t.setColorUI,d=(0,o.useCallback)((function(e){return c(i,e)}),[c,i]);return o.default.createElement(u.SidePanelSection,null,o.default.createElement(e,{colorSets:[{selectedColor:n.config.color,setColor:function(e){return r({color:e})},label:"Source"},{selectedColor:n.config.visConfig.targetColor||n.config.color,setColor:function(e){return a({targetColor:e})},label:"Target"}],colorUI:n.config.colorUI[i],setColorUI:d}))}}d.deps=[i.default],f.deps=[i.default],s.deps=[i.default]},1269:function(e,t,n){"use strict";var r=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.HowToButton=void 0;var a,l=r(n(6)),o=r(n(0)),i=r(n(5)),u=n(19),c=n(41),d=i.default.div(a||(a=(0,l.default)(["\n  position: absolute;\n  right: 12px;\n  top: -4px;\n"]))),f=function(e){var t=e.onClick;return o.default.createElement(d,null,o.default.createElement(c.Button,{link:!0,small:!0,onClick:t},o.default.createElement(u.FormattedMessage,{id:"layerConfiguration.howTo"})))};t.HowToButton=f;var s=f;t.default=s},1270:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.geoCoderPanelSelector=t.default=t.bottomWidgetSelector=t.DEFAULT_KEPLER_GL_PROPS=void 0,t.getVisibleDatasets=$,t.isViewportDisjointed=t.isSplitSelector=void 0,t.makeGetActionCreators=se,t.mapStateSelector=t.mapFieldsSelector=void 0,t.mapStateToProps=ue,t.sidePanelSelector=t.plotContainerSelector=t.notificationPanelSelector=t.modalContainerSelector=void 0;var l,o=r(n(24)),i=r(n(14)),u=r(n(21)),c=r(n(18)),d=r(n(8)),f=r(n(9)),s=r(n(10)),p=r(n(11)),m=r(n(12)),g=r(n(7)),y=r(n(1)),v=r(n(6)),b=V(n(0)),h=r(n(71)),E=n(354),_=V(n(5)),C=n(47),O=n(1991),P=n(56),S=n(19),x=n(266),w=n(20),M=n(4),k=r(n(1271)),j=r(n(899)),D=r(n(903)),F=r(n(1320)),T=r(n(1325)),L=r(n(1353)),I=r(n(1354)),A=r(n(1355)),N=r(n(1357)),R=r(n(1363)),B=n(388),W=n(13),z=n(44);function H(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(H=function(e){return e?n:t})(e)}function V(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=H(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function G(e){var t=function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}();return function(){var n,r=(0,g.default)(e);if(t){var a=(0,g.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,m.default)(this,n)}}function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){(0,y.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var K=_.default.div(l||(l=(0,v.default)(["\n  font-family: ",";\n  font-weight: ",";\n  font-size: ",";\n  line-height: ",";\n\n  *,\n  *:before,\n  *:after {\n    -webkit-box-sizing: border-box;\n    -moz-box-sizing: border-box;\n    box-sizing: border-box;\n  }\n\n  ul {\n    margin: 0;\n    padding: 0;\n  }\n\n  li {\n    margin: 0;\n  }\n\n  a {\n    text-decoration: none;\n    color: ",";\n  }\n\n  .maplibregl-ctrl .maplibregl-ctrl-logo {\n    display: none;\n  }\n"])),(function(e){return e.theme.fontFamily}),(function(e){return e.theme.fontWeight}),(function(e){return e.theme.fontSize}),(function(e){return e.theme.lineHeight}),(function(e){return e.theme.labelColor})),X=_.default.div((function(e){var t=e.absolute;return"\n  ".concat(t?"position: absolute; bottom: 0; right: 0;":"","\n  pointer-events: none; /* prevent padding from blocking input */\n  & > * {\n    /* all children should allow input */\n    pointer-events: all;\n  }")})),Z=function(e){return e.mapState.isSplit&&!e.mapState.isViewportSynced&&e.mapState.splitMapViewports.length>1};t.isViewportDisjointed=Z;var q=function(e,t){return Number.isFinite(t)&&Z(e)?Y(Y({},e.mapState),e.mapState.splitMapViewports[t]):e.mapState};t.mapStateSelector=q;var J=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{getMapboxRef:e.getMapboxRef,mapboxApiAccessToken:e.mapboxApiAccessToken,mapboxApiUrl:e.mapboxApiUrl?e.mapboxApiUrl:oe.mapboxApiUrl,mapState:q(e,t),mapStyle:e.mapStyle,onDeckInitialized:e.onDeckInitialized,onViewStateChange:e.onViewStateChange,onMouseMove:e.onMouseMove,deckGlProps:e.deckGlProps,uiStateActions:e.uiStateActions,visStateActions:e.visStateActions,mapStateActions:e.mapStateActions,visState:e.visState,activeSidePanel:e.uiState.activeSidePanel,mapControls:e.uiState.mapControls,readOnly:e.uiState.readOnly,locale:e.uiState.locale,topMapContainerProps:e.topMapContainerProps,bottomMapContainerProps:e.bottomMapContainerProps,transformRequest:e.transformRequest}};function $(e){return(0,W.filterObjectByPredicate)(e,(function(e,t){return e!==M.GEOCODER_DATASET_NAME}))}t.mapFieldsSelector=J;var Q=function(e,t,n){return{appName:e.appName?e.appName:oe.appName,version:e.version?e.version:oe.version,appWebsite:e.appWebsite,mapStyle:e.mapStyle,onSaveMap:e.onSaveMap,uiState:e.uiState,mapStyleActions:e.mapStyleActions,visStateActions:e.visStateActions,uiStateActions:e.uiStateActions,mapStateActions:e.mapStateActions,datasets:n,filters:e.visState.filters,layers:e.visState.layers,layerOrder:e.visState.layerOrder,layerClasses:e.visState.layerClasses,interactionConfig:e.visState.interactionConfig,mapInfo:e.visState.mapInfo,layerBlending:e.visState.layerBlending,overlayBlending:e.visState.overlayBlending,width:e.sidePanelWidth?e.sidePanelWidth:oe.width,availableProviders:t,mapSaved:e.providerState.mapSaved}};t.sidePanelSelector=Q;var ee=function(e){return{width:e.width,height:e.height,exportImageSetting:e.uiState.exportImage,mapFields:J(e),addNotification:e.uiStateActions.addNotification,setExportImageSetting:e.uiStateActions.setExportImageSetting,setExportImageDataUri:e.uiStateActions.setExportImageDataUri,setExportImageError:e.uiStateActions.setExportImageError,splitMaps:e.visState.splitMaps}};t.plotContainerSelector=ee;var te=function(e){return e.visState.splitMaps&&e.visState.splitMaps.length>1};t.isSplitSelector=te;var ne=function(e,t){return{filters:e.visState.filters,datasets:e.visState.datasets,uiState:e.uiState,layers:e.visState.layers,animationConfig:e.visState.animationConfig,visStateActions:e.visStateActions,toggleModal:e.uiStateActions.toggleModal,sidePanelWidth:e.uiState.readOnly?0:e.sidePanelWidth+t.sidePanel.margin.left}};t.bottomWidgetSelector=ne;var re=function(e,t){return{appName:e.appName?e.appName:oe.appName,mapStyle:e.mapStyle,visState:e.visState,mapState:e.mapState,uiState:e.uiState,providerState:e.providerState,mapboxApiAccessToken:e.mapboxApiAccessToken,mapboxApiUrl:e.mapboxApiUrl,visStateActions:e.visStateActions,uiStateActions:e.uiStateActions,mapStyleActions:e.mapStyleActions,providerActions:e.providerActions,rootNode:t,cloudProviders:e.cloudProviders?e.cloudProviders:oe.cloudProviders,onExportToCloudSuccess:e.onExportToCloudSuccess,onLoadCloudMapSuccess:e.onLoadCloudMapSuccess,onLoadCloudMapError:e.onLoadCloudMapError,onExportToCloudError:e.onExportToCloudError}};t.modalContainerSelector=re;var ae=function(e,t){return{isGeocoderEnabled:e.visState.interactionConfig.geocoder.enabled,mapboxApiAccessToken:e.mapboxApiAccessToken,mapState:e.mapState,uiState:e.uiState,layerOrder:e.visState.layerOrder,updateVisData:e.visStateActions.updateVisData,removeDataset:e.visStateActions.removeDataset,updateMap:e.mapStateActions.updateMap,appWidth:t.width}};t.geoCoderPanelSelector=ae;var le=function(e){return{removeNotification:e.uiStateActions.removeNotification,notifications:e.uiState.notifications}};t.notificationPanelSelector=le;var oe={mapStyles:[],mapStylesReplaceDefault:!1,mapboxApiUrl:M.DEFAULT_MAPBOX_API_URL,width:800,height:800,appName:M.KEPLER_GL_NAME,version:M.KEPLER_GL_VERSION,sidePanelWidth:M.DIMENSIONS.sidePanel.width,theme:{},cloudProviders:[],readOnly:!1,featureFlags:{}};function ie(e,t,n,r,a,l,o,m,g){var v=function(v){(0,p.default)(O,v);var E=G(O);function O(){var e;(0,d.default)(this,O);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=E.call.apply(E,[this].concat(n)),(0,y.default)((0,s.default)(e),"state",{dimensions:null}),(0,y.default)((0,s.default)(e),"_handleResize",(function(t){e.setState({dimensions:t})})),(0,y.default)((0,s.default)(e),"root",(0,b.createRef)()),(0,y.default)((0,s.default)(e),"bottomWidgetRef",(0,b.createRef)()),(0,y.default)((0,s.default)(e),"themeSelector",(function(e){return e.theme})),(0,y.default)((0,s.default)(e),"availableThemeSelector",(0,C.createSelector)(e.themeSelector,(function(e){return"object"===(0,c.default)(e)?Y(Y({},z.theme),e):e===M.THEME.light?z.themeLT:e===M.THEME.base?z.themeBS:e}))),(0,y.default)((0,s.default)(e),"datasetsSelector",(function(e){return e.visState.datasets})),(0,y.default)((0,s.default)(e),"filteredDatasetsSelector",(0,C.createSelector)(e.datasetsSelector,$)),(0,y.default)((0,s.default)(e),"availableProviders",(0,C.createSelector)((function(e){return e.cloudProviders}),(function(e){return Array.isArray(e)&&e.length?{hasStorage:e.some((function(e){return e.hasPrivateStorage()})),hasShare:e.some((function(e){return e.hasSharingUrl()}))}:{}}))),(0,y.default)((0,s.default)(e),"localeMessagesSelector",(0,C.createSelector)((function(e){return e.localeMessages}),(function(e){return e?(0,W.mergeMessages)(S.messages,e):S.messages}))),(0,y.default)((0,s.default)(e),"_loadMapStyle",(function(){var t=Object.values(e.props.mapStyle.mapStyles),n=(e.props.mapStyles||[]).map((function(e){return Y(Y({},e),{},{id:e.id||(0,W.generateHashId)()})})),r=[].concat((0,u.default)(n),t).reduce((function(e,t){return e[t.id]=t,e}),{});e.props.mapStyleActions.loadMapStyles(r)})),(0,y.default)((0,s.default)(e),"_deleteMapLabels",(function(t,n){e.props.visStateActions.toggleLayerForMap(t,n)})),e}return(0,f.default)(O,[{key:"componentDidMount",value:function(){this._validateMapboxToken(),this._loadMapStyle(),"function"==typeof this.props.onKeplerGlInitialized&&this.props.onKeplerGlInitialized(),this.root.current instanceof HTMLElement&&(0,W.observeDimensions)(this.root.current,this._handleResize)}},{key:"componentWillUnmount",value:function(){this.root.current instanceof HTMLElement&&(0,W.unobserveDimensions)(this.root.current)}},{key:"_validateMapboxToken",value:function(){var e=this.props.mapboxApiAccessToken;(0,W.validateToken)(e)||h.default.warn(M.MISSING_MAPBOX_TOKEN)}},{key:"render",value:function(){var u=this,c=this.props,d=c.id,f=void 0===d?"map":d,s=c.width,p=void 0===s?oe.width:s,y=c.height,v=void 0===y?oe.height:y,h=c.uiState,E=c.visState,C=c.readOnly,O=c.featureFlags,S=c.cloudProviders,w=void 0===S?[]:S,M=this.state.dimensions||{width:p,height:v},k=E.splitMaps,j=E.interactionConfig,D=te(this.props),F=this.availableThemeSelector(this.props),T=this.localeMessagesSelector(this.props),L=h.exportImage.exporting,I=this.availableProviders(this.props),A=this.filteredDatasetsSelector(this.props),N=Q(this.props,I,A),R=ee(this.props),H=ne(this.props,F),V=re(this.props,this.root.current),G=ae(this.props,M),U=le(this.props),Y=D?k.map((function(e,t){return b.default.createElement(n,(0,i.default)({key:t,index:t,primary:1===t},J(u.props,t),{containerId:t,deleteMapLabels:u._deleteMapLabels}))})):[b.default.createElement(n,(0,i.default)({primary:!0,key:0,index:0},J(this.props),{containerId:0,deleteMapLabels:this._deleteMapLabels}))];return b.default.createElement(x.RootContext.Provider,{value:this.root},b.default.createElement(x.FeatureFlagsContextProvider,{featureFlags:O},b.default.createElement(P.IntlProvider,{locale:h.locale,messages:T[h.locale]},b.default.createElement(_.ThemeProvider,{theme:F},b.default.createElement(B.CloudListProvider,{providers:w},b.default.createElement(K,{className:"kepler-gl",id:"kepler-gl__".concat(f),style:{display:"flex",flexDirection:"column",position:"relative",width:"".concat(p,"px"),height:"".concat(v,"px")},ref:this.root},b.default.createElement(m,U),b.default.createElement(g,null,!h.readOnly&&!C&&b.default.createElement(l,N),b.default.createElement(r,{className:"maps",mapState:this.props.mapState},Y)),L&&b.default.createElement(o,R),!Z(this.props)&&j.geocoder.enabled&&b.default.createElement(t,(0,i.default)({},G,{index:0,unsyncedViewports:!1})),Z(this.props)&&j.geocoder.enabled&&Y.map((function(e,n){return b.default.createElement(t,(0,i.default)({key:n},G,{index:n,unsyncedViewports:!0}))})),b.default.createElement(X,{absolute:!(0,W.hasPortableWidth)(z.breakPointValues)},b.default.createElement(e,(0,i.default)({rootRef:this.bottomWidgetRef},H,{containerW:M.width,theme:F}))),b.default.createElement(a,(0,i.default)({},V,{containerW:M.width,containerH:M.height}))))))))}}]),O}(b.Component);return(0,y.default)(v,"defaultProps",oe),(0,y.default)(v,"contextType",x.RootContext),(0,O.connect)(ue,pe)((0,_.withTheme)(v))}function ue(e,t){return Y(Y({},t),{},{visState:e.visState,mapStyle:e.mapStyle,mapState:e.mapState,uiState:e.uiState,providerState:e.providerState})}t.DEFAULT_KEPLER_GL_PROPS=oe,ie.deps=[F.default,A.default,j.default,D.default,T.default,k.default,L.default,I.default,R.default,N.default];var ce={},de=function(e,t){return e},fe=function(e,t){return t.actions||ce};function se(){return(0,C.createSelector)([de,fe],(function(e,t){var n=[w.VisStateActions,w.MapStateActions,w.MapStyleActions,w.UIStateActions,w.ProviderActions].map((function(n){return(0,E.bindActionCreators)(function(e,t){var n={};for(var r in t)t.hasOwnProperty(r)&&e.hasOwnProperty(r)&&(n[r]=t[r]);return Y(Y({},e),n)}(n,t),e)})),r=(0,o.default)(n,5);return{visStateActions:r[0],mapStateActions:r[1],mapStyleActions:r[2],uiStateActions:r[3],providerActions:r[4],dispatch:e}}))}function pe(){var e=se();return function(t,n){return Y(Y({},e(t,n)),{},{dispatch:t})}}var me=ie;t.default=me},1271:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.StyledSidePanelContent=void 0,t.default=x;var l,o=r(n(14)),i=r(n(1)),u=r(n(6)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),d=n(4),f=n(55),s=r(n(1272)),p=r(n(1273)),m=r(n(1275)),g=r(n(1277)),y=r(n(1285)),v=r(n(1292)),b=r(n(1295)),h=r(n(1299)),E=r(n(5)),_=r(n(81));function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var S=E.default.div(l||(l=(0,u.default)(["\n  ",";\n  flex-grow: 1;\n  padding: ","px;\n  overflow-y: scroll;\n  overflow-x: hidden;\n\n  .side-panel__content__inner {\n    display: flex;\n    height: 100%;\n    flex-direction: column;\n  }\n"])),(function(e){return e.theme.sidePanelScrollBar}),(function(e){return e.theme.sidePanelInnerPadding}));function x(e,t,n,r,a,l,i,u){var s={layer:r,filter:a,interaction:l,map:i},p={layer:f.Layers,filter:f.FilterFunnel,interaction:f.Settings,map:f.CursorClick},m=d.SIDEBAR_PANELS.map((function(e){return P(P({},e),{},{component:s[e.id],iconComponent:p[e.id]})})),g=(0,_.default)(u,["defaultProps","getProps"])||function(){return{}},y=function(r){var a=r.appName,l=r.appWebsite,i=r.availableProviders,f=void 0===i?{}:i,s=r.datasets,p=r.filters,y=r.layers,v=r.layerBlending,b=r.overlayBlending,h=r.layerClasses,E=r.layerOrder,_=r.interactionConfig,C=r.panels,O=void 0===C?m:C,P=r.mapInfo,x=r.mapSaved,w=r.mapStateActions,M=r.mapStyle,k=r.mapStyleActions,j=r.onSaveMap,D=r.uiState,F=r.uiStateActions,T=r.visStateActions,L=r.version,I=r.width,A=F.openDeleteModal,N=F.toggleModal,R=F.toggleSidePanel,B=D.activeSidePanel,W=T.setMapInfo,z=T.showDatasetTable,H=T.updateTableColor,V=f.hasShare,G=f.hasStorage,U=P.title,Y=Boolean(B),K=(0,c.useCallback)((function(){return R(B?"":"layer")}),[B,R]),X=(0,c.useCallback)((function(){return N(d.EXPORT_IMAGE_ID)}),[N]),Z=(0,c.useCallback)((function(){return N(d.EXPORT_DATA_ID)}),[N]),q=(0,c.useCallback)((function(){return N(d.EXPORT_MAP_ID)}),[N]),J=(0,c.useCallback)((function(){return N(x?d.OVERWRITE_MAP_ID:d.SAVE_MAP_ID)}),[x,N]),$=(0,c.useCallback)((function(){W({title:"".concat(U||"Kepler.gl"," (Copy)")}),N(d.SAVE_MAP_ID)}),[U,W,N]),Q=(0,c.useCallback)((function(){return N(d.SHARE_MAP_ID)}),[N]),ee=(0,c.useCallback)((function(e){return z(e)}),[z]),te=(0,c.useCallback)((function(e,t){return H(e,t)}),[H]),ne=(0,c.useCallback)((function(){return N(d.ADD_DATA_ID)}),[N]),re=(0,c.useCallback)((function(){return N(d.ADD_MAP_STYLE_ID)}),[N]),ae=(0,c.useCallback)((function(e){return A(e)}),[A]),le=(0,c.useMemo)((function(){return O.find((function(e){return e.id===B}))||null}),[B,O]),oe=(0,c.useMemo)((function(){return g(r)}),[r]),ie=null==le?void 0:le.component;return c.default.createElement(e,{width:I,isOpen:Y,shouldShowCollapseButton:D.isSidePanelCloseButtonVisible,minifiedWidth:0,onOpenOrClose:K},c.default.createElement(t,{appName:a,version:L,appWebsite:l,visibleDropdown:D.visibleDropdown,showExportDropdown:F.showExportDropdown,hideExportDropdown:F.hideExportDropdown,onExportImage:X,onExportData:Z,onExportMap:q,onSaveMap:G?j:void 0,onSaveToStorage:G?J:null,onSaveAsToStorage:G&&x?$:null,onShareMap:V?Q:null}),c.default.createElement(n,{panels:O,activePanel:B,togglePanel:F.toggleSidePanel}),c.default.createElement(S,{className:"side-panel__content"},c.default.createElement("div",{className:"side-panel__content__inner"},ie?c.default.createElement(ie,{datasets:s,filters:p,layers:y,layerClasses:h,layerOrder:E,layerBlending:v,overlayBlending:b,mapStyle:M,mapStyleActions:k,mapStateActions:w,interactionConfig:_,removeDataset:ae,showDatasetTable:ee,updateTableColor:te,showAddDataModal:ne,showAddMapStyleModal:re,uiStateActions:F,visStateActions:T,panelMetadata:le,panelListView:"layer"===(null==le?void 0:le.id)?D.layerPanelListView:"filter"===(null==le?void 0:le.id)?D.filterPanelListView:null}):null,c.default.createElement(u,(0,o.default)({},oe,{activeSidePanel:B,updateTableColor:te})))))};return y.defaultProps={panels:m,mapInfo:{}},y}t.StyledSidePanelContent=S,x.deps=[s.default,p.default,m.default,g.default,y.default,v.default,b.default,h.default]},1272:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CollapseButtonFactory=void 0;var l,o,i,u,c=r(n(8)),d=r(n(9)),f=r(n(10)),s=r(n(11)),p=r(n(12)),m=r(n(7)),g=r(n(1)),y=r(n(6)),v=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),b=r(n(5)),h=n(55);function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function _(e){var t=function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}();return function(){var n,r=(0,m.default)(e);if(t){var a=(0,m.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,p.default)(this,n)}}var C=b.default.div(l||(l=(0,y.default)(["\n  z-index: 99;\n  height: 100%;\n  width: ","px;\n  display: flex;\n  transition: width 250ms;\n  position: absolute;\n  padding-top: ","px;\n  padding-right: ","px;\n  padding-bottom: ","px;\n  padding-left: ","px;\n  pointer-events: none; /* prevent padding from blocking input */\n  & > * {\n    /* all children should allow input */\n    pointer-events: all;\n  }\n"])),(function(e){return e.width+2*e.theme.sidePanel.margin.left}),(function(e){return e.theme.sidePanel.margin.top}),(function(e){return e.theme.sidePanel.margin.right}),(function(e){return e.theme.sidePanel.margin.bottom}),(function(e){return e.theme.sidePanel.margin.left})),O=b.default.div(o||(o=(0,y.default)(["\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);\n  transition: left 250ms, right 250ms;\n  left: ","px;\n  align-items: stretch;\n  flex-grow: 1;\n"])),(function(e){return e.left})),P=b.default.div(i||(i=(0,y.default)(["\n  background-color: ",";\n  border-radius: 1px;\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  border-left: ","px solid\n    ",";\n"])),(function(e){return e.theme.sidePanelBg}),(function(e){return e.theme.sidePanelBorder}),(function(e){return e.theme.sidePanelBorderColor})),S=b.default.div(u||(u=(0,y.default)(["\n  align-items: center;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);\n  justify-content: center;\n  background-color: ",";\n  border-radius: 1px;\n  color: ",";\n  display: flex;\n  height: 20px;\n  position: absolute;\n  right: -8px;\n  top: ","px;\n  width: 20px;\n\n  :hover {\n    cursor: pointer;\n    box-shadow: none;\n    background-color: ",";\n  }\n"])),(function(e){return e.theme.sideBarCloseBtnBgd}),(function(e){return e.theme.sideBarCloseBtnColor}),(function(e){return e.theme.sidePanel.margin.top}),(function(e){return e.theme.sideBarCloseBtnBgdHover})),x=function(){return function(e){var t=e.onClick,n=e.isOpen;return v.default.createElement(S,{className:"side-bar__close",onClick:t},v.default.createElement(h.ArrowRight,{height:"12px",style:{transform:"rotate(".concat(n?180:0,"deg)")}}))}};function w(e){var t;return t=function(t){(0,s.default)(r,t);var n=_(r);function r(){var e;(0,c.default)(this,r);for(var t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return e=n.call.apply(n,[this].concat(a)),(0,g.default)((0,f.default)(e),"_onOpenOrClose",(function(){e.props.onOpenOrClose({isOpen:!e.props.isOpen})})),e}return(0,d.default)(r,[{key:"render",value:function(){var t=this.props,n=t.isOpen,r=t.minifiedWidth,a=t.width,l=t.shouldShowCollapseButton,o=n?0:r-a;return v.default.createElement(C,{width:n?a:0,className:"side-panel--container"},v.default.createElement(O,{className:"side-bar",style:{width:"".concat(a,"px")},left:o},n?v.default.createElement(P,{className:"side-bar__inner"},this.props.children):null,l?v.default.createElement(e,{isOpen:n,onClick:this._onOpenOrClose}):null))}}]),r}(v.Component),(0,g.default)(t,"defaultProps",{width:300,minifiedWidth:0,isOpen:!0,onOpenOrClose:function(){},shouldShowCollapseButton:!0}),t}t.CollapseButtonFactory=x,w.deps=[x];var M=w;t.default=M},1273:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SaveExportDropdownFactory=t.PanelHeaderDropdownFactory=t.PanelAction=t.CloudStorageDropdownFactory=void 0;var l,o,i,u,c,d=r(n(50)),f=r(n(8)),s=r(n(9)),p=r(n(11)),m=r(n(12)),g=r(n(7)),y=r(n(1)),v=r(n(14)),b=r(n(6)),h=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=j(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),E=r(n(5)),_=r(n(25)),C=n(47),O=n(41),P=r(n(891)),S=n(55),x=r(n(1993)),w=r(n(1274)),M=r(n(645)),k=n(19);function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(j=function(e){return e?n:t})(e)}function D(e){var t=function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}();return function(){var n,r=(0,g.default)(e);if(t){var a=(0,g.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,m.default)(this,n)}}function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){(0,y.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L=E.default.div.attrs((function(e){return{className:(0,_.default)("side-side-panel__header",e.className)}}))(l||(l=(0,b.default)(["\n  background-color: ",";\n  padding: 12px 16px 0 16px;\n"])),(function(e){return e.theme.sidePanelHeaderBg})),I=E.default.div.attrs((function(e){return{className:(0,_.default)("side-panel__header__top",e.className)}}))(o||(o=(0,b.default)(["\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 16px;\n  width: 100%;\n"]))),A=E.default.div.attrs({className:"side-panel__top__actions"})(i||(i=(0,b.default)(["\n  display: flex;\n"]))),N=E.default.div.attrs({className:"side-panel__panel-header__action"})(u||(u=(0,b.default)(["\n  align-items: center;\n  border-radius: 2px;\n  color: ",";\n  display: flex;\n  height: 26px;\n  justify-content: space-between;\n  margin-left: 4px;\n  padding: 5px;\n  font-weight: bold;\n  p {\n    display: inline-block;\n    margin-right: 6px;\n  }\n  a {\n    height: 20px;\n  }\n\n  :hover {\n    cursor: pointer;\n    color: ",";\n\n    a {\n      color: ",";\n    }\n  }\n"])),(function(e){return e.active?e.theme.textColorHl:e.theme.subtextColor}),(function(e){return e.theme.textColorHl}),(function(e){return e.theme.textColorHl})),R=(0,E.default)(w.default)(c||(c=(0,b.default)(["\n  position: absolute;\n"]))),B=h.default.memo((function(e){var t=e.item,n=e.showExportDropdown,r=(0,h.useCallback)((function(){t.dropdownComponent?n(t.id):t.onClick&&t.onClick()}),[t,n]);return h.default.createElement(N,{id:"".concat(t.id,"-action"),"data-tip":!0,"data-for":"".concat(t.id,"-action"),onClick:r},t.label?h.default.createElement("p",null,t.label):null,h.default.createElement("a",{target:t.blank?"_blank":"",href:t.href,rel:"noreferrer"},h.default.createElement(t.iconComponent,(0,v.default)({height:"20px"},t.iconComponentProps))),t.tooltip?h.default.createElement(O.Tooltip,{id:"".concat(t.id,"-action"),place:"bottom",delayShow:500,effect:"solid"},h.default.createElement(k.FormattedMessage,{id:t.tooltip})):null)}));t.PanelAction=B,B.displayName="PanelAction";var W=function(){return function(e){var t=e.items,n=e.show,r=e.onClose,a=e.id;return h.default.createElement(R,{show:n,className:"".concat(a,"-dropdown")},h.default.createElement(x.default,{className:"panel-header-dropdown__inner",show:n,onClose:r},t.map((function(e){return h.default.createElement(M.default,{id:e.key,key:e.key,label:e.label,icon:e.icon,onClick:e.onClick,onClose:r})}))))}};t.PanelHeaderDropdownFactory=W;var z=function(){return(0,C.createSelector)((function(e){return e}),(function(e){return(e.items||[]).map((function(t){return T(T({},t),{},{onClick:t.onClick&&t.onClick(e)?t.onClick(e):null})})).filter((function(e){return e.onClick}))}))},H=function(e){var t=z(),n=function(n){return h.default.createElement(e,{items:t(n),show:n.show,onClose:n.onClose,id:"save-export"})};return n.defaultProps={items:[{label:"toolbar.exportImage",icon:S.Picture,key:"image",onClick:function(e){return e.onExportImage}},{label:"toolbar.exportData",icon:S.DataTable,key:"data",onClick:function(e){return e.onExportData}},{label:"toolbar.exportMap",icon:S.Map,key:"map",onClick:function(e){return e.onExportMap}},{label:"toolbar.saveMap",icon:S.Save2,key:"save",onClick:function(e){return e.onSaveMap}},{label:"toolbar.shareMapURL",icon:S.Share,key:"share",onClick:function(e){return e.onShareMap}}]},n};t.SaveExportDropdownFactory=H,H.deps=[W];var V=function(e){var t=z(),n=function(n){return h.default.createElement(e,{items:t(n),show:n.show,onClose:n.onClose,id:"cloud-storage"})};return n.defaultProps={items:[{label:"Save",icon:S.Save2,key:"save",onClick:function(e){return e.onSaveToStorage}},{label:"Save As",icon:S.Save2,key:"saveAs",onClick:function(e){return e.onSaveAsToStorage}}]},n};function G(e,t){var n;return n=function(e){(0,p.default)(n,e);var t=D(n);function n(){return(0,f.default)(this,n),t.apply(this,arguments)}return(0,s.default)(n,[{key:"render",value:function(){var e=this.props,t=e.appName,n=e.appWebsite,r=e.version,a=e.actionItems,l=e.visibleDropdown,o=e.showExportDropdown,i=e.hideExportDropdown,u=(0,d.default)(e,["appName","appWebsite","version","actionItems","visibleDropdown","showExportDropdown","hideExportDropdown"]),c=a||[];return"function"!=typeof this.props.onSaveToStorage&&(c=c.filter((function(e){return"storage"!==e.id}))),h.default.createElement(L,{className:"side-panel__panel-header"},h.default.createElement(I,{className:"side-panel__panel-header__top"},this.props.logoComponent&&h.default.createElement(this.props.logoComponent,{appName:t,version:r,appWebsite:n}),h.default.createElement(A,null,c.map((function(e){return h.default.createElement("div",{className:"side-panel__panel-header__right",key:e.id,style:{position:"relative"}},h.default.createElement(B,{item:e,showExportDropdown:o}),e.dropdownComponent?h.default.createElement(e.dropdownComponent,(0,v.default)({onClose:i,show:l===e.id},u)):null)})))))}}]),n}(h.Component),(0,y.default)(n,"defaultProps",{logoComponent:P.default,actionItems:[{id:"storage",iconComponent:S.Db,tooltip:"tooltip.cloudStorage",onClick:function(){},dropdownComponent:t},{id:"save",iconComponent:S.Save,onClick:function(){},label:"Share",dropdownComponent:e}]}),n}t.CloudStorageDropdownFactory=V,V.deps=[W],G.deps=[H,V];var U=G;t.default=U},1275:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,o=r(n(6)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),u=r(n(5)),c=r(n(1276));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}var f=u.default.div.attrs({className:"side-side-panel__header__bottom"})(l||(l=(0,o.default)(["\n  background-color: ",";\n  border-bottom: 1px solid ",";\n  padding: 0 16px;\n  display: flex;\n  min-height: 30px;\n"])),(function(e){return e.theme.sidePanelHeaderBg}),(function(e){return e.theme.sidePanelHeaderBorder}));function s(e){return function(t){var n=t.activePanel,r=t.panels,a=t.togglePanel,l=(0,i.useCallback)((function(e){(e.onClick||a)(e.id)}),[a]);return i.default.createElement(f,null,r.map((function(t){return i.default.createElement(e,{key:t.id,panel:t,isActive:n===t.id,onClick:function(){return l(t)}})})))}}s.deps=[c.default];var p=s;t.default=p},1276:function(e,t,n){"use strict";var r=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.PanelTabFactory=f,t.default=t.StyledPanelTab=void 0;var a,l=r(n(6)),o=r(n(0)),i=r(n(5)),u=n(41),c=n(19),d=i.default.div.attrs({className:"side-panel__tab"})(a||(a=(0,l.default)(["\n  align-items: flex-end;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: ",";\n  color: ",";\n  display: flex;\n  justify-content: center;\n  margin-right: ","px;\n  padding-bottom: ","px;\n  width: ",";\n\n  :hover {\n    cursor: pointer;\n    color: ",";\n  }\n"])),(function(e){return e.active?e.theme.panelToggleBorderColor:"transparent"}),(function(e){return e.active?e.theme.subtextColorActive:e.theme.panelTabColor}),(function(e){return e.theme.panelToggleMarginRight}),(function(e){return e.theme.panelToggleBottomPadding}),(function(e){return e.theme.panelTabWidth}),(function(e){return e.theme.textColorHl}));function f(){return function(e){var t=e.isActive,n=e.onClick,r=e.panel;return o.default.createElement(d,{"data-tip":!0,"data-for":"".concat(r.id,"-nav"),active:t,onClick:n},o.default.createElement(r.iconComponent,{height:"20px"}),o.default.createElement(u.Tooltip,{id:"".concat(r.id,"-nav"),effect:"solid",delayShow:500,place:"bottom"},o.default.createElement("span",null,o.default.createElement(c.FormattedMessage,{id:r.label||r.id}))))}}t.StyledPanelTab=d;var s=f;t.default=s},1277:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.LayerBlendingSelector=void 0;var l,o,i=r(n(8)),u=r(n(9)),c=r(n(10)),d=r(n(11)),f=r(n(12)),s=r(n(7)),p=r(n(6)),m=r(n(1)),g=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),y=n(56),v=r(n(5)),b=n(19),h=r(n(892)),E=r(n(1279)),_=r(n(894)),C=r(n(447)),O=r(n(895)),P=r(n(1283)),S=r(n(183)),x=n(41),w=r(n(553)),M=n(4);function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function j(e){var t=function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}();return function(){var n,r=(0,s.default)(e);if(t){var a=(0,s.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,f.default)(this,n)}}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){(0,m.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T=g.default.memo((function(e){var t=e.layerBlending,n=e.updateLayerBlending,r=e.intl,a=Object.keys(M.LAYER_BLENDINGS).reduce((function(e,t){return F(F({},e),{},(0,m.default)({},r.formatMessage({id:M.LAYER_BLENDINGS[t].label}),t))}),{}),l=(0,g.useCallback)((function(e){return n(a[e])}),[n,a]);return g.default.createElement(x.SidePanelSection,null,g.default.createElement(x.PanelLabel,null,g.default.createElement(b.FormattedMessage,{id:"layerBlending.title"})),g.default.createElement(S.default,{selectedItems:r.formatMessage({id:M.LAYER_BLENDINGS[t].label}),options:Object.keys(a),multiSelect:!1,searchable:!1,onChange:l}))}));t.LayerBlendingSelector=T,T.displayName="LayerBlendingSelector";var L=v.default.div(l||(l=(0,p.default)(["\n  float: right;\n"]))),I=v.default.div(o||(o=(0,p.default)(["\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n"]))),A=g.default.memo((function(e){var t=e.overlayBlending,n=e.updateOverlayBlending,r=e.intl,a=e.infoHelper,l=Object.keys(M.OVERLAY_BLENDINGS).reduce((function(e,t){return F(F({},e),{},(0,m.default)({},r.formatMessage({id:M.OVERLAY_BLENDINGS[t].label}),t))}),{}),o=(0,g.useCallback)((function(e){return n(l[e])}),[n,l]);return g.default.createElement(x.SidePanelSection,null,g.default.createElement(I,null,g.default.createElement(x.PanelLabel,null,g.default.createElement(b.FormattedMessage,{id:"overlayBlending.title"})),g.default.createElement(L,null,a)),g.default.createElement(S.default,{selectedItems:r.formatMessage({id:M.OVERLAY_BLENDINGS[t].label}),options:Object.keys(l),multiSelect:!1,searchable:!1,onChange:o}))}));function N(e,t,n,r,a,l,o){var f=function(f){(0,d.default)(p,f);var s=j(p);function p(){var e;(0,i.default)(this,p);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=s.call.apply(s,[this].concat(n)),(0,m.default)((0,c.default)(e),"_addLayer",(function(t){e.props.visStateActions.addLayer(void 0,t)})),(0,m.default)((0,c.default)(e),"_togglePanelListView",(function(t){e.props.uiStateActions.togglePanelListView({panelId:"layer",listView:t})})),e}return(0,u.default)(p,[{key:"render",value:function(){var i=this.props,u=i.layers,c=i.datasets,d=i.intl,f=i.layerOrder,s=i.showAddDataModal,p=i.updateTableColor,m=i.showDatasetTable,y=i.removeDataset,v=i.uiStateActions,b=i.visStateActions,h=i.mapStateActions,E=i.panelListView,_=i.panelMetadata,C=E===M.PANEL_VIEW_TOGGLES.byDataset;return g.default.createElement("div",{className:"layer-manager"},g.default.createElement(x.SidePanelSection,null,g.default.createElement(n,{togglePanelListView:this._togglePanelListView,mode:E})),g.default.createElement(a,{datasets:c,showDatasetTable:m,updateTableColor:p,removeDataset:y,showDeleteDataset:!0,showDatasetList:!C,showAddDataModal:s}),g.default.createElement(x.SidePanelDivider,null),g.default.createElement(x.SidePanelSection,null,g.default.createElement(r,{className:"layer-manager-title",title:d.formatMessage({id:_.label})},g.default.createElement(l,{datasets:c,onAdd:this._addLayer}))),g.default.createElement(x.SidePanelSection,null,C?g.default.createElement(t,{datasets:c,showDatasetTable:m,layers:u,updateTableColor:p,removeDataset:y,layerOrder:f,layerClasses:this.props.layerClasses,uiStateActions:v,visStateActions:b,mapStateActions:h,showDeleteDataset:!0}):g.default.createElement(e,{layers:u,datasets:c,layerOrder:f,uiStateActions:v,visStateActions:b,mapStateActions:h,layerClasses:this.props.layerClasses})),g.default.createElement(T,{layerBlending:this.props.layerBlending,updateLayerBlending:b.updateLayerBlending,intl:d}),g.default.createElement(A,{overlayBlending:this.props.overlayBlending,updateOverlayBlending:b.updateOverlayBlending,intl:d,infoHelper:g.default.createElement(o,{id:"overlayBlending-description",description:"overlayBlending.description"})}))}}]),p}(g.Component);return(0,y.injectIntl)(f)}A.displayName="OverlayBlendingSelector",N.deps=[h.default,E.default,_.default,C.default,O.default,P.default,w.default];var R=N;t.default=R},1278:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,o=r(n(8)),i=r(n(9)),u=r(n(10)),c=r(n(11)),d=r(n(12)),f=r(n(7)),s=r(n(1)),p=r(n(6)),m=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),g=r(n(5)),y=r(n(1260)),v=r(n(893)),b=n(4);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function E(e){var t=function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}();return function(){var n,r=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,d.default)(this,n)}}var _=g.default.div(l||(l=(0,p.default)(["\n  font-size: 12px;\n  border-radius: 1px;\n  z-index: 1000;\n  &.dragging {\n    cursor: move;\n  }\n"])));function C(e,t){return function(n){(0,c.default)(a,n);var r=E(a);function a(){var e;(0,o.default)(this,a);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return e=r.call.apply(r,[this].concat(n)),(0,s.default)((0,u.default)(e),"updateLayerConfig",(function(t){e.props.layerConfigChange(e.props.layer,t)})),(0,s.default)((0,u.default)(e),"updateLayerType",(function(t){e.props.layerTypeChange(e.props.layer,t)})),(0,s.default)((0,u.default)(e),"updateLayerVisConfig",(function(t){e.props.layerVisConfigChange(e.props.layer,t)})),(0,s.default)((0,u.default)(e),"updateLayerColorUI",(function(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.props).layerColorUIChange.apply(t,[e.props.layer].concat(r))})),(0,s.default)((0,u.default)(e),"updateLayerTextLabel",(function(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];(t=e.props).layerTextLabelChange.apply(t,[e.props.layer].concat(r))})),(0,s.default)((0,u.default)(e),"updateLayerVisualChannelConfig",(function(t,n){e.props.layerVisualChannelConfigChange(e.props.layer,t,n)})),(0,s.default)((0,u.default)(e),"_updateLayerLabel",(function(t){var n=t.target.value;e.updateLayerConfig({label:n})})),(0,s.default)((0,u.default)(e),"_toggleVisibility",(function(t){t.stopPropagation();var n=!e.props.layer.config.isVisible;e.updateLayerConfig({isVisible:n})})),(0,s.default)((0,u.default)(e),"_resetIsValid",(function(t){null==t||t.stopPropagation(),e.props.layerSetIsValid(e.props.layer,!0)})),(0,s.default)((0,u.default)(e),"_toggleEnableConfig",(function(t){null==t||t.stopPropagation();var n=e.props.layer.config.isConfigActive;e.updateLayerConfig({isConfigActive:!n})})),(0,s.default)((0,u.default)(e),"_removeLayer",(function(t){null==t||t.stopPropagation(),e.props.removeLayer(e.props.layer.id)})),(0,s.default)((0,u.default)(e),"_zoomToLayer",(function(t){var n,r;null==t||t.stopPropagation();var a=null===(n=e.props.layer)||void 0===n||null===(r=n.meta)||void 0===r?void 0:r.bounds;a&&e.props.zoomToLayer(a)})),(0,s.default)((0,u.default)(e),"_duplicateLayer",(function(t){null==t||t.stopPropagation(),e.props.duplicateLayer(e.props.layer.id)})),e}return(0,i.default)(a,[{key:"render",value:function(){var n=this.props,r=n.layer,a=n.datasets,l=n.isDraggable,o=n.layerTypeOptions,i=n.listeners,u=r.config,c=r.isValid,d=u.isConfigActive,f="function"==typeof r.isValidToSave&&r.isValidToSave();return m.default.createElement(_,{active:d,className:"layer-panel ".concat(this.props.className),"data-testid":b.dataTestIds.layerPanel,style:this.props.style,onMouseDown:this.props.onMouseDown,onTouchStart:this.props.onTouchStart},m.default.createElement(t,{isConfigActive:d,layerId:r.id,isVisible:u.isVisible,isValid:c,label:u.label,labelRCGColorValues:u.dataId?a[u.dataId].color:null,layerType:r.type,allowDuplicate:f,onToggleEnableConfig:this._toggleEnableConfig,onToggleVisibility:this._toggleVisibility,onResetIsValid:this._resetIsValid,onUpdateLayerLabel:this._updateLayerLabel,onRemoveLayer:this._removeLayer,onZoomToLayer:this._zoomToLayer,onDuplicateLayer:this._duplicateLayer,isDragNDropEnabled:l,listeners:i}),d&&m.default.createElement(e,{layer:r,datasets:a,layerTypeOptions:o,openModal:this.props.openModal,updateLayerColorUI:this.updateLayerColorUI,updateLayerConfig:this.updateLayerConfig,updateLayerVisualChannelConfig:this.updateLayerVisualChannelConfig,updateLayerType:this.updateLayerType,updateLayerTextLabel:this.updateLayerTextLabel,updateLayerVisConfig:this.updateLayerVisConfig}))}}]),a}(m.Component)}C.deps=[y.default,v.default];var O=C;t.default=O},1279:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var u=l?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),o=r(n(1280));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function u(e){return function(t){var n=t.datasets,r=t.showDatasetTable,a=t.layers,o=t.updateTableColor,i=t.showDeleteDataset,u=t.removeDataset,c=t.layerOrder,d=t.layerClasses,f=t.uiStateActions,s=t.visStateActions,p=t.mapStateActions,m=(0,l.useMemo)((function(){return Object.values(n).map((function(e){var t=a.map((function(t){return t.config.dataId===e.id?t:null})).filter((function(e){return Boolean(e)}));return{dataset:e,datasetLayers:t}}))}),[n,a]);return l.default.createElement(l.default.Fragment,null,m.map((function(t){return l.default.createElement(e,{key:t.dataset.id,dataset:t.dataset,layers:t.datasetLayers,datasets:n,showDatasetTable:r,updateTableColor:o,showDeleteDataset:i,removeDataset:u,layerOrder:c,layerClasses:d,uiStateActions:f,visStateActions:s,mapStateActions:p})})))}}u.deps=[o.default];var c=u;t.default=c},1280:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,o=r(n(1)),i=r(n(6)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),c=r(n(5)),d=r(n(646)),f=r(n(892));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}var p=c.default.div.attrs({className:"dataset-layer-section"})(l||(l=(0,i.default)(["\n  margin-bottom: 16px;\n"])));function m(e,t){return function(n){var r=n.dataset,a=n.datasets,l=n.showDatasetTable,i=n.layers,c=n.updateTableColor,d=n.showDeleteDataset,f=n.removeDataset,s=n.layerOrder,m=n.layerClasses,g=n.uiStateActions,y=n.visStateActions,v=n.mapStateActions,b=(0,u.useMemo)((function(){return(0,o.default)({},r.id,r)}),[r]);return u.default.createElement(p,null,u.default.createElement(e,{datasets:b,showDatasetTable:l,updateTableColor:c,removeDataset:f,showDeleteDataset:d}),u.default.createElement(t,{datasets:a,layerOrder:s,layers:i,layerClasses:m,uiStateActions:g,visStateActions:y,mapStateActions:v,isSortable:!1}))}}m.deps=[d.default,f.default];var g=m;t.default=g},1281:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=P;var l,o,i=r(n(24)),u=r(n(6)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),d=r(n(5)),f=n(19),s=n(120),p=n(41),m=n(55),g=r(n(641)),y=r(n(644)),v=n(270),b=n(13);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}var E=d.default.div(l||(l=(0,u.default)(["\n  color: ",";\n  display: flex;\n  align-items: flex-start;\n\n  .source-data-arrow {\n    height: 16px;\n  }\n  :hover {\n    cursor: ",";\n\n    .dataset-name {\n      color: ",";\n    }\n\n    .dataset-action {\n      color: ",";\n      opacity: 1;\n    }\n\n    .dataset-action:hover {\n      color: ",";\n    }\n  }\n"])),(function(e){return e.theme.textColor}),(function(e){return e.clickable?"pointer":"auto"}),(function(e){return e.clickable?e.theme.textColorHl:e.theme.textColor}),(function(e){return e.theme.textColor}),(function(e){return e.theme.textColorHl})),_=d.default.div(o||(o=(0,u.default)(["\n  margin-left: 12px;\n  height: 16px;\n  opacity: 0;\n"]))),C=function(e){var t=e.id,n=e.showDatasetTable;return c.default.createElement(_,{className:"dataset-action show-data-table","data-tip":!0,"data-for":"data-table-".concat(t)},c.default.createElement(s.Table,{height:"16px",onClick:function(e){e.stopPropagation(),null==n||n(t)}}),c.default.createElement(p.Tooltip,{id:"data-table-".concat(t),effect:"solid"},c.default.createElement("span",null,c.default.createElement(f.FormattedMessage,{id:"datasetTitle.showDataTable"}))))},O=function(e){var t=e.datasetKey,n=e.removeDataset;return c.default.createElement(_,{className:"dataset-action remove-dataset","data-tip":!0,"data-for":"delete-".concat(t)},c.default.createElement(m.Trash,{height:"16px",onClick:function(e){e.stopPropagation(),null==n||n(t)}}),c.default.createElement(p.Tooltip,{id:"delete-".concat(t),effect:"solid",type:"error"},c.default.createElement("span",null,c.default.createElement(f.FormattedMessage,{id:"datasetTitle.removeDataset"}))))};function P(e){return function(t){var n=t.showDatasetTable,r=t.showDeleteDataset,a=t.onTitleClick,l=t.removeDataset,o=t.dataset,u=t.updateTableColor,d=(0,c.useState)(!1),f=(0,i.default)(d,2),s=f[0],g=f[1],h=(0,c.useRef)(null),_=o.id,P=(0,c.useCallback)((function(){g(!s)}),[g,s]),S=(0,c.useCallback)((function(){g(!1)}),[g]),x=(0,c.useCallback)((function(e){u(_,[e.rgb.r,e.rgb.g,e.rgb.b])}),[u,_]),w=(0,c.useCallback)((function(e){e.stopPropagation(),"function"==typeof a?a():"function"==typeof n&&n(_)}),[a,n,_]);return c.default.createElement("div",{className:"custom-palette-panel",ref:h},c.default.createElement(E,{className:"source-data-title",clickable:Boolean(n||a)},c.default.createElement(e,{dataset:o,onClick:w,updateTableColor:u,onClickSquare:P}),c.default.createElement(v.Portaled,{isOpened:!1!==s,left:110,top:-50,onClose:S},c.default.createElement(y.default,{color:(0,b.rgbToHex)(o.color),onChange:x,onSwatchClose:S})),n?c.default.createElement(p.CenterFlexbox,{className:"source-data-arrow"},c.default.createElement(m.ArrowRight,{height:"12px"})):null,n?c.default.createElement(C,{id:_,showDatasetTable:n}):null,r?c.default.createElement(O,{datasetKey:_,removeDataset:l}):null))}}P.deps=[g.default]},1282:function(e,t,n){"use strict";var r=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e){var t=e.dataset;return o.default.createElement(f,{className:"source-data-rows"},o.default.createElement(c.FormattedMessage,{id:"datasetInfo.rowCount",values:{rowCount:d(t.dataContainer.numRows())}}))}};var a,l=r(n(6)),o=r(n(0)),i=r(n(5)),u=n(556),c=n(19),d=(0,u.format)(","),f=i.default.div(a||(a=(0,l.default)(["\n  font-size: 11px;\n  color: ",";\n  padding-left: 19px;\n"])),(function(e){return e.theme.subtextColor}))},1283:function(e,t,n){"use strict";var r=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(0)),l=r(n(1284));var o=function(){return function(e){var t=e.datasets,n=e.onAdd;return a.default.createElement(l.default,{datasets:t,className:"add-layer-button",width:"110px",onAdd:n,buttonIntlId:"layerManager.addLayer"})}};t.default=o},1284:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,o,i,u=r(n(24)),c=r(n(6)),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),f=r(n(5)),s=n(19),p=r(n(473)),m=n(55),g=n(41),y=r(n(889)),v=r(n(639)),b=n(56),h=n(266);function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}var _=f.default.div.attrs({className:"add-layer-menu-dropdown"})(l||(l=(0,c.default)(["\n  .list-selector {\n    border-top: 1px solid ",";\n    width: 100%;\n    /* disable scrolling, currently set to 280px internally */\n    max-height: unset;\n  }\n  .list__item > div {\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-start;\n    line-height: 18px;\n    padding: 0;\n    svg {\n      margin-right: 10px;\n    }\n  }\n"])),(function(e){return e.theme.secondaryInputBorderColor})),C=f.default.div.attrs({className:"dropdown-menu"})(o||(o=(0,c.default)(["\n  display: flex;\n  flex-direction: column;\n  min-width: 240px;\n  max-width: 240px;\n  position: absolute;\n  top: 100%;\n  left: -53px;\n  z-index: 5;\n"]))),O=f.default.div.attrs({className:"dropdown-menu-list-item-wrapper"})(i||(i=(0,c.default)(["\n  display: flex;\n  color: ",";\n  font-size: 11px;\n  letter-spacing: 0.2px;\n  overflow: auto;\n  .dataset-color {\n    flex-shrink: 0;\n    margin-top: 3px;\n  }\n  .dataset-name {\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n"])),(function(e){return e.theme.textColor})),P=function(e){var t=e.value;return d.default.createElement(O,null,d.default.createElement(g.DatasetSquare,{className:"dataset-color",backgroundColor:t.color}),d.default.createElement("div",{className:"dataset-name",title:t.label},t.label))},S=function(e){var t=e.datasets,n=e.onAdd,r=e.buttonIntlId,a=e.width,l=e.className,o=e.inactive,i=(0,d.useState)(),c=(0,u.default)(i,2),f=c[0],E=c[1],O=(0,d.useMemo)((function(){return Object.values(t).map((function(e){return{label:e.label,value:e.id,color:e.color}}))}),[t]),S=(0,d.useCallback)((function(){1===O.length&&n(O[0].value)}),[O,n]),x=(0,d.useCallback)((function(e){n(e.value),f&&f.hide()}),[n,f]),w=(0,b.useIntl)(),M=d.default.createElement(g.Button,{tabIndex:-1,className:l||"add-by-dataset-button",width:a,onClick:S,disabled:!O.length||o},d.default.createElement(m.Add,{height:"12px"}),d.default.createElement(s.FormattedMessage,{id:r}));return 1===O.length?M:d.default.createElement(h.RootContext.Consumer,null,(function(e){return d.default.createElement(p.default,{trigger:"click",arrow:!1,interactive:!0,placement:"bottom",appendTo:(null==e?void 0:e.current)||"parent",onCreate:E,duration:0,content:d.default.createElement(C,null,d.default.createElement(_,null,d.default.createElement(y.default,{className:"typeahead",customClasses:{results:"list-selector",input:"typeahead__input",listItem:"list__item"},placeholder:w?w.formatMessage({id:"placeholder.search"}):"Search",selectedItems:null,options:O,displayOption:v.default.generateOptionToStringFor("label"),filterOption:"label",searchable:!0,onOptionSelected:x,customListItemComponent:P})))},M)}))};t.default=S},1285:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(n(14)),o=r(n(21)),i=r(n(1)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),c=n(56),d=n(41),f=r(n(646)),s=r(n(1286)),p=n(4),m=n(13),g=r(n(894)),y=r(n(447)),v=r(n(1291)),b=r(n(895));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n,r,a,f){var s=function(e){var n=e.filtersByIndex,r=e.filters,a=e.datasets,l=e.layers,c=e.isAnyFilterAnimating,f=e.visStateActions,s=f.removeFilter,g=f.setFilter,y=f.toggleFilterAnimation,v=f.toggleFilterFeature,b=f.setFilterView,h=(0,u.useMemo)((function(){return n.reduce((function(e,t){var n=t.filter,r=t.idx;return _(_({},e),{},(0,i.default)({},n.id,{removeFilter:function(){return s(r)},toggleFilterView:function(){return b(r,(0,m.isSideFilter)(n)?p.FILTER_VIEW_TYPES.enlarged:p.FILTER_VIEW_TYPES.side)},toggleAnimation:function(){return y(r)},toggleFilterFeature:function(){return v(r)}}))}),{})}),[n,s,b,y,v]);return u.default.createElement(d.SidePanelSection,null,(0,o.default)(n).reverse().map((function(e){var n=e.filter,o=e.idx;return u.default.createElement(t,{key:"".concat(n.id,"-").concat(o),idx:o,filters:r,filter:n,datasets:a,layers:l,isAnyFilterAnimating:c,removeFilter:h[n.id].removeFilter,enlargeFilter:h[n.id].toggleFilterView,toggleAnimation:h[n.id].toggleAnimation,toggleFilterFeature:h[n.id].toggleFilterFeature,setFilter:g})})))},g=function(e){var t=e.filtersByIndex,n=e.filters,r=e.dataset,a=e.datasets,l=e.layers,o=e.isAnyFilterAnimating,c=e.visStateActions,d=e.showDatasetTable,p=e.updateTableColor,m=e.removeDataset,g=e.showDeleteDataset,y=(0,u.useMemo)((function(){return(0,i.default)({},r.id,r)}),[r]);return u.default.createElement(u.default.Fragment,null,u.default.createElement(f,{datasets:y,showDatasetTable:d,updateTableColor:p,removeDataset:m,showDeleteDataset:g}),u.default.createElement(s,{filtersByIndex:t,filters:n,datasets:a,layers:l,isAnyFilterAnimating:o,visStateActions:c}))};return function(t){var o=t.filters,f=void 0===o?[]:o,m=t.datasets,y=t.layers,v=t.showDatasetTable,b=t.updateTableColor,h=t.removeDataset,E=t.showAddDataModal,C=t.panelMetadata,O=t.panelListView,P=t.visStateActions,S=t.uiStateActions,x=P.addFilter,w=S.togglePanelListView,M=f.some((function(e){return e.isAnimating})),k=(0,u.useCallback)((function(e){return x(e)}),[x]),j=O===p.PANEL_VIEW_TOGGLES.byDataset,D=(0,u.useMemo)((function(){return f.map((function(e,t){return{filter:e,idx:t}}))}),[f]),F=(0,u.useMemo)((function(){return Object.keys(m).reduce((function(e,t){return _(_({},e),{},(0,i.default)({},t,D.filter((function(e){return e.filter.dataId&&e.filter.dataId[0]===t}))))}),{})}),[m,D]),T=(0,u.useCallback)((function(e){w({panelId:"filter",listView:e})}),[w]),L=(0,c.useIntl)(),I={datasets:m,filters:f,layers:y,isAnyFilterAnimating:M,visStateActions:P},A={showDatasetTable:v,updateTableColor:b,removeDataset:h,showDeleteDataset:!0};return u.default.createElement("div",{className:"filter-manager"},u.default.createElement(d.SidePanelSection,null,u.default.createElement(a,{togglePanelListView:T,mode:O})),u.default.createElement(e,(0,l.default)({datasets:m},A,{showDatasetList:!j,showAddDataModal:E})),u.default.createElement(d.SidePanelDivider,null),u.default.createElement(d.SidePanelSection,null,u.default.createElement(n,{className:"filter-manager-title",title:L.formatMessage({id:C.label})},u.default.createElement(r,{datasets:m,onAdd:k}))),u.default.createElement(d.SidePanelSection,null,j?Object.keys(F).map((function(e){return u.default.createElement(g,(0,l.default)({key:e,filtersByIndex:F[e],dataset:m[e]},I,A))})):u.default.createElement(s,(0,l.default)({filtersByIndex:D},I))))}}C.deps=[b.default,s.default,y.default,v.default,g.default,f.default];var O=C;t.default=O},1286:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,o=r(n(14)),i=r(n(8)),u=r(n(9)),c=r(n(10)),d=r(n(11)),f=r(n(12)),s=r(n(7)),p=r(n(1)),m=r(n(6)),g=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),y=n(47),v=r(n(5)),b=r(n(81)),h=n(4),E=r(n(896)),_=r(n(1994)),C=r(n(1995)),O=r(n(1996)),P=r(n(1997)),S=r(n(1998));function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}function w(e){var t=function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}();return function(){var n,r=(0,s.default)(e);if(t){var a=(0,s.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,f.default)(this,n)}}var M=v.default.div(l||(l=(0,m.default)(["\n  margin-bottom: 12px;\n  border-radius: 1px;\n"])));function k(e,t,n,r,a,l){var f,s=(f={default:e},(0,p.default)(f,h.FILTER_TYPES.timeRange,t),(0,p.default)(f,h.FILTER_TYPES.select,n),(0,p.default)(f,h.FILTER_TYPES.multiSelect,r),(0,p.default)(f,h.FILTER_TYPES.range,a),(0,p.default)(f,h.FILTER_TYPES.polygon,l),f);return function(e){(0,d.default)(n,e);var t=w(n);function n(){var e;(0,i.default)(this,n);for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a)),(0,p.default)((0,c.default)(e),"fieldsSelector",(function(e){var t=e.filter.dataId[0];return t?(0,b.default)(e,["datasets",t,"fields"],[]):[]})),(0,p.default)((0,c.default)(e),"filterSelector",(function(e){return e.filters})),(0,p.default)((0,c.default)(e),"nameSelector",(function(e){return e.filter.name})),(0,p.default)((0,c.default)(e),"dataIdSelector",(function(e){return e.filter.dataId[0]})),(0,p.default)((0,c.default)(e),"availableFieldsSelector",(0,y.createSelector)(e.fieldsSelector,e.filterSelector,e.nameSelector,e.dataIdSelector,(function(e,t,n,r){return e.filter((function(e){return e.type&&e.type!==h.ALL_FIELD_TYPES.geojson&&(n.includes(e.name)||!t.find((function(t){return t.name.includes(e.name)&&t.dataId.includes(r)})))}))}))),e}return(0,u.default)(n,[{key:"render",value:function(){var e=this.props.filter.type,t=e&&s[e]||s.default,n=this.availableFieldsSelector(this.props);return g.default.createElement(M,{className:"filter-panel"},g.default.createElement(t,(0,o.default)({allAvailableFields:n},this.props)))}}]),n}(g.Component)}k.deps=[E.default,_.default,C.default,O.default,P.default,S.default];var j=k;t.default=j},1287:function(e,t,n){"use strict";var r=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=function(e){var t=e.filter,n=e.setFilter;return a.default.createElement(o.SidePanelSection,null,a.default.createElement(o.PanelLabel,null,a.default.createElement(i.FormattedMessage,{id:"misc.valueEquals"})),a.default.createElement(l.default,{selectedItems:t.value,placeholder:"placeholder.selectValue",options:t.domain,multiSelect:!1,searchable:!1,displayOption:function(e){return String(e)},getOptionValue:function(e){return e},onChange:n,inputTheme:"secondary"}))};return e.displayName="SingleSelectFilter",e};var a=r(n(0)),l=r(n(183)),o=n(41),i=n(19)},1288:function(e,t,n){"use strict";var r=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e){var t=e.filter,n=e.setFilter;return a.default.createElement("div",null,a.default.createElement(o.PanelLabel,{htmlFor:"filter-".concat(t.id)},a.default.createElement(i.FormattedMessage,{id:"misc.valuesIn"})),a.default.createElement(l.default,{options:t.domain,selectedItems:t.value,onChange:n}))}};var a=r(n(0)),l=r(n(183)),o=n(41),i=n(19)},1289:function(e,t,n){"use strict";var r=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=r(n(0)),l=r(n(267)),o=n(4);function i(e){return function(t){var n=t.filter,r=t.setFilter;return a.default.createElement("div",null,a.default.createElement(e,{range:n.domain,value0:n.value[0],value1:n.value[1],step:n.step,histogram:n.histogram,isEnlarged:n.view===o.FILTER_VIEW_TYPES.enlarged,onChange:r,inputTheme:"secondary"}))}}i.deps=[l.default]},1290:function(e,t,n){"use strict";var r=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.StyledFilterPanel=void 0;var a,l=r(n(6)),o=r(n(5)),i=n(41),u=(0,o.default)(i.PanelLabel)(a||(a=(0,l.default)(["\n  font-weight: 500;\n  color: white;\n  flex: 1;\n"])));t.StyledFilterPanel=u},1291:function(e,t,n){"use strict";var r=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(0)),l=r(n(1284));var o=function(){return function(e){var t=e.datasets,n=e.onAdd;return a.default.createElement(l.default,{datasets:t,className:"add-filter-button",width:"105px",onAdd:n,buttonIntlId:"filterManager.addFilter"})}};t.default=o},1292:function(e,t,n){"use strict";var r=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(0)),l=n(56),o=r(n(2e3)),i=r(n(447));function u(e,t){return function(n){var r=n.interactionConfig,o=n.datasets,i=n.visStateActions,u=n.panelMetadata,c=i.interactionConfigChange,d=i.setColumnDisplayFormat,f=(0,l.useIntl)();return a.default.createElement("div",{className:"interaction-manager"},a.default.createElement(t,{className:"interaction-manager-title",title:f.formatMessage({id:u.label})}),Object.keys(r).map((function(t){return a.default.createElement(e,{datasets:o,config:r[t],key:t,onConfigChange:c,setColumnDisplayFormat:d})})))}}u.deps=[o.default,i.default];var c=u;t.default=c},1293:function(e,t,n){"use strict";var r=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(1)),l=r(n(0)),o=r(n(267)),i=n(41),u=n(66),c=n(19);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e){return function(t){var n=t.config,r=t.onChange;return l.default.createElement(i.SidePanelSection,null,l.default.createElement(i.PanelLabel,null,l.default.createElement(c.FormattedMessage,{id:"misc.brushRadius"})),l.default.createElement(e,{range:u.BRUSH_CONFIG.range,value0:0,value1:n.size||5,step:.1,isRanged:!1,onChange:function(e){return r(f(f({},n),{},{size:e[1]}))},inputTheme:"secondary"}))}}s.deps=[o.default];var p=s;t.default=p},1294:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,o,i,u=r(n(1)),c=r(n(6)),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),f=r(n(5)),s=n(56),p=n(19),m=n(41),g=r(n(641)),y=r(n(2001)),v=r(n(268)),b=r(n(183)),h=n(4),E=r(n(335));function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,u.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=f.default.div(l||(l=(0,c.default)(["\n  .item-selector > div > div {\n    overflow: visible;\n  }\n"]))),S=f.default.div(o||(o=(0,c.default)(["\n  display: inherit;\n  padding: 0;\n\n  .button.clear-all {\n    background: transparent;\n    color: ",";\n    margin: 0 0 0 8px;\n    padding: 0;\n\n    &:hover {\n      color: ",";\n    }\n  }\n"])),(function(e){return e.theme.subtextColor}),(function(e){return e.theme.textColor})),x=f.default.div(i||(i=(0,c.default)(["\n  color: ",";\n  display: flex;\n  font-size: ",";\n  justify-content: space-between;\n  line-height: 11px;\n  margin-bottom: 8px;\n"])),(function(e){return e.theme.labelColor}),(function(e){return e.theme.inputFontSize}));function w(e,t){var n=function(n){var r=n.config,a=n.onChange,l=n.dataset,o=n.onDisplayFormatChange,i=l.id,c=(0,d.useCallback)((function(){return a(O(O({},r),{},{fieldsToShow:O(O({},r.fieldsToShow),{},(0,u.default)({},i,[]))}))}),[r,i,a]),f=(0,d.useCallback)((function(e,t){return e.map((function(e){return t.find((function(t){return t.name===e.name}))||{name:e.name,format:null}}))}),[]),s=(0,d.useCallback)((function(e){var t=O(O({},r),{},{fieldsToShow:O(O({},r.fieldsToShow),{},(0,u.default)({},i,f(e,r.fieldsToShow[i])))});a(t)}),[r,i,a]),g=(0,d.useCallback)((function(e){return a(O(O({},r),{},{fieldsToShow:O(O({},r.fieldsToShow),{},(0,u.default)({},i,e))}))}),[r,i,a]);return d.default.createElement(m.SidePanelSection,{key:i},d.default.createElement(m.SBFlexboxNoMargin,null,d.default.createElement(e,{dataset:l}),Boolean(r.fieldsToShow[i].length)&&d.default.createElement(S,null,d.default.createElement(m.Button,{className:"clear-all",onClick:c,width:"54px",secondary:!0},d.default.createElement(p.FormattedMessage,{id:"fieldSelector.clearAll"})))),d.default.createElement(t,{fields:l.fields,value:r.fieldsToShow[i],onSelect:s,reorderItems:g,closeOnSelect:!1,multiSelect:!0,inputTheme:"secondary",CustomChickletComponent:(0,y.default)(i,r,a,l.fields,o)}))};return(0,s.injectIntl)((function(e){var t=e.config,r=e.datasets,a=e.onChange,l=e.onDisplayFormatChange,o=e.intl,i=(0,d.useCallback)((function(e){return a(O(O({},t),{},{compareType:e}))}),[t,a]);return d.default.createElement(P,null,Object.keys(t.fieldsToShow).map((function(e){return e===h.GEOCODER_DATASET_NAME?null:d.default.createElement(n,{key:e,config:t,onChange:a,dataset:r[e],onDisplayFormatChange:l})})),d.default.createElement(x,null,d.default.createElement(p.FormattedMessage,{id:"compare.modeLabel"}),d.default.createElement(v.default,{checked:t.compareMode,id:"compare-mode-toggle",onChange:function(){var e=O(O({},t),{},{compareMode:!t.compareMode});a(e)},secondary:!0})),d.default.createElement(m.SidePanelSection,null,d.default.createElement(m.PanelLabel,null,d.default.createElement(p.FormattedMessage,{id:"compare.typeLabel"})),d.default.createElement(b.default,{disabled:!t.compareMode,displayOption:function(e){return o.formatMessage({id:"compare.types.".concat(e)})},selectedItems:t.compareType,options:Object.values(h.COMPARE_TYPES),multiSelect:!1,searchable:!1,inputTheme:"secondary",getOptionValue:function(e){return e},onChange:i})))}))}w.deps=[g.default,E.default];var M=w;t.default=M},1295:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(n(8)),o=r(n(9)),i=r(n(10)),u=r(n(11)),c=r(n(12)),d=r(n(7)),f=r(n(1)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),p=n(47),m=n(41),g=r(n(1296)),y=r(n(1297)),v=r(n(447)),b=n(55),h=n(56),E=n(19);function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function C(e){var t=function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}();return function(){var n,r=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}function O(e,t,n){var r=function(r){(0,u.default)(c,r);var a=C(c);function c(){var e;(0,l.default)(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=a.call.apply(a,[this].concat(n)),(0,f.default)((0,i.default)(e),"state",{isSelecting:!1}),(0,f.default)((0,i.default)(e),"_toggleSelecting",(function(){e.setState({isSelecting:!e.state.isSelecting})})),(0,f.default)((0,i.default)(e),"_selectStyle",(function(t){(0,e.props.mapStyleActions.mapStyleChange)(t),e._toggleSelecting()})),(0,f.default)((0,i.default)(e),"getCustomMapStylesActions",(0,p.createSelector)((function(e){return e.mapStyle.mapStyles}),(function(e){return e.mapStyleActions}),(function(e,t){var n={};return Object.values(e).filter((function(e){return Boolean(e.custom)})).forEach((function(e){var r=e.id;n[r]=[{id:"remove-map-style-".concat(r),IconComponent:b.Trash,tooltip:"tooltip.removeBaseMapStyle",onClick:function(){return t.removeCustomMapStyle({id:r})}}]})),n}))),e}return(0,o.default)(c,[{key:"render",value:function(){var r=this.props,a=r.mapStyle,l=r.intl,o=r.mapStyleActions,i=r.showAddMapStyleModal,u=r.panelMetadata,c=(a.mapStyles[a.styleType]||{}).layerGroups||[],d=this.getCustomMapStylesActions(this.props);return s.default.createElement("div",{className:"map-style-panel"},s.default.createElement(n,{className:"map-manager-title",title:l.formatMessage({id:u.label})},s.default.createElement(m.Button,{className:"add-map-style-button",onClick:i},s.default.createElement(b.Add,{height:"12px"}),s.default.createElement(E.FormattedMessage,{id:"mapManager.addMapStyle"}))),s.default.createElement("div",null,s.default.createElement(e,{mapStyle:a,isSelecting:this.state.isSelecting,onChange:this._selectStyle,toggleActive:this._toggleSelecting,customMapStylesActions:d}),c.length?s.default.createElement(t,{layers:a.visibleLayerGroups,editableLayers:c,topLayers:a.topLayerGroups,onChange:o.mapConfigChange,threeDBuildingColor:a.threeDBuildingColor,on3dBuildingColorChange:o.set3dBuildingColor,backgroundColor:a.backgroundColor,onBackgroundColorChange:o.setBackgroundColor}):null))}}]),c}(s.Component);return(0,h.injectIntl)(r)}O.deps=[g.default,y.default,v.default];var P=O;t.default=P},1296:function(e,t,n){"use strict";var r=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,l=r(n(6)),o=r(n(0)),i=r(n(5)),u=r(n(25)),c=n(19),d=n(4),f=n(55),s=r(n(336)),p=n(41),m=(0,i.default)(p.StyledPanelHeader)(a||(a=(0,l.default)(["\n  height: 48px;\n  margin-bottom: 5px;\n  opacity: 1;\n  position: relative;\n  transition: opacity 0.05s ease-in, height 0.25s ease-out;\n\n  &.collapsed {\n    height: 0;\n    margin-bottom: 0;\n    opacity: 0;\n  }\n\n  :hover {\n    cursor: pointer;\n    background-color: ",";\n  }\n\n  .map-title-block img {\n    margin-right: 12px;\n  }\n\n  .map-preview {\n    border-radius: 3px;\n    height: 30px;\n    width: 40px;\n  }\n\n  &.selected {\n    outline: 1px solid #caf2f4;\n  }\n\n  /* show callout dot if props.hasCallout and theme provides calloutDot base styles */\n  :after {\n    ","\n    background-color: #00ACF5;\n    top: 12px;\n    left: 15px;\n    display: ",";\n  }\n\n  .custom-style-actions {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n"])),(function(e){return e.theme.panelBackgroundHover}),(function(e){return e.theme.calloutDot}),(function(e){var t=e.theme,n=e.hasCallout;return t.calloutDot&&n?"block":"none"}));function g(e){var t={arrowDown:f.ArrowDown};return function(n){var r=n.mapStyle,a=n.onChange,l=n.toggleActive,i=n.isSelecting,f=n.customMapStylesActions,s=n.actionIcons,g=void 0===s?t:s,y=r.mapStyles,v=r.styleType;return o.default.createElement("div",null,o.default.createElement(p.PanelLabel,null,o.default.createElement(c.FormattedMessage,{id:"mapManager.mapStyle"})),Object.values(y).map((function(t){var n=t.id,r=t.custom,c=t.icon,s=void 0===c?d.NO_BASEMAP_ICON:c,y=t.label,b=void 0===y?"Untitled":y;return o.default.createElement(m,{className:(0,u.default)("map-dropdown-option",{collapsed:!i&&n!==v,selected:i&&n===v}),key:n,onClick:i?function(){return a(n)}:l,hasCallout:Boolean(r)},o.default.createElement(p.PanelHeaderContent,{className:"map-title-block"},o.default.createElement("img",{className:"map-preview",src:s}),o.default.createElement(p.PanelHeaderTitle,{className:"map-preview-name"},b)),i?null:o.default.createElement(e,{className:"map-dropdown-option__enable-config",id:"map-enable-config",IconComponent:g.arrowDown,tooltip:"tooltip.selectBaseMapStyle",onClick:l}),i&&r?o.default.createElement("div",{className:"custom-style-actions"},((null==f?void 0:f[n])||[]).map((function(t){return o.default.createElement(e,{key:t.id,className:"map-dropdown-option__enable-config",id:t.id,IconComponent:t.IconComponent,tooltip:t.tooltip,onClick:function(e){e.stopPropagation(),t.onClick()}})}))):null)})))}}g.deps=[s.default];var y=g;t.default=y},1297:function(e,t,n){"use strict";var r=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,l=r(n(6)),o=r(n(0)),i=r(n(5)),u=r(n(336)),c=r(n(2002)),d=n(55),f=n(41),s=n(19),p=n(223),m=n(4);function g(){}var y=i.default.div(a||(a=(0,l.default)(["\n  padding-bottom: 12px;\n"])));function v(e,t){var n={visible:d.EyeSeen,hidden:d.EyeUnseen,top:p.Upload};return function(r){var a=r.layers,l=r.editableLayers,i=r.onChange,u=r.topLayers,c=r.threeDBuildingColor,d=r.on3dBuildingColorChange,p=r.backgroundColor,v=r.onBackgroundColorChange,b=r.actionIcons,h=void 0===b?n:b;return o.default.createElement(y,{className:"map-style__layer-group__selector"},o.default.createElement("div",{className:"layer-group__header"},o.default.createElement(f.PanelLabel,null,o.default.createElement(s.FormattedMessage,{id:"mapLayers.title"}))),o.default.createElement(f.PanelContent,{className:"map-style__layer-group"},l.map((function(n){var r=n.slug,l=n.isVisibilityToggleAvailable,f=n.isMoveToTopAvailable,s=n.isColorPickerAvailable;return o.default.createElement(t,{key:r,PanelHeaderAction:e,onChange:i,slug:r,layers:a,topLayers:u,actionIcons:h,isVisibilityToggleAvailable:l,isMoveToTopAvailable:f,isColorPickerAvailable:s,color:s&&r===m.THREE_D_BUILDING_LAYER_GROUP_SLUG?c:r===m.BACKGROUND_LAYER_GROUP_SLUG?p:null,onColorChange:s&&r===m.THREE_D_BUILDING_LAYER_GROUP_SLUG?d:r===m.BACKGROUND_LAYER_GROUP_SLUG?v:g})}))))}}v.deps=[u.default,c.default];var b=v;t.default=b},1298:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,o,i=r(n(24)),u=r(n(6)),c=b(n(0)),d=b(n(5)),f=n(13),s=n(19),p=n(270),m=n(41),g=r(n(644)),y=n(642);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}var h=d.default.div(l||(l=(0,u.default)(["\n  margin-right: ","px;\n  cursor: pointer;\n  ","\n"])),(function(e){return e.extraMarginRight?0:24}),(function(e){return e.disabled&&(0,d.css)(o||(o=(0,u.default)(["\n      cursor: none;\n      pointer-events: none;\n      opacity: 0.3;\n    "])))}));function E(){return function(e){var t=e.slug,n=e.color,r=e.onColorChange,a=e.extraMarginRight,l=e.disabled,o=(0,c.useState)(!1),u=(0,i.default)(o,2),d=u[0],v=u[1],b=(0,c.useCallback)((function(){v(!d)}),[v,d]),E=(0,c.useCallback)((function(){v(!1)}),[v]),_=(0,c.useCallback)((function(e){r([e.rgb.r,e.rgb.g,e.rgb.b])}),[r]);return c.default.createElement(h,{extraMarginRight:a,disabled:l},c.default.createElement(y.ColorBlock,{backgroundcolor:n,onClick:b,className:"color-selector__selector__block","data-tip":!0,"data-for":"update-color-".concat(t)}),c.default.createElement(m.Tooltip,{id:"update-color-".concat(t),effect:"solid",delayShow:500},c.default.createElement("span",null,c.default.createElement(s.FormattedMessage,{id:"Update color"}))),c.default.createElement(p.Portaled,{isOpened:!1!==d,left:110,top:-50,onClose:E},c.default.createElement(g.default,{color:(0,f.rgbToHex)(n),onChange:_,onSwatchClose:E})))}}E.deps=[];var _=E;t.default=_},1299:function(e,t,n){"use strict";var r=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(0));var l=function(){var e=function(e){return a.default.createElement("div",null)};return e.defaultProps={panels:[],getProps:function(e){return{}}},e};t.default=l},1301:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=R,t.getSelectedFeature=N;var l,o,i,u,c,d=r(n(14)),f=r(n(21)),s=r(n(24)),p=r(n(1)),m=r(n(6)),g=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),y=r(n(5)),v=r(n(1302)),b=n(55),h=n(56),E=n(19),_=r(n(477)),C=n(270),O=n(120),P=n(13),S=n(4);function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,p.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=[S.LAYER_TYPES.hexagonId,S.LAYER_TYPES.geojson],j=y.default.div(l||(l=(0,m.default)(["\n  display: flex;\n  flex-direction: column;\n  max-width: ","px;\n  max-height: ","px;\n  padding: 14px;\n  & > * + * {\n    margin-top: 6px;\n  }\n  ",";\n  font-family: ",";\n  font-size: 11px;\n  font-weight: 500;\n  background-color: ",";\n  color: ",";\n  z-index: 1000;\n  overflow-x: auto;\n  box-shadow: ",";\n\n  :hover {\n    background-color: ",";\n  }\n\n  .primary-label {\n    color: ",";\n    font-size: 10px;\n  }\n\n  .map-popover__layer-info,\n  .coordingate-hover-info {\n    & > * + * {\n      margin-top: 7px;\n    }\n  }\n\n  table {\n    width: auto;\n    display: grid;\n    border-collapse: collapse;\n    row-gap: 5px;\n    column-gap: 5px;\n  }\n\n  .coordingate-hover-info > table {\n    grid-template-columns: auto auto auto;\n  }\n  .map-popover__layer-info > table {\n    grid-template-columns: auto auto;\n  }\n\n  tbody,\n  tr {\n    display: contents;\n  }\n\n  td {\n    border-color: transparent;\n    color: ",";\n  }\n\n  td.row__value {\n    text-align: right;\n    font-weight: 500;\n    color: ",";\n  }\n"])),500,600,(function(e){return e.theme.scrollBar}),(function(e){return e.theme.fontFamily}),(function(e){return e.theme.panelBackground}),(function(e){return e.theme.textColor}),(function(e){return e.theme.panelBoxShadow}),(function(e){return"".concat(e.theme.panelBackground,"dd")}),(function(e){return e.theme.notificationColors.success}),(function(e){return e.theme.textColor}),(function(e){return e.theme.textColorHl})),D=y.default.div(o||(o=(0,m.default)(["\n  display: flex;\n  align-self: center;\n  align-items: center;\n  justify-items: center;\n  & > * + * {\n    margin-left: 10px;\n  }\n"]))),F=y.default.div(i||(i=(0,m.default)(["\n  display: flex;\n  flex-direction: column;\n  & > * + * {\n    margin-top: 12px;\n  }\n"]))),T=y.default.div(u||(u=(0,m.default)(["\n  color: ",";\n\n  :hover {\n    cursor: pointer;\n    color: ",";\n  }\n"])),(function(e){return e.theme.activeColor}),(function(e){return e.theme.linkBtnColor})),L=y.default.div(c||(c=(0,m.default)(["\n  display: flex;\n  align-items: center;\n  color: ",";\n  svg {\n    margin-right: 6px;\n  }\n\n  :hover {\n    cursor: pointer;\n    color: ",";\n  }\n"])),(function(e){return e.theme.textColorHl}),(function(e){return e.theme.linkBtnColor}));function I(e){var t=e.placement,n=(e.reference,e.popper,arguments.length>1&&void 0!==arguments[1]?arguments[1]:20);switch(t){case"top-start":case"bottom-start":return[n,n];case"top-end":case"bottom-end":return[-n,n];default:return[0,0]}}function A(e){return{modifiers:[{name:"preventOverflow",options:{boundary:e}}]}}function N(e){var t,n,r,a,l,o,i,u,c,d,f=null==e?void 0:e.layer;switch(null==f?void 0:f.type){case S.LAYER_TYPES.hexagonId:c=null===(t=f.config)||void 0===t||null===(n=t.columns)||void 0===n||null===(r=n.hex_id)||void 0===r?void 0:r.fieldIdx,d=(0,P.idToPolygonGeo)({id:null==e||null===(a=e.data)||void 0===a?void 0:a[c]},{isClosed:!0});break;case S.LAYER_TYPES.geojson:c=null===(l=f.config)||void 0===l||null===(o=l.columns)||void 0===o||null===(i=o.geojson)||void 0===i?void 0:i.fieldIdx,d=(0,O.parseGeoJsonRawFeature)(null==e||null===(u=e.data)||void 0===u?void 0:u[c])}return M(M({},d),{},{id:(0,P.generateHashId)(8)})}function R(e){return(0,h.injectIntl)((function(t){var n=t.x,r=t.y,a=t.frozen,l=t.coordinate,o=t.layerHoverProp,i=t.isBase,u=t.zoom,c=t.container,p=t.onClose,m=t.onSetFeatures,y=t.setSelectedFeature,v=t.featureCollection,h=(0,g.useState)("start"),O=(0,s.default)(h,2),P=O[0],S=O[1],x=function(){return S("end")},w=function(){return S("start")},M=(0,g.useCallback)((function(){var e={mapIndex:0,rightClick:!0,position:{x:n,y:r}},t=N(o);if(t){y(t,e);var a=v?[].concat((0,f.default)(v.features),[t]):[t];m(a)}p()}),[p,m,n,r,y,o,v]);return g.default.createElement(C.RootContext.Consumer,null,(function(t){return g.default.createElement(_.default,{popperOptions:A(c),zIndex:98,visible:!0,interactive:!0,getReferenceClientRect:function(){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=e&&e.getBoundingClientRect?e.getBoundingClientRect():{},l=(a.left||0)+t-r/2,o=(a.top||0)+n-r/2;return{left:l,top:o,right:l+r,bottom:o+r,width:r,height:r,y:o,x:l,toJSON:function(){return this}}}(c,n,r)},placement:"bottom-".concat(P),offset:I,appendTo:(null==t?void 0:t.current)||document.body,render:function(t){var n,r;return g.default.createElement(j,(0,d.default)({},t,{className:"map-popover"}),a?g.default.createElement(D,null,"start"===P&&g.default.createElement(T,{className:"popover-arrow-left",onClick:x},g.default.createElement(b.ArrowLeft,null)),g.default.createElement(T,{className:"popover-pin",onClick:p},g.default.createElement(b.Pin,{height:"16px"})),"end"===P&&g.default.createElement(T,{className:"popover-arrow-right",onClick:w},g.default.createElement(b.ArrowRight,null)),i&&g.default.createElement("div",{className:"primary-label"},g.default.createElement(E.FormattedMessage,{id:"mapPopover.primary"}))):null,g.default.createElement(F,null,g.default.createElement(e,{coordinate:l,zoom:u,layerHoverProp:o})),null!=o&&null!==(n=o.layer)&&void 0!==n&&n.type&&k.includes(null==o||null===(r=o.layer)||void 0===r?void 0:r.type)&&a?g.default.createElement(L,{className:"select-geometry",onClick:M},g.default.createElement(b.CursorPoint,null),"Select Geometry"):null)}})}))}))}R.deps=[v.default]},1302:function(e,t,n){"use strict";var r=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var a=r(n(0)),l=n(56),o=r(n(900)),i=r(n(1303));function u(e,t){return(0,l.injectIntl)((function(n){var r=n.coordinate,l=n.layerHoverProp,o=n.zoom;return a.default.createElement(a.default.Fragment,null,Array.isArray(r)&&a.default.createElement(t,{coordinate:r,zoom:o}),l&&a.default.createElement(e,l))}))}u.deps=[o.default,i.default]},1303:function(e,t,n){"use strict";var r=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(0)),l=n(13),o=n(55),i=n(900),u=function(){return function(e){var t=e.coordinate,n=e.zoom;return a.default.createElement("div",{className:"coordingate-hover-info"},a.default.createElement(i.StyledLayerName,{className:"map-popover__layer-name"},a.default.createElement(o.CursorClick,{height:"12px"}),"Coordinate"),a.default.createElement("table",null,a.default.createElement("tbody",null,a.default.createElement("tr",{className:"row"},a.default.createElement("td",{className:"row__value"},(0,l.preciseRound)(t[1],6),","),a.default.createElement("td",{className:"row__value"},(0,l.preciseRound)(t[0],6),","),a.default.createElement("td",{className:"row__value"},(0,l.preciseRound)(n,1),"z")))))}};t.default=u},1304:function(e,t,n){"use strict";var r=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,l=r(n(14)),o=r(n(50)),i=r(n(6)),u=r(n(0)),c=r(n(5)),d=r(n(891)),f=r(n(1305)),s=r(n(1306)),p=r(n(1307)),m=r(n(1309)),g=r(n(1313)),y=r(n(1315)),v=c.default.div(a||(a=(0,i.default)(["\n  right: 0;\n  padding: ","px;\n  z-index: 10;\n  margin-top: ","px;\n  position: absolute;\n  display: grid;\n  row-gap: 8px;\n  justify-items: end;\n  pointer-events: none; /* prevent padding from blocking input */\n  & > * {\n    /* all children should allow input */\n    pointer-events: all;\n  }\n"])),(function(e){return e.theme.mapControl.padding}),(function(e){return e.top||0})),b=u.default.createElement(d.default,{version:!1,appName:"kepler.gl"});function h(e,t,n,r,a,i){var c=[e,n,t,a,i,r],d=u.default.memo((function(e){var t=e.actionComponents,n=void 0===t?c:t,r=(0,o.default)(e,["actionComponents"]);return u.default.createElement(v,{className:"map-control",top:r.top},n.map((function(e,t){return u.default.createElement(e,(0,l.default)({key:t,className:"map-control-action"},r))})))}));return d.defaultProps={isSplit:!1,top:0,mapIndex:0,logoComponent:b,actionComponents:c},d.displayName="MapControl",d}h.deps=[f.default,s.default,p.default,m.default,g.default,y.default];var E=h;t.default=E},1305:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),o=r(n(25)),i=n(41),u=n(55),c=r(n(337));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e){var t={delete:u.Delete,split:u.Split},n=function(n){var r=n.isSplit,a=n.mapIndex,u=n.onToggleSplitMap,c=n.actionIcons,d=void 0===c?t:c,f=n.mapControls,s=n.readOnly,p=(null==f?void 0:f.splitMap)||{},m=(0,l.useCallback)((function(e){e.preventDefault(),u(r?a:void 0)}),[r,a,u]),g=(0,l.useMemo)((function(){return p.show&&!0!==s}),[p.show,s]);return p.show&&g?l.default.createElement(e,{id:"action-toggle",message:r?"tooltip.closePanel":"tooltip.switchToDualView"},l.default.createElement(i.MapControlButton,{active:r,onClick:m,className:(0,o.default)("map-control-button","split-map",{"close-map":r})},r?l.default.createElement(d.delete,{height:"18px"}):l.default.createElement(d.split,{height:"18px"}))):null};return n.displayName="SplitMapButton",l.default.memo(n)}f.deps=[c.default];var s=f;t.default=s},1306:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),o=r(n(25)),i=n(55),u=n(41),c=r(n(337));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e){var t={cube:i.Cube3d},n=function(n){var r=n.dragRotate,a=n.onTogglePerspective,i=n.actionIcons,c=void 0===i?t:i,d=n.mapControls,f=(0,l.useCallback)((function(e){e.preventDefault(),a()}),[a]);return(0,l.useMemo)((function(){return((null==d?void 0:d.toggle3d)||{}).show}),[d])?l.default.createElement(e,{id:"action-3d",message:r?"tooltip.disable3DMap":"tooltip.3DMap"},l.default.createElement(u.MapControlButton,{onClick:f,active:r,className:(0,o.default)("map-control-button","toggle-3d",{map3d:r})},l.default.createElement(c.cube,{height:"22px"}))):null};return n.displayName="Toggle3dButton",l.default.memo(n)}f.deps=[c.default];var s=f;t.default=s},1307:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),o=r(n(25)),i=n(41),u=n(55),c=r(n(1308)),d=r(n(337)),f=r(n(901));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function p(e,t){var n=function(n){var r=n.onMapToggleLayer,a=n.onToggleMapControl,d=n.layers,f=n.layersToRender,s=n.isSplit,p=n.mapControls,m=n.readOnly,g=(null==p?void 0:p.visibleLayers)||{}||{},y=g.active,v=g.show,b=g.disableClose,h=(0,l.useMemo)((function(){return d.filter((function(e){return e.config.isVisible})).map((function(e){var t=e.id;return{id:t,name:e.config.label,isVisible:f[t]}}))}),[d,f]),E=(0,l.useMemo)((function(){return s&&v&&!0!==m}),[s,v,m]),_=(0,l.useCallback)((function(e){e.preventDefault(),a("visibleLayers")}),[a]);return E?y?l.default.createElement(t,{header:"header.visibleLayers",onClick:_,disableClose:b},l.default.createElement(c.default,{layers:h,onMapToggleLayer:r})):l.default.createElement(i.MapControlButton,{key:1,onClick:_,className:(0,o.default)("map-control-button","toggle-layer",{isActive:y}),"data-tip":!0,"data-for":"toggle-layer"},l.default.createElement(u.Layers,{height:"22px"}),l.default.createElement(e,{id:"toggle-layer",message:y?"tooltip.hideLayerPanel":"tooltip.showLayerPanel"})):null};return n.displayName="LayerSelectorPanel",l.default.memo(n)}p.deps=[d.default,f.default];var m=p;t.default=m},1309:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,o,i=r(n(14)),u=r(n(24)),c=r(n(6)),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),f=r(n(5)),s=n(55),p=n(41),m=r(n(337)),g=r(n(901)),y=r(n(1310)),v=r(n(1312)),b=n(60),h=n(4),E=n(44),_=n(266);function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}P.deps=[m.default,g.default,y.default];var O=f.default.div(l||(l=(0,c.default)(["\n  position: absolute;\n  bottom: ","px;\n  right: ","px;\n  ",";\n"])),h.DIMENSIONS.mapControl.mapLegend.pinned.bottom,(function(e){return(e.offsetRight||0)+h.DIMENSIONS.mapControl.mapLegend.pinned.right}),E.media.portable(o||(o=(0,c.default)(["\n    bottom: 0px;\n    right: 0px;\n    min-width: ","px;\n    .map-control-panel {\n      min-height: 215px;\n      margin-bottom: 0px;\n    };\n  "])),h.DIMENSIONS.mapControl.width+h.DIMENSIONS.mapControl.mapLegend.pinned.right));function P(e,t,n){var r={legend:s.Legend},a=function(a){var l=a.layers,o=a.mapControls,c=a.scale,f=a.onToggleMapControl,s=a.isExport,m=a.logoComponent,g=a.actionIcons,y=void 0===g?r:g,h=a.mapState,E=a.mapHeight,C=a.offsetRight,P=a.onToggleSplitMapViewport,S=a.onClickControlBtn,x=a.isViewportUnsyncAllowed,w=void 0===x||x,M=(null==o?void 0:o.mapLegend)||{},k=(M||{}).active,j=(0,d.useCallback)((function(){var e;null==S||S(),null!=o&&null!==(e=o.mapDraw)&&void 0!==e&&e.active&&f("mapDraw")}),[S,f,o]),D=(0,d.useState)(null),F=(0,u.default)(D,2),T=F[0],L=F[1],I=(0,d.useCallback)((function(e){e.preventDefault(),f("mapLegend")}),[f]),A=(0,d.useCallback)((function(e){e.preventDefault(),T&&T.hide(),f("mapLegend")}),[T,f]);if(!M.show)return null;var N=d.default.createElement(t,(0,i.default)({scale:c,header:"header.layerLegend",isPinned:!0},k?{onClick:I,pinnable:!1,disableClose:!1}:{onPinClick:A,pinnable:!0,disableClose:!0},{isExport:s,logoComponent:m,mapState:h,onToggleSplitMapViewport:P,isViewportUnsyncAllowed:w}),d.default.createElement(n,{layers:l,mapHeight:E})),R=(0,d.useContext)(_.RootContext);if(k){if(s)return N;var B=d.default.createElement(O,{offsetRight:C},N);return(0,b.createPortal)(B,(null==R?void 0:R.current)||document.body)}return d.default.createElement("div",null,d.default.createElement(v.default,{interactive:!0,trigger:"click",placement:"left-start",onCreate:L,render:function(e){return d.default.createElement("div",e,N)},appendTo:"parent"},d.default.createElement("div",null,d.default.createElement(e,{id:"show-legend",message:"tooltip.showLegend"},d.default.createElement(p.MapControlButton,{className:"map-control-button show-legend",onClick:j},d.default.createElement(y.legend,{height:"22px"}))))))};return a.displayName="MapLegendPanel",a}var S=P;t.default=S},1310:function(e,t,n){"use strict";var r=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.LayerColorLegend=void 0,t.LayerLegendContentFactory=O,t.LayerLegendHeaderFactory=C,t.default=t.VisualChannelMetric=t.StyledMapControlLegend=t.SingleColorLegend=t.LayerSizeLegend=void 0;var a,l=r(n(14)),o=r(n(24)),i=r(n(21)),u=r(n(6)),c=r(n(0)),d=r(n(5)),f=n(303),s=r(n(1311)),p=n(4),m=n(19),g=d.default.div(a||(a=(0,u.default)(["\n  padding: 10px ","px 10px\n    ","px;\n  font-size: 11px;\n  font-family: ",";\n  border-bottom-color: ",";\n  border-bottom-style: solid;\n  border-bottom-width: ",";\n  width: ","px;\n  box-sizing: border-box;\n\n  .legend--layer_name {\n    font-size: 12px;\n    padding-right: ","px;\n    color: ",";\n    font-weight: 500;\n  }\n  .legend--layer_type {\n    color: ",";\n    font-weight: 500;\n    font-size: 11px;\n    padding-right: ","px;\n  }\n\n  .legend--layer__title {\n    padding-right: ","px;\n  }\n\n  .legend--layer_by {\n    color: ",";\n  }\n\n  .legend--layer_color_field {\n    color: ",";\n    font-weight: 500;\n  }\n\n  .legend--layer_color-legend {\n    margin-top: 6px;\n  }\n"])),(function(e){return e.theme.mapControl.padding}),(function(e){return e.theme.mapControl.padding}),(function(e){return e.theme.fontFamily}),(function(e){return e.theme.panelBorderColor}),(function(e){return e.last?0:"1px"}),(function(e){return e.width}),(function(e){return e.theme.mapControl.padding}),(function(e){return e.theme.textColor}),(function(e){return e.theme.subtextColor}),(function(e){return e.theme.mapControl.padding}),(function(e){return e.theme.mapControl.padding}),(function(e){return e.theme.subtextColor}),(function(e){return e.theme.textColorHl}));t.StyledMapControlLegend=g;var y=function(e){var t=e.name;return c.default.createElement("div",{className:"legend--layer__title"},c.default.createElement("span",{className:"legend--layer_color_field"},c.default.createElement(m.FormattedMessage,{id:t})))};t.VisualChannelMetric=y;var v=function(e){var t=e.label,n=e.name;return t?c.default.createElement("div",{className:"legend--layer_size-schema"},c.default.createElement("p",null,c.default.createElement("span",{className:"legend--layer_by"},t?c.default.createElement(m.FormattedMessage,{id:t}):null),c.default.createElement("span",{className:"legend--layer_by"}," by ")),n&&c.default.createElement(y,{name:n})):null};t.LayerSizeLegend=v;var b=[""],h=c.default.memo((function(e){var t=e.width,n=e.color;return c.default.createElement(s.default,{scaleType:"ordinal",displayLabel:!1,domain:b,fieldType:null,range:{colors:[f.rgb.apply(void 0,(0,i.default)(n)).toString()]},width:t})}));t.SingleColorLegend=h,h.displayName="SingleColorLegend";var E=c.default.memo((function(e){var t=e.description,n=e.config,r=e.width,a=e.colorChannel,l=t.measure,i=a.scale,u=a.field,d=a.domain,f=a.range,p=a.property,m=[i,u,d].map((function(e){return n[e]})),g=(0,o.default)(m,3),v=g[0],b=g[1],E=g[2],_=n.visConfig[f];return c.default.createElement("div",null,c.default.createElement("div",{className:"legend--layer_color-schema"},c.default.createElement("div",null,l?c.default.createElement(y,{name:l}):null,c.default.createElement("div",{className:"legend--layer_color-legend"},l?c.default.createElement(s.default,{scaleType:v,displayLabel:!0,domain:E,fieldType:b&&b.type||"real",range:_,width:r}):c.default.createElement(h,{color:n.visConfig[p]||n[p]||n.color,width:r})))))}));t.LayerColorLegend=E,E.displayName="LayerColorLegend";var _=function(e){return[p.CHANNEL_SCALES.color,p.CHANNEL_SCALES.colorAggr].includes(e.channelScaleType)};function C(){return function(e){var t=e.options,n=e.layer;return!1!==(null==t?void 0:t.showLayerName)?c.default.createElement("div",{className:"legend--layer_name"},n.config.label):null}}function O(){return function(e){var t=e.layer,n=e.containerW,r=Object.values(t.visualChannels).filter(_),a=Object.values(t.visualChannels).filter((function(e){return!_(e)}));return c.default.createElement(c.default.Fragment,null,r.map((function(e){return!e.condition||e.condition(t.config)?c.default.createElement(E,{key:e.key,description:t.getVisualChannelDescription(e.key),config:t.config,width:n-2*p.DIMENSIONS.mapControl.padding,colorChannel:e}):null})),a.map((function(e){var n=!e.condition||e.condition(t.config),r=t.config[e.field]||e.defaultMeasure,a=t.getVisualChannelDescription(e.key);return n&&r?c.default.createElement(v,{key:e.key,label:a.label,name:a.measure}):null})))}}function P(e,t){var n=function(n){var r=n.layers,a=void 0===r?[]:r,o=n.width,i=n.mapHeight,u=n.options;return c.default.createElement("div",(0,l.default)({className:"map-legend"},i&&{style:{maxHeight:i-250}}),a.map((function(n,r){if(!n.isValidToSave()||n.config.hidden)return null;var l=o||p.DIMENSIONS.mapControl.width;return c.default.createElement(g,{className:"legend--layer",last:r===a.length-1,key:r,width:l},c.default.createElement(e,{options:u,layer:n}),c.default.createElement(t,{containerW:l,layer:n}))})))};return n.displayName="MapLegend",n}P.deps=[C,O];var S=P;t.default=S},1312:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(n(14)),o=r(n(21)),i=r(n(1)),u=r(n(24)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),d=r(n(477));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var p=(0,n(13).isTest)(),m=(0,c.forwardRef)((function(e,t){var n=(0,c.useState)(p),r=(0,u.default)(n,2),a=r[0],f=r[1],m={fn:function(){return{onMount:function(){return f(!0)},onHidden:function(){return f(!1)}}}},g=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return g.plugins=[m].concat((0,o.default)(e.plugins||[])),e.render?g.render=function(){return a?e.render.apply(e,arguments):""}:g.content=a?e.content:"",c.default.createElement(d.default,(0,l.default)({},g,{ref:t}))}));t.default=m},1313:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),o=r(n(25)),i=n(4),u=n(55),c=n(41),d=r(n(645)),f=r(n(337)),s=r(n(902));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function m(e,t){var n={visible:u.EyeSeen,hidden:u.EyeUnseen,polygon:u.DrawPolygon,cursor:u.CursorClick,innerPolygon:u.Polygon,rectangle:u.Rectangle},r=l.default.memo((function(r){var a,u,f=r.editor,s=r.mapControls,p=r.onToggleMapControl,m=r.onSetEditorMode,g=r.actionIcons,y=void 0===g?n:g,v=null==s||null===(a=s.mapDraw)||void 0===a?void 0:a.active,b=(0,l.useCallback)((function(){return p("mapDraw")}),[p]);return null!=s&&null!==(u=s.mapDraw)&&void 0!==u&&u.show?l.default.createElement("div",{className:"map-draw-controls",style:{position:"relative"}},v?l.default.createElement(t,{show:v},l.default.createElement(d.default,{className:"edit-feature",onClick:function(){return m(i.EDITOR_MODES.EDIT)},label:"toolbar.select",icon:y.cursor,active:f.mode===i.EDITOR_MODES.EDIT}),l.default.createElement(d.default,{className:"draw-feature",onClick:function(){return m(i.EDITOR_MODES.DRAW_POLYGON)},label:"toolbar.polygon",icon:y.innerPolygon,active:f.mode===i.EDITOR_MODES.DRAW_POLYGON}),l.default.createElement(d.default,{className:"draw-rectangle",onClick:function(){return m(i.EDITOR_MODES.DRAW_RECTANGLE)},label:"toolbar.rectangle",icon:y.rectangle,active:f.mode===i.EDITOR_MODES.DRAW_RECTANGLE})):null,l.default.createElement(e,{id:"map-draw",message:"tooltip.DrawOnMap"},l.default.createElement(c.MapControlButton,{className:(0,o.default)("map-control-button","map-draw",{isActive:v}),onClick:function(e){e.preventDefault(),b()},active:v},l.default.createElement(y.polygon,{height:"22px"})))):null}));return r.displayName="MapDrawPanel",r}m.deps=[f.default,s.default];var g=m;t.default=g},1315:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),o=r(n(25)),i=r(n(645)),u=n(41),c=r(n(337)),d=r(n(902));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function s(e,t){var n=l.default.memo((function(n){var r=n.availableLocales,a=n.onToggleMapControl,c=n.onSetLocale,d=n.locale,f=n.mapControls.mapLocale||{},s=f.active,p=f.show,m=(0,l.useCallback)((function(e){c(e)}),[c]),g=(0,l.useCallback)((function(e){e.preventDefault(),a("mapLocale")}),[a]),y=(0,l.useCallback)((function(e){return"toolbar.".concat(e)}),[]);return p?l.default.createElement("div",{className:"locale-panel-controls",style:{position:"relative"}},s?l.default.createElement(t,{show:s},r.map((function(e){return l.default.createElement(i.default,{key:e,onClick:function(){return m(e)},label:y(e),active:d===e})}))):null,l.default.createElement(e,{id:"locale",message:"tooltip.selectLocale"},l.default.createElement(u.MapControlButton,{className:(0,o.default)("map-control-button","locale-panel",{isActive:s}),onClick:g,active:s},l.default.createElement("span",{className:"map-control-button__locale"},d.toUpperCase())))):null}));return n.displayName="LocalePanel",n}s.deps=[c.default,d.default];var p=s;t.default=p},1316:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=k;var l,o=r(n(8)),i=r(n(9)),u=r(n(10)),c=r(n(11)),d=r(n(12)),f=r(n(7)),s=r(n(1)),p=r(n(6)),m=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),g=n(60),y=r(n(5)),v=r(n(31)),b=r(n(25)),h=r(n(81)),E=n(47),_=r(n(1317)),C=n(4),O=n(120),P=n(266);function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function x(e){var t=function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}();return function(){var n,r=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,d.default)(this,n)}}var w=y.default.div(l||(l=(0,p.default)(["\n  position: relative;\n"]))),M=function(e){return C.EDITOR_AVAILABLE_LAYERS.includes(e.type)};function k(e){var t=function(t){var n=t.visiblePanel,r=t.className,a=t.style,l=t.selectedFeature,o=t.datasets,i=t.layers,u=t.currentFilter,c=t.onClose,d=t.onDeleteFeature,f=t.onToggleLayer,s=t.position;return m.default.createElement(P.RootContext.Consumer,null,(function(t){var p;return m.default.createElement(m.default.Fragment,null,(0,g.createPortal)(m.default.createElement(w,{className:(0,b.default)("editor",r),style:a},n?m.default.createElement(e,{selectedFeature:l,datasets:o,layers:i,currentFilter:u,onClose:c,onDeleteFeature:d,onToggleLayer:f,position:s||null}):null),null!==(p=null==t?void 0:t.current)&&void 0!==p?p:document.body))}))},n=function(e){(0,c.default)(r,e);var n=x(r);function r(){var e;(0,o.default)(this,r);for(var t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return e=n.call.apply(n,[this].concat(a)),(0,s.default)((0,u.default)(e),"state",{}),(0,s.default)((0,u.default)(e),"layerSelector",(function(e){return e.layers})),(0,s.default)((0,u.default)(e),"filterSelector",(function(e){return e.filters})),(0,s.default)((0,u.default)(e),"selectedFeatureIdSelector",(function(e){return(0,h.default)(e,["editor","selectedFeature","id"])})),(0,s.default)((0,u.default)(e),"editorFeatureSelector",(function(e){return(0,h.default)(e,["editor","features"])})),(0,s.default)((0,u.default)(e),"currentFilterSelector",(0,E.createSelector)(e.filterSelector,e.selectedFeatureIdSelector,(function(e,t){return e.find((function(e){return e.value&&e.value.id===t}))}))),(0,s.default)((0,u.default)(e),"availableLayersSelector",(0,E.createSelector)(e.layerSelector,(function(e){return e.filter(M).filter((function(e){var t;return(null===(t=e.config)||void 0===t?void 0:t.isVisible)&&e.id!==C.GEOCODER_LAYER_ID}))}))),(0,s.default)((0,u.default)(e),"allFeaturesSelector",(0,E.createSelector)(e.filterSelector,e.editorFeatureSelector,(function(e,t){return e.filter((function(e){return e.type===C.FILTER_TYPES.polygon})).map((function(e){return e.value})).concat(t)}))),(0,s.default)((0,u.default)(e),"isInFocus",(function(){var e;return"default-deckgl-overlay-wrapper"===(null===(e=document.activeElement)||void 0===e?void 0:e.id)})),(0,s.default)((0,u.default)(e),"_onKeyPressed",(function(t){if(e.isInFocus())switch(t.keyCode){case C.KeyEvent.DOM_VK_DELETE:case C.KeyEvent.DOM_VK_BACK_SPACE:e._onDeleteSelectedFeature();break;case C.KeyEvent.DOM_VK_ESCAPE:O.EditorLayerUtils.isDrawingActive(!0,e.props.editor.mode)&&e.props.onSetEditorMode(C.EDITOR_MODES.EDIT),e.props.onSelect(null)}})),(0,s.default)((0,u.default)(e),"_onDeleteSelectedFeature",(function(){var t=e.props.editor.selectedFeature;t&&e.props.onDeleteFeature(t)})),(0,s.default)((0,u.default)(e),"_closeFeatureAction",(function(){var t=e.props.editor.selectedFeature;e.props.onSelect(t)})),(0,s.default)((0,u.default)(e),"_togglePolygonFilter",(function(t){var n=e.props.editor.selectedFeature;n&&e.props.onTogglePolygonFilter(t,n)})),e}return(0,i.default)(r,[{key:"componentDidMount",value:function(){v.default.addEventListener("keydown",this._onKeyPressed)}},{key:"componentWillUnmount",value:function(){v.default.removeEventListener("keydown",this._onKeyPressed)}},{key:"render",value:function(){var e=this.props,n=e.className,r=e.datasets,a=e.editor,l=e.style,o=e.index,i=a.selectedFeature,u=a.selectionContext,c=this.currentFilterSelector(this.props),d=this.availableLayersSelector(this.props),f=u||{},s=f.rightClick,p=f.position,g=f.mapIndex;return m.default.createElement(t,{selectedFeature:i,visiblePanel:Boolean(s)&&i&&o===g,datasets:r,layers:d,currentFilter:c,onClose:this._closeFeatureAction,onDeleteFeature:this._onDeleteSelectedFeature,onToggleLayer:this._togglePolygonFilter,position:p||null,className:n,style:l})}}]),r}(m.Component);(0,s.default)(n,"defaultProps",{}),(0,s.default)(n,"displayName","Editor");var r=m.default.memo(n);return r.displayName="Editor",r}k.deps=[_.default]},1317:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.PureFeatureActionPanelFactory=_,t.default=C;var l,o=r(n(14)),i=r(n(24)),u=r(n(6)),c=b(n(0)),d=n(56),f=b(n(1318)),s=r(n(5)),p=r(n(25)),m=n(55),g=r(n(455)),y=n(603);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}var h=s.default.div(l||(l=(0,u.default)(["\n  position: absolute;\n  .layer-panel-item-disabled {\n    color: ",";\n  }\n"])),(function(e){return e.theme.textColor})),E={remove:m.Trash,layer:m.Layers,copy:m.Copy,copied:m.Checkmark};function _(){var e=function(e){var t=e.className,n=e.datasets,r=e.selectedFeature,a=e.position,l=e.layers,u=e.currentFilter,s=e.onToggleLayer,m=e.onDeleteFeature,v=e.actionIcons,b=void 0===v?E:v,_=e.children,C=e.onClose,O=(0,c.useState)(!1),P=(0,i.default)(O,2),S=P[0],x=P[1],w=(u||{}).layerId,M=void 0===w?[]:w,k=(0,d.useIntl)(),j=(0,y.useFloating)({open:!0,onOpenChange:function(e){!e&&C&&C()}}),D=j.refs,F=j.context,T=(0,y.useDismiss)(F),L=(0,y.useInteractions)([T]).getFloatingProps,I=(0,c.useCallback)((function(){null!=r&&r.geometry&&(0,g.default)(JSON.stringify(r.geometry)),x(!0)}),[null==r?void 0:r.geometry]);return a?c.default.createElement(h,(0,o.default)({ref:D.setFloating},L(),{className:(0,p.default)("feature-action-panel",t),style:{top:"".concat(a.y+4,"px"),left:"".concat(a.x+4,"px")}}),c.default.createElement(f.default,null,c.default.createElement(f.ActionPanelItem,{className:"editor-layers-list",label:k.formatMessage({id:"editor.filterLayer",defaultMessage:"Filter layers"}),Icon:b.layer},l.length?l.map((function(e,t){return c.default.createElement(f.ActionPanelItem,{key:t,label:e.config.label,color:n[e.config.dataId].color,isSelection:!0,isActive:M.includes(e.id),onClick:function(){return s(e)},className:"layer-panel-item"})})):c.default.createElement(f.ActionPanelItem,{key:"no-layers",label:k.formatMessage({id:"editor.noLayersToFilter",defaultMessage:"No layers to filter"}),isSelection:!1,isActive:!1,className:"layer-panel-item-disabled"})),c.default.createElement(f.ActionPanelItem,{label:k.formatMessage({id:"editor.copyGeometry",defaultMessage:"Copy Geometry"}),className:"delete-panel-item",Icon:S?b.copied:b.copy,onClick:I}),_,c.default.createElement(f.ActionPanelItem,{label:k.formatMessage({id:"tooltip.delete",defaultMessage:"Delete"}),className:"delete-panel-item",Icon:b.remove,onClick:m}))):null};return e.displayName="FeatureActionPanel",e.defaultProps={position:null,actionIcons:E},e}function C(){return _()}_.deps=[],C.deps=_.deps},1321:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,o=r(n(14)),i=r(n(24)),u=r(n(6)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),d=r(n(5)),f=n(41),s=r(n(881)),p=r(n(885)),m=n(897),g=r(n(1322));function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}var v=(0,d.default)(f.BottomWidgetInner)(l||(l=(0,u.default)(["\n  padding: 6px 32px 24px 32px;\n"])));function b(e,t,n){var r=function(r){var a=r.datasets,l=r.filter,u=r.index,d=r.readOnly,f=r.showTimeDisplay,s=r.setFilterAnimationTime,p=r.onClose,g=r.resetAnimation,y=r.isAnimatable,b=r.updateAnimationSpeed,h=r.toggleAnimation,E=r.setFilterPlot,_=r.setFilterAnimationWindow,C=r.timeline,O=(0,c.useState)(!1),P=(0,i.default)(O,2),S=P[0],x=P[1],w=(0,c.useCallback)((function(e){return b(u,e)}),[b,u]),M=(0,c.useCallback)((function(){return h(u)}),[h,u]),k=(0,c.useCallback)((function(){return x(!S)}),[x,S]),j=(0,c.useCallback)((function(e){return _({id:l.id,animationWindow:e})}),[_,l.id]),D=(0,c.useCallback)((function(e){return s(u,"value",e)}),[s,u]);return c.default.createElement(v,{className:"bottom-widget--inner"},c.default.createElement(n,{filter:l,readOnly:d,datasets:a,setFilterPlot:E,index:u,onClose:p,onToggleMinify:k,isMinified:S}),c.default.createElement(e,(0,o.default)({},(0,m.timeRangeSliderFieldsSelector)(l),{onChange:D,toggleAnimation:M,updateAnimationSpeed:w,setFilterAnimationWindow:j,hideTimeTitle:f,resetAnimation:g,isAnimatable:y,isMinified:S,timeline:C})),f?c.default.createElement(t,{currentTime:l.value,defaultTimeFormat:l.defaultTimeFormat,timeFormat:l.timeFormat,timezone:l.timezone}):null)};return c.default.memo(r)}b.deps=[s.default,p.default,g.default];var h=b;t.default=h},1322:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,o,i,u=r(n(6)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),d=r(n(5)),f=n(55),s=r(n(335)),p=n(41);function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}var g=d.default.div.attrs({className:"time-widget--top"})(l||(l=(0,u.default)(["\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n  color: ",";\n  height: ",";\n\n  .bottom-widget__y-axis {\n    flex-grow: 1;\n    margin-left: 20px;\n  }\n\n  .bottom-widget__field-select {\n    width: 160px;\n    display: inline-block;\n\n    .item-selector__dropdown {\n      background: transparent;\n      padding: 4px 10px 4px 4px;\n      border-color: transparent;\n\n      :active,\n      :focus,\n      &.focus,\n      &.active {\n        background: transparent;\n        border-color: transparent;\n      }\n    }\n\n    .item-selector__dropdown:hover {\n      background: transparent;\n      border-color: transparent;\n\n      .item-selector__dropdown__value {\n        color: ",";\n      }\n    }\n  }\n\n  .animation-control__speed-control {\n    margin-right: -12px;\n\n    .animation-control__speed-slider {\n      right: calc(0% - 48px);\n    }\n  }\n"])),(function(e){return e.theme.labelColor}),"36px",(function(e){return e.hoverColor?e.theme[e.hoverColor]:e.theme.textColorHl})),y=(0,d.default)(p.CenterFlexbox)(o||(o=(0,u.default)(["\n  flex-grow: 0;\n  color: ",";\n  margin-right: 10px;\n\n  .bottom-widget__icon {\n    margin-right: 6px;\n  }\n  .bottom-widget__icon.speed {\n    margin-right: 0;\n  }\n"])),(function(e){return e.theme.textColor})),v=(0,d.default)(p.CenterFlexbox)(i||(i=(0,u.default)(["\n  > div {\n    margin-left: 4px;\n  }\n"])));function b(e){return function(t){var n=t.filter,r=t.readOnly,a=t.datasets,l=t.setFilterPlot,o=t.index,i=t.onClose,u=t.isMinified,d=t.onToggleMinify,s=(0,c.useMemo)((function(){return((a[n.dataId[0]]||{}).fields||[]).filter((function(e){return"integer"===e.type||"real"===e.type}))}),[a,n.dataId]),m=(0,c.useCallback)((function(e){return l(o,{yAxis:e})}),[l,o]);return c.default.createElement(g,null,c.default.createElement(y,{className:"bottom-widget__field"},c.default.createElement(p.CenterFlexbox,{className:"bottom-widget__icon"},c.default.createElement(f.Clock,{height:"15px"})),c.default.createElement(p.SelectTextBold,null,n.name)),u?null:c.default.createElement(y,{className:"bottom-widget__y-axis"},c.default.createElement(p.CenterFlexbox,{className:"bottom-widget__icon"},c.default.createElement(f.LineChart,{height:"15px"})),c.default.createElement("div",{className:"bottom-widget__field-select"},c.default.createElement(e,{fields:s,placement:"top",value:n.yAxis?n.yAxis.name:null,onSelect:m,placeholder:"placeholder.yAxis",erasable:!0,showToken:!1}))),c.default.createElement(v,null,c.default.createElement(p.IconRoundSmall,null,u?c.default.createElement(f.ArrowUp,{height:"12px",onClick:d}):c.default.createElement(f.ArrowDown,{height:"12px",onClick:d})),r?null:c.default.createElement(p.IconRoundSmall,null,c.default.createElement(f.Close,{height:"12px",onClick:i}))))}}b.deps=[s.default];var h=b;t.default=h},1323:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),o=n(13),i=n(4),u=r(n(904));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e){return function(t){var n=t.filter,r=t.filterIdx,a=t.setFilterAnimationTime,u=t.children,c=(0,l.useMemo)((function(){return(0,o.getIntervalBins)(n)}),[n]),d=(0,l.useMemo)((function(){return c?c.map((function(e){return e.x0})):null}),[c]),f=(0,l.useCallback)((function(e){switch(n.animationWindow){case i.ANIMATION_WINDOW.interval:var t=e[1];a(r,"value",[c[t].x0,c[t].x1-1]);break;default:a(r,"value",e)}}),[r,c,n.animationWindow,a]),s=(0,o.getTimelineFromFilter)(n);return l.default.createElement(e,{key:"filter-control",value:n.value,domain:n.domain,speed:n.speed,isAnimating:n.isAnimating,animationWindow:n.animationWindow,steps:d,updateAnimation:f,setTimelineValue:a,timeline:s,children:u})}}d.deps=[u.default];var f=d;t.default=f},1324:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),o=n(4),i=n(13),u=r(n(904));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e){return function(t){var n=t.animationConfig,r=t.setLayerAnimationTime,a=t.children,u=n.timeSteps,c=n.domain,d=(0,l.useCallback)((function(e){Array.isArray(u)?r((0,i.snapToMarks)((0,i.toArray)(e)[0],u)):c&&e>=c[0]&&e<=c[1]&&r(e)}),[c,r,u]),f=(0,i.getTimelineFromAnimationConfig)(n);return l.default.createElement(e,{key:"layer-control",value:Number(n.currentTime),domain:n.domain,speed:n.speed,isAnimating:n.isAnimating,steps:n.timeSteps,animationWindow:n.timeSteps?o.ANIMATION_WINDOW.interval:o.ANIMATION_WINDOW.point,setTimelineValue:d,timeline:f,children:a})}}d.deps=[u.default];var f=d;t.default=f},1325:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=q;var l,o,i,u,c,d,f,s,p=r(n(14)),m=r(n(8)),g=r(n(9)),y=r(n(10)),v=r(n(11)),b=r(n(12)),h=r(n(7)),E=r(n(1)),_=r(n(6)),C=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=H(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),O=n(5),P=r(n(81)),S=r(n(100)),x=r(n(1326)),w=n(13),M=n(66),k=r(n(1327)),j=r(n(2003)),D=r(n(1328)),F=r(n(1335)),T=r(n(1345)),L=r(n(1346)),I=r(n(1347)),A=r(n(1350)),N=r(n(1351)),R=r(n(1352)),B=n(44),W=n(4),z=n(60);function H(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(H=function(e){return e?n:t})(e)}function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){(0,E.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e){var t=function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}();return function(){var n,r=(0,h.default)(e);if(t){var a=(0,h.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,b.default)(this,n)}}var Y=(0,O.css)(l||(l=(0,_.default)(["\n  top: 70px;\n  padding: 0;\n  width: 90vw;\n  max-width: 90vw;\n\n  "," ",";\n"])),B.media.portable(o||(o=(0,_.default)(["\n    padding: 0;\n  "]))),B.media.palm(i||(i=(0,_.default)(["\n    padding: 0;\n    margin: 0 auto;\n  "])))),K=(0,O.css)(u||(u=(0,_.default)(["\n  width: 40%;\n  padding: 40px 40px 32px 40px;\n"]))),X=(0,O.css)(c||(c=(0,_.default)(["\n  top: 60px;\n"]))),Z=(0,O.css)(d||(d=(0,_.default)(["\n  max-width: 960px;\n"])));function q(e,t,n,r,a,l,o,i,u,c,d){return function(b){(0,v.default)(x,b);var h=U(x);function x(){var e;(0,m.default)(this,x);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=h.call.apply(h,[this].concat(n)),(0,E.default)((0,y.default)(e),"componentDidMount",(function(){S.default.addEventListener("keyup",e._onKeyUp)})),(0,E.default)((0,y.default)(e),"_onKeyUp",(function(t){t.keyCode===W.KeyEvent.DOM_VK_ESCAPE&&e._closeModal()})),(0,E.default)((0,y.default)(e),"_closeModal",(function(){e.props.uiStateActions.toggleModal(null)})),(0,E.default)((0,y.default)(e),"_deleteDataset",(function(t){e.props.visStateActions.removeDataset(t),e._closeModal()})),(0,E.default)((0,y.default)(e),"_onAddCustomMapStyle",(function(){e.props.mapStyleActions.addCustomMapStyle(),e._closeModal()})),(0,E.default)((0,y.default)(e),"_onFileUpload",(function(t){e.props.visStateActions.loadFiles(t)})),(0,E.default)((0,y.default)(e),"_onExportImage",(function(){e.props.uiState.exportImage.processing||((0,w.exportImage)(e.props.uiState.exportImage,"".concat(e.props.appName,".png")),e.props.uiStateActions.cleanupExportImage(),e._closeModal())})),(0,E.default)((0,y.default)(e),"_onExportData",(function(){(0,M.exportData)(e.props,e.props.uiState.exportData),e._closeModal()})),(0,E.default)((0,y.default)(e),"_onExportMap",(function(){var t=e.props.uiState.exportMap.format;(t===W.EXPORT_MAP_FORMATS.HTML?w.exportHtml:w.exportJson)(e.props,e.props.uiState.exportMap[t]||{}),e._closeModal()})),(0,E.default)((0,y.default)(e),"_exportFileToCloud",(function(t){var n=t.provider,r=t.isPublic,a=t.overwrite,l=t.closeModal,o=(0,w.exportMap)(e.props);e.props.providerActions.exportFileToCloud({mapData:o,provider:n,options:{isPublic:r,overwrite:a},closeModal:l,onSuccess:e.props.onExportToCloudSuccess,onError:e.props.onExportToCloudError})})),(0,E.default)((0,y.default)(e),"_onSaveMap",(function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e._exportFileToCloud({provider:t,isPublic:!1,overwrite:n,closeModal:!0})})),(0,E.default)((0,y.default)(e),"_onOverwriteMap",(function(){e._onSaveMap(!0)})),(0,E.default)((0,y.default)(e),"_onShareMapUrl",(function(t){e._exportFileToCloud({provider:t,isPublic:!0,overwrite:!1,closeModal:!1})})),(0,E.default)((0,y.default)(e),"_onCloseSaveMap",(function(){e.props.providerActions.resetProviderStatus(),e._closeModal()})),(0,E.default)((0,y.default)(e),"_onLoadCloudMap",(function(t){e.props.providerActions.loadCloudMap(G(G({},t),{},{onSuccess:e.props.onLoadCloudMapSuccess,onError:e.props.onLoadCloudMapError}))})),e}return(0,g.default)(x,[{key:"componentWillUnmount",value:function(){S.default.removeEventListener("keyup",this._onKeyUp)}},{key:"render",value:function(){var m=this,g=this.props,y=g.containerW,v=g.containerH,b=g.mapStyle,h=g.mapState,E=g.uiState,S=g.visState,x=g.rootNode,w=g.visStateActions,k=g.uiStateActions,j=g.providerState,D=E.currentModal,F=E.datasetKeyToRemove,T=S.datasets,L=S.layers,I=S.editingDataset,A=null,N={};if(D&&D.id&&D.template)A=C.default.createElement(D.template,null),N=D.modalProps;else switch(D){case W.DATA_TABLE_ID:var R=.9*y;A=C.default.createElement(n,{datasets:T,dataId:I,showDatasetTable:w.showDatasetTable,sortTableColumn:w.sortTableColumn,pinTableColumn:w.pinTableColumn,copyTableColumn:w.copyTableColumn,setColumnDisplayFormat:w.setColumnDisplayFormat,uiStateActions:k,uiState:E}),N.cssStyle=(0,O.css)(f||(f=(0,_.default)(["\n              ",";\n              ",";\n            "])),Y,B.media.palm(s||(s=(0,_.default)(["\n                width: ","px;\n              "])),R));break;case W.DELETE_DATA_ID:F&&T&&T[F]&&(A=C.default.createElement(e,{dataset:T[F],layers:L}),N={title:"modal.title.deleteDataset",cssStyle:K,footer:!0,onConfirm:function(){return m._deleteDataset(F)},onCancel:this._closeModal,confirmButton:{negative:!0,large:!0,children:"modal.button.delete"}});break;case W.ADD_DATA_ID:A=C.default.createElement(r,(0,p.default)({},j,{onClose:this._closeModal,onFileUpload:this._onFileUpload,onLoadCloudMap:this._onLoadCloudMap,loadFiles:E.loadFiles,fileLoading:S.fileLoading,fileLoadingProgress:S.fileLoadingProgress,fileFormatNames:(0,M.getFileFormatNames)(this.props.visState),fileExtensions:(0,M.getFileExtensions)(this.props.visState)})),N={title:"modal.title.addDataToMap",cssStyle:X,footer:!1,onConfirm:this._closeModal};break;case W.EXPORT_IMAGE_ID:A=C.default.createElement(a,{exportImage:E.exportImage,mapW:y,mapH:v,onUpdateImageSetting:k.setExportImageSetting,cleanupExportImage:k.cleanupExportImage}),N={title:"modal.title.exportImage",cssStyle:"",footer:!0,onCancel:this._closeModal,onConfirm:this._onExportImage,confirmButton:{large:!0,disabled:E.exportImage.processing,children:"modal.button.download"}};break;case W.EXPORT_DATA_ID:A=C.default.createElement(l,(0,p.default)({},E.exportData,{supportedDataTypes:W.EXPORT_DATA_TYPE_OPTIONS,datasets:T,applyCPUFilter:this.props.visStateActions.applyCPUFilter,onChangeExportDataType:k.setExportDataType,onChangeExportSelectedDataset:k.setExportSelectedDataset,onChangeExportFiltered:k.setExportFiltered})),N={title:"modal.title.exportData",cssStyle:"",footer:!0,onCancel:this._closeModal,onConfirm:this._onExportData,confirmButton:{large:!0,children:"modal.button.export"}};break;case W.EXPORT_MAP_ID:var H=S.schema.getConfigToSave({mapStyle:b,visState:S,mapState:h,uiState:E});A=C.default.createElement(o,{config:H,options:E.exportMap,onChangeExportMapFormat:k.setExportMapFormat,onEditUserMapboxAccessToken:k.setUserMapboxAccessToken,onChangeExportMapHTMLMode:k.setExportHTMLMapMode}),N={title:"modal.title.exportMap",cssStyle:"",footer:!0,onCancel:this._closeModal,onConfirm:this._onExportMap,confirmButton:{large:!0,children:"modal.button.export"}};break;case W.ADD_MAP_STYLE_ID:A=C.default.createElement(i,{mapboxApiAccessToken:this.props.mapboxApiAccessToken,mapboxApiUrl:this.props.mapboxApiUrl,mapState:this.props.mapState,inputStyle:b.inputStyle,inputMapStyle:this.props.mapStyleActions.inputMapStyle,loadCustomMapStyle:this.props.mapStyleActions.loadCustomMapStyle}),N={title:"modal.title.addCustomMapboxStyle",cssStyle:"",footer:!0,onCancel:this._closeModal,onConfirm:this._onAddCustomMapStyle,confirmButton:{large:!0,disabled:!b.inputStyle.style,children:"modal.button.addStyle"}};break;case W.SAVE_MAP_ID:A=C.default.createElement(c,(0,p.default)({},j,{exportImage:E.exportImage,mapInfo:S.mapInfo,onSetMapInfo:w.setMapInfo,cleanupExportImage:k.cleanupExportImage,onUpdateImageSetting:k.setExportImageSetting,onCancel:this._closeModal,onConfirm:function(e){return m._onSaveMap(e,!1)}})),N={title:"modal.title.saveMap",cssStyle:"",footer:!1};break;case W.OVERWRITE_MAP_ID:A=C.default.createElement(t,(0,p.default)({},j,{title:(0,P.default)(S,["mapInfo","title"]),onUpdateImageSetting:k.setExportImageSetting,cleanupExportImage:k.cleanupExportImage,onConfirm:this._onOverwriteMap,onCancel:this._closeModal})),N={title:"Overwrite Existing File?",cssStyle:K,footer:!1};break;case W.SHARE_MAP_ID:A=C.default.createElement(d,(0,p.default)({},j,{onExport:this._onShareMapUrl,cleanupExportImage:k.cleanupExportImage,onUpdateImageSetting:k.setExportImageSetting})),N={title:"modal.title.shareURL",cssStyle:"",onCancel:this._onCloseSaveMap}}return x?C.default.createElement(u,(0,p.default)({parentSelector:function(){return(0,z.findDOMNode)(x)},isOpen:Boolean(D),onCancel:this._closeModal},N,{cssStyle:Z.concat(N.cssStyle)}),A):null}}]),x}(C.Component)}q.deps=[k.default,j.default,D.default,F.default,T.default,L.default,I.default,A.default,x.default,N.default,R.default]},1326:function(e,t,n){"use strict";var r=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(650)),l=function(){return a.default};t.default=l},1327:function(e,t,n){"use strict";var r=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DeleteDatasetModal=void 0;var a,l=r(n(6)),o=r(n(0)),i=r(n(5)),u=r(n(905)),c=n(19),d=i.default.div(a||(a=(0,l.default)(["\n  margin-top: 24px;\n"]))),f=function(e){var t=e.dataset,n=e.layers,r=(void 0===n?[]:n).filter((function(e){return e.config.dataId===(t&&t.id)}));return o.default.createElement("div",{className:"delete-dataset-modal"},o.default.createElement(u.default,{dataset:t}),o.default.createElement(d,{className:"delete-dataset-msg"},o.default.createElement(c.FormattedMessage,{id:"modal.deleteData.warning",values:{length:r.length}})))};t.DeleteDatasetModal=f;var s=function(){return f};t.default=s},1328:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DatasetTabs=t.DatasetModalTab=void 0;var l,o,i,u,c,d=r(n(8)),f=r(n(9)),s=r(n(10)),p=r(n(11)),m=r(n(12)),g=r(n(7)),y=r(n(1)),v=r(n(6)),b=r(n(0)),h=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(5)),E=r(n(905)),_=r(n(1329)),C=n(47),O=n(1332),P=r(n(1333)),S=n(55),x=r(n(554)),w=r(n(1334));function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,y.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e){var t=function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}();return function(){var n,r=(0,g.default)(e);if(t){var a=(0,g.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,m.default)(this,n)}}var F={},T="68px",L="16px",I=h.default.div(l||(l=(0,v.default)(["\n  min-height: 85vh;\n  overflow: hidden;\n  display: flex;\n"]))),A=h.default.div(o||(o=(0,v.default)(["\n  display: flex;\n  padding: "," "," 0 0;\n\n  .overflow-horizontal {\n    display: flex;\n    overflow-x: auto;\n    overflow-y: hidden;\n    flex-direction: row;\n    ","\n  }\n"])),L,T,(function(e){return e.theme.modalScrollBar})),N=h.default.div(i||(i=(0,v.default)(["\n  align-items: center;\n  border-bottom: 3px solid ",";\n  cursor: pointer;\n  display: flex;\n  height: 35px;\n  margin: 0 3px;\n  padding: 0 5px;\n\n  :hover {\n    border-bottom: 3px solid black;\n  }\n"])),(function(e){return e.active?"black":"transparent"}));t.DatasetModalTab=N;var R=h.default.div(u||(u=(0,v.default)(["\n  display: flex;\n  justify-content: flex-end;\n  position: absolute;\n  top: 24px;\n  right: 48px;\n  svg {\n    stroke: black;\n  }\n  cursor: pointer;\n"]))),B=function(e){var t=e.activeDataset,n=e.datasets,r=e.showDatasetTable;return b.default.createElement(A,{className:"dataset-modal-catalog"},b.default.createElement("div",{className:"overflow-horizontal"},Object.values(n).map((function(e){return b.default.createElement(N,{className:"dataset-modal-tab",active:e===t,key:e.id,onClick:function(){return r(e.id)}},b.default.createElement(E.default,{dataset:e}))}))))},W=b.default.memo(B);t.DatasetTabs=W,W.displayName="DatasetTabs",H.deps=[_.default,w.default];var z=h.default.div(c||(c=(0,v.default)(["\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  min-height: 100%;\n  max-height: 100%;\n  max-width: 100%;\n"])));function H(e,t){var n=function(n){(0,p.default)(a,n);var r=D(a);function a(){var e;(0,d.default)(this,a);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return e=r.call.apply(r,[this].concat(n)),(0,y.default)((0,s.default)(e),"state",{showConfig:!1}),(0,y.default)((0,s.default)(e),"datasetCellSizeCache",{}),(0,y.default)((0,s.default)(e),"dataId",(function(e){var t=e.dataId;return void 0===t?"":t})),(0,y.default)((0,s.default)(e),"datasets",(function(e){return e.datasets})),(0,y.default)((0,s.default)(e),"fields",(function(e){var t=e.datasets,n=e.dataId;return(t[void 0===n?"":n]||{}).fields})),(0,y.default)((0,s.default)(e),"columns",(0,C.createSelector)(e.fields,(function(e){return e.map((function(e){return e.name}))}))),(0,y.default)((0,s.default)(e),"colMeta",(0,C.createSelector)([e.fields,e.datasets],(function(e){return e.reduce((function(e,t){var n=t.name,r=t.displayName,a=t.type,l=t.filterProps,o=t.format,i=t.displayFormat;return j(j({},e),{},(0,y.default)({},n,j(j(j({name:r||n,type:a},o?{format:o}:{}),i?{displayFormat:i}:{}),null!=l&&l.columnStats?{columnStats:l.columnStats}:{})))}),{})}))),(0,y.default)((0,s.default)(e),"cellSizeCache",(0,C.createSelector)(e.dataId,e.datasets,(function(t,n){if(!n[t])return{};var r=n[t],a=r.fields,l=r.dataContainer,o=null;if(e.datasetCellSizeCache[t]&&e.datasetCellSizeCache[t].fields===a&&e.datasetCellSizeCache[t].dataContainer===l||(o=!0),!o)return e.datasetCellSizeCache[t].cellSizeCache;var i=a.reduce((function(t,n,r){return j(j({},t),{},(0,y.default)({},n.name,(0,O.renderedSize)({text:{dataContainer:l,column:n.displayName},colIdx:r,type:n.type,fontSize:e.props.theme.cellFontSize,font:e.props.theme.fontFamily,minCellSize:122})))}),{});return e.datasetCellSizeCache[t]={cellSizeCache:i,fields:a,dataContainer:l},i}))),(0,y.default)((0,s.default)(e),"copyTableColumn",(function(t){var n=e.props,r=n.dataId,a=void 0===r?"":r;(0,n.copyTableColumn)(a,t)})),(0,y.default)((0,s.default)(e),"pinTableColumn",(function(t){var n=e.props,r=n.dataId,a=void 0===r?"":r;(0,n.pinTableColumn)(a,t)})),(0,y.default)((0,s.default)(e),"sortTableColumn",(function(t,n){var r=e.props,a=r.dataId,l=void 0===a?"":a;(0,r.sortTableColumn)(l,t,n)})),(0,y.default)((0,s.default)(e),"setColumnDisplayFormat",(function(t){var n=e.props,r=n.dataId,a=n.setColumnDisplayFormat;r&&a(r,t)})),(0,y.default)((0,s.default)(e),"onOpenConfig",(function(){e.setState({showConfig:!0})})),(0,y.default)((0,s.default)(e),"onCloseConfig",(function(){e.setState({showConfig:!1})})),e}return(0,f.default)(a,[{key:"render",value:function(){var n=this.props,r=n.datasets,a=n.dataId,l=n.showDatasetTable,o=n.showTab,i=void 0===o||o;if(!r||!a)return null;var u=r[a],c=this.columns(this.props),d=this.colMeta(this.props),f=this.cellSizeCache(this.props);return b.default.createElement(I,{className:"dataset-modal",id:"dataset-modal"},b.default.createElement(P.default,null),b.default.createElement(z,null,i?b.default.createElement(W,{activeDataset:u,datasets:r,showDatasetTable:l}):null,b.default.createElement(R,{className:"display-config-button"},b.default.createElement(S.Gear,{onClick:this.onOpenConfig}),b.default.createElement(x.default,{right:240,top:20,isOpened:this.state.showConfig,onClose:this.onCloseConfig},b.default.createElement(t,{columns:c,colMeta:d,setColumnDisplayFormat:this.setColumnDisplayFormat,onClose:this.onCloseConfig}))),r[a]?b.default.createElement(e,{key:a,dataId:a,columns:c,colMeta:d,cellSizeCache:f,dataContainer:u.dataContainer,pinnedColumns:u.pinnedColumns,sortOrder:u.sortOrder,sortColumn:u.sortColumn||F,copyTableColumn:this.copyTableColumn,pinTableColumn:this.pinTableColumn,sortTableColumn:this.sortTableColumn,setColumnDisplayFormat:this.setColumnDisplayFormat,hasStats:!1}):null))}}]),a}(b.default.Component);return(0,h.withTheme)(n)}var V=H;t.default=V},1335:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.LoadDataModalFactory=_,t.default=void 0;var l,o=r(n(14)),i=r(n(24)),u=r(n(6)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),d=r(n(5)),f=r(n(81)),s=n(56),p=r(n(1336)),m=r(n(1341)),g=r(n(1344)),y=r(n(909)),v=n(4);function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}var h=d.default.div.attrs({className:"load-data-modal"})(l||(l=(0,u.default)(["\n  padding: ",";\n  min-height: 440px;\n  display: flex;\n  flex-direction: column;\n"])),(function(e){return e.theme.modalPadding})),E=function(){};function _(e,t,n){var r=function(t){var n=(0,s.useIntl)(),r=t.loadingMethods,a=t.isCloudMapLoading,l=(0,c.useState)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.isArray(e)?(0,f.default)(e,[0]):null}(r)),u=(0,i.default)(l,2),d=u[0],p=u[1],m=null==d?void 0:d.elementType;return c.default.createElement(h,null,c.default.createElement(e,{currentMethod:null==d?void 0:d.id,loadingMethods:r,toggleMethod:p}),a?c.default.createElement(y.default,{size:64}):m&&c.default.createElement(m,(0,o.default)({key:null==d?void 0:d.id,intl:n},t)))};return r.defaultProps={onFileUpload:E,fileLoading:!1,loadingMethods:[{id:v.LOADING_METHODS.upload,label:"modal.loadData.upload",elementType:t},{id:v.LOADING_METHODS.storage,label:"modal.loadData.storage",elementType:n}]},r}_.deps=[g.default,p.default,m.default];var C=_;t.default=C},1341:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(n(24)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),i=n(2006),u=n(2007),c=n(388),d=n(912),f=n(911);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}var p=function(){return function(e){var t=e.onLoadCloudMap,n=(0,c.useCloudListProvider)(),r=n.provider,a=n.setProvider,s=n.cloudProviders,p=(0,o.useState)(!1),m=(0,l.default)(p,2),g=m[0],y=m[1],v=(0,o.useState)(null),b=(0,l.default)(v,2),h=b[0],E=b[1],_=(0,o.useState)(null),C=(0,l.default)(_,2),O=C[0],P=C[1],S=(0,o.useCallback)((function(e){E(null),P(null),e?(y(!0),e.listMaps().then(E).catch(P).finally((function(){return y(!1)}))):y(!1)}),[]);(0,o.useEffect)((function(){S(r)}),[r]);var x=(0,o.useCallback)((function(e,n){t({loadParams:n.loadParams,provider:e})}),[]);return o.default.createElement(f.FlexColContainer,null,r?o.default.createElement(o.default.Fragment,null,o.default.createElement(i.CloudHeader,{provider:r,onBack:function(){return a(null)}}),o.default.createElement(u.CloudMaps,{isLoading:g,onSelectMap:x,provider:r,error:O,maps:h})):o.default.createElement(d.ProviderSelect,{cloudProviders:s}))}};t.default=p},1342:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.StyledWarning=void 0;var l,o,i,u,c,d,f=r(n(1343)),s=r(n(165)),p=r(n(24)),m=r(n(6)),g=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),y=r(n(5)),v=n(55),b=n(41),h=n(388);function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}var _=y.default.div.attrs({className:"provider-tile__wrapper"})(l||(l=(0,m.default)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start;\n  border-radius: 2px;\n  border: 1px solid\n    ",";\n  color: ",";\n  cursor: pointer;\n  font-weight: 500;\n  width: 120px;\n  height: 168px;\n  background-color: #ffffff;\n  transition: ",";\n  position: relative;\n  :hover {\n    border: 1px solid ",";\n    color: ",";\n  }\n\n  .button {\n    margin-top: 20px;\n  }\n"])),(function(e){return e.selected?e.theme.primaryBtnBgd:e.theme.selectBorderColorLT}),(function(e){return e.selected?e.theme.primaryBtnBgd:e.theme.selectBorderColorLT}),(function(e){return e.theme.transition}),(function(e){return e.theme.primaryBtnBgd}),(function(e){return e.theme.primaryBtnBgd})),C=(0,y.default)(b.CenterVerticalFlexbox)(o||(o=(0,m.default)(["\n  margin-right: 12px;\n  position: relative;\n"]))),O=y.default.div(i||(i=(0,m.default)(["\n  font-size: 12px;\n  margin-top: 12px;\n  margin-bottom: 4px;\n"]))),P=y.default.div(u||(u=(0,m.default)(["\n  font-size: 11px;\n  margin-top: 8px;\n  text-align: center;\n  color: ",";\n  overflow: hidden;\n  width: 100px;\n  text-overflow: ellipsis;\n"])),(function(e){return e.theme.primaryBtnActBgd})),S=function(e){var t=e.onClick;return g.default.createElement(b.Button,{className:"login-button",link:!0,small:!0,onClick:t},g.default.createElement(v.Login,null),"Login")},x=function(e){var t=e.onClick;return g.default.createElement(b.Button,{className:"logout-button",link:!0,small:!0,onClick:t},g.default.createElement(v.Logout,null),"Logout")},w=y.default.div(c||(c=(0,m.default)(["\n  width: 37px;\n  height: 19px;\n  display: flex;\n  align-content: center;\n  justify-content: center;\n  border-radius: 8px;\n  padding: 4px 8px;\n  background-color: #EDE9F9;\n  color: #8863F8;\n  position: absolute;\n  left: 35%;\n  top: -8px\n  z-index: 500;\n  font-size: 11px;\n  line-height: 10px;\n"]))),M=y.default.span(d||(d=(0,m.default)(["\n  color: ",";\n  font-weight: ",";\n"])),(function(e){return e.theme.errorColor}),(function(e){return e.theme.selectFontWeightBold}));t.StyledWarning=M;var k=function(e){var t=e.provider,n=e.actionName,r=(0,g.useState)(null),a=(0,p.default)(r,2),l=a[0],o=a[1],i=(0,g.useState)(null),u=(0,p.default)(i,2),c=u[0],d=u[1],m=(0,g.useState)(!1),y=(0,p.default)(m,2),v=y[0],E=y[1],k=(0,h.useCloudListProvider)(),j=k.provider,D=k.setProvider,F=t===j;(0,g.useEffect)((function(){t&&(d(null),E(!0),d(null),t.getUser().then(o).catch(d).finally((function(){d(null),E(!1)})))}),[t]);var T=(0,g.useCallback)((0,s.default)(f.default.mark((function e(){var n;return f.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(null),E(!0),e.prev=2,e.next=5,t.login();case 5:n=e.sent,o(n),D(t),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),d(e.t0);case 13:E(!1);case 14:case"end":return e.stop()}}),e,null,[[2,10]])}))),[t]),L=(0,g.useCallback)((0,s.default)(f.default.mark((function e(){return f.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v){e.next=2;break}return e.abrupt("return");case 2:if(!l){e.next=5;break}return D(t),e.abrupt("return");case 5:return e.prev=5,e.next=8,T();case 8:D(t),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(5),d(e.t0),D(null);case 15:case"end":return e.stop()}}),e,null,[[5,11]])}))),[D,t,l,v]),I=(0,g.useCallback)((0,s.default)(f.default.mark((function e(){return f.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),e.prev=1,e.next=4,t.logout();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),d(e.t0);case 9:E(!1),o(null),D(null);case 12:case"end":return e.stop()}}),e,null,[[1,6]])}))),[t]),A=t.displayName,N=t.name;return g.default.createElement(C,null,t.isNew?g.default.createElement(w,null,"New"):null,g.default.createElement("div",null),g.default.createElement(_,{onClick:L,selected:F},g.default.createElement(O,null,A||N),t.icon?g.default.createElement(t.icon,{height:"64px"}):null,v?g.default.createElement("div",null,"Loading ..."):g.default.createElement(g.default.Fragment,null,l?g.default.createElement(P,null,n||l.name):null),F?g.default.createElement(b.CheckMark,null):null),l||c?g.default.createElement(x,{onClick:I}):g.default.createElement(S,{onClick:T}),c?g.default.createElement(M,null,c.message):null)};t.default=k},1344:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ModalTabItem=void 0;var l,o,i,u,c=r(n(6)),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),f=r(n(25)),s=r(n(5)),p=r(n(2)),m=n(44),g=n(56);function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}var v=s.default.div(l||(l=(0,c.default)(["\n  align-items: flex-end;\n  display: flex;\n  border-bottom: 1px solid #d8d8d8;\n  margin-bottom: 32px;\n  justify-content: space-between;\n\n  .load-data-modal__tab__inner {\n    display: flex;\n    width: 100%;\n  }\n\n  .load-data-modal__tab__item.active {\n    color: ",";\n    border-bottom: 3px solid ",";\n    font-weight: 500;\n  }\n\n  ",";\n"])),(function(e){return e.theme.textColorLT}),(function(e){return e.theme.textColorLT}),m.media.portable(o||(o=(0,c.default)(["\n    font-size: 12px;\n  "])))),b=s.default.div(i||(i=(0,c.default)(["\n  border-bottom: 3px solid transparent;\n  cursor: pointer;\n  margin-left: 32px;\n  padding: 16px 0;\n  font-size: 14px;\n  font-weight: 400;\n  color: ",";\n\n  ",";\n\n  :first-child {\n    margin-left: 0;\n    padding-left: 0;\n  }\n\n  :hover {\n    color: ",";\n  }\n"])),(function(e){return e.theme.subtextColorLT}),m.media.portable(u||(u=(0,c.default)(["\n    margin-left: 16px;\n    font-size: 12px;\n  "]))),(function(e){return e.theme.textColorLT})),h=function(){},E=function(e){var t=e.currentMethod,n=e.method,r=e.toggleMethod,a=(0,d.useCallback)((function(){return r(n)}),[n,r]),l=(0,g.useIntl)();return n.tabElementType?d.default.createElement(n.tabElementType,{onClick:a,intl:l}):d.default.createElement(b,{className:(0,f.default)("load-data-modal__tab__item",{active:t&&n.id===t}),onClick:a},d.default.createElement("div",null,n.label?d.default.createElement(g.FormattedMessage,{id:n.label}):n.id))};t.ModalTabItem=E;var _=function(){var e=function(e){var t=e.currentMethod,n=e.toggleMethod,r=e.loadingMethods;return d.default.createElement(v,{className:"load-data-modal__tab"},d.default.createElement("div",{className:"load-data-modal__tab__inner"},r.map((function(e){return d.default.createElement(E,{key:e.id,method:e,currentMethod:t,toggleMethod:n})}))))};return e.propTypes={toggleMethod:p.default.func.isRequired,currentMethod:p.default.string,loadingMethods:p.default.arrayOf(p.default.object)},e.defaultProps={toggleMethod:h,currentMethod:null,loadingMethods:[]},e};t.default=_},1345:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,o=r(n(6)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),u=r(n(5)),c=r(n(913)),d=n(4),f=n(41),s=r(n(268)),p=n(56),m=n(19);function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}var y=u.default.div(l||(l=(0,o.default)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  width: 250px;\n\n  .image-option-section {\n    .image-option-section-title {\n      font-weight: 500;\n      font-size: 14px;\n    }\n  }\n\n  .button-list {\n    display: flex;\n    flex-direction: row;\n    padding: 8px 0px;\n  }\n\n  input {\n    margin-right: 8px;\n  }\n"]))),v=function(){return(0,p.injectIntl)((function(e){var t=e.mapW,n=e.mapH,r=e.exportImage,a=e.onUpdateImageSetting,l=e.cleanupExportImage,o=e.intl,u=r.legend,p=r.ratio,g=r.resolution;return(0,i.useEffect)((function(){return a({exporting:!0}),l}),[a,l]),(0,i.useEffect)((function(){n===r.mapH&&t===r.mapW||a({mapH:n,mapW:t})}),[n,t,r,a]),i.default.createElement(f.StyledModalContent,{className:"export-image-modal"},i.default.createElement(y,null,i.default.createElement("div",{className:"image-option-section"},i.default.createElement("div",{className:"image-option-section-title"},i.default.createElement(m.FormattedMessage,{id:"modal.exportImage.ratioTitle"})),i.default.createElement(m.FormattedMessage,{id:"modal.exportImage.ratioDescription"}),i.default.createElement("div",{className:"button-list",id:"export-image-modal__option_ratio"},d.EXPORT_IMG_RATIO_OPTIONS.filter((function(e){return!e.hidden})).map((function(e){return i.default.createElement(f.SelectionButton,{key:e.id,selected:p===e.id,onClick:function(){return a({ratio:e.id})}},i.default.createElement(m.FormattedMessage,{id:e.label}),p===e.id&&i.default.createElement(f.CheckMark,null))})))),i.default.createElement("div",{className:"image-option-section"},i.default.createElement("div",{className:"image-option-section-title"},i.default.createElement(m.FormattedMessage,{id:"modal.exportImage.resolutionTitle"})),i.default.createElement(m.FormattedMessage,{id:"modal.exportImage.resolutionDescription"}),i.default.createElement("div",{className:"button-list",id:"export-image-modal__option_resolution"},d.EXPORT_IMG_RESOLUTION_OPTIONS.map((function(e){return i.default.createElement(f.SelectionButton,{key:e.id,selected:g===e.id,onClick:function(){return e.available&&a({resolution:e.id})}},e.label,g===e.id&&i.default.createElement(f.CheckMark,null))})))),i.default.createElement("div",{className:"image-option-section"},i.default.createElement("div",{className:"image-option-section-title"},i.default.createElement(m.FormattedMessage,{id:"modal.exportImage.mapLegendTitle"})),i.default.createElement(s.default,{type:"checkbox",id:"add-map-legend",checked:u,label:o.formatMessage({id:"modal.exportImage.mapLegendAdd"}),onChange:function(){return a({legend:!u})}}))),i.default.createElement(c.default,{exportImage:r}))}))};t.default=v},1346:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(n(8)),o=r(n(9)),i=r(n(10)),u=r(n(11)),c=r(n(12)),d=r(n(7)),f=r(n(1)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),p=n(4),m=n(55),g=n(41),y=n(56),v=n(19);function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function h(e){var t=function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}();return function(){var n,r=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var E=function(e,t,n,r){if(void 0!==t){var a=e[t];if(!a)return r.formatMessage({id:"modal.exportData.fileCount"},{fileCount:Object.keys(e).length});var l=a.dataContainer,o=a.filteredIdxCPU;if(n&&!o)return"-";var i=n?null==o?void 0:o.length:l.numRows();return r.formatMessage({id:"modal.exportData.rowCount"},{rowCount:null==i?void 0:i.toLocaleString()})}},_=function(){var e=function(e){(0,u.default)(n,e);var t=h(n);function n(){var e;(0,l.default)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,f.default)((0,i.default)(e),"_onSelectDataset",(function(t){var n=t.target.value;e.props.applyCPUFilter(n),e.props.onChangeExportSelectedDataset(n)})),e}return(0,o.default)(n,[{key:"componentDidMount",value:function(){var e=this.props.selectedDataset||Object.keys(this.props.datasets);this.props.applyCPUFilter(e)}},{key:"render",value:function(){var e=this.props,t=e.supportedDataTypes,n=void 0===t?p.EXPORT_DATA_TYPE_OPTIONS:t,r=e.datasets,a=e.selectedDataset,l=e.dataType,o=e.filtered,i=e.onChangeExportDataType,u=e.onChangeExportFiltered,c=e.intl;return s.default.createElement(g.StyledModalContent,{className:"export-data-modal"},s.default.createElement("div",null,s.default.createElement(g.StyledExportSection,null,s.default.createElement("div",{className:"description"},s.default.createElement("div",{className:"title"},s.default.createElement(v.FormattedMessage,{id:"modal.exportData.datasetTitle"})),s.default.createElement("div",{className:"subtitle"},s.default.createElement(v.FormattedMessage,{id:"modal.exportData.datasetSubtitle"}))),s.default.createElement("div",{className:"selection"},s.default.createElement("select",{value:a,onChange:this._onSelectDataset},[c.formatMessage({id:"modal.exportData.allDatasets"})].concat(Object.keys(r)).map((function(e){return s.default.createElement("option",{key:e,value:e},r[e]&&r[e].label||e)}))))),s.default.createElement(g.StyledExportSection,null,s.default.createElement("div",{className:"description"},s.default.createElement("div",{className:"title"},s.default.createElement(v.FormattedMessage,{id:"modal.exportData.dataTypeTitle"})),s.default.createElement("div",{className:"subtitle"},s.default.createElement(v.FormattedMessage,{id:"modal.exportData.dataTypeSubtitle"}))),s.default.createElement("div",{className:"selection"},n.map((function(e){return s.default.createElement(g.StyledType,{key:e.id,selected:l===e.id,onClick:function(){return e.available&&i(e.id)}},s.default.createElement(m.FileType,{ext:e.label,height:"80px",fontSize:"11px"}),l===e.id&&s.default.createElement(g.CheckMark,null))})))),s.default.createElement(g.StyledExportSection,null,s.default.createElement("div",{className:"description"},s.default.createElement("div",{className:"title"},s.default.createElement(v.FormattedMessage,{id:"modal.exportData.dataTypeTitle"})),s.default.createElement("div",{className:"subtitle"},s.default.createElement(v.FormattedMessage,{id:"modal.exportData.filterDataSubtitle"}))),s.default.createElement("div",{className:"selection"},s.default.createElement(g.StyledFilteredOption,{className:"unfiltered-option",selected:!o,onClick:function(){return u(!1)}},s.default.createElement("div",{className:"filter-option-title"},s.default.createElement(v.FormattedMessage,{id:"modal.exportData.unfilteredData"})),s.default.createElement("div",{className:"filter-option-subtitle"},E(r,a,!1,c)),!o&&s.default.createElement(g.CheckMark,null)),s.default.createElement(g.StyledFilteredOption,{className:"filtered-option",selected:o,onClick:function(){return u(!0)}},s.default.createElement("div",{className:"filter-option-title"},s.default.createElement(v.FormattedMessage,{id:"modal.exportData.filteredData"})),s.default.createElement("div",{className:"filter-option-subtitle"},E(r,a,!0,c)),o&&s.default.createElement(g.CheckMark,null))))))}}]),n}(s.Component);return(0,y.injectIntl)(e)};t.default=_},1347:function(e,t,n){"use strict";var r=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(1)),l=r(n(0)),o=n(55),i=n(41),u=n(4),c=n(914),d=r(n(1348)),f=r(n(1349)),s=n(19),p={width:"100%"},m=function(){return{}};function g(e,t){var n=function(n){var r,d=n.config,f=void 0===d?{}:d,g=n.onChangeExportMapFormat,y=void 0===g?m:g,v=n.onChangeExportMapHTMLMode,b=void 0===v?m:v,h=n.onEditUserMapboxAccessToken,E=void 0===h?m:h,_=n.options,C=void 0===_?{format:""}:_;return l.default.createElement(i.StyledModalContent,{className:"export-map-modal"},l.default.createElement("div",{style:p},l.default.createElement(c.StyledExportMapSection,null,l.default.createElement("div",{className:"description"},l.default.createElement("div",{className:"title"},l.default.createElement(s.FormattedMessage,{id:"modal.exportMap.formatTitle"})),l.default.createElement("div",{className:"subtitle"},l.default.createElement(s.FormattedMessage,{id:"modal.exportMap.formatSubtitle"}))),l.default.createElement("div",{className:"selection"},u.EXPORT_MAP_FORMAT_OPTIONS.map((function(e){return l.default.createElement(i.StyledType,{key:e.id,selected:C.format===e.id,onClick:function(){return e.available&&y(e.id)}},l.default.createElement(o.FileType,{ext:e.label,height:"80px",fontSize:"11px"}),C.format===e.id&&l.default.createElement(i.CheckMark,null))})))),(r={},(0,a.default)(r,u.EXPORT_MAP_FORMATS.HTML,l.default.createElement(e,{onChangeExportMapHTMLMode:b,onEditUserMapboxAccessToken:E,options:C[C.format]})),(0,a.default)(r,u.EXPORT_MAP_FORMATS.JSON,l.default.createElement(t,{config:f})),r)[C.format]))};return n.displayName="ExportMapModal",l.default.memo(n)}g.deps=[d.default,f.default];var y=g;t.default=y},1348:function(e,t,n){"use strict";var r=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,l,o,i=r(n(6)),u=r(n(0)),c=n(41),d=n(914),f=n(4),s=r(n(5)),p=n(56),m=n(19),g=(0,s.default)(c.StyledExportSection)(a||(a=(0,i.default)(["\n  .disclaimer {\n    font-size: ",";\n    color: ",";\n    margin-top: 12px;\n  }\n"])),(function(e){return e.theme.inputFontSize}),(function(e){return e.theme.inputColor})),y=s.default.input(l||(l=(0,i.default)(["\n  width: 100%;\n  padding: ",";\n  color: ",";\n  height: ",";\n  outline: 0;\n  font-size: ",";\n\n  :active,\n  :focus,\n  &.focus,\n  &.active {\n    outline: 0;\n  }\n"])),(function(e){return e.theme.inputPadding}),(function(e){return e.error?"red":e.theme.titleColorLT}),(function(e){return e.theme.inputBoxHeight}),(function(e){return e.theme.inputFontSize})),v=(0,s.default)(c.StyledType)(o||(o=(0,i.default)(["\n  height: unset;\n  width: unset;\n  img {\n    width: 180px;\n    height: 120px;\n  }\n"])));var b=function(){var e=function(e){var t=e.onChangeExportMapHTMLMode,n=void 0===t?function(e){}:t,r=e.onEditUserMapboxAccessToken,a=void 0===r?function(e){}:r,l=e.options,o=void 0===l?{}:l,i=e.intl;return u.default.createElement("div",null,u.default.createElement(d.StyledExportMapSection,null,u.default.createElement("div",{className:"description"}),u.default.createElement("div",{className:"selection"},u.default.createElement(m.FormattedMessage,{id:"modal.exportMap.html.selection"}))),u.default.createElement(g,{className:"export-map-modal__html-options"},u.default.createElement("div",{className:"description"},u.default.createElement("div",{className:"title"},u.default.createElement(m.FormattedMessage,{id:"modal.exportMap.html.tokenTitle"})),u.default.createElement("div",{className:"subtitle"},u.default.createElement(m.FormattedMessage,{id:"modal.exportMap.html.tokenSubtitle"}))),u.default.createElement("div",{className:"selection"},u.default.createElement(y,{onChange:function(e){return a(e.target.value)},type:"text",placeholder:i.formatMessage({id:"modal.exportMap.html.tokenPlaceholder"}),value:o?o.userMapboxToken:""}),u.default.createElement("div",{className:"disclaimer"},u.default.createElement(d.StyledWarning,null,u.default.createElement(m.FormattedMessage,{id:"modal.exportMap.html.tokenMisuseWarning"})),u.default.createElement(m.FormattedMessage,{id:"modal.exportMap.html.tokenDisclaimer"}),u.default.createElement(d.ExportMapLink,{href:f.EXPORT_HTML_MAP_DOC},u.default.createElement(m.FormattedMessage,{id:"modal.exportMap.html.tokenUpdate"}))))),u.default.createElement(g,null,u.default.createElement("div",{className:"description"},u.default.createElement("div",{className:"title"},u.default.createElement(m.FormattedMessage,{id:"modal.exportMap.html.modeTitle"})),u.default.createElement("div",{className:"subtitle"},u.default.createElement(m.FormattedMessage,{id:"modal.exportMap.html.modeSubtitle1"}),u.default.createElement("a",{href:f.EXPORT_HTML_MAP_MODES_DOC},u.default.createElement(m.FormattedMessage,{id:"modal.exportMap.html.modeSubtitle2"})))),u.default.createElement("div",{className:"selection"},f.EXPORT_HTML_MAP_MODE_OPTIONS.map((function(e){return u.default.createElement(v,{key:e.id,selected:o.mode===e.id,onClick:function(){return e.available&&n(e.id)}},u.default.createElement("img",{src:e.url,alt:""}),u.default.createElement("p",null,u.default.createElement(m.FormattedMessage,{id:"modal.exportMap.html.modeDescription",values:{mode:i.formatMessage({id:e.label})}})),o.mode===e.id&&u.default.createElement(c.CheckMark,null))})))))};return e.displayName="ExportHtmlMap",(0,p.injectIntl)(e)};t.default=b},1349:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,o=r(n(24)),i=r(n(6)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),c=r(n(930)),d=n(4),f=r(n(5)),s=n(41),p=n(914),m=n(19),g=n(488);function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}var v=(0,f.default)(s.StyledExportSection)(l||(l=(0,i.default)(["\n  .note {\n    color: ",";\n    font-size: 11px;\n  }\n\n  .viewer {\n    position: relative;\n    border: 1px solid ",";\n    background-color: white;\n    border-radius: 2px;\n    display: inline-block;\n    font: inherit;\n    line-height: 1.5em;\n    padding: 0.5em 3.5em 0.5em 1em;\n    margin: 0;\n    box-sizing: border-box;\n    height: 180px;\n    width: 100%;\n    overflow-y: scroll;\n    overflow-x: auto;\n    white-space: pre-wrap;\n    word-wrap: break-word;\n    max-width: 600px;\n  }\n\n  .copy-button {\n    margin: 1em 1em 0 0;\n    position: absolute;\n    top: 0;\n    right: 0;\n  }\n"])),(function(e){return e.theme.errorColor}),(function(e){return e.theme.selectBorderColorLT})),b=function(e){var t=e.config,n=void 0===t?{}:t,r=(0,u.useState)(!1),a=(0,o.default)(r,2),l=a[0],i=a[1];return u.default.createElement("div",null,u.default.createElement(p.StyledExportMapSection,null,u.default.createElement("div",{className:"description"}),u.default.createElement("div",{className:"selection"},u.default.createElement(m.FormattedMessage,{id:"modal.exportMap.json.selection"}))),u.default.createElement(v,{className:"export-map-modal__json-options"},u.default.createElement("div",{className:"description"},u.default.createElement("div",{className:"title"},u.default.createElement(m.FormattedMessage,{id:"modal.exportMap.json.configTitle"})),u.default.createElement("div",{className:"subtitle"},u.default.createElement(m.FormattedMessage,{id:"modal.exportMap.json.configDisclaimer"}),u.default.createElement(p.ExportMapLink,{href:d.ADD_DATA_TO_MAP_DOC},"addDataToMap"),".")),u.default.createElement("div",{className:"selection"},u.default.createElement("div",{className:"viewer"},u.default.createElement(c.default,{id:"json-pretty",json:n}),u.default.createElement(g.CopyToClipboard,{text:JSON.stringify(n),onCopy:function(){return i(!0)}},u.default.createElement(s.Button,{width:"80px"},l?"Copied!":"Copy"))),u.default.createElement("div",{className:"disclaimer"},u.default.createElement(p.StyledWarning,null,u.default.createElement(m.FormattedMessage,{id:"modal.exportMap.json.disclaimer"}))))))};b.displayName="ExportJsonMap";var h=u.default.memo(b),E=function(){return h};t.default=E},1350:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,o,i,u,c,d=r(n(14)),f=r(n(8)),s=r(n(9)),p=r(n(10)),m=r(n(11)),g=r(n(12)),y=r(n(7)),v=r(n(1)),b=r(n(6)),h=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=j(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),E=n(142),_=r(n(25)),C=r(n(5)),O=r(n(274)),P=n(41),S=n(44),x=n(13),w=n(56),M=n(19),k=r(n(405));function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(j=function(e){return e?n:t})(e)}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){(0,v.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e){var t=function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}();return function(){var n,r=(0,y.default)(e);if(t){var a=(0,y.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,g.default)(this,n)}}var L="Failed to load map style, make sure it is published. For private style, paste in your access token.",I=C.default.div(l||(l=(0,b.default)(["\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  margin-left: 116px;\n  flex-shrink: 0;\n\n  .preview-title {\n    font-weight: 500;\n    font-size: 10px;\n    padding: 8px 0px;\n  }\n\n  .preview-title.error {\n    color: ",";\n  }\n\n  ",";\n\n  ",";\n"])),(function(e){return e.theme.errorColor}),S.media.portable(o||(o=(0,b.default)(["\n    margin-left: 32px;\n  "]))),S.media.palm(i||(i=(0,b.default)(["\n    margin-left: unset;\n    .preview-title {\n      margin-top: 0px;\n    }\n  "])))),A=C.default.div(u||(u=(0,b.default)(["\n  background: ",";\n  border-radius: 4px;\n  box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.18);\n  width: ","px;\n  height: ","px;\n  position: relative;\n\n  .preview-image-placeholder {\n    position: absolute;\n    top: 0;\n    left: 0;\n  }\n\n  .preview-image-spinner {\n    position: absolute;\n    left: calc(50% - 25px);\n    top: calc(50% - 25px);\n  }\n"])),(function(e){return e.theme.modalImagePlaceHolder}),264,190),N=C.default.a(c||(c=(0,b.default)(["\n  font-weight: 500;\n\n  :hover {\n    cursor: pointer;\n  }\n"])));var R=function(){var e=function(e){(0,m.default)(n,e);var t=T(n);function n(){var e;(0,f.default)(this,n);for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a)),(0,v.default)((0,p.default)(e),"state",{reRenderKey:0,previousToken:null}),(0,v.default)((0,p.default)(e),"mapRef",void 0),(0,v.default)((0,p.default)(e),"_map",void 0),(0,v.default)((0,p.default)(e),"loadMapStyleJson",(function(t){e.props.loadCustomMapStyle({style:t,error:!1})})),(0,v.default)((0,p.default)(e),"loadMapStyleError",(function(){e.props.loadCustomMapStyle({error:!0})})),e}return(0,s.default)(n,[{key:"componentDidUpdate",value:function(){var e=this,t=this.mapRef&&this.mapRef.getMap();t&&this._map!==t&&(this._map=t,t.on("style.load",(function(){var n=t.getStyle();e.loadMapStyleJson(n)})),t.on("error",(function(){e.loadMapStyleError()})))}},{key:"render",value:function(){var e=this,t=this.props,n=t.inputStyle,r=t.mapState,a=t.mapboxApiUrl,l=t.intl,o=n.accessToken||this.props.mapboxApiAccessToken,i=F(F({},r),{},{baseApiUrl:a,mapboxAccessToken:o,mapLib:k.default,preserveDrawingBuffer:!0,transformRequest:x.transformRequest});return h.default.createElement("div",{className:"add-map-style-modal"},h.default.createElement(P.StyledModalContent,null,h.default.createElement(P.StyledModalVerticalPanel,null,h.default.createElement(P.StyledModalSection,null,h.default.createElement("div",{className:"modal-section-title"},h.default.createElement(M.FormattedMessage,{id:"modal.addStyle.pasteTitle"})),h.default.createElement("div",{className:"modal-section-subtitle"},l.formatMessage({id:"modal.addStyle.pasteSubtitle0"}),h.default.createElement(N,{target:"_blank",href:"https://www.mapbox.com/help/studio-manual-publish/#style-url"}," ",l.formatMessage({id:"modal.addStyle.pasteSubtitle2"}))," ",l.formatMessage({id:"modal.addStyle.pasteSubtitle3"}),h.default.createElement(N,{target:"_blank",href:"https://docs.mapbox.com/mapbox-gl-js/style-spec"}," ",l.formatMessage({id:"modal.addStyle.pasteSubtitle4"}))),h.default.createElement(P.InputLight,{type:"text",value:n.url||"",onChange:function(t){var n=t.target.value;return e.props.inputMapStyle({url:n})},placeholder:"e.g. https://basemaps.cartocdn.com/gl/positron-gl-style/style.json"})),h.default.createElement(P.StyledModalSection,null,h.default.createElement("div",{className:"modal-section-title"},h.default.createElement(M.FormattedMessage,{id:"modal.addStyle.namingTitle"})),h.default.createElement(P.InputLight,{type:"text",value:n.label||"",onChange:function(t){var n=t.target.value;return e.props.inputMapStyle({label:n})}}))),h.default.createElement(I,null,h.default.createElement("div",{className:(0,_.default)("preview-title",{error:n.error})},n.error?L:n.style&&n.style.name||""),h.default.createElement(A,{className:"preview-image"},n.isValid?h.default.createElement(P.StyledMapContainer,null,h.default.createElement(O.default,(0,d.default)({},i,{ref:function(t){e.mapRef=t},key:this.state.reRenderKey,style:{width:264,height:190},mapStyle:null===n.url?void 0:n.url}))):h.default.createElement("div",{className:"preview-image-spinner"})))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.inputStyle&&e.inputStyle.accessToken&&e.inputStyle.accessToken!==t.previousToken?{reRenderKey:t.reRenderKey+1,previousToken:e.inputStyle.accessToken}:null}}]),n}(h.Component);return(0,w.injectIntl)((0,E.polyfill)(e))};t.default=R},1351:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MapInfoPanel=void 0;var l,o=r(n(1)),i=r(n(6)),u=_(n(0)),c=r(n(5)),d=r(n(907)),f=n(911),s=_(n(651)),p=n(912),m=n(4),g=n(41),y=r(n(913)),v=n(19),b=n(650),h=n(388);function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function _(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}var C=c.default.div.attrs({className:"save-map-modal"})(l||(l=(0,i.default)(["\n  .save-map-modal-content {\n    min-height: 400px;\n    flex-direction: column;\n  }\n\n  .description {\n    width: 300px;\n  }\n\n  .image-preview-panel {\n    width: 300px;\n\n    .image-preview {\n      padding: 0;\n    }\n  }\n\n  .map-info-panel {\n    flex-direction: column;\n  }\n\n  .save-map-modal-description {\n    .modal-section-subtitle {\n      margin-left: 6px;\n    }\n  }\n"]))),O=function(e){},P={resize:"none"},S=function(e){var t=e.mapInfo,n=e.characterLimits,r=e.onChangeInput,a=t.description,l=void 0===a?"":a,o=t.title,i=void 0===o?"":o;return u.default.createElement("div",{className:"selection map-info-panel","data-testid":m.dataTestIds.providerMapInfoPanel},u.default.createElement(g.StyledModalSection,{className:"save-map-modal-name"},u.default.createElement("div",{className:"modal-section-title"},"Name*"),u.default.createElement("div",null,u.default.createElement(g.InputLight,{id:"map-title",type:"text",value:i,onChange:function(e){return r("title",e)},placeholder:"Type map title"}))),u.default.createElement(g.StyledModalSection,null,u.default.createElement(f.FlexContainer,{className:"save-map-modal-description"},u.default.createElement("div",{className:"modal-section-title"},"Description"),u.default.createElement("div",{className:"modal-section-subtitle"},"(optional)")),u.default.createElement("div",null,u.default.createElement(g.TextAreaLight,{rows:3,id:"map-description",style:P,value:l,onChange:function(e){return r("description",e)},placeholder:"Type map description"})),u.default.createElement(g.StyledModalInputFootnote,{error:Boolean(null==n?void 0:n.description)&&l.length>Number(null==n?void 0:n.description)},l.length,"/",(null==n?void 0:n.description)||m.MAP_INFO_CHARACTER.description," ","characters")))};t.MapInfoPanel=S;var x=function(e){var t=e.cloudProviders;return u.default.createElement(g.StyledExportSection,null,u.default.createElement("div",{className:"description"},u.default.createElement("div",{className:"title"},u.default.createElement(v.FormattedMessage,{id:"modal.saveMap.title"})),u.default.createElement("div",{className:"subtitle"},u.default.createElement(v.FormattedMessage,{id:"modal.saveMap.subtitle"}))),u.default.createElement(p.ProviderSelect,{cloudProviders:t}))},w={margin:"2px 0"},M={textDecoration:"underline"};var k=function(){return function(e){var t=e.mapInfo,n=e.exportImage,r=e.characterLimits,a=void 0===r?m.MAP_INFO_CHARACTER:r,l=e.isProviderLoading,i=e.providerError,c=e.onUpdateImageSetting,f=void 0===c?O:c,p=e.cleanupExportImage,v=e.onSetMapInfo,E=e.onCancel,_=e.onConfirm,P=(0,h.useCloudListProvider)(),k=P.provider,j=P.cloudProviders,D=(0,u.useMemo)((function(){return{large:!0,disabled:Boolean(!(k&&t.title)),children:"modal.button.save"}}),[k,t]),F=(0,u.useCallback)((function(){k&&_(k)}),[k]);return u.default.createElement(d.default,{provider:k,onUpdateImageSetting:f,cleanupExportImage:p},u.default.createElement(C,null,u.default.createElement(g.StyledModalContent,{className:"save-map-modal-content"},u.default.createElement(x,{cloudProviders:j}),k&&u.default.createElement(u.default.Fragment,null,k.getManagementUrl?u.default.createElement(g.StyledExportSection,{style:w},u.default.createElement("div",{className:"selection"},u.default.createElement("a",{key:1,href:k.getManagementUrl(),target:"_blank",rel:"noopener noreferrer",style:M},"Go to your Kepler.gl ",k.displayName," page"))):null,u.default.createElement(g.StyledExportSection,null,u.default.createElement("div",{className:"description image-preview-panel"},u.default.createElement(y.default,{exportImage:n,width:m.MAP_THUMBNAIL_DIMENSION.width,showDimension:!1})),l?u.default.createElement("div",{"data-testid":m.dataTestIds.providerLoading,className:"selection map-saving-animation"},u.default.createElement(s.UploadAnimation,{icon:k&&k.icon})):u.default.createElement(S,{mapInfo:t,characterLimits:a,onChangeInput:function(e,t){var n=t.target.value;v((0,o.default)({},e,n))}}))),i?u.default.createElement(s.default,{isLoading:!1,error:i.message,providerIcon:k&&k.icon}):null)),u.default.createElement(b.ModalFooter,{cancel:E,confirm:F,confirmButton:D}))}};t.default=k},1352:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.StyledInputLabel=t.StyleSharingUrl=t.SharingUrl=void 0,t.default=function(){return function(e){var t=e.isProviderLoading,n=void 0!==t&&t,r=e.onExport,a=void 0===r?w:r,l=e.providerError,o=void 0===l?null:l,i=e.successInfo,u=void 0===i?{}:i,c=e.onUpdateImageSetting,d=void 0===c?w:c,p=e.cleanupExportImage,E=(0,h.useCloudListProvider)(),C=E.provider,O=E.cloudProviders,P=u.shareUrl,S=u.folderLink;return(0,f.useEffect)((function(){C&&a(C)}),[C]),f.default.createElement(s.ThemeProvider,{theme:m.themeLT},f.default.createElement(g.default,{provider:C,onUpdateImageSetting:d,cleanupExportImage:p},f.default.createElement(M,{className:"export-cloud-modal"},f.default.createElement(D,{cloudProviders:O}),null!=C&&C.hasSharingUrl()?f.default.createElement(k,{"data-testid":_.dataTestIds.providerShareMap},f.default.createElement(y.StyledExportSection,null,f.default.createElement("div",{className:"description"},f.default.createElement("div",{className:"title"},f.default.createElement(b.FormattedMessage,{id:"modal.shareMap.shareUriTitle"})),f.default.createElement("div",{className:"subtitle"},f.default.createElement(b.FormattedMessage,{id:"modal.shareMap.shareUriSubtitle"}))),f.default.createElement("div",{className:"selection"},f.default.createElement("div",{className:"title warning"},f.default.createElement(b.FormattedMessage,{id:"modal.shareMap.shareDisclaimer"})))),f.default.createElement(y.StyledExportSection,{disabled:n},f.default.createElement("div",{className:"description"},f.default.createElement("div",{className:"title"},f.default.createElement(b.FormattedMessage,{id:"modal.shareMap.cloudTitle"})),f.default.createElement("div",{className:"subtitle"},f.default.createElement(b.FormattedMessage,{id:"modal.shareMap.cloudSubtitle"})))),n||o?f.default.createElement(v.default,{isLoading:n,error:o,providerIcon:C.icon}):null,P&&f.default.createElement(y.StyledExportSection,null,f.default.createElement("div",{className:"description"},f.default.createElement("div",{className:"title"},"Share Url")),f.default.createElement("div",{className:"selection"},f.default.createElement(x,{key:0,url:P}),C&&S&&f.default.createElement("a",{key:1,href:S,target:"_blank",rel:"noopener noreferrer",style:j},C.name)))):null)))}};var l,o,i,u,c=r(n(24)),d=r(n(6)),f=O(n(0)),s=O(n(5)),p=n(488),m=n(44),g=r(n(907)),y=n(41),v=r(n(651)),b=n(19),h=n(388),E=n(912),_=n(4);function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function O(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}var P=s.default.label(l||(l=(0,d.default)(["\n  font-size: 12px;\n  color: ",";\n  letter-spacing: 0.2px;\n"])),(function(e){return e.theme.textColorLT}));t.StyledInputLabel=P;var S=s.default.div.attrs({className:"sharing-url"})(o||(o=(0,d.default)(["\n  width: 100%;\n  display: flex;\n  margin-bottom: 14px;\n  flex-direction: column;\n\n  input {\n    border-right: 0;\n  }\n\n  .button {\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n  }\n"])));t.StyleSharingUrl=S;var x=function(e){var t=e.url,n=e.message,r=void 0===n?"":n,a=(0,f.useState)(!1),l=(0,c.default)(a,2),o=l[0],i=l[1];return f.default.createElement(S,null,f.default.createElement(P,null,r),f.default.createElement("div",{style:{display:"flex"}},f.default.createElement(y.InputLight,{type:"text",value:t,readOnly:!0}),f.default.createElement(p.CopyToClipboard,{text:t,onCopy:function(){return i(!0)}},f.default.createElement(y.Button,{width:"80px"},o?"Copied!":"Copy"))))};t.SharingUrl=x;var w=function(){},M=(0,s.default)(y.StyledModalContent)(i||(i=(0,d.default)(["\n  padding: 24px 72px 40px 72px;\n  margin: 0 -72px -40px -72px;\n  display: flex;\n  flex-direction: column;\n"]))),k=s.default.div(u||(u=(0,d.default)(["\n  min-height: 500px;\n"]))),j={textDecoration:"underline"},D=function(e){var t=e.cloudProviders;return f.default.createElement(y.StyledExportSection,null,f.default.createElement("div",{className:"description"},f.default.createElement("div",{className:"title"},f.default.createElement(b.FormattedMessage,{id:"modal.shareMap.title"}))),f.default.createElement(E.ProviderSelect,{cloudProviders:t}))}},1353:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=I;var l,o,i=r(n(14)),u=r(n(8)),c=r(n(9)),d=r(n(10)),f=r(n(11)),s=r(n(12)),p=r(n(7)),m=r(n(1)),g=r(n(6)),y=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),v=n(47),b=r(n(5)),h=n(274),E=r(n(187)),_=n(13),C=n(66),O=r(n(899)),P=r(n(903)),S=n(649),x=n(4);function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){(0,m.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e){var t=function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}();return function(){var n,r=(0,p.default)(e);if(t){var a=(0,p.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var D=["maplibregl-control-container","attrition-link","attrition-logo","map-control__panel-split-viewport-tools"],F=function(e){return!D.includes(e.className)};I.deps=[O.default,P.default];var T=b.default.div(l||(l=(0,g.default)(["\n  .maplibregl-ctrl-bottom-left,\n  .maplibregl-ctrl-bottom-right,\n  .maplibre-attribution-container,\n  .map-control__panel-split-viewport-tools {\n    display: none;\n  }\n\n  position: absolute;\n  top: ","px;\n  left: ","px;\n"])),-9999,-9999),L=b.default.div(o||(o=(0,g.default)(["\n  width: ","px;\n  height: ","px;\n  display: flex;\n"])),(function(e){return e.width}),(function(e){return e.height}));function I(e,t){return function(n){(0,f.default)(a,n);var r=j(a);function a(e){var t;return(0,u.default)(this,a),t=r.call(this,e),(0,m.default)((0,d.default)(t),"plottingAreaRef",(0,y.createRef)()),(0,m.default)((0,d.default)(t),"mapStyleSelector",(function(e){return e.mapFields.mapStyle})),(0,m.default)((0,d.default)(t),"mapScaleSelector",(function(e){var t=e.exportImageSetting.imageSize,n=e.mapFields.mapState;if(t.scale)return t.scale;var r=(0,_.getScaleFromImageSize)(t.imageW,t.imageH,n.width*(n.isSplit?2:1),n.height);return r>0?r:1})),(0,m.default)((0,d.default)(t),"scaledMapStyleSelector",(0,v.createSelector)(t.mapStyleSelector,t.mapScaleSelector,(function(e,t){return k(k({},e),{},{bottomMapStyle:(0,_.scaleMapStyleByResolution)(e.bottomMapStyle,t),topMapStyle:(0,_.scaleMapStyleByResolution)(e.topMapStyle,t)})}))),(0,m.default)((0,d.default)(t),"_onMapRender",(function(e){e.isStyleLoaded()&&t._retrieveNewScreenshot()})),(0,m.default)((0,d.default)(t),"_retrieveNewScreenshot",(function(){if(t.plottingAreaRef.current){var e=t.props.exportImageSetting,n=e.imageSize,r=e.escapeXhtmlForWebpack;(0,_.convertToPng)(t.plottingAreaRef.current,{filter:F,width:n.imageW,height:n.imageH,escapeXhtmlForWebpack:r}).then(t.props.setExportImageDataUri).catch((function(e){t.props.setExportImageError(e),t.props.enableErrorNotification&&t.props.addNotification((0,_.exportImageError)({err:e}))}))}})),t._onMapRender=(0,E.default)(t._onMapRender,500),t._retrieveNewScreenshot=(0,E.default)(t._retrieveNewScreenshot,500),t}return(0,c.default)(a,[{key:"componentDidMount",value:function(){this.props.setExportImageSetting({processing:!0})}},{key:"componentDidUpdate",value:function(e){var t=this;["ratio","resolution","legend"].some((function(n){return t.props.exportImageSetting[n]!==e.exportImageSetting[n]}))&&(this.props.setExportImageSetting({processing:!0}),this._retrieveNewScreenshot())}},{key:"render",value:function(){var n=this.props,r=n.exportImageSetting,a=n.mapFields,l=n.splitMaps,o=void 0===l?[]:l,u=a.mapState,c=a.visState,d=c.layers,f=c.layerData,s=r.imageSize,p=r.legend,m=o&&o.length>1,g={width:(null==s?void 0:s.imageW)||1,height:(null==s?void 0:s.imageH)||1},v=g.width/(m?2:1),b=g.height,E=this.mapScaleSelector(this.props),O=k(k({},u),{},{width:v,height:b,zoom:u.zoom+(Math.log2(E)||0)});if(r.center){var P=d.filter((function(e,t){return e.id!==x.GEOCODER_LAYER_ID&&e.shouldRenderLayer(f[t])})),w=(0,C.findMapBounds)(P),M=(0,_.getCenterAndZoomFromBounds)(w,{width:v,height:b});if(M){var j=Number.isFinite(M.zoom)?M.zoom:u.zoom;O.longitude=M.center[0],O.latitude=M.center[1],O.zoom=j+Number(Math.log2(E)||0)}}var D=k(k({},a),{},{mapStyle:this.scaledMapStyleSelector(this.props),mapState:O,mapControls:{mapLegend:{show:p,active:!0}},MapComponent:h.Map,onMapRender:this._onMapRender,isExport:!0,deckGlProps:k(k({},a.deckGlProps),{},{glOptions:{preserveDrawingBuffer:!0,useDevicePixels:!1}})}),F=m?y.default.createElement(t,{className:"plot-container-maps",mapState:O},o.map((function(t,n){return y.default.createElement(e,(0,i.default)({key:n,index:n,primary:1===n},D))}))):y.default.createElement(e,(0,i.default)({index:0,primary:!0},D));return y.default.createElement(T,{className:"export-map-instance"},y.default.createElement(L,{ref:this.plottingAreaRef,width:g.width,height:g.height},y.default.createElement(S.MapViewStateContextProvider,{mapState:O},F)))}}]),a}(y.Component)}},1354:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=E;var l,o=r(n(8)),i=r(n(9)),u=r(n(11)),c=r(n(12)),d=r(n(7)),f=r(n(1)),s=r(n(6)),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),m=r(n(5)),g=r(n(906)),y=n(4);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function b(e){var t=function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}();return function(){var n,r=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var h=m.default.div(l||(l=(0,s.default)(["\n  background: transparent;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  padding: 4px;\n  overflow-y: auto;\n  overflow-x: hidden;\n  position: absolute;\n  top: 1em;\n  right: 1em;\n  z-index: 10000;\n  box-sizing: border-box;\n"])));function E(e){var t=function(t){(0,u.default)(r,t);var n=b(r);function r(){return(0,o.default)(this,r),n.apply(this,arguments)}return(0,i.default)(r,[{key:"render",value:function(){var t=this,n=this.props.notifications.filter((function(e){return e.topic===y.DEFAULT_NOTIFICATION_TOPICS.global}));return p.default.createElement(h,{className:"notification-panel",style:{display:n.length?"block":"none"}},n.map((function(n){return p.default.createElement(e,{key:n.id,notification:n,removeNotification:t.props.removeNotification})})))}}]),r}(p.Component);return(0,f.default)(t,"displayName","NotificationPanel"),p.default.memo(t)}E.deps=[g.default]},1355:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e){(0,d.default)(a,e);var t,n,r=(t=a,n=function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return!!e}(),function(){var e,r=(0,s.default)(t);if(n){var a=(0,s.default)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return(0,f.default)(this,e)});function a(){var e;(0,i.default)(this,a);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return e=r.call.apply(r,[this].concat(n)),(0,p.default)((0,c.default)(e),"defaultProps",{transitionDuration:3e3}),(0,p.default)((0,c.default)(e),"onSelected",(function(){var t,n=arguments.length>1?arguments[1]:void 0,r=(0,o.default)(n.center,2),a=r[0],l=r[1],i=n.text,u=n.bbox,c=e.props.layerOrder;e.removeGeocoderDataset(),(t=e.props).updateVisData.apply(t,(0,g.default)(D(l,a,i)).concat([M(c)]));var d=u||[a-O.GEOCODER_GEO_OFFSET,l-O.GEOCODER_GEO_OFFSET,a+O.GEOCODER_GEO_OFFSET,l+O.GEOCODER_GEO_OFFSET],f=(0,_.getCenterAndZoomFromBounds)(d,{width:e.props.mapState.width,height:e.props.mapState.height});f&&e.props.updateMap(x(x({latitude:f.center[1],longitude:f.center[0]},Number.isFinite(f.zoom)?{zoom:f.zoom}:{}),{},{pitch:0,bearing:0,transitionDuration:e.props.transitionDuration,transitionInterpolator:new E.FlyToInterpolator}),e.props.index)})),(0,p.default)((0,c.default)(e),"removeMarker",(function(){e.removeGeocoderDataset()})),e}return(0,u.default)(a,[{key:"removeGeocoderDataset",value:function(){this.props.removeDataset(O.GEOCODER_DATASET_NAME)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.isGeocoderEnabled,r=e.mapboxApiAccessToken,a=e.width,l=e.index,o=e.unsyncedViewports;return y.default.createElement(k,{className:(0,b.default)("geocoder-panel",t),width:a,index:l,unsyncedViewports:o,style:{display:n?"block":"none"}},/pk\..*\..*/.test(r)&&y.default.createElement(C.default,{mapboxApiAccessToken:r,onSelected:this.onSelected,onDeleteMarker:this.removeMarker,width:a}))}}]),a}(y.Component)},t.getUpdateVisDataPayload=D;var l,o=r(n(24)),i=r(n(8)),u=r(n(9)),c=r(n(10)),d=r(n(11)),f=r(n(12)),s=r(n(7)),p=r(n(1)),m=r(n(6)),g=r(n(21)),y=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),v=r(n(5)),b=r(n(25)),h=n(112),E=n(49),_=n(13),C=r(n(1356)),O=n(4);function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,p.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w={id:O.GEOCODER_LAYER_ID,type:"icon",config:{label:"Geocoder Layer",color:O.GEOCODER_ICON_COLOR,dataId:O.GEOCODER_DATASET_NAME,columns:{lat:"lt",lng:"ln",icon:"icon",label:"text"},isVisible:!0,hidden:!0,visConfig:{radius:O.GEOCODER_ICON_SIZE}}};function M(e){return{visState:{layers:[w],layerOrder:[w.id].concat((0,g.default)(e))}}}var k=v.default.div(l||(l=(0,m.default)(["\n  position: absolute;\n  top: ","px;\n  right: ",";\n  width: ","px;\n  box-shadow: ",";\n  z-index: 100;\n"])),(function(e){return e.theme.geocoderTop}),(function(e){return e.unsyncedViewports&&Number.isFinite(e.index)&&0===e.index?"calc(50% + ".concat(e.theme.geocoderRight,"px)"):"".concat(e.theme.geocoderRight,"px")}),(function(e){return Number.isFinite(e.width)?e.width:e.theme.geocoderWidth}),(function(e){return e.theme.boxShadow}));function j(e,t,n){return{data:(0,h.processRowObject)([{lt:e,ln:t,icon:"place",text:n}]),id:O.GEOCODER_DATASET_NAME,info:{hidden:!0,id:O.GEOCODER_DATASET_NAME,label:O.GEOCODER_DATASET_NAME}}}function D(e,t,n){return[[j(e,t,n)],{keepExistingConfig:!0}]}},1356:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.testForCoordinates=t.default=void 0;var l,o=r(n(1343)),i=r(n(1)),u=r(n(165)),c=r(n(24)),d=r(n(6)),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),s=r(n(5)),p=r(n(25)),m=r(n(931)),g=n(56),y=n(449),v=n(4),b=n(41),h=n(55);function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=RegExp("^[-+]?([1-8]?\\d(\\.\\d+)?|90(\\.0+)?),\\s*[-+]?(180(\\.0+)?|((1[0-7]\\d)|([1-9]?\\d))(\\.\\d+)?)"),P="Enter an address or coordinates, ex 37.79,-122.40",S=null,x=function(e){var t=O.test(e.trim());if(!t)return[t,e];var n=e.trim().split(",");return[t,Number(n[0]),Number(n[1])]};t.testForCoordinates=x;var w=s.default.div(l||(l=(0,d.default)(["\n  position: relative;\n  color: ",";\n\n  .geocoder-input {\n    box-shadow: ",";\n\n    .geocoder-input__search {\n      position: absolute;\n      height: ","px;\n      width: 30px;\n      padding-left: 6px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      color: ",";\n    }\n\n    input {\n      padding: 4px 36px;\n      height: ","px;\n      caret-color: unset;\n    }\n  }\n\n  .geocoder-results {\n    box-shadow: ",";\n    background-color: ",";\n    position: absolute;\n    width: ","px;\n    margin-top: ","px;\n  }\n\n  .geocoder-item {\n    ",";\n    ",";\n\n    &.active {\n      background-color: ",";\n    }\n  }\n\n  .remove-result {\n    position: absolute;\n    right: 16px;\n    top: 0px;\n    height: ","px;\n    display: flex;\n    align-items: center;\n\n    :hover {\n      cursor: pointer;\n      color: ",";\n    }\n  }\n"])),(function(e){return e.theme.textColor}),(function(e){return e.theme.boxShadow}),(function(e){return e.theme.geocoderInputHeight}),(function(e){return e.theme.subtextColor}),(function(e){return e.theme.geocoderInputHeight}),(function(e){return e.theme.boxShadow}),(function(e){return e.theme.panelBackground}),(function(e){return Number.isFinite(e.width)?e.width:e.theme.geocoderWidth}),(function(e){return e.theme.dropdownWapperMargin}),(function(e){return e.theme.dropdownListItem}),(function(e){return e.theme.textTruncate}),(function(e){return e.theme.dropdownListHighlightBg}),(function(e){return e.theme.geocoderInputHeight}),(function(e){return e.theme.textColorHl})),M=(0,g.injectIntl)((function(e){var t=e.mapboxApiAccessToken,n=e.className,r=void 0===n?"":n,a=e.limit,l=void 0===a?5:a,i=e.timeout,d=void 0===i?300:i,s=e.formatItem,g=void 0===s?function(e){return e.place_name}:s,E=e.viewport,_=e.onSelected,O=e.onDeleteMarker,M=e.transitionDuration,k=e.pointZoom,j=e.width,D=e.intl,F=(0,f.useState)(""),T=(0,c.default)(F,2),L=T[0],I=T[1],A=(0,f.useState)(!1),N=(0,c.default)(A,2),R=N[0],B=N[1],W=(0,f.useState)(!1),z=(0,c.default)(W,2),H=z[0],V=z[1],G=(0,f.useState)([]),U=(0,c.default)(G,2),Y=U[0],K=U[1],X=(0,f.useState)(0),Z=(0,c.default)(X,2),q=Z[0],J=Z[1],$=(0,f.useMemo)((function(){return(0,m.default)({accessToken:t})}),[t]),Q=(0,f.useCallback)((function(e){var t=e.target.value;I(t);var n=x(t);if(n[0]){var r=(0,c.default)(n,3),a=(r[0],r[1]),i=r[2];K([{center:[a,i],place_name:t}])}else S&&clearTimeout(S),S=setTimeout((0,u.default)(o.default.mark((function e(){var n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(l>0&&Boolean(t))){e.next=11;break}return e.prev=1,e.next=4,$.forwardGeocode({query:t,limit:l}).send();case 4:(n=e.sent).body.features&&(B(!0),K(n.body.features)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),d)}),[$,l,d,K,B]),ee=(0,f.useCallback)((function(){setTimeout((function(){B(!1)}),d)}),[B,d]),te=(0,f.useCallback)((function(){return B(!0)}),[B]),ne=(0,f.useCallback)((function(e){var t=new y.WebMercatorViewport(E),n=e.bbox,r=e.center,a=n?t.fitBounds([[n[0],n[1]],[n[2],n[3]]]):{longitude:r[0],latitude:r[1],zoom:k},l=a.longitude,o=a.latitude,i=a.zoom;_(C(C({},E),{longitude:l,latitude:o,zoom:i,transitionDuration:M}),e),B(!1),I(g(e)),V(!0)}),[E,_,M,k,g]),re=(0,f.useCallback)((function(){V(!1),I(""),null==O||O()}),[O]),ae=(0,f.useCallback)((function(e){if(Y&&0!==Y.length)switch(e.keyCode){case v.KeyEvent.DOM_VK_UP:J(q>0?q-1:q);break;case v.KeyEvent.DOM_VK_DOWN:J(q<Y.length-1?q+1:q);break;case v.KeyEvent.DOM_VK_ENTER:case v.KeyEvent.DOM_VK_RETURN:Y[q]&&ne(Y[q])}}),[Y,q,J,ne]);return f.default.createElement(w,{className:r,width:j},f.default.createElement("div",{className:"geocoder-input"},f.default.createElement("div",{className:"geocoder-input__search"},f.default.createElement(h.Search,{height:"20px"})),f.default.createElement(b.Input,{type:"text",onChange:Q,onBlur:ee,onFocus:te,onKeyDown:ae,value:L,placeholder:D?D.formatMessage({id:"geocoder.title",defaultMessage:P}):P}),H?f.default.createElement("div",{className:"remove-result"},f.default.createElement(h.Delete,{height:"12px",onClick:re})):null),R?f.default.createElement("div",{className:"geocoder-results"},Y.map((function(e,t){return f.default.createElement("div",{key:t,className:(0,p.default)("geocoder-item",{active:q===t}),onClick:function(){return ne(e)}},g(e))}))):null)}));t.default=M},1357:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,o,i,u,c=r(n(1)),d=r(n(24)),f=r(n(6)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),p=r(n(5)),m=n(56),g=n(20),y=n(4),v=n(555),b=r(n(1358)),h=r(n(1359)),E=r(n(1362));function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,c.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=p.default.div(l||(l=(0,f.default)(["\n  display: flex;\n  flex-direction: column;\n  pointer-events: none !important; /* prevent padding from blocking input */\n  flex-grow: 1;\n  justify-content: space-between;\n  overflow: hidden;\n\n  & > * {\n    /* all children should allow input */\n    pointer-events: all;\n  }\n"]))),S=p.default.div(o||(o=(0,f.default)(["\n  top: 0;\n  background-color: ",";\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  overflow: hidden;\n"])),(function(e){return e.theme.sidePanelBg})),x=p.default.div(i||(i=(0,f.default)(["\n  padding: ",";\n  border-bottom: 1px solid ",";\n  min-width: ","px;\n"])),(function(e){var t=e.theme;return"".concat(t.effectPanelPaddingTop,"px ").concat(t.effectPanelPaddingSide,"px 4px ").concat(t.effectPanelPaddingSide,"px}")}),(function(e){return e.theme.borderColor}),(function(e){return e.theme.effectPanelWidth})),w=p.default.div(u||(u=(0,f.default)(["\n  ",";\n  padding: ",";\n  overflow: overlay;\n  display: flex;\n  flex-direction: column;\n"])),(function(e){return e.theme.sidePanelScrollBar}),(function(e){return e.extended?"32px":"10px 0px 10px 0px"}));function M(e,t,n){return(0,v.withState)([],(function(e){var t=e.demo.keplerGl.map.visState;return{effects:t.effects,effectOrder:t.effectOrder}}),{visStateActions:{addEffect:g.addEffect,updateEffect:g.updateEffect,removeEffect:g.removeEffect,reorderEffect:g.reorderEffect}})((0,m.injectIntl)((function(r){var a=r.intl,l=r.visStateActions,o=r.effects,i=r.effectOrder,u=r.children,c=(0,s.useState)(!1),f=(0,d.default)(c,2),p=f[0],m=f[1],g=(0,s.useMemo)((function(){var e=o.some((function(e){return e.type===y.LIGHT_AND_SHADOW_EFFECT.type}));return y.EFFECT_DESCRIPTIONS.map((function(t){return O(O({},t),{},{disabled:Boolean(e&&t.type===y.LIGHT_AND_SHADOW_EFFECT.type)})}))}),[o]),v=(0,s.useCallback)((function(e){l.addEffect({type:e})}),[]),b=(0,s.useCallback)((function(){m(!0)}),[]),h=(0,s.useCallback)((function(){m(!1)}),[]);return s.default.createElement(P,{className:"effect-manager"},s.default.createElement(S,null,s.default.createElement(x,null,s.default.createElement(t,{className:"effect-manager-title",title:a.formatMessage({id:"effectManager.effects"})},s.default.createElement(n,{options:g,onSelect:v,onOpen:b,onBlur:h}))),s.default.createElement(w,{extended:p&&0===o.length},s.default.createElement(e,{effects:o,effectOrder:i,visStateActions:l,isSortable:!0}))),u)})))}M.deps=[h.default,b.default,E.default];var k=M;t.default=k},1358:function(e,t,n){"use strict";var r=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,l,o=r(n(6)),i=r(n(0)),u=r(n(5)),c=u.default.div.attrs({className:"panel-title"})(a||(a=(0,o.default)(["\n  color: ",";\n  font-size: ",";\n  line-height: ",";\n  font-weight: 400;\n  letter-spacing: 1.25px;\n"])),(function(e){return e.theme.titleTextColor}),(function(e){return e.theme.sidePanelTitleFontsize}),(function(e){return e.theme.sidePanelTitleLineHeight})),d=u.default.div.attrs({className:"side-panel-header-row"})(l||(l=(0,o.default)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-top: 0px;\n  margin-bottom: 8px;\n"]))),f=function(){return function(e){var t=e.title,n=e.className,r=e.children;return i.default.createElement(d,null,i.default.createElement(c,{className:n||"side-panel-title"},t),r)}};t.default=f},1359:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,o,i=r(n(21)),u=r(n(14)),c=r(n(1)),d=r(n(6)),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),s=r(n(5)),p=r(n(25)),m=n(35),g=n(154),y=n(4),v=n(13),b=r(n(2010));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}var E=s.default.div(l||(l=(0,d.default)(["\n  display: flex;\n  flex-direction: column;\n"]))),_=s.default.div(o||(o=(0,d.default)(["\n  z-index: ",";\n  transition: ",";\n  transform: ",";\n  outline: none;\n  &.sorting {\n    opacity: 0.3;\n    pointer-events: none;\n  }\n  &.sorting-effects .effect-panel__header {\n    background-color: ",";\n    font-family: ",";\n    font-weight: ",";\n    font-size: ",";\n    line-height: ",";\n    *,\n    *:before,\n    *:after {\n      box-sizing: border-box;\n    }\n    .effect__drag-handle {\n      opacity: 1;\n      color: ",";\n    }\n  }\n"])),(function(e){return e.theme.dropdownWrapperZ+1}),(function(e){return e.transition}),(function(e){return e.transform}),(function(e){return e.theme.panelBackgroundHover}),(function(e){return e.theme.fontFamily}),(function(e){return e.theme.fontWeight}),(function(e){return e.theme.fontSize}),(function(e){return e.theme.lineHeight}),(function(e){return e.theme.textColorHl}));function C(e){var t=function(t){var n=t.effect,r=t.idx,a=t.panelProps,l=t.disabled,o=(0,g.useSortable)({id:n.id,data:{type:y.SORTABLE_EFFECT_TYPE,parent:y.SORTABLE_EFFECT_PANEL_TYPE},disabled:l}),i=o.attributes,d=o.listeners,s=o.setNodeRef,v=o.isDragging,b=o.transform,h=o.transition;return f.default.createElement(_,(0,u.default)({ref:s,className:(0,p.default)((0,c.default)({},y.dataTestIds.sortableEffectItem,!l),(0,c.default)({},y.dataTestIds.staticEffectItem,l),{sorting:v}),"data-testid":l?y.dataTestIds.staticEffectItem:y.dataTestIds.sortableEffectItem,transform:m.CSS.Transform.toString(b),transition:h||""},i),f.default.createElement(e,(0,u.default)({},a,{key:n.id,idx:r,effect:n,listeners:d,isDraggable:!l})))};return function(e){var n=e.effects,r=e.effectOrder,a=e.visStateActions,l=(0,f.useMemo)((function(){return r.reduce((function(e,t){var r=(0,v.findById)(t)(n.filter(Boolean));return r?[].concat((0,i.default)(e),[r]):e}),[])}),[n,r]),o=(0,f.useMemo)((function(){return l.map((function(e){return e.id}))}),[l]),u=(0,f.useMemo)((function(){return{effects:n,effectOrder:r,removeEffect:a.removeEffect,updateEffect:a.updateEffect}}),[n,r,a]);return f.default.createElement(E,null,f.default.createElement(g.SortableContext,{id:y.SORTABLE_EFFECT_PANEL_TYPE,items:o,strategy:g.verticalListSortingStrategy,disabled:!1},l.map((function(e){return f.default.createElement(t,{key:e.id,effect:e,idx:n.findIndex((function(t){return(null==t?void 0:t.id)===e.id})),panelProps:u,disabled:!1})}))))}}C.deps=[b.default];var O=C;t.default=O},1360:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.StyledColorSelectorWrapper=t.PanelLabelWrapper=void 0,t.default=U;var l,o,i,u,c,d,f,s,p,m,g,y,v=r(n(14)),b=r(n(1)),h=r(n(6)),E=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),_=r(n(5)),C=n(56),O=n(4),P=n(13),S=r(n(267)),x=n(55),w=r(n(1361)),M=r(n(2015));function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){(0,b.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F=_.default.div.attrs({className:"effect-panel__config"})(l||(l=(0,h.default)(["\n  position: relative;\n  margin: ",";\n  padding: ",";\n"])),(function(e){return e.theme.effectConfiguratorMargin}),(function(e){return e.theme.effectConfiguratorPadding})),T=_.default.div.attrs({className:"side-panel-panel__label-wrapper"})(o||(o=(0,h.default)(["\n  display: flex;\n  align-items: self-start;\n  margin-bottom: 11px;\n\n  .side-panel-panel__label {\n    margin-top: 2px;\n    margin-bottom: 0px;\n  }\n"])));t.PanelLabelWrapper=T;var L=_.default.div(i||(i=(0,h.default)(["\n  margin-right: 5px;\n  margin-left: 5px;\n  margin-bottom: 6px;\n  margin-top: 2px;\n"])));t.StyledColorSelectorWrapper=L;var I=_.default.div(u||(u=(0,h.default)(["\n  height: 1px;\n  background-color: ",";\n  margin-top: 20px;\n  margin-bottom: 20px;\n  margin-left: -20px;\n"])),(function(e){return e.theme.inputBgd})),A=_.default.div(c||(c=(0,h.default)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: ","px;\n"])),(function(e){var t;return null!==(t=e.marginBottom)&&void 0!==t?t:9})),N=_.default.div(d||(d=(0,h.default)(["\n  display: flex;\n  flex-direction: column;\n"]))),R=_.default.div(f||(f=(0,h.default)(["\n  font-size: ",";\n  color: ",";\n  margin-bottom: 5px;\n  text-transform: capitalize;\n"])),(function(e){return e.theme.inputFontSize}),(function(e){return e.theme.effectPanelTextSecondary1})),B=_.default.div(s||(s=(0,h.default)(["\n  font-size: ",";\n  color: ",";\n  margin-bottom: 8px;\n  margin-left: 6px;\n"])),(function(e){return e.theme.inputFontSize}),(function(e){return e.theme.effectPanelTextSecondary2})),W=_.default.div(p||(p=(0,h.default)(["\n  align-self: flex-start;\n  width: 199px;\n  height: 32px;\n  display: flex;\n  align-items: center;\n  .kg-range-slider__input {\n    height: 32px;\n    text-align: center;\n    padding: 3px 6px;\n  }\n  .kg-slider {\n    padding-left: 6px;\n  }\n  .kg-range-slider {\n    padding: 0px !important;\n  }\n"]))),z=_.default.div.attrs({className:"effect-configurator__pp-section"})(m||(m=(0,h.default)(["\n  margin-bottom: 8px;\n"]))),H=_.default.div.attrs({className:"effect-configurator__pp-section-title"})(g||(g=(0,h.default)(["\n  font-size: ",";\n  color: ",";\n  text-transform: capitalize;\n  margin-bottom: -3px;\n"])),(function(e){return e.theme.inputFontSize}),(function(e){return e.theme.effectPanelTextSecondary1})),V=_.default.div.attrs({className:"effect-configurator__pp-section-control"})(y||(y=(0,h.default)(["\n  height: 32px;\n  .kg-range-slider__input {\n    height: 32px;\n    text-align: center;\n    padding: 3px 6px;\n  }\n  .kg-slider {\n    padding-left: 6px;\n  }\n  .kg-range-slider {\n    padding: 0px !important;\n  }\n"]))),G={showInput:!0,isRanged:!1,step:.001,label:"value"};function U(e,t){return(0,C.injectIntl)((function(n){var r=n.effect,a=n.updateEffectConfig,l=(0,E.useCallback)((function(){var n=r.parameters,l=(0,E.useMemo)((function(){return["shadowIntensity","ambientLightIntensity","sunLightIntensity"].map((function(e){return{value1:n[e],range:[0,1],value0:0,onChange:function(t,n){a(n,r.id,{parameters:(0,b.default)({},e,t[1])})}}}))}),[r.id,n,a]),o=(0,E.useCallback)((function(e){a(null,r.id,{parameters:D(D(D({},e.timestamp?{timestamp:e.timestamp}:null),e.timezone?{timezone:e.timezone}:null),e.timeMode?{timeMode:e.timeMode}:null)})}),[r.id,a]),i=(0,E.useMemo)((function(){return["ambientLightColor","sunLightColor","shadowColor"].map((function(e){return{colorSets:[{selectedColor:n[e],setColor:function(t){return a(null,r.id,{parameters:(0,b.default)({},e,t)})}}]}}))}),[r.id,n,a]);return E.default.createElement(F,{key:r.id},E.default.createElement(T,null,E.default.createElement(R,null,"Date & Time")),E.default.createElement(t,{timestamp:n.timestamp,timezone:n.timezone,timeMode:n.timeMode,onChange:o}),E.default.createElement(I,null),E.default.createElement(A,{marginBottom:0},E.default.createElement(R,null,"Shadow")),E.default.createElement(A,{marginBottom:16},E.default.createElement(M.default,{label:"Color",color:i[2].colorSets[0].selectedColor,onSetColor:i[2].colorSets[0].setColor,Icon:x.ArrowDownSmall}),E.default.createElement(N,null,E.default.createElement(B,null,"Intensity"),E.default.createElement(W,null,E.default.createElement(e,(0,v.default)({},G,l[0]))))),E.default.createElement(A,{marginBottom:0},E.default.createElement(R,null,"Ambient light")),E.default.createElement(A,{marginBottom:16},E.default.createElement(M.default,{label:"Color",color:i[0].colorSets[0].selectedColor,onSetColor:i[0].colorSets[0].setColor,Icon:x.ArrowDownSmall}),E.default.createElement(N,null,E.default.createElement(B,null,"Intensity"),E.default.createElement(W,null,E.default.createElement(e,(0,v.default)({},G,l[1]))))),E.default.createElement(A,{marginBottom:0},E.default.createElement(R,null,"Sun light")),E.default.createElement(A,{marginBottom:0},E.default.createElement(M.default,{label:"Color",color:i[1].colorSets[0].selectedColor,onSetColor:i[1].colorSets[0].setColor,Icon:x.ArrowDownSmall}),E.default.createElement(N,null,E.default.createElement(B,null,"Intensity"),E.default.createElement(W,null,E.default.createElement(e,(0,v.default)({},G,l[2]))))))}),[r,r.parameters,a]),o=(0,E.useCallback)((function(){var t,n=(null===(t=r.deckEffect)||void 0===t?void 0:t.module.uniforms)||{},l=r.getParameterDescriptions(),o=(0,E.useMemo)((function(){return l.reduce((function(e,t){return"array"===t.type?Array.isArray(t.defaultValue)&&t.defaultValue.forEach((function(n,r){var a;e.push(D(D({},t),{},{index:r,label:null===(a=t.label)||void 0===a?void 0:a[r]}))})):e.push(t),e}),[])}),[l]),i=(0,E.useMemo)((function(){return o.map((function(e){var t=e.name,l=n[e.name];if(!l&&0!==l||l.private)return null;var o,i,u,c,d,f,s,p,m,g,y,v,h=r.parameters[t],E=!1!==e.label&&(e.label||e.name);return 2===l.length?{label:E,value1:h[e.index||0]||0,range:[0,1],value0:0,onChange:function(n,l){a(l,r.id,{parameters:(0,b.default)({},t,0===e.index?[n[1],h[1]]:[h[0],n[1]])})}}:(0,P.isNumber)(l)?{label:E,value1:null!=h?h:0,range:[null!==(o=e.min)&&void 0!==o?o:0,null!==(i=e.max)&&void 0!==i?i:500],value0:null!==(u=e.min)&&void 0!==u?u:0,onChange:function(e,n){a(n,r.id,{parameters:(0,b.default)({},t,e[1])})}}:(0,P.isNumber)(l.value)?{label:E,value1:h||0,range:[null!==(c=null!==(d=null!==(f=e.min)&&void 0!==f?f:l.min)&&void 0!==d?d:l.softMin)&&void 0!==c?c:0,null!==(s=null!==(p=null!==(m=e.max)&&void 0!==m?m:l.max)&&void 0!==p?p:l.softMax)&&void 0!==s?s:1],value0:null!==(g=null!==(y=null!==(v=e.min)&&void 0!==v?v:l.min)&&void 0!==y?y:l.softMin)&&void 0!==g?g:0,onChange:function(e,n){a(n,r.id,{parameters:(0,b.default)({},t,e[1])})}}:null}))}),[o,r,r.parameters,a]);return E.default.createElement(F,{key:r.id},o.map((function(t,n){var a=i[n];return a?E.default.createElement(z,{key:"".concat(r.id,"-").concat(n)},a.label?E.default.createElement(H,null,a.label):null,E.default.createElement(V,null,E.default.createElement(e,(0,v.default)({key:n},G,a)))):null})))}),[r,r.parameters,a]);return r.type===O.LIGHT_AND_SHADOW_EFFECT.type?l():o()}))}U.deps=[S.default,w.default]},1361:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=U;var l,o,i,u,c,d,f,s,p,m=r(n(24)),g=r(n(6)),y=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),v=n(56),b=r(n(5)),h=r(n(109)),E=r(n(572)),_=n(19),C=n(13),O=n(4),P=n(66),S=n(555),x=n(41),w=r(n(638)),M=r(n(1331)),k=n(55),j=r(n(2012)),D=r(n(2013)),F=r(n(2014));function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}var L=b.default.div(l||(l=(0,g.default)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: ","px;\n  ","\n"])),(function(e){var t;return null!==(t=e.marginBottom)&&void 0!==t?t:9}),(function(e){return e.hidden?"display: none;":""})),I=b.default.div(o||(o=(0,g.default)(["\n  margin-top: 13px;\n  margin-bottom: 12px;\n  ","\n"])),(function(e){return e.hidden?"display: none;":""})),A=(0,b.default)(M.default)(i||(i=(0,g.default)(["\n  color: ",";\n  background-color: ",";\n  height: 32px;\n  width: 32px;\n  padding: 5px;\n  border-radius: 4px;\n  justify-content: center;\n  :hover {\n    color: ",";\n    background-color: ",";\n  }\n"])),(function(e){return e.theme.effectPanelTextSecondary2}),(function(e){return e.theme.inputBgd}),(function(e){return e.theme.effectPanelTextMain}),(function(e){return e.theme.inputBgdHover})),N=(0,b.default)(w.default)(u||(u=(0,g.default)(["\n  .kg-checkbox__label {\n    font-family: ",";\n    font-size: ",";\n  }\n  .kg-checkbox__label:before {\n    background: transparent;\n    border-color: ",";\n  }\n  input:checked + .kg-checkbox__label:before {\n    border-color: ",";\n  }\n  .kg-checkbox__label:after {\n    background-color: ",";\n  }\n"])),(function(e){return e.theme.fontFamily}),(function(e){return e.theme.inputFontSize}),(function(e){return e.theme.effectPanelTextSecondary2}),(function(e){return e.theme.activeColor}),(function(e){return e.theme.activeColor})),R=b.default.div(c||(c=(0,g.default)(["\n  margin-bottom: 8px;\n  margin-top: 3px;\n"]))),B=b.default.div(d||(d=(0,g.default)(["\n  .react-date-picker--open .react-date-picker__wrapper .react-date-picker__inputGroup {\n    border: 1px solid ",";\n    border-radius: 4px 4px 0px 0px !important;\n  }\n  .react-calendar__navigation__prev2-button,\n  .react-calendar__navigation__next2-button {\n    display: none;\n  }\n  .react-calendar__navigation__label {\n    position: absolute;\n    top: 20px;\n  }\n  .react-calendar__navigation__arrow {\n    position: absolute;\n    top: 18px;\n    font-size: 16px;\n  }\n  .react-calendar__navigation__prev-button {\n    right: 36px;\n  }\n  .react-calendar__navigation__next-button {\n    right: 12px;\n  }\n"])),(function(e){return e.theme.activeColor})),W=b.default.div(f||(f=(0,g.default)(["\n  position: relative;\n  ","\n"])),(function(e){return e.width?"width: "+e.width:""})),z=b.default.div(s||(s=(0,g.default)(["\n  position: absolute;\n  top: 0px;\n  left: 8px;\n  width: 0px;\n  height: 32px;\n  color: ",";\n  pointer-events: none;\n"])),(function(e){return e.theme.effectPanelTextSecondary2})),H=b.default.div(p||(p=(0,g.default)(["\n  color: ",";\n  width: ",";\n  font-size: ",";\n"])),(function(e){return e.theme.effectPanelTextSecondary2}),(function(e){return e.width}),(function(e){return e.theme.inputFontSize})),V=function(e,t,n){var r=null,a=h.default.tz("".concat(e,"T").concat(t,":00"),n);return a.isValid()&&(r=a.utc().valueOf()),r},G=function(e){return 60*(60*e.hours()+e.minutes())*1e3/864e5};function U(e,t,n){return(0,S.withState)([P.mapStateLens])((0,v.injectIntl)((function(r){var a=r.timestamp,l=r.timezone,o=r.timeMode,i=r.onChange,u=r.mapState,c=r.intl,d=(0,y.useMemo)((function(){return h.default.tz.names().includes(l)?l:O.DEFAULT_TIMEZONE}),[l]),f=(0,y.useMemo)((function(){var e=h.default.tz(a,d),t=G(e),n=new Date;return n.setFullYear(e.year(),e.month(),e.date()),n.setHours(0,0,0,0),[n,e.toDate(),e.format("HH:mm"),e.format("YYYY-MM-DD"),t]}),[a,d]),s=(0,m.default)(f,5),p=s[0],g=s[1],v=s[2],b=s[3],P=s[4],S=(0,y.useMemo)((function(){var e=E.default.getTimes(g,u.latitude,u.longitude),t=e.dawn,n=e.sunrise,r=e.sunset,a=e.dusk;return{dawn:G(h.default.tz(t.valueOf(),d)),sunrise:G(h.default.tz(n.valueOf(),d)),sunset:G(h.default.tz(r.valueOf(),d)),dusk:G(h.default.tz(a.valueOf(),d)),sunriseTime:h.default.tz(n.valueOf(),d).format("hh:mm A"),sunsetTime:h.default.tz(r.valueOf(),d).format("hh:mm A")}}),[g,d,u.latitude,u.longitude]),w=(0,y.useCallback)((function(e){var t=(0,C.clamp)([0,23],Math.floor(24*e[1])),n=(0,C.clamp)([0,59],Math.floor(60*(24*e[1]-t))),r="".concat(t<10?"0"+t:t,":").concat(n<10?"0"+n:n),a=V(b,r,d);i({timestamp:a})}),[b,d,i]),M=(0,y.useCallback)((function(e){if(e){var t=(0,h.default)(e).format("YYYY-MM-DD"),n=V(t,v,d);i({timestamp:n})}}),[v,d,i]),j=(0,y.useCallback)((function(e){if(e){var t=V(b,e,d);i({timestamp:t})}}),[b,d,i]),D=(0,y.useCallback)((function(e){if(e){var t=V(b,v,e);i({timestamp:t,timezone:e})}}),[b,v,i]),F=(0,y.useCallback)((function(){i({timestamp:(new Date).valueOf()})}),[i]),T=(0,y.useCallback)((function(e,t){return["S","M","T","W","T","F","S"][t.getDay()]}),[]),U=o!==O.LIGHT_AND_SHADOW_EFFECT_TIME_MODES.pick;return y.default.createElement(R,null,y.default.createElement(L,{marginBottom:16},y.default.createElement(N,{type:"radio",checked:o===O.LIGHT_AND_SHADOW_EFFECT_TIME_MODES.pick,id:"effect-time-toggle-use-pick-time",label:c.formatMessage({id:"effectManager.pickDateTime"}),onChange:function(){i({timeMode:O.LIGHT_AND_SHADOW_EFFECT_TIME_MODES.pick})}})),y.default.createElement(I,{hidden:U},y.default.createElement(t,{value:P,onChange:w,config:S})),y.default.createElement(L,{hidden:U,marginBottom:2},y.default.createElement(H,{width:"32px"}),y.default.createElement(H,{width:"110px"},y.default.createElement(_.FormattedMessage,{id:"effectManager.date"})),y.default.createElement(H,{width:"110px"},y.default.createElement(_.FormattedMessage,{id:"effectManager.time"}))),y.default.createElement(L,{hidden:U,marginBottom:16},y.default.createElement(A,{onClick:F,"data-for":"pick-time-button","data-tip":!0},y.default.createElement(k.LocationMarker,{height:"16px"}),y.default.createElement(x.Tooltip,{id:"pick-time-button",effect:"solid",place:"top",delayShow:500},y.default.createElement(_.FormattedMessage,{id:"effectManager.pickCurrrentTime"}))),y.default.createElement(W,null,y.default.createElement(B,null,y.default.createElement(x.StyledDatePicker,{value:p,onChange:M,minDetail:"month",formatShortWeekday:T})),y.default.createElement(z,null,y.default.createElement(k.Calendar,{width:"16px",height:"32px"}))),y.default.createElement(W,null,y.default.createElement(n,{value:v,onChange:j}),y.default.createElement(z,null,y.default.createElement(k.Clock,{width:"16px",height:"32px"})))),y.default.createElement(L,{hidden:U,marginBottom:2},y.default.createElement(H,null,y.default.createElement(_.FormattedMessage,{id:"effectManager.timezone"}))),y.default.createElement(L,{hidden:U,marginBottom:24},y.default.createElement(W,{width:"100%"},y.default.createElement(e,{selected:d,onSelect:D}),y.default.createElement(z,null,y.default.createElement(k.Globe,{width:"16px",height:"32px"})))),y.default.createElement(L,{marginBottom:16},y.default.createElement(N,{type:"radio",checked:o===O.LIGHT_AND_SHADOW_EFFECT_TIME_MODES.current,id:"effect-time-toggle-use-current-time",label:c.formatMessage({id:"effectManager.currentTime"}),onChange:function(){i({timeMode:O.LIGHT_AND_SHADOW_EFFECT_TIME_MODES.current})}})),y.default.createElement(L,{marginBottom:16},y.default.createElement(N,{type:"radio",checked:o===O.LIGHT_AND_SHADOW_EFFECT_TIME_MODES.animation,id:"effect-time-toggle-use-animation-time",label:"Animation time",onChange:function(){i({timeMode:O.LIGHT_AND_SHADOW_EFFECT_TIME_MODES.animation})}})))})))}U.deps=[j.default,D.default,F.default]},1362:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,o,i=r(n(6)),u=m(n(0)),c=m(n(5)),d=r(n(183)),f=r(n(2016)),s=m(n(2017));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function m(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}var g=c.default.div(l||(l=(0,i.default)(["\n  border: 0;\n  width: 100%;\n  left: 0;\n  z-index: ",";\n  width: 297px;\n  margin-left: -194px;\n  margin-top: 26px;\n\n  .typeahead__input {\n    border-color: ",";\n    border-radius: 4px 4px 0px 0px !important;\n  }\n  .typeahead__input_box {\n    padding: 0px;\n  }\n  .typeahead__input_icon {\n    top: 34px;\n    right: 9px;\n  }\n"])),(function(e){return e.theme.dropdownWrapperZ}),(function(e){return e.theme.activeColor})),y=c.default.div(o||(o=(0,i.default)(["\n  .item-selector .item-selector__dropdown {\n    padding: 4px 10px 4px 10px;\n    background-color: ",";\n    border-radius: ",";\n    font-size: ",";\n    border: none;\n    :hover {\n      background-color: ",";\n    }\n    .item-selector__dropdown__value {\n      color: ",";\n    }\n  }\n"])),(function(e){return e.theme.secondaryBtnBgd}),(function(e){return e.theme.primaryBtnRadius}),(function(e){return e.theme.primaryBtnFontSizeDefault}),(function(e){return e.theme.secondaryBtnBgdHover}),(function(e){return e.theme.secondaryBtnActColor})),v=function(e){return e.name},b=function(e){return e.type};function h(e,t){return(0,c.withTheme)((function(n){var r=n.options,a=n.onSelect,l=n.onBlur,o=n.onOpen,i=(0,u.useMemo)((function(){return[{type:s.DUMMY_ITEM_ID,name:s.DUMMY_ITEM_ID}]}),[]);return u.default.createElement(y,{className:"effect-config__type"},u.default.createElement(d.default,{selectedItems:i,options:r,multiSelect:!1,disabled:!1,placeholder:"effectManager.addEffect",onChange:a,onBlur:l,onOpen:o,getOptionValue:b,filterOption:"name",displayOption:v,DropDownLineItemRenderComponent:e,DropDownRenderComponent:t,DropDownWrapperComponent:g}))}))}h.deps=[s.default,f.default];var E=h;t.default=E},1363:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DragItem=void 0;var l,o=r(n(6)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),u=r(n(5)),c=n(113),d=r(n(71)),f=n(4),s=n(66),p=r(n(893)),m=n(555),g=r(n(1364)),y=r(n(1365));function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}var b=u.default.div(l||(l=(0,o.default)(["\n  color: ",";\n  border-radius: ","px;\n  padding: 5px 10px;\n  display: inline;\n"])),(function(e){return e.theme.textColorHl}),(function(e){return e.theme.radioButtonRadius}));t.DragItem=b;var h=function(){};function E(e){var t=function(t){var n=t.layer,r=t.datasets,a=n.config.dataId&&r[n.config.dataId]?r[n.config.dataId].color:null;return i.default.createElement(e,{isConfigActive:!1,layerId:n.id,isVisible:!0,isValid:!0,label:n.config.label,labelRCGColorValues:a,onToggleVisibility:h,onResetIsValid:h,onUpdateLayerLabel:h,onToggleEnableConfig:h,onDuplicateLayer:h,onRemoveLayer:h,onZoomToLayer:h,layerType:n.type,allowDuplicate:!1,isDragNDropEnabled:!1})};return(0,m.withState)([s.visStateLens],(function(e){return e}))((function(e){var n=e.children,r=e.visState,a=r.datasets,l=r.layerOrder,o=r.layers,u=r.effects,s=r.effectOrder,p=r.splitMaps,m=(0,g.default)(o,l),v=m.activeLayer,h=m.onDragStart,E=m.onDragEnd,_=(0,y.default)(u,s),C=_.onDragStart,O=_.onDragEnd,P=(0,i.useMemo)((function(){return(null==p?void 0:p.length)>1}),[p]),S=(0,i.useMemo)((function(){return P?f.DND_EMPTY_MODIFIERS:f.DND_MODIFIERS}),[P]),x=(0,i.useCallback)((function(e){var t,n,r=null===(t=e.active.data)||void 0===t||null===(n=t.current)||void 0===n?void 0:n.type;switch(r){case f.SORTABLE_LAYER_TYPE:h(e);break;case f.SORTABLE_EFFECT_TYPE:C(e);break;default:d.default.log("activeType ".concat(r," unknown"))}}),[h,C]),w=(0,i.useCallback)((function(e){var t,n,r=null===(t=e.active.data)||void 0===t||null===(n=t.current)||void 0===n?void 0:n.type;switch(r){case f.SORTABLE_LAYER_TYPE:E(e);break;case f.SORTABLE_EFFECT_TYPE:O(e);break;default:d.default.log("activeType ".concat(r," unknown"))}}),[E,O]);return i.default.createElement(c.DndContext,{onDragStart:x,onDragEnd:w,modifiers:S},n,v?i.default.createElement(c.DragOverlay,{modifiers:S,dropAnimation:null},i.default.createElement(b,null,i.default.createElement(t,{layer:v,datasets:a}))):null)}))}E.deps=[p.default];var _=E;t.default=_},1364:function(e,t,n){"use strict";var r=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(24)),l=n(0),o=n(152),i=n(20),u=n(4),c=n(66),d=function(e,t){var n=(0,o.useDispatch)(),r=(0,l.useState)(),d=(0,a.default)(r,2),f=d[0],s=d[1];return{activeLayer:f,onDragStart:(0,l.useCallback)((function(t){var r=t.active,a=e.find((function(e){return e.id===r.id}));a&&(s(a),null!=a&&a.config.isConfigActive&&n((0,i.layerConfigChange)(a,{isConfigActive:!1})))}),[n,e]),onDragEnd:(0,l.useCallback)((function(e){var r,a,l,o,d=e.active,f=e.over,p=d.id,m=null==f||null===(r=f.data)||void 0===r||null===(a=r.current)||void 0===a?void 0:a.type;if(m){switch(m){case u.DROPPABLE_MAP_CONTAINER_TYPE:var g=null!==(l=null===(o=f.data.current)||void 0===o?void 0:o.index)&&void 0!==l?l:0;n((0,i.toggleLayerForMap)(g,p));break;case u.SORTABLE_LAYER_TYPE:var y=(0,c.reorderLayerOrder)(t,p,f.id);n((0,i.reorderLayer)(y));break;case u.SORTABLE_SIDE_PANEL_TYPE:n((0,i.reorderLayer)((0,c.reorderLayerOrder)(t,p,t[t.length-1])))}s(void 0)}else s(void 0)}),[n,t])}};t.default=d},1365:function(e,t,n){"use strict";var r=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(24)),l=n(0),o=n(152),i=n(20),u=n(4),c=n(13),d=function(e,t){var n=(0,o.useDispatch)(),r=(0,l.useState)(),d=(0,a.default)(r,2),f=d[0],s=d[1];return{activeEffect:f,onDragStart:(0,l.useCallback)((function(t){var r=t.active,a=e.find((function(e){return e.id===r.id}));a&&(s(a),a.isConfigActive&&n((0,i.updateEffect)(a.id,{isConfigActive:!1})))}),[n,e]),onDragEnd:(0,l.useCallback)((function(e){var r,a,l=e.active,o=e.over,d=l.id,f=null==o||null===(r=o.data)||void 0===r||null===(a=r.current)||void 0===a?void 0:a.type;if(f){switch(f){case u.SORTABLE_EFFECT_TYPE:n((0,i.reorderEffect)((0,c.reorderEffectOrder)(t,d,o.id)));break;case u.SORTABLE_EFFECT_PANEL_TYPE:n((0,i.reorderEffect)((0,c.reorderEffectOrder)(t,d,t[t.length-1])))}s(void 0)}else s(void 0)}),[n,t])}};t.default=d},1988:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(n(8)),o=r(n(9)),i=r(n(10)),u=r(n(11)),c=r(n(12)),d=r(n(7)),f=r(n(1)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),p=n(56),m=n(41),g=r(n(553)),y=r(n(1261)),v=n(13),b=r(n(335));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function E(e){var t=function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}();return function(){var n,r=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}function _(e,t){var n=function(n){(0,u.default)(a,n);var r=E(a);function a(){var e;(0,l.default)(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e=r.call.apply(r,[this].concat(n)),(0,f.default)((0,i.default)(e),"_updateVisByField",(function(t){e.props.updateField(t)})),e}return(0,o.default)(a,[{key:"render",value:function(){var n=this.props,r=n.property,a=n.showScale,l=n.selectedField,o=n.description,i=n.label,u=n.intl,c=n.scaleOptions,d=void 0===c?[]:c;return s.default.createElement(m.SidePanelSection,null,s.default.createElement(m.SidePanelSection,null,s.default.createElement(m.PanelLabelWrapper,null,s.default.createElement(m.PanelLabel,null,i&&s.default.createElement(p.FormattedMessage,{id:i})||s.default.createElement(p.FormattedMessage,{id:"layer.propertyBasedOn",values:{property:u.formatMessage({id:"property.".concat((0,v.camelize)(r)),defaultMessage:r})}})),o&&s.default.createElement(e,{description:o,property:r,id:"".concat(this.props.id,"-").concat(r)})),s.default.createElement(t,{fields:this.props.fields,value:l&&l.name,placeholder:this.props.placeholder,onSelect:this._updateVisByField,erasable:!0})),s.default.createElement("div",null,a?s.default.createElement(y.default,{scaleType:this.props.scaleType,options:d,label:"".concat(r," scale"),onSelect:this.props.updateScale,disabled:d.length<2}):null))}}]),a}(s.Component);return(0,p.injectIntl)(n)}_.deps=[g.default,b.default];var C=_;t.default=C},1989:function(e,t,n){"use strict";var r=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,l=r(n(6)),o=r(n(0)),i=r(n(5)),u=n(19),c=i.default.div.attrs({className:"layer-error-message-content"})(a||(a=(0,l.default)(["\n  background-color: ",";\n  color: #fff;\n  display: block;\n  width: 100%;\n  font-size: 11px;\n  padding: 1em;\n  border-radius: 4px;\n"])),(function(e){return e.theme.notificationColors.error||"#000"})),d=function(e){var t=e.errorMessage;return o.default.createElement(c,null,o.default.createElement(u.FormattedMessage,{id:"layer.layerUpdateError",values:{errorMessage:t}}))};t.default=d},1993:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=r(n(8)),o=r(n(9)),i=r(n(10)),u=r(n(11)),c=r(n(12)),d=r(n(7)),f=r(n(1)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),p=n(41),m=r(n(193));function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function y(e){var t=function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}();return function(){var n,r=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var v=function(e){(0,u.default)(n,e);var t=y(n);function n(){var e;(0,l.default)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,f.default)((0,i.default)(e),"handleClickOutside",(function(t){"function"==typeof e.props.onClose&&e.props.show&&e.props.onClose(t)})),e}return(0,o.default)(n,[{key:"render",value:function(){return s.default.createElement(p.StyledPanelDropdown,{type:this.props.type,className:this.props.className},this.props.children)}}]),n}(s.Component);(0,f.default)(v,"defaultProps",{show:!0,type:"dark"});var b=(0,m.default)(v);t.default=b},1994:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,o=r(n(6)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),u=r(n(5)),c=r(n(897)),d=n(55),f=r(n(648)),s=n(13);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function m(e,t){var n=(0,u.default)(e)(l||(l=(0,o.default)(["\n    .field-selector {\n      width: 90%;\n    }\n  "]))),r=i.default.memo((function(e){var r=e.idx,a=e.datasets,l=e.allAvailableFields,o=e.filter,u=e.enlargeFilter,c=e.setFilter,f=e.removeFilter,p=e.toggleAnimation,m=(0,i.useCallback)((function(e){return c(r,"value",e)}),[r,c]),g=(0,i.useMemo)((function(){return!(0,s.isSideFilter)(o)}),[o]),y=(0,i.useMemo)((function(){return[{id:o.id,onClick:u,tooltip:"tooltip.timePlayback",iconComponent:d.Clock,active:g}]}),[o.id,g,u]),v=(0,s.getTimelineFromFilter)(o);return i.default.createElement(i.default.Fragment,null,i.default.createElement(n,{allAvailableFields:l,datasets:a,filter:o,idx:r,removeFilter:f,setFilter:c,panelActions:y},o.type&&!g&&i.default.createElement("div",{className:"filter-panel__filter"},i.default.createElement(t,{filter:o,toggleAnimation:p,setFilter:m,isAnimatable:!0,hideTimeTitle:!0,timeline:v}))))}));return r.displayName="TimeRangeFilterPanel",r}m.deps=[f.default,c.default];var g=m;t.default=g},1995:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),o=r(n(1287)),i=r(n(648));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e,t){var n=l.default.memo((function(n){var r=n.idx,a=n.datasets,o=n.allAvailableFields,i=n.filter,u=n.setFilter,c=n.removeFilter,d=(0,l.useCallback)((function(e){return u(r,"value",e)}),[r,u]);return l.default.createElement("div",{className:"single-select-filter-panel"},l.default.createElement(e,{allAvailableFields:o,datasets:a,filter:i,idx:r,removeFilter:c,setFilter:u},i.type&&l.default.createElement("div",{className:"filter-panel__filter"},l.default.createElement(t,{filter:i,setFilter:d}))))}));return n.displayName="SingleSelectFilterPanel",n}c.deps=[i.default,o.default];var d=c;t.default=d},1996:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),o=r(n(1288)),i=r(n(648));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e,t){var n=l.default.memo((function(n){var r=n.idx,a=n.datasets,o=n.allAvailableFields,i=n.filter,u=n.setFilter,c=n.removeFilter,d=(0,l.useCallback)((function(e){return u(r,"value",e)}),[r,u]);return l.default.createElement("div",{className:"multi-select-filter-panel"},l.default.createElement(e,{allAvailableFields:o,datasets:a,filter:i,idx:r,removeFilter:c,setFilter:u},i.type&&l.default.createElement("div",{className:"filter-panel__filter"},l.default.createElement(t,{filter:i,setFilter:d}))))}));return n.displayName="MultiSelectFilterPanel",n}c.deps=[i.default,o.default];var d=c;t.default=d},1997:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),o=r(n(1289)),i=r(n(648));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e,t){var n=l.default.memo((function(n){var r=n.idx,a=n.datasets,o=n.allAvailableFields,i=n.filter,u=n.removeFilter,c=n.setFilter,d=(0,l.useCallback)((function(e){return c(r,"value",e)}),[r,c]);return l.default.createElement("div",{className:"range-filter-panel"},l.default.createElement(e,{allAvailableFields:o,datasets:a,filter:i,idx:r,removeFilter:u,setFilter:c},i.type&&l.default.createElement("div",{className:"filter-panel__filter"},l.default.createElement(t,{filter:i,setFilter:d}))))}));return n.displayName="RangeFilterPanel",n}c.deps=[i.default,o.default];var d=c;t.default=d},1998:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),o=n(41),i=r(n(1999)),u=r(n(336)),c=n(55),d=r(n(647)),f=n(1290),s=r(n(81));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function m(e,t,n){var r=l.default.memo((function(r){var a=r.idx,i=r.datasets,u=r.layers,d=r.filter,p=r.removeFilter,m=r.setFilter,g=r.toggleFilterFeature,y=(0,l.useMemo)((function(){return d.dataId.map((function(e){return i[e]}))}),[d,i]),v=(0,l.useCallback)((function(e){return m(a,"layerId",e)}),[m,a]),b=(0,s.default)(d,["value","properties","isVisible"],!0),h=(0,s.default)(d,["value","geometry","type"],"Polygon");return l.default.createElement("div",{className:"polygon-filter-panel"},l.default.createElement(e,{datasets:y,filter:d,removeFilter:p},l.default.createElement(f.StyledFilterPanel,null,"Geo - ",h),l.default.createElement(n,{id:d.id,onClick:g,tooltip:b?"tooltip.hideFeature":"tooltip.showFeature",IconComponent:b?c.EyeSeen:c.EyeUnseen,active:b})),l.default.createElement(o.StyledFilterContent,{className:"filter-panel__content"},l.default.createElement("div",{className:"filter-panel__filter"},l.default.createElement(t,{filter:d,layers:u,setLayers:v}))))}));return r.displayName="PolygonFilterPanel",r}m.deps=[d.default,i.default,u.default];var g=m;t.default=g},1999:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),o=r(n(183)),i=n(4),u=n(1290);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}var d=function(){var e=l.default.memo((function(e){var t=e.filter,n=e.layers,r=e.setLayers,a=(0,l.useCallback)((function(e){return r(e.map((function(e){return e.id})))}),[r]),c=(0,l.useMemo)((function(){return n.filter((function(e){var n;return null===(n=t.layerId)||void 0===n?void 0:n.includes(e.id)}))}),[t,n]),d=(0,l.useMemo)((function(){return n.filter((function(e){return function(e){return e.type===i.LAYER_TYPES.point}(e)&&function(e,t){return-1===e.findIndex((function(e){return e.id===t}))}(c,e.id)}))}),[n,c]),f=(0,l.useCallback)((function(e,t){var n=null==e?void 0:e.toLowerCase();return t.filter((function(e){var t,r;return(null===(t=e.config)||void 0===t||null===(r=t.label)||void 0===r?void 0:r.toLowerCase().indexOf(n))>=0}))}),[]);return l.default.createElement("div",null,l.default.createElement(u.StyledFilterPanel,{htmlFor:"filter-".concat(t.id)},"Layers:"),l.default.createElement(o.default,{options:d,selectedItems:c,onChange:a,searchable:!0,searchOptions:f,multiSelect:!0,getOptionValue:function(e){return e.id},displayOption:function(e){return e.config.label},placeholder:"placeholder.selectLayer"}))}));return e.displayName="PolygonFilter",e};t.default=d},2e3:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,o=r(n(1)),i=r(n(24)),u=r(n(6)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),d=r(n(5)),f=r(n(268)),s=r(n(447)),p=r(n(1293)),m=r(n(1294)),g=n(41),y=n(55),v=n(19);function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=d.default.div(l||(l=(0,u.default)(["\n  padding-bottom: 6px;\n"])));O.deps=[m.default,p.default,s.default];var C={tooltip:y.Messages,geocoder:y.Pin,brush:y.Crosshairs,coordinate:y.CursorClick};function O(e,t,n){return function(n){var r=n.config,a=n.onConfigChange,l=n.datasets,u=n.setColumnDisplayFormat,d=n.interactionConfigIcons,s=void 0===d?C:d,p=(0,c.useState)(!1),m=(0,i.default)(p,2),y=m[0],b=m[1],h=(0,c.useCallback)((function(e){a(E(E({},r),e))}),[a,r]),O=(0,c.useCallback)((function(e,t,n){u(e,(0,o.default)({},t,n))}),[u]),P=(0,c.useCallback)((function(){b(!y)}),[b,y]),S=r.enabled,x=(0,c.useCallback)((function(){h({enabled:!S})}),[h,S]),w=(0,c.useCallback)((function(e){return h({config:e})}),[h]),M=s[r.id],k=null;switch(r.id){case"tooltip":k=c.default.createElement(e,{datasets:l,config:r.config,onChange:w,onDisplayFormatChange:O});break;case"brush":k=c.default.createElement(t,{config:r.config,onChange:w})}return c.default.createElement(_,{className:"interaction-panel"},c.default.createElement(g.StyledPanelHeader,{className:"interaction-panel__header",onClick:P},c.default.createElement(g.PanelHeaderContent,{className:"interaction-panel__header__content"},c.default.createElement("div",{className:"interaction-panel__header__icon icon"},M?c.default.createElement(M,{height:"16px"}):null),c.default.createElement("div",{className:"interaction-panel__header__title"},c.default.createElement(g.PanelHeaderTitle,null,c.default.createElement(v.FormattedMessage,{id:r.label})))),c.default.createElement("div",{className:"interaction-panel__header__actions"},c.default.createElement(f.default,{checked:r.enabled,id:"".concat(r.id,"-toggle"),onChange:x,secondary:!0}))),r.enabled&&k&&c.default.createElement(g.PanelContent,{className:"interaction-panel__content"},k))}}var P=O;t.default=P},2001:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,o,i,u,c,d,f,s=r(n(14)),p=r(n(8)),m=r(n(9)),g=r(n(10)),y=r(n(11)),v=r(n(12)),b=r(n(7)),h=r(n(1)),E=r(n(18)),_=r(n(6)),C=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),O=r(n(5)),P=r(n(25)),S=n(35),x=n(888),w=n(55),M=r(n(301)),k=n(19),j=n(13),D=r(n(193)),F=r(n(898));function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){(0,h.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e){var t=function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}();return function(){var n,r=(0,b.default)(e);if(t){var a=(0,b.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,v.default)(this,n)}}var N=O.default.div(l||(l=(0,_.default)(["\n  position: relative;\n"]))),R=O.default.div(o||(o=(0,_.default)(["\n  margin-right: 4px;\n"]))),B=O.default.div(i||(i=(0,_.default)(["\n  margin-left: -64px;\n  position: absolute;\n  top: 20px;\n  width: 140px;\n  z-index: 101;\n"]))),W="SHOW",z="ACTIVE",H=O.default.div.attrs({className:"tooltip-chicklet__icon"})(u||(u=(0,_.default)(["\n  color: ",";\n"])),(function(e){return e.status===W?e.theme.subtextColorActive:e.status===z?e.theme.activeColor:e.theme.textColor})),V=O.default.div(c||(c=(0,_.default)(["\n  transition: ",";\n  transform: ",";\n  &.sorting {\n    opacity: 0.3;\n    pointer-events: none;\n  }\n  :hover {\n    .tooltip-chicklet__drag-handler {\n      opacity: 1;\n    }\n  }\n"])),(function(e){return e.transition}),(function(e){return e.transform})),G=O.default.div.attrs({className:"tooltip-chicklet__drag-handler"})(d||(d=(0,_.default)(["\n  display: flex;\n  align-items: center;\n  z-index: 1000;\n  opacity: 0;\n  margin-left: -5px;\n  :hover {\n    cursor: move;\n    color: ",";\n  }\n"])),(function(e){return e.theme.tooltipVerticalLineColor})),U=O.default.span(f||(f=(0,_.default)(["\n  margin-right: 5px;\n  text-overflow: ellipsis;\n  width: 100%;\n  overflow: hidden;\n  max-width: 160px;\n"])));var Y=function(e,t,n,r,a){var l=function(l){(0,y.default)(i,l);var o=A(i);function i(){var e;(0,p.default)(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=o.call.apply(o,[this].concat(n)),(0,h.default)((0,g.default)(e),"state",{show:!1}),(0,h.default)((0,g.default)(e),"node",void 0),(0,h.default)((0,g.default)(e),"handleClickOutside",(function(t){var n;null===(n=e.node)||void 0===n||n.contains(t.target)})),e}return(0,m.default)(i,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside,!1)}},{key:"render",value:function(){var l=this,o=this.props,i=o.disabled,u=o.item,c=o.displayOption,d=o.remove,f=o.attributes,p=o.listeners,m=o.setNodeRef,g=o.transform,y=o.transition,v=o.isDragging,b=this.state.show,_=t.fieldsToShow[e].find((function(e){return e.name===u.name}));if(!_)return null;var O=r.find((function(e){return e.name===_.name}));if(!O)return null;var D=(0,j.getFormatLabels)(r,_.name),T=Boolean(O.displayFormat),L=D.findIndex((function(e){return(0,j.getFormatValue)(e)===O.displayFormat})),A=b?W:T?z:null;return C.default.createElement(V,(0,s.default)({ref:m,className:(0,P.default)("sortable-layer-items",{sorting:v}),transform:S.CSS.Translate.toString(g),transition:y||""},f),C.default.createElement(x.ChickletButton,{ref:function(e){return l.node=e}},C.default.createElement(G,p,C.default.createElement(w.VertDots,{height:"12px"})),C.default.createElement(U,{title:c(u)},c(u)),D.length>1&&C.default.createElement(N,null,C.default.createElement(F.default,{placement:"top",render:function(){return C.default.createElement("span",null,T?function(e,t){if(!t)return null;var n=e.find((function(e){return(0,j.getFormatValue)(e)===t}));return n?n.label:"object"===(0,E.default)(t)?JSON.stringify(t,null,2):String(t)}(D,O.displayName):C.default.createElement(k.FormattedMessage,{id:"fieldSelector.formatting"}))}},C.default.createElement(R,null,C.default.createElement(H,{status:A},C.default.createElement(w.Hash,{height:"8px",onClick:function(e){e.stopPropagation(),l.setState({show:Boolean(!b)})}})))),b&&C.default.createElement(B,null,C.default.createElement(M.default,{options:D,selectionIndex:L,displayOption:function(e){return e.label},onOptionSelected:function(r,o){o.stopPropagation(),l.setState({show:!1});var i=(0,j.getFormatValue)(r),u=t.fieldsToShow[e].map((function(e){return e.name===_.name?{name:_.name,format:i}:e})),c=I(I({},t),{},{fieldsToShow:I(I({},t.fieldsToShow),{},(0,h.default)({},e,u))});n(c),a(e,O.name,i)}}))),C.default.createElement(w.Delete,{onClick:i?null:d})))}}]),i}(C.Component);return(0,D.default)(l)};t.default=Y},2002:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,o,i=r(n(1)),u=r(n(6)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),d=r(n(5)),f=n(19),s=n(13),p=r(n(1298)),m=n(41);function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=d.default.div(l||(l=(0,u.default)(["\n  margin-bottom: 10px;\n  display: flex;\n  justify-content: space-between;\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n\n  .layer-group__visibility-toggle {\n    margin-right: 12px;\n  }\n"]))),h=(0,d.default)(m.PanelLabelBold)(o||(o=(0,u.default)(["\n  color: ",";\n"])),(function(e){return e.active?e.theme.textColor:e.theme.labelColor}));function E(e){return function(t){var n=t.PanelHeaderAction,r=t.onChange,a=t.slug,l=t.layers,o=t.topLayers,u=t.actionIcons,d=t.color,p=t.onColorChange,g=t.isVisibilityToggleAvailable,y=void 0===g||g,E=t.isMoveToTopAvailable,_=void 0===E||E,C=t.isColorPickerAvailable,O=void 0!==C&&C,P=(0,c.useCallback)((function(){r({visibleLayerGroups:v(v({},l),{},(0,i.default)({},a,!l[a]))})}),[r,l,a]),S=(0,c.useCallback)((function(){r({topLayerGroups:v(v({},o),{},(0,i.default)({},a,!o[a]))})}),[r,o,a]);return c.default.createElement(b,{className:"layer-group__select"},y?c.default.createElement(m.PanelLabelWrapper,null,c.default.createElement(n,{className:"layer-group__visibility-toggle",id:"".concat(a,"-toggle"),tooltip:l[a]?"tooltip.hide":"tooltip.show",onClick:P,IconComponent:l[a]?u.visible:u.hidden,active:l[a],flush:!0}),c.default.createElement(h,{active:l[a]},c.default.createElement(f.FormattedMessage,{id:"mapLayers.".concat((0,s.camelize)(a))}))):c.default.createElement(m.CenterFlexbox,null,c.default.createElement(h,{style:{marginLeft:"28px"},active:!0},c.default.createElement(f.FormattedMessage,{id:"mapLayers.".concat((0,s.camelize)(a))}))),c.default.createElement(m.CenterFlexbox,{className:"layer-group__trailing-actions"},O&&d?c.default.createElement(e,{slug:a,color:d,onColorChange:p,extraMarginRight:_,disabled:y&&!l[a]}):null,_?c.default.createElement(n,{id:"".concat(a,"-top"),tooltip:"tooltip.moveToTop",disabled:!l[a],IconComponent:u.top,active:o[a],onClick:S}):null))}}E.deps=[p.default];var _=E;t.default=_},2003:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.OverwriteMapModal=void 0;var l,o,i,u,c=r(n(1)),d=r(n(6)),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),s=r(n(5)),p=n(41),m=n(651),g=n(19),y=r(n(907)),v=n(388),b=n(650);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,c.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C=s.default.div(l||(l=(0,d.default)(["\n  margin-top: 24px;\n  font-size: 14px;\n"]))),O=s.default.span(o||(o=(0,d.default)(["\n  font-weight: 600;\n  color: black;\n"]))),P=s.default.div(i||(i=(0,d.default)(["\n  margin-top: 24px;\n"]))),S=(0,s.default)(p.CenterVerticalFlexbox)(u||(u=(0,d.default)(["\n  padding: 24px 12px;\n  min-height: 220px;\n"]))),x={large:!0,children:"Yes",disabled:!1},w=function(){return function(e){var t=e.mapSaved,n=e.title,r=e.isProviderLoading,a=e.onUpdateImageSetting,l=e.cleanupExportImage,o=e.onCancel,i=e.onConfirm,u=(0,v.useCloudListProvider)().provider,c=(0,f.useMemo)((function(){return _(_({},x),{},{disabled:!u})}),[u]);return f.default.createElement(y.default,{provider:u,onUpdateImageSetting:a,cleanupExportImage:l},f.default.createElement(S,{className:"overwrite-map-modal"},r?f.default.createElement(C,null,f.default.createElement(O,null,f.default.createElement(g.FormattedMessage,{id:"modal.overwriteMap.title"})),f.default.createElement(m.UploadAnimation,{icon:u&&u.icon})):f.default.createElement(f.default.Fragment,null,f.default.createElement(P,null,u&&u.icon?f.default.createElement(u.icon,{height:"64px"}):null),f.default.createElement(C,{className:"overwrite-map-msg"},f.default.createElement(O,null,n," "),f.default.createElement(g.FormattedMessage,{id:"modal.overwriteMap.alreadyExists",values:{mapSaved:t}})))),f.default.createElement(b.ModalFooter,{cancel:o,confirm:function(){return u&&i(u)},confirmButton:c}))}},M=w();t.OverwriteMapModal=M;var k=w;t.default=k},2004:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var u=l?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(r,o,u):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),o=r(n(1319));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}var u=(0,r(n(906)).default)(),c=function(e){var t=e.error,n=(0,l.useMemo)((function(){return{type:"error",message:t,id:"cloud-export-error"}}),[t]);return l.default.createElement(o.default,null,l.default.createElement(u,{notification:n,isExpanded:!0}))};t.default=c},2006:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.CloudHeader=void 0;var l,o,i,u=r(n(6)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),d=n(41),f=n(55),s=n(19),p=r(n(5)),m=n(4);function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}var y=p.default.div(l||(l=(0,u.default)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 16px;\n  font-size: 12px;\n  line-height: 14px;\n"]))),v=p.default.a(o||(o=(0,u.default)(["\n  margin-bottom: 16px;\n  color: #3a414c;\n  cursor: pointer;\n\n  &:hover {\n    font-weight: 500;\n  }\n"]))),b={textDecoration:"underline"},h=p.default.span(i||(i=(0,u.default)(["\n  font-size: 14px;\n  line-height: 16px;\n  font-weight: 500;\n  margin-bottom: 16px;\n\n  span {\n    text-transform: capitalize;\n  }\n"])));t.CloudHeader=function(e){var t=e.provider,n=e.onBack,r=(0,c.useMemo)((function(){return t.getManagementUrl()}),[t]);return c.default.createElement("div",{"data-testid":m.dataTestIds.cloudHeader},c.default.createElement(y,null,c.default.createElement(v,null,c.default.createElement(d.Button,{link:!0,onClick:n},c.default.createElement(f.ArrowLeft,{height:"14px"}),c.default.createElement(s.FormattedMessage,{id:"modal.loadStorageMap.back"}))),r&&c.default.createElement("a",{key:1,href:r,target:"_blank",rel:"noopener noreferrer",style:b},t.displayName)),c.default.createElement(h,null,c.default.createElement("span",null,t.displayName),c.default.createElement(s.FormattedMessage,{id:"modal.loadStorageMap.storageMaps"})))}},2007:function(e,t,n){"use strict";var r=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.CloudMaps=void 0;var a,l,o=r(n(6)),i=r(n(0)),u=r(n(5)),c=r(n(909)),d=n(19),f=n(2008),s=n(911),p=u.default.div(a||(a=(0,o.default)(["\n  text-align: center;\n  span {\n    margin: 0 auto;\n  }\n"]))),m=(0,u.default)(s.FlexContainer)(l||(l=(0,o.default)(["\n  justify-content: flex-start;\n  flex-wrap: wrap;\n"])));t.CloudMaps=function(e){var t=e.provider,n=e.onSelectMap,r=e.isLoading,a=e.maps,l=e.error;return l?i.default.createElement("div",null,"Error while fetching maps: ",l.message):r?i.default.createElement(p,null,i.default.createElement(c.default,{size:64})):i.default.createElement(m,null,(null!=a?a:[]).length?a.map((function(e){return i.default.createElement(f.CloudItem,{key:e.id,onClick:function(){return n(t,e)},vis:e})})):i.default.createElement("div",{className:"visualization-list__message"},i.default.createElement(d.FormattedMessage,{id:"modal.loadStorageMap.noSavedMaps"})))}},2008:function(e,t,n){"use strict";var r=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.CloudItem=void 0;var a,l=r(n(6)),o=r(n(28)),i=r(n(0)),u=r(n(5)),c=n(55),d=function(e){return i.default.createElement("div",e,e.children,i.default.createElement(c.Base,{height:"32px",viewBox:"0 0 16 16"},i.default.createElement("path",{fill:"#d3d8d6",d:"m13.6 11.572-3.2 2.1336v-9.2776l3.2-2.1336zm-12-7.144 3.2-2.1336v9.2776l-3.2 2.1336zm13.244 8.2376c0.2224-0.148 0.356-0.3984 0.356-0.6656v-11.2c0-0.2952-0.1624-0.5664-0.4224-0.7048-0.26-0.14-0.576-0.1248-0.8216 0.0392l-4.3128 2.876-3.5432-2.8352c-0.1208-0.0936-0.2952-0.1624-0.472-0.1688-0.1648-0.0064-0.348 0.0464-0.472 0.128l-4.8 3.2c-0.2224 0.1488-0.356 0.3984-0.356 0.6656v11.2c0 0.2952 0.1624 0.5664 0.4224 0.7056 0.1184 0.0632 0.248 0.0944 0.3776 0.0944 0.1552 0 0.3096-0.0448 0.444-0.1344l4.3128-2.876 3.5432 2.8352c0.1448 0.116 0.3216 0.1752 0.5 0.1752 0.1184 0 0.236-0.0248 0.3464-0.0784z"})))},f=function(e){var t=e.privateMap;return i.default.createElement("span",{className:"vis_item-privacy"},t?"Private":"Public")},s=u.default.div(a||(a=(0,l.default)(["\n  flex: 0 0 auto;\n  width: 208px;\n  display: flex;\n  flex-direction: column;\n  padding: 16px 8px;\n  color: #3a414c;\n  cursor: pointer;\n  font-size: 12px;\n  line-height: 18px;\n  border: 1px solid transparent;\n\n  &:hover {\n    .vis_item-icon,\n    .vis_item-thumb,\n    .vis_item-description,\n    .vis_item-modification-date {\n      opacity: 1;\n    }\n    border: 1px solid #bbbbbb;\n  }\n\n  .vis_item-icon,\n  .vis_item-thumb,\n  .vis_item-description,\n  .vis_item-modification-date {\n    opacity: 0.9;\n    transition: opacity 0.4s ease;\n  }\n\n  .vis_item-icon {\n    position: relative;\n    flex: 0 0 108px;\n    background-color: #6a7484;\n    border-radius: 4px;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n  }\n\n  .vis_item-thumb {\n    position: relative;\n    flex: 0 0 108px;\n    background-size: cover;\n    background-position: center;\n    border-radius: 4px;\n  }\n\n  .vis_item-privacy {\n    position: absolute;\n    top: 0;\n    left: 0;\n    padding: 3px 6px;\n    border-radius: 4px 0;\n    background-color: rgba(58, 65, 76, 0.7);\n    color: #fff;\n    font-size: 11px;\n    line-height: 18px;\n  }\n\n  .vis_item-title {\n    margin-top: 16px;\n    font-weight: 500;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n\n  .vis_item-description {\n    flex: 1 1 auto;\n    margin-top: 8px;\n  }\n\n  .vis_item-modification-date {\n    margin-top: 16px;\n    flex: 1 0 auto;\n    color: #6a7484;\n    line-height: 15px;\n  }\n"])));t.CloudItem=function(e){var t,n=e.vis,r=e.onClick,a={backgroundImage:"url(".concat(n.thumbnail,")")};return i.default.createElement(s,{onClick:r},n.thumbnail?i.default.createElement("div",{role:"thumbnail-wrapper",className:"vis_item-thumb",style:a},n.hasOwnProperty("privateMap")?i.default.createElement(f,{privateMap:n.privateMap}):null):i.default.createElement(d,{role:"map-icon",className:"vis_item-icon"},n.hasOwnProperty("privateMap")?i.default.createElement(f,{privateMap:n.privateMap}):null),i.default.createElement("span",{className:"vis_item-title"},n.title),(null===(t=n.description)||void 0===t?void 0:t.length)&&i.default.createElement("span",{className:"vis_item-description"},n.description),i.default.createElement("span",{className:"vis_item-modification-date"},"Last modified ",o.default.utc(n.updatedAt).fromNow()))}},2010:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,o=r(n(8)),i=r(n(9)),u=r(n(10)),c=r(n(11)),d=r(n(12)),f=r(n(7)),s=r(n(1)),p=r(n(6)),m=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),g=r(n(5)),y=r(n(25)),v=r(n(2)),b=n(4),h=r(n(2011)),E=r(n(1360));function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function C(e){var t=function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}();return function(){var n,r=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,d.default)(this,n)}}var O=g.default.div(l||(l=(0,p.default)(["\n  font-size: 12px;\n  border-radius: 1px;\n  z-index: 1000;\n  &.dragging {\n    cursor: move;\n  }\n  margin: 3px auto 3px 25px;\n  max-width: 295px;\n"])));function P(e,t){var n=function(n){(0,c.default)(a,n);var r=C(a);function a(){var e;(0,o.default)(this,a);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return e=r.call.apply(r,[this].concat(n)),(0,s.default)((0,u.default)(e),"_toggleEnabled",(function(t){null==t||t.stopPropagation(),e.props.updateEffect(e.props.effect.id,{isEnabled:!e.props.effect.isEnabled})})),(0,s.default)((0,u.default)(e),"_toggleConfigActive",(function(t){null==t||t.stopPropagation(),e.props.updateEffect(e.props.effect.id,{isConfigActive:!e.props.effect.isConfigActive})})),(0,s.default)((0,u.default)(e),"_removeEffect",(function(t){null==t||t.stopPropagation(),e.props.removeEffect(e.props.effect.id)})),(0,s.default)((0,u.default)(e),"_updateEffectConfig",(function(t,n,r){null==t||t.stopPropagation(),e.props.updateEffect(n,r)})),e}return(0,i.default)(a,[{key:"render",value:function(){var n=this.props,r=n.effect,a=n.isDraggable,l=n.listeners,o=r.id,i=r.type,u=r.isConfigActive,c=r.isJsonEditorActive,d=r.isEnabled,f=i!==b.LIGHT_AND_SHADOW_EFFECT.type;return m.default.createElement(O,{active:!1,className:(0,y.default)("effect-panel",this.props.className),"data-testid":b.dataTestIds.effectPanel,style:this.props.style,onMouseDown:this.props.onMouseDown,onTouchStart:this.props.onTouchStart},m.default.createElement(e,{isConfigActive:u,effectId:o,type:i,isEnabled:d,isJsonEditorActive:c,onToggleEnabled:this._toggleEnabled,onRemoveEffect:this._removeEffect,onToggleEnableConfig:this._toggleConfigActive,isDragNDropEnabled:a&&f,listeners:l,showSortHandle:i!==b.LIGHT_AND_SHADOW_EFFECT.type}),u&&m.default.createElement(t,{key:"effect-configurator-".concat(o),effect:r,updateEffectConfig:this._updateEffectConfig}))}}]),a}(m.Component);return(0,s.default)(n,"propTypes",{effect:v.default.object.isRequired,removeEffect:v.default.func.isRequired,updateEffect:v.default.func.isRequired,isDraggable:v.default.bool}),n}P.deps=[h.default,E.default];var S=P;t.default=S},2011:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.EffectPanelHeaderActionSectionFactory=F,t.defaultProps=t.default=void 0;var l,o,i,u,c,d,f,s,p=r(n(14)),m=r(n(6)),g=r(n(1)),y=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),v=r(n(25)),b=r(n(5)),h=n(4),E=r(n(336)),_=n(55),C=n(41);function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}var P={isDragNDropEnabled:!0};t.defaultProps=P;var S={remove:_.Trash,visible:_.EyeSeen,hidden:_.EyeUnseen,enableConfig:_.ArrowDown,disableConfig:_.ArrowUp},x=(l={},(0,g.default)(l,h.LIGHT_AND_SHADOW_EFFECT.type,_.LightAndShadowEffectIcon),(0,g.default)(l,h.POSTPROCESSING_EFFECTS.ink.type,_.InkEffectIcon),(0,g.default)(l,h.POSTPROCESSING_EFFECTS.brightnessContrast.type,_.BrightnessContrastEffectIcon),(0,g.default)(l,h.POSTPROCESSING_EFFECTS.hueSaturation.type,_.HueSaturationEffectIcon),(0,g.default)(l,h.POSTPROCESSING_EFFECTS.vibrance.type,_.VibranceEffectIcon),(0,g.default)(l,h.POSTPROCESSING_EFFECTS.sepia.type,_.SepiaEffectIcon),(0,g.default)(l,h.POSTPROCESSING_EFFECTS.dotScreen.type,_.DotScreenEffectIcon),(0,g.default)(l,h.POSTPROCESSING_EFFECTS.colorHalftone.type,_.ColorHalftoneEffectIcon),(0,g.default)(l,h.POSTPROCESSING_EFFECTS.noise.type,_.NoiseEffectIcon),(0,g.default)(l,h.POSTPROCESSING_EFFECTS.triangleBlur.type,_.TriangleBlurEffectIcon),(0,g.default)(l,h.POSTPROCESSING_EFFECTS.zoomBlur.type,_.ZoomBlurEffectIcon),(0,g.default)(l,h.POSTPROCESSING_EFFECTS.tiltShift.type,_.TiltShiftEffectIcon),(0,g.default)(l,h.POSTPROCESSING_EFFECTS.edgeWork.type,_.EdgeWorkEffectIcon),(0,g.default)(l,h.POSTPROCESSING_EFFECTS.vignette.type,_.VignetteEffectIcon),(0,g.default)(l,h.POSTPROCESSING_EFFECTS.magnify.type,_.MagnifyEffectIcon),(0,g.default)(l,h.POSTPROCESSING_EFFECTS.hexagonalPixelate.type,_.HexagonalPixelateEffectIcon),l),w=(0,b.default)(C.StyledPanelHeader)(o||(o=(0,m.default)(["\n  height: ","px;\n  position: relative;\n  align-items: stretch;\n\n  .effect__drag-handle {\n    margin-left: -5px;\n    color: ",";\n  }\n\n  .effect__drag-handle__placeholder {\n    height: 20px;\n    padding: 0px;\n    margin: 10px 10px 10px 5px;\n  }\n\n  :hover {\n    cursor: pointer;\n    background-color: ",";\n    .effect__drag-handle {\n      opacity: 1;\n    }\n  }\n\n  border-left: 3px solid ",";\n"])),(function(e){return e.theme.effectPanelHeaderHeight}),(function(e){return e.theme.textColor}),(function(e){return e.theme.panelBackgroundHover}),(function(e){return e.theme.panelBackgroundHover})),M=b.default.div(i||(i=(0,m.default)(["\n  display: flex;\n  position: absolute;\n  height: 100%;\n  align-items: stretch;\n  right: 10px;\n  :hover {\n    .effect-panel__header__actions__hidden {\n      opacity: 1;\n      background-color: ",";\n    }\n  }\n"])),(function(e){return e.theme.panelBackgroundHover})),k=b.default.div.attrs({className:"effect-panel__header__actions__hidden"})(u||(u=(0,m.default)(["\n  opacity: 0;\n  display: flex;\n  align-items: center;\n  transition: opacity 0.4s ease, background-color 0.4s ease;\n  background-color: ",";\n\n  :hover {\n    opacity: 1;\n  }\n"])),(function(e){return e.isConfigActive?e.theme.panelBackgroundHover:e.theme.panelBackground})),j=b.default.div(c||(c=(0,m.default)(["\n  display: flex;\n  align-items: center;\n  opacity: 0;\n  z-index: 1000;\n  :hover {\n    cursor: move;\n    opacity: 1;\n    color: ",";\n  }\n"])),(function(e){return e.theme.textColorHl})),D=function(e){var t=e.className,n=e.listeners,r=e.children;return y.default.createElement(j,(0,p.default)({className:t},n),r)};function F(e){return function(t){var n=t.effectId,r=t.isEnabled,a=t.isConfigActive,l=t.onToggleEnabled,o=t.onRemoveEffect,i=t.onToggleEnableConfig,u=t.actionItems,c=t.actionIcons,d=void 0===c?S:c,f=(0,y.useMemo)((function(){return null!=u?u:[{key:"remove-effect",isHidden:!0,tooltip:"tooltip.removeEffect",tooltipType:"error",onClick:o,icon:d.remove},{key:"visibility-toggle",tooltip:r?"tooltip.disableEffect":"tooltip.enabledEffect",onClick:l,icon:r?d.visible:d.hidden},{key:"enable-config",classNames:{"is-open":a},tooltip:"tooltip.effectSettings",onClick:i,icon:d.enableConfig}]}),[u,r,o,l,d]);return y.default.createElement(M,{className:"effect-panel__header__actions"},y.default.createElement(k,{isConfigActive:a},f.filter((function(e){return Boolean(e.isHidden)})).map((function(t,r){return y.default.createElement(e,{key:t.key,className:"effect__".concat(t.key),testId:"".concat(t.key,"-action"),id:n,tooltip:t.tooltip,onClick:t.onClick,tooltipType:t.tooltipType,IconComponent:t.icon})}))),f.filter((function(e){return!e.isHidden})).map((function(t,r){return y.default.createElement(e,{key:t.key,className:(0,v.default)("effect__".concat(t.key),t.classNames),testId:"".concat(t.key,"-action"),id:n,tooltip:t.tooltip,onClick:t.onClick,tooltipType:t.tooltipType,IconComponent:t.icon})})))}}F.deps=[E.default];var T=b.default.div(d||(d=(0,m.default)(["\n  margin-left: 8px;\n  flex-grow: 1;\n  align-items: center;\n  display: flex;\n  color: ",";\n"])),(function(e){return e.theme.textColor})),L=b.default.div(f||(f=(0,m.default)(["\n  width: 20px;\n  height: 20px;\n"]))),I=b.default.div(s||(s=(0,m.default)(["\n  height: 18px;\n  margin: auto;\n  color: ",";\n"])),(function(e){return e.theme.textColor}));function A(e){var t=function(t){var n=t.isConfigActive,r=t.isDragNDropEnabled,a=t.type,l=t.onToggleEnableConfig,o=t.listeners,i=t.showSortHandle,u=void 0===i||i,c=(0,y.useMemo)((function(){var e=h.EFFECT_DESCRIPTIONS.find((function(e){return e.type===a}));return(null==e?void 0:e.name)||"Effect"}),[a]),d=x[a];return y.default.createElement(w,{className:(0,v.default)("effect-panel__header",{"sort--handle":!n}),active:n,onClick:l},r?y.default.createElement(D,{className:"effect__drag-handle",listeners:o},u?y.default.createElement(_.VertDots,{height:"20px"}):y.default.createElement(L,null)):y.default.createElement("div",{className:"effect__drag-handle__placeholder"}),y.default.createElement(I,null,d?y.default.createElement(d,{height:"18px"}):null),y.default.createElement(T,null,c),y.default.createElement(e,t))};return t.defaultProps=P,t}A.deps=[F];var N=A;t.default=N},2012:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,o=r(n(6)),i=p(n(0)),u=r(n(109)),c=p(n(5)),d=n(4),f=r(n(183));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}var m=function(e){return(null==e?void 0:e.name)||d.DEFAULT_TIMEZONE},g=(0,c.default)(f.default)(l||(l=(0,o.default)(["\n  .item-selector__dropdown {\n    padding-left: 30px;\n    border-radius: 4px;\n  }\n  .active {\n    border-color: ",";\n    border-radius: 4px 4px 0px 0px !important;\n  }\n"])),(function(e){return e.theme.activeColor})),y=u.default.tz.names().map((function(e){return{name:e}}));var v=function(){return(0,c.withTheme)((function(e){var t=e.selected,n=e.options,r=void 0===n?y:n,a=e.onSelect,l=(0,i.useMemo)((function(){return t?[{name:t}]:[]}),[t]);return i.default.createElement(g,{selectedItems:l,options:r,multiSelect:!1,disabled:!1,placeholder:"effectManager.timezone",onChange:a,filterOption:"name",getOptionValue:m,displayOption:m,searchable:!0,showArrow:!0})}))};t.default=v},2013:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=I,t.getUIBlocks=L;var l,o,i,u,c,d,f,s,p=r(n(1)),m=r(n(6)),g=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),y=r(n(5)),v=r(n(267)),b=n(55);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,p.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C=y.default.div(l||(l=(0,m.default)(["\n  width: 100%;\n  height: 48px;\n"]))),O=y.default.div(o||(o=(0,m.default)(["\n  width: 100%;\n  height: 32px;\n  display: flex;\n  position: relative;\n  align-items: center;\n\n  .day {\n    background-color: ",";\n  }\n  .night {\n    background-color: ",";\n  }\n  .sunrise,\n  .sunset {\n    background-color: ",";\n  }\n  .inline_icon__day {\n    color: ",";\n  }\n  .inline_icon__night {\n    color: ",";\n  }\n"])),(function(e){return e.theme.effectPanelElementColorHovered}),(function(e){return e.theme.effectPanelElementColor}),(function(e){return e.theme.effectPanelElementColorActive}),(function(e){return e.theme.effectPanelElementColorSun}),(function(e){return e.theme.effectPanelTextSecondary2})),P=y.default.div(i||(i=(0,m.default)(["\n  position: relative;\n  height: 16px;\n  .bottom_icon__sunrise,\n  .bottom_icon__sunset {\n    color: ",";\n  }\n"])),(function(e){return e.theme.effectPanelTextSecondary2})),S=y.default.div(u||(u=(0,m.default)(["\n  margin: 0px;\n  padding: 0px;\n  width: ",";\n  height: 24px;\n  pointer-events: none;\n"])),(function(e){return e.width})),x=y.default.div(c||(c=(0,m.default)(["\n  position: absolute;\n  top: 0px;\n  left: calc(","% - 8px);\n  height: 32px;\n  pointer-events: none;\n"])),(function(e){return e.left})),w=y.default.div(d||(d=(0,m.default)(["\n  position: absolute;\n  top: 0px;\n  left: calc(","% - 27px);\n  height: 12px;\n  pointer-events: none;\n  margin-top: 1px;\n  display: flex;\n  align-items: flex-end;\n"])),(function(e){return e.left})),M=y.default.div(f||(f=(0,m.default)(["\n  position: absolute;\n  width: 100%;\n  .kg-slider {\n    padding-left: 6px;\n  }\n  .kg-range-slider {\n    padding: 0px !important;\n    background-color: transparent;\n  }\n  .kg-range-slider__bar {\n    background-color: transparent;\n  }\n  .kg-range-slider__handle {\n    height: 32px;\n    width: 8px;\n    margin-top: -14px;\n    align-items: center;\n    display: flex;\n    justify-content: center;\n  }\n  .kg-range-slider__handle::after {\n    margin-left: 1px;\n  }\n  .kg-range-slider__input {\n    height: 32px;\n    text-align: center;\n    padding: 3px 6px;\n  }\n"]))),k=y.default.div(s||(s=(0,m.default)(["\n  margin-left: 3px;\n  font-size: 10px;\n  line-height: 11px;\n  white-space: nowrap;\n"]))),j="sunrise",D="day",F="sunset",T="night";function L(e){var t=e.dawn,n=e.sunrise,r=e.sunset,a=e.dusk;t>n&&(n+=1),t>r&&(r+=1),t>a&&(a+=1);var l=[];[{start:t,end:n,type:j,width:0,center:0},{start:n,end:r,type:D,width:0,center:0},{start:r,end:a,type:F,width:0,center:0},{start:a,end:t,type:T,width:0,center:0}].forEach((function(e){e.start>e.end&&(e.end+=1),e.start>1&&e.end>1?l.push(_(_({},e),{},{start:e.start-1,end:e.end-1})):e.end>1?(l.push(_(_({},e),{},{end:1})),l.push(_(_({},e),{},{start:0,end:e.end-1}))):l.push(e)})),l.sort((function(e,t){return e.start-t.start}));var o={};return l.forEach((function(t){if(t.width=100*(t.end-t.start),t.center=100*t.start+t.width/2,(t.type===D||t.type===T)&&t.width>5&&(t.TopRowIcon=t.type===D?b.Sun:b.Moon),(t.type===j||t.type===F)&&t.width>.1){var n=o[t.type];if(n)if(n.width<t.width)n.BottomRowIcon=null;else if(n.width>t.width)return;o[t.type]=t,t.BottomRowIcon=t.type===j?b.Sunrise:b.Sunset,t.center>90?t.center=90:t.center<10&&(t.center=10),t.text=t.type===j?e.sunriseTime:e.sunsetTime}})),l}function I(e){return function(t){var n=t.value,r=t.onChange,a=t.config,l=(0,g.useMemo)((function(){return L(a)}),[a]),o=(0,g.useMemo)((function(){return{label:"value",value1:n,step:.001,range:[0,1],value0:0,onChange:r,showInput:!1,isRanged:!1}}),[n,r]);return g.default.createElement(C,null,g.default.createElement(O,null,l.map((function(e,t){return g.default.createElement(S,{key:t,width:"".concat(e.width,"%"),className:e.type})})),l.map((function(e,t){return e.TopRowIcon?g.default.createElement(x,{key:t,left:e.center,className:"inline_icon__".concat(e.type)},g.default.createElement(e.TopRowIcon,{width:"16px",height:"32px"})):null})),g.default.createElement(M,null,g.default.createElement(e,o))),g.default.createElement(P,null,l.map((function(e,t){return e.BottomRowIcon?g.default.createElement(w,{key:t,left:e.center,className:"bottom_icon__".concat(e.type)},g.default.createElement(e.BottomRowIcon,{width:"12px",height:"12px"}),g.default.createElement(k,null,e.text)):null}))))}}I.deps=[v.default]},2014:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,o,i,u,c=r(n(6)),d=b(n(0)),f=b(n(5)),s=r(n(25)),p=r(n(109)),m=r(n(183)),g=n(41),y=n(301);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}var h=f.default.div(l||(l=(0,c.default)(["\n  .item-selector {\n    background-color: transparent;\n  }\n  .item-selector .item-selector__dropdown {\n    padding: 0px;\n    width: 110px;\n    height: 30px;\n  }\n  border: 1px solid ",";\n  border-radius: 4px;\n  :hover {\n    border: 1px solid ",";\n  }\n  .active {\n    border: 1px solid ",";\n    border-radius: 4px 4px 0px 0px;\n  }\n"])),(function(e){return e.theme.inputBgd}),(function(e){return e.theme.inputBgdHover}),(function(e){return e.theme.activeColor})),E=f.default.div(o||(o=(0,c.default)(["\n  color: ",";\n  font-size: ",";\n  height: 13px;\n  display: flex;\n  align-items: center;\n"])),(function(e){return e.theme.effectPanelTextMain}),(function(e){return e.theme.inputFontSize})),_=f.default.div(i||(i=(0,c.default)(["\n  ",";\n  background-color: ",";\n  display: flex;\n  flex-wrap: wrap;\n  padding: 0px;\n  max-height: 160px;\n  border-radius: 0px 0px 4px 4px;\n"])),(function(e){return e.theme.dropdownList}),(function(e){return e.theme.inputBgdHover})),C=f.default.div(u||(u=(0,c.default)(["\n  padding: 10px 5px 9px 10px;\n  width: 100%;\n  :hover {\n    background-color: ",";\n    cursor: pointer;\n  }\n"])),(function(e){return e.theme.effectPanelElementColorSelected})),O=function(){var e=(0,p.default)().utcOffset(0);e.set({hour:12,minute:0,second:0,millisecond:0});for(var t=[],n=0;n<48;n++)t.push({name:e.format("hh:mm A"),id:e.format("HH:mm")}),e.add(30,"minutes");return t}(),P=function(e){return e.name},S=function(e){return e.id},x=function(e){var t=e.value;return"HEADER_ITEM_ID"===(null==t?void 0:t.id)?d.default.createElement(g.StyledTimePicker,{value:t.value,onChange:t.onChange,onClick:t.onClick,disableClock:!0,format:"hh:mm a"}):d.default.createElement(E,null,t.name)},w=function(e){var t=e.onOptionSelected,n=e.options,r=e.selectionIndex,a=e.customListItemComponent,l=(0,d.useCallback)((function(e,n){e.preventDefault(),t(n)}),[t]),o=a;return d.default.createElement(_,{className:y.classList.list},n.map((function(e,t){return d.default.createElement(C,{className:(0,s.default)("effect-type-selector__item",{hover:r===t}),key:"".concat(e.id,"_").concat(t),onMouseDown:function(t){return l(t,e)},onClick:function(t){return l(t,e)}},d.default.createElement(o,{value:e}))})))};function M(){return(0,f.withTheme)((function(e){var t=e.value,n=e.onChange,r=(0,d.useMemo)((function(){return[{id:"HEADER_ITEM_ID",value:t,onChange:n,onClick:function(e){var t,n=null==e||null===(t=e.target)||void 0===t?void 0:t.name;"hour12"!==n&&"minute"!==n&&"amPm"!==n||e.stopPropagation()}}]}),[t,n]);return d.default.createElement(h,null,d.default.createElement(m.default,{selectedItems:r,options:O,multiSelect:!1,searchable:!1,placeholder:"",filterOption:"name",onChange:n,getOptionValue:S,displayOption:P,DropDownLineItemRenderComponent:x,DropDownRenderComponent:w}))}))}M.deps=[];var k=M;t.default=k},2015:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.StyledPanelDropdown=void 0;var l,o,i,u,c=r(n(24)),d=r(n(6)),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),s=r(n(5)),p=n(13),m=n(270),g=n(41);function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}var v=s.default.div(l||(l=(0,d.default)(["\n  ","\n  background-color: ",";\n  box-shadow: ",";\n  border-radius: ",";\n  overflow-y: auto;\n  max-height: 500px;\n  position: relative;\n  z-index: 999;\n  width: 220px;\n"])),(function(e){return e.theme.panelDropdownScrollBar}),(function(e){return e.theme.panelBackground}),(function(e){return e.theme.panelBoxShadow}),(function(e){return e.theme.panelBorderRadius}));t.StyledPanelDropdown=v;var b=s.default.div(o||(o=(0,d.default)(["\n  display: flex;\n  flex-direction: column;\n"]))),h=s.default.div(i||(i=(0,d.default)(["\n  font-size: ",";\n  color: ",";\n  margin-bottom: 8px;\n"])),(function(e){return e.theme.inputFontSize}),(function(e){return e.theme.effectPanelTextSecondary2})),E=s.default.div(u||(u=(0,d.default)(["\n  align-self: flex-start;\n  .button {\n    color: ",";\n    display: flex;\n    gap: 5px;\n    border: none;\n    transition: background 0.2s;\n    background-color: ",";\n    padding: 8px 5px 8px 10px;\n    &:active {\n      color: ",";\n      background-color: ",";\n    }\n    &:hover {\n      color: ",";\n      background-color: ",";\n    }\n    & > svg {\n      margin-right: 0;\n    }\n  }\n"])),(function(e){return e.theme.effectPanelTextSecondary2}),(function(e){return e.theme.inputBgd}),(function(e){return e.theme.effectPanelTextMain}),(function(e){return e.theme.inputBgdHover}),(function(e){return e.theme.effectPanelTextMain}),(function(e){return e.theme.inputBgdHover})),_={top:0,left:0},C=function(e){var t=e.isOpened,n=e.onClose,r=e.selectedColor,a=e.onSelectColor,l=e.offset,o=void 0===l?_:l,i=(0,f.useCallback)((function(e){a(e)}),[a]);return f.default.createElement(m.Portaled,{top:o.top,left:o.left,isOpened:t,onClose:n},f.default.createElement(v,null,f.default.createElement(m.SingleColorPalette,{selectedColor:r,onSelectColor:i})))},O=function(e){var t=e.color,n=e.onSetColor,r=e.Icon,a=e.label,l=f.default.useState(!1),o=(0,c.default)(l,2),i=o[0],u=o[1],d=(0,f.useMemo)((function(){return(0,p.rgbToHex)(t)}),[t]),s=(0,f.useMemo)((function(){return{width:16,height:16,backgroundColor:d,borderRadius:2}}),[d]),m=(0,f.useCallback)((function(){u(!i)}),[i,u]),y=(0,f.useCallback)((function(){u(!1)}),[u]);return f.default.createElement(b,null,f.default.createElement(h,null,a),f.default.createElement(E,null,f.default.createElement(g.Button,{onClick:m},f.default.createElement("div",{style:s}),f.default.createElement(r,null))),f.default.createElement(C,{isOpened:i,onClose:y,selectedColor:d,onSelectColor:n}))};t.default=O},2016:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.EffectTypeDropdownListFactory=g,t.default=void 0;var l,o,i=r(n(6)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),c=r(n(5)),d=r(n(25)),f=n(301);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}var p=c.default.div(l||(l=(0,i.default)(["\n  ",";\n  background-color: ",";\n  display: flex;\n  flex-wrap: wrap;\n  align-items: stretch;\n  padding: 24px 0 12px 0;\n  max-height: 430px;\n  justify-content: center;\n"])),(function(e){return e.theme.dropdownList}),(function(e){return e.theme.dropdownListBgd})),m=c.default.div(o||(o=(0,i.default)(["\n  margin: 0px 4px 8px 4px;\n\n  &.disabled {\n    pointer-events: none;\n    opacity: 0.3;\n  }\n\n  :hover {\n    cursor: pointer;\n    .effect-type-selector__item__label {\n      color: ",";\n    }\n  }\n"])),(function(e){return e.theme.effectPanelTextMain}));function g(){return function(e){var t=e.onOptionSelected,n=e.options,r=e.selectedItems,a=e.selectionIndex,l=e.customListItemComponent,o=(0,u.useCallback)((function(e,n){e.preventDefault(),t(n)}),[t]),i=l;return u.default.createElement(p,{className:f.classList.list},n.map((function(e,t){return u.default.createElement(m,{className:(0,d.default)("effect-type-selector__item",{selected:r.find((function(t){return t.type===e.type})),hover:a===t,disabled:e.disabled}),key:"".concat(e.type,"_").concat(t),onMouseDown:function(t){return o(t,e)},onClick:function(t){return o(t,e)}},u.default.createElement(i,{value:e,isTile:!0}))})))}}var y=g;t.default=y},2017:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.DUMMY_ITEM_ID=void 0,t.EffectTypeListItemFactory=h,t.default=void 0;var l,o,i,u=r(n(6)),c=r(n(0)),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(5)),f=r(n(25)),s=n(4),p=n(19),m=n(55);function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}t.DUMMY_ITEM_ID="dummy";var y=d.default.div(l||(l=(0,u.default)(["\n  border-radius: 2px;\n  height: 89px;\n  transition: background-color 0.4s;\n\n  :hover {\n    background-color: ",";\n  }\n\n  .effect-type-selector__item__icon {\n    display: flex;\n    background-image: url(",");\n    background-size: ","px\n      ","px;\n    height: ","px;\n    width: ","px;\n    border-radius: 2px;\n\n    .effect-preview {\n      height: ","px;\n      width: ","px;\n    }\n  }\n\n  .effect-type-selector__item__label {\n    text-transform: capitalize;\n    font-size: 10px;\n    text-align: center;\n    color: ",";\n    max-width: ","px;\n    line-height: 14px;\n    padding-top: 2px;\n  }\n"])),(function(e){return e.theme.effectTypeIconBgHoverColor}),"".concat(s.KEPLER_UNFOLDED_BUCKET,"/images/kepler.gl-layer-icon-bg.png"),(function(e){return e.theme.effectTypeIconSizeL}),(function(e){return e.theme.effectTypeIconSizeL}),(function(e){return e.theme.effectTypeIconSizeL}),(function(e){return e.theme.effectTypeIconSizeL}),(function(e){return e.theme.effectTypeIconSizeL}),(function(e){return e.theme.effectTypeIconSizeL}),(function(e){return e.theme.effectPanelTextMain}),(function(e){return e.theme.effectTypeIconSizeL})),v=(0,d.default)(m.Add)(o||(o=(0,u.default)(["\n  margin-right: 8px;\n  height: 16px;\n"]))),b=d.default.div(i||(i=(0,u.default)(["\n  align-items: center;\n  display: flex;\n  justify-content: space-between;\n  margin-left: 3px;\n  margin-right: 3px;\n  letter-spacing: 0.3px;\n  font-family: ",";\n  font-weight: 500;\n"])),(function(e){return e.theme.effectPanelAddEffectFontFamily}));function h(){return(0,d.withTheme)((function(e){var t,n,r=e.value,a=e.isTile,l=e.className;return"dummy"===(null==r?void 0:r.type)?c.default.createElement(b,null,c.default.createElement(v,null),c.default.createElement(p.FormattedMessage,{id:"effectManager.addEffect"})):c.default.createElement(y,{className:(0,f.default)("effect-type-selector__item__inner",l,{list:!a})},c.default.createElement("div",{className:"effect-type-selector__item__icon"},c.default.createElement("img",{className:"effect-preview",src:(t=r.type,n=t.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(function(e,t){return(t?"-":"")+e.toLowerCase()})),"".concat(s.KEPLER_UNFOLDED_BUCKET,"/images/effects/").concat(n,".png"))})),c.default.createElement("div",{className:"effect-type-selector__item__label"},c.default.createElement(p.FormattedMessage,{id:"effect.type.".concat(r.type),defaultMessage:r.name})))}))}var E=h;t.default=E},2018:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),o=n(55),i=n(41),u=r(n(337));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function d(e){var t={effectsIcon:o.MagicWand},n=function(n){var r,a,o=n.mapControls,u=n.onToggleMapControl,c=n.actionIcons,d=void 0===c?t:c,f=(0,l.useCallback)((function(e){e.preventDefault(),u("effect")}),[u]);if(!(null==o||null===(r=o.effect)||void 0===r?void 0:r.show))return null;var s=null==o||null===(a=o.effect)||void 0===a?void 0:a.active;return l.default.createElement(e,{id:"show-effect",message:s?"tooltip.hideEffectPanel":"tooltip.showEffectPanel"},l.default.createElement(i.MapControlButton,{className:"map-control-button toggle-effect",onClick:f,active:s},l.default.createElement(d.effectsIcon,{height:"22px"})))};return n.displayName="EffectControl",l.default.memo(n)}d.deps=[u.default]},2020:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(0),a=n(266),l=function(){return(0,r.useContext)(a.FeatureFlagsContext)};t.default=l},270:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0});var l={TimeRangeSlider:!0,RangeSlider:!0,VisConfigSlider:!0,VisConfigSwitch:!0,LayerConfigGroup:!0,LayerColumnConfig:!0,ChannelByValueSelector:!0,FieldSelector:!0,FieldToken:!0,PanelHeaderAction:!0,FieldListItemFactory:!0,LayerTypeListItem:!0,InfoHelper:!0,ColorSelector:!0,LayerColorSelector:!0,LayerColorRangeSelector:!0,ArcLayerColorSelector:!0,KeplerGlContext:!0,RootContext:!0,TimeRangeSliderFactory:!0,RangeSliderFactory:!0,VisConfigSliderFactory:!0,VisConfigSwitchFactory:!0,LayerConfigGroupFactory:!0,ConfigGroupCollapsibleContent:!0,StyledConfigGroupHeader:!0,LayerConfigGroupLabelFactory:!0,LayerColumnConfigFactory:!0,LayerTypeListItemFactory:!0,ChannelByValueSelectorFactory:!0,LayerConfiguratorFactory:!0,getLayerConfiguratorProps:!0,getLayerDataset:!0,getVisConfiguratorProps:!0,FieldListItemFactoryFactory:!0,FieldSelectorFactory:!0,FieldTokenFactory:!0,PanelHeaderActionFactory:!0,InfoHelperFactory:!0,ColorSelectorFactory:!0,ColorSelectorInput:!0,ColorBlock:!0,CustomSelector:!0,LayerColorSelectorFactory:!0,LayerColorRangeSelectorFactory:!0,ArcLayerColorSelectorFactory:!0,appInjector:!0,KeplerGl:!0,injectComponents:!0,ContainerFactory:!0,ERROR_MSG:!0,KeplerGlFactory:!0,DEFAULT_KEPLER_GL_PROPS:!0,getVisibleDatasets:!0,makeGetActionCreators:!0,mapFieldsSelector:!0,plotContainerSelector:!0,SidePanelFactory:!0,PanelTitleFactory:!0,MapContainerFactory:!0,Attribution:!0,MapsLayoutFactory:!0,BottomWidgetFactory:!0,LayerAnimationControllerFactory:!0,FilterAnimationControllerFactory:!0,ModalContainerFactory:!0,PlotContainerFactory:!0,GeocoderPanelFactory:!0,getUpdateVisDataPayload:!0,testForCoordinates:!0,PanelHeaderFactory:!0,SaveExportDropdownFactory:!0,PanelHeaderDropdownFactory:!0,CloudStorageDropdownFactory:!0,PanelAction:!0,CollapseButtonFactory:!0,SidebarFactory:!0,PanelToggleFactory:!0,PanelTabFactory:!0,LayerManagerFactory:!0,LayerBlendingSelector:!0,ColorPalette:!0,ColorRangeSelector:!0,PaletteConfig:!0,ColorPaletteGroup:!0,ALL_TYPES:!0,LayerPanelFactory:!0,SingleColorPalette:!0,TextLabelPanelFactory:!0,AddDataButtonFactory:!0,DatasetSectionFactory:!0,DatasetLayerSectionFactory:!0,DatasetLayerGroupFactory:!0,PanelViewListToggleFactory:!0,AddLayerButtonFactory:!0,LayerListFactory:!0,CustomPicker:!0,CustomPalette:!0,SourceDataCatalogFactory:!0,SourceDataSelectorFactory:!0,DatasetTitleFactory:!0,DatasetInfoFactory:!0,DatasetTagFactory:!0,FilterManagerFactory:!0,FilterPanelFactory:!0,AddFilterButtonFactory:!0,InteractionManagerFactory:!0,BrushConfigFactory:!0,TooltipConfigFactory:!0,MapManagerFactory:!0,LayerGroupSelectorFactory:!0,MapStyleSelectorFactory:!0,LayerGroupColorPickerFactory:!0,CustomPanelsFactory:!0,DndContextFactory:!0,MapPopoverFactory:!0,MapPopoverContentFactory:!0,MapControlFactory:!0,LayerHoverInfoFactory:!0,CoordinateInfoFactory:!0,LayerSelectorPanelFactory:!0,LocalePanelFactory:!0,MapControlPanelFactory:!0,MapControlTooltipFactory:!0,MapLegendFactory:!0,LayerLegendHeaderFactory:!0,LayerLegendContentFactory:!0,StyledMapControlLegend:!0,LayerColorLegend:!0,VisualChannelMetric:!0,LayerSizeLegend:!0,SingleColorLegend:!0,MapDrawPanelFactory:!0,SplitMapButtonFactory:!0,MapLegendPanelFactory:!0,Toggle3dButtonFactory:!0,LazzyTippy:!0,MapControlToolbarFactory:!0,ModalDialogFactory:!0,DeleteDatasetModalFactory:!0,DataTableModalFactory:!0,DatasetTabs:!0,DatasetModalTab:!0,LoadDataModalFactory:!0,SaveMapModalFactory:!0,StatusPanel:!0,ExportImageModalFactory:!0,ExportDataModalFactory:!0,AddMapStyleModalFactory:!0,ExportMapModalFactory:!0,ModalTabsFactory:!0,ModalTabItem:!0,LoadStorageMapFactory:!0,ExportJsonMapFactory:!0,ExportHtmlMapFactory:!0,NotificationPanelFactory:!0,NotificationItemFactory:!0,AnimationControlFactory:!0,AnimationControllerFactory:!0,PlaybackControlsFactory:!0,WindowActionControlFactory:!0,PlayControlFactory:!0,ResetControlFactory:!0,SpeedControlFactory:!0,AnimationWindowControlFactory:!0,FloatingTimeDisplayFactory:!0,AnimationSpeedSliderFactory:!0,RangePlotFactory:!0,ImagePreview:!0,HistogramPlotFactory:!0,LineChartFactory:!0,RangeBrushFactory:!0,TimeSliderMarkerFactory:!0,getTickFormat:!0,getXAxis:!0,updateAxis:!0,TimeRangeSliderTimeTitleFactory:!0,IconButton:!0,TimeWidgetFactory:!0,TimeWidgetTopFactory:!0,SingleSelectFilterFactory:!0,MultiSelectFilterFactory:!0,NewFilterPanelFactory:!0,timeRangeSliderFieldsSelector:!0,TimeRangeFilterFactory:!0,RangeFilterFactory:!0,EditorFactory:!0,FeatureActionPanelFactory:!0,PureFeatureActionPanelFactory:!0,injector:!0,provideRecipesToInjector:!0,withState:!0,CloudTile:!0,FileUploadFactory:!0,FileUpload:!0,WarningMsg:!0,FileDrop:!0,UploadButton:!0,DatasetLabel:!0,Accessor:!0,ChickletedInput:!0,ChickletButton:!0,ItemSelector:!0,StyledDropdownSelect:!0,Typeahead:!0,DropdownList:!0,ListItem:!0,dropdownListClassList:!0,Modal:!0,ModalFooter:!0,ModalTitle:!0,AppLogo:!0,Switch:!0,Checkbox:!0,ColorLegend:!0,LegendRow:!0,EffectControlFactory:!0,LoadingSpinner:!0,LoadingDialog:!0,MapViewStateContext:!0,MapViewStateContextProvider:!0,Portaled:!0,ProgressBar:!0,FileUploadProgress:!0,Slider:!0,SliderHandle:!0,SliderBarHandle:!0,ActionPanel:!0,ActionPanelItem:!0,HeaderCellFactory:!0,DataTableConfigFactory:!0,NumberFormatConfig:!0,DataTableFactory:!0,CanvasHack:!0,OptionDropdown:!0,FormatterDropdown:!0,MapLayerSelector:!0,VerticalToolbar:!0,ToolbarItem:!0,ShareMapUrlModalFactory:!0,SharingUrl:!0,TippyTooltip:!0,LayerTypeSelectorFactory:!0,LayerTypeDropdownListFactory:!0,ColumnSelectorFactory:!0,DragHandle:!0,LayerLabelEditor:!0,LayerTitleSectionFactory:!0,LayerPanelHeaderActionSectionFactory:!0,LayerPanelHeaderFactory:!0,FilterPanelHeaderFactory:!0,EffectManagerFactory:!0,EffectListFactory:!0,SidePanelTitleFactory:!0,EffectTypeSelectorFactory:!0,EffectConfiguratorFactory:!0,EffectTimeConfiguratorFactory:!0,HowToButton:!0,Icons:!0,SelectText:!0,SelectTextBold:!0,IconRoundSmall:!0,CenterFlexbox:!0,CenterVerticalFlexbox:!0,SpaceBetweenFlexbox:!0,SBFlexboxItem:!0,SBFlexboxNoMargin:!0,PanelLabel:!0,PanelLabelWrapper:!0,PanelLabelBold:!0,PanelHeaderTitle:!0,PanelHeaderContent:!0,PanelContent:!0,SidePanelSection:!0,SidePanelDivider:!0,Tooltip:!0,Button:!0,Input:!0,InputLight:!0,TextArea:!0,TextAreaLight:!0,InlineInput:!0,StyledPanelHeader:!0,StyledPanelDropdown:!0,ButtonGroup:!0,DatasetSquare:!0,SelectionButton:!0,StyledModalContent:!0,StyledModalVerticalPanel:!0,StyledModalSection:!0,StyledModalInputFootnote:!0,StyledMapContainer:!0,StyledAttrbution:!0,StyledExportSection:!0,StyledFilteredOption:!0,StyledType:!0,WidgetContainer:!0,BottomWidgetInner:!0,MapControlButton:!0,StyledFilterContent:!0,TruncatedTitleText:!0,CheckMark:!0,useFeatureFlags:!0,useDndLayers:!0,useDndEffects:!0,CloudListProvider:!0,useCloudListProvider:!0};Object.defineProperty(t,"ALL_TYPES",{enumerable:!0,get:function(){return W.ALL_TYPES}}),Object.defineProperty(t,"Accessor",{enumerable:!0,get:function(){return xt.default}}),Object.defineProperty(t,"ActionPanel",{enumerable:!0,get:function(){return Yt.default}}),Object.defineProperty(t,"ActionPanelItem",{enumerable:!0,get:function(){return Yt.ActionPanelItem}}),Object.defineProperty(t,"AddDataButtonFactory",{enumerable:!0,get:function(){return G.AddDataButtonFactory}}),Object.defineProperty(t,"AddFilterButtonFactory",{enumerable:!0,get:function(){return le.default}}),Object.defineProperty(t,"AddLayerButtonFactory",{enumerable:!0,get:function(){return X.default}}),Object.defineProperty(t,"AddMapStyleModalFactory",{enumerable:!0,get:function(){return Be.default}}),Object.defineProperty(t,"AnimationControlFactory",{enumerable:!0,get:function(){return Ke.default}}),Object.defineProperty(t,"AnimationControllerFactory",{enumerable:!0,get:function(){return Xe.default}}),Object.defineProperty(t,"AnimationSpeedSliderFactory",{enumerable:!0,get:function(){return nt.default}}),Object.defineProperty(t,"AnimationWindowControlFactory",{enumerable:!0,get:function(){return et.default}}),Object.defineProperty(t,"AppLogo",{enumerable:!0,get:function(){return Ft.default}}),t.ArcLayerColorSelector=void 0,Object.defineProperty(t,"ArcLayerColorSelectorFactory",{enumerable:!0,get:function(){return E.ArcLayerColorSelectorFactory}}),Object.defineProperty(t,"Attribution",{enumerable:!0,get:function(){return S.Attribution}}),Object.defineProperty(t,"BottomWidgetFactory",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(t,"BottomWidgetInner",{enumerable:!0,get:function(){return yn.BottomWidgetInner}}),Object.defineProperty(t,"BrushConfigFactory",{enumerable:!0,get:function(){return ie.default}}),Object.defineProperty(t,"Button",{enumerable:!0,get:function(){return yn.Button}}),Object.defineProperty(t,"ButtonGroup",{enumerable:!0,get:function(){return yn.ButtonGroup}}),Object.defineProperty(t,"CanvasHack",{enumerable:!0,get:function(){return qt.default}}),Object.defineProperty(t,"CenterFlexbox",{enumerable:!0,get:function(){return yn.CenterFlexbox}}),Object.defineProperty(t,"CenterVerticalFlexbox",{enumerable:!0,get:function(){return yn.CenterVerticalFlexbox}}),t.ChannelByValueSelector=void 0,Object.defineProperty(t,"ChannelByValueSelectorFactory",{enumerable:!0,get:function(){return m.ChannelByValueSelectorFactory}}),Object.defineProperty(t,"CheckMark",{enumerable:!0,get:function(){return yn.CheckMark}}),Object.defineProperty(t,"Checkbox",{enumerable:!0,get:function(){return Lt.default}}),Object.defineProperty(t,"ChickletButton",{enumerable:!0,get:function(){return wt.ChickletButton}}),Object.defineProperty(t,"ChickletedInput",{enumerable:!0,get:function(){return wt.default}}),Object.defineProperty(t,"CloudListProvider",{enumerable:!0,get:function(){return En.CloudListProvider}}),Object.defineProperty(t,"CloudStorageDropdownFactory",{enumerable:!0,get:function(){return L.CloudStorageDropdownFactory}}),Object.defineProperty(t,"CloudTile",{enumerable:!0,get:function(){return _t.default}}),Object.defineProperty(t,"CollapseButtonFactory",{enumerable:!0,get:function(){return I.CollapseButtonFactory}}),Object.defineProperty(t,"ColorBlock",{enumerable:!0,get:function(){return h.ColorBlock}}),Object.defineProperty(t,"ColorLegend",{enumerable:!0,get:function(){return It.default}}),Object.defineProperty(t,"ColorPalette",{enumerable:!0,get:function(){return B.default}}),Object.defineProperty(t,"ColorPaletteGroup",{enumerable:!0,get:function(){return W.ColorPaletteGroup}}),Object.defineProperty(t,"ColorRangeSelector",{enumerable:!0,get:function(){return W.default}}),t.ColorSelector=void 0,Object.defineProperty(t,"ColorSelectorFactory",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"ColorSelectorInput",{enumerable:!0,get:function(){return h.ColorSelectorInput}}),Object.defineProperty(t,"ColumnSelectorFactory",{enumerable:!0,get:function(){return ln.default}}),Object.defineProperty(t,"ConfigGroupCollapsibleContent",{enumerable:!0,get:function(){return f.ConfigGroupCollapsibleContent}}),Object.defineProperty(t,"ContainerFactory",{enumerable:!0,get:function(){return _.ContainerFactory}}),Object.defineProperty(t,"CoordinateInfoFactory",{enumerable:!0,get:function(){return he.default}}),Object.defineProperty(t,"CustomPalette",{enumerable:!0,get:function(){return J.default}}),Object.defineProperty(t,"CustomPanelsFactory",{enumerable:!0,get:function(){return pe.default}}),Object.defineProperty(t,"CustomPicker",{enumerable:!0,get:function(){return q.default}}),Object.defineProperty(t,"CustomSelector",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"DEFAULT_KEPLER_GL_PROPS",{enumerable:!0,get:function(){return C.DEFAULT_KEPLER_GL_PROPS}}),Object.defineProperty(t,"DataTableConfigFactory",{enumerable:!0,get:function(){return Xt.default}}),Object.defineProperty(t,"DataTableFactory",{enumerable:!0,get:function(){return Zt.default}}),Object.defineProperty(t,"DataTableModalFactory",{enumerable:!0,get:function(){return Te.default}}),Object.defineProperty(t,"DatasetInfoFactory",{enumerable:!0,get:function(){return te.default}}),Object.defineProperty(t,"DatasetLabel",{enumerable:!0,get:function(){return St.default}}),Object.defineProperty(t,"DatasetLayerGroupFactory",{enumerable:!0,get:function(){return Y.default}}),Object.defineProperty(t,"DatasetLayerSectionFactory",{enumerable:!0,get:function(){return U.default}}),Object.defineProperty(t,"DatasetModalTab",{enumerable:!0,get:function(){return Te.DatasetModalTab}}),Object.defineProperty(t,"DatasetSectionFactory",{enumerable:!0,get:function(){return G.default}}),Object.defineProperty(t,"DatasetSquare",{enumerable:!0,get:function(){return yn.DatasetSquare}}),Object.defineProperty(t,"DatasetTabs",{enumerable:!0,get:function(){return Te.DatasetTabs}}),Object.defineProperty(t,"DatasetTagFactory",{enumerable:!0,get:function(){return ne.default}}),Object.defineProperty(t,"DatasetTitleFactory",{enumerable:!0,get:function(){return ee.default}}),Object.defineProperty(t,"DeleteDatasetModalFactory",{enumerable:!0,get:function(){return Fe.default}}),Object.defineProperty(t,"DndContextFactory",{enumerable:!0,get:function(){return me.default}}),Object.defineProperty(t,"DragHandle",{enumerable:!0,get:function(){return on.DragHandle}}),Object.defineProperty(t,"DropdownList",{enumerable:!0,get:function(){return jt.default}}),Object.defineProperty(t,"ERROR_MSG",{enumerable:!0,get:function(){return _.ERROR_MSG}}),Object.defineProperty(t,"EditorFactory",{enumerable:!0,get:function(){return bt.default}}),Object.defineProperty(t,"EffectConfiguratorFactory",{enumerable:!0,get:function(){return pn.default}}),Object.defineProperty(t,"EffectControlFactory",{enumerable:!0,get:function(){return At.default}}),Object.defineProperty(t,"EffectListFactory",{enumerable:!0,get:function(){return dn.default}}),Object.defineProperty(t,"EffectManagerFactory",{enumerable:!0,get:function(){return cn.default}}),Object.defineProperty(t,"EffectTimeConfiguratorFactory",{enumerable:!0,get:function(){return mn.default}}),Object.defineProperty(t,"EffectTypeSelectorFactory",{enumerable:!0,get:function(){return sn.default}}),Object.defineProperty(t,"ExportDataModalFactory",{enumerable:!0,get:function(){return Re.default}}),Object.defineProperty(t,"ExportHtmlMapFactory",{enumerable:!0,get:function(){return Ge.default}}),Object.defineProperty(t,"ExportImageModalFactory",{enumerable:!0,get:function(){return Ne.default}}),Object.defineProperty(t,"ExportJsonMapFactory",{enumerable:!0,get:function(){return Ve.default}}),Object.defineProperty(t,"ExportMapModalFactory",{enumerable:!0,get:function(){return We.default}}),Object.defineProperty(t,"FeatureActionPanelFactory",{enumerable:!0,get:function(){return ht.default}}),t.FieldListItemFactory=void 0,Object.defineProperty(t,"FieldListItemFactoryFactory",{enumerable:!0,get:function(){return g.FieldListItemFactoryFactory}}),t.FieldSelector=void 0,Object.defineProperty(t,"FieldSelectorFactory",{enumerable:!0,get:function(){return g.default}}),t.FieldToken=void 0,Object.defineProperty(t,"FieldTokenFactory",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,"FileDrop",{enumerable:!0,get:function(){return Ot.default}}),Object.defineProperty(t,"FileUpload",{enumerable:!0,get:function(){return Ct.FileUpload}}),Object.defineProperty(t,"FileUploadFactory",{enumerable:!0,get:function(){return Ct.default}}),Object.defineProperty(t,"FileUploadProgress",{enumerable:!0,get:function(){return Ht.default}}),Object.defineProperty(t,"FilterAnimationControllerFactory",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(t,"FilterManagerFactory",{enumerable:!0,get:function(){return re.default}}),Object.defineProperty(t,"FilterPanelFactory",{enumerable:!0,get:function(){return ae.default}}),Object.defineProperty(t,"FilterPanelHeaderFactory",{enumerable:!0,get:function(){return un.default}}),Object.defineProperty(t,"FloatingTimeDisplayFactory",{enumerable:!0,get:function(){return tt.default}}),Object.defineProperty(t,"FormatterDropdown",{enumerable:!0,get:function(){return Jt.FormatterDropdown}}),Object.defineProperty(t,"GeocoderPanelFactory",{enumerable:!0,get:function(){return F.default}}),Object.defineProperty(t,"HeaderCellFactory",{enumerable:!0,get:function(){return Kt.default}}),Object.defineProperty(t,"HistogramPlotFactory",{enumerable:!0,get:function(){return lt.default}}),Object.defineProperty(t,"HowToButton",{enumerable:!0,get:function(){return gn.default}}),Object.defineProperty(t,"IconButton",{enumerable:!0,get:function(){return dt.default}}),Object.defineProperty(t,"IconRoundSmall",{enumerable:!0,get:function(){return yn.IconRoundSmall}}),Object.defineProperty(t,"Icons",{enumerable:!0,get:function(){return yn.Icons}}),Object.defineProperty(t,"ImagePreview",{enumerable:!0,get:function(){return at.default}}),t.InfoHelper=void 0,Object.defineProperty(t,"InfoHelperFactory",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(t,"InlineInput",{enumerable:!0,get:function(){return yn.InlineInput}}),Object.defineProperty(t,"Input",{enumerable:!0,get:function(){return yn.Input}}),Object.defineProperty(t,"InputLight",{enumerable:!0,get:function(){return yn.InputLight}}),Object.defineProperty(t,"InteractionManagerFactory",{enumerable:!0,get:function(){return oe.default}}),Object.defineProperty(t,"ItemSelector",{enumerable:!0,get:function(){return Mt.default}}),Object.defineProperty(t,"KeplerGl",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(t,"KeplerGlContext",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"KeplerGlFactory",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(t,"LayerAnimationControllerFactory",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(t,"LayerBlendingSelector",{enumerable:!0,get:function(){return R.LayerBlendingSelector}}),Object.defineProperty(t,"LayerColorLegend",{enumerable:!0,get:function(){return Pe.LayerColorLegend}}),t.LayerColorRangeSelector=void 0,Object.defineProperty(t,"LayerColorRangeSelectorFactory",{enumerable:!0,get:function(){return E.LayerColorRangeSelectorFactory}}),t.LayerColorSelector=void 0,Object.defineProperty(t,"LayerColorSelectorFactory",{enumerable:!0,get:function(){return E.LayerColorSelectorFactory}}),t.LayerColumnConfig=void 0,Object.defineProperty(t,"LayerColumnConfigFactory",{enumerable:!0,get:function(){return s.default}}),t.LayerConfigGroup=void 0,Object.defineProperty(t,"LayerConfigGroupFactory",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"LayerConfigGroupLabelFactory",{enumerable:!0,get:function(){return f.LayerConfigGroupLabelFactory}}),Object.defineProperty(t,"LayerConfiguratorFactory",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"LayerGroupColorPickerFactory",{enumerable:!0,get:function(){return se.default}}),Object.defineProperty(t,"LayerGroupSelectorFactory",{enumerable:!0,get:function(){return de.default}}),Object.defineProperty(t,"LayerHoverInfoFactory",{enumerable:!0,get:function(){return be.default}}),Object.defineProperty(t,"LayerLabelEditor",{enumerable:!0,get:function(){return on.LayerLabelEditor}}),Object.defineProperty(t,"LayerLegendContentFactory",{enumerable:!0,get:function(){return Pe.LayerLegendContentFactory}}),Object.defineProperty(t,"LayerLegendHeaderFactory",{enumerable:!0,get:function(){return Pe.LayerLegendHeaderFactory}}),Object.defineProperty(t,"LayerListFactory",{enumerable:!0,get:function(){return Z.default}}),Object.defineProperty(t,"LayerManagerFactory",{enumerable:!0,get:function(){return R.default}}),Object.defineProperty(t,"LayerPanelFactory",{enumerable:!0,get:function(){return z.default}}),Object.defineProperty(t,"LayerPanelHeaderActionSectionFactory",{enumerable:!0,get:function(){return on.LayerPanelHeaderActionSectionFactory}}),Object.defineProperty(t,"LayerPanelHeaderFactory",{enumerable:!0,get:function(){return on.default}}),Object.defineProperty(t,"LayerSelectorPanelFactory",{enumerable:!0,get:function(){return Ee.default}}),Object.defineProperty(t,"LayerSizeLegend",{enumerable:!0,get:function(){return Pe.LayerSizeLegend}}),Object.defineProperty(t,"LayerTitleSectionFactory",{enumerable:!0,get:function(){return on.LayerTitleSectionFactory}}),Object.defineProperty(t,"LayerTypeDropdownListFactory",{enumerable:!0,get:function(){return an.default}}),t.LayerTypeListItem=void 0,Object.defineProperty(t,"LayerTypeListItemFactory",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"LayerTypeSelectorFactory",{enumerable:!0,get:function(){return rn.default}}),Object.defineProperty(t,"LazzyTippy",{enumerable:!0,get:function(){return ke.default}}),Object.defineProperty(t,"LegendRow",{enumerable:!0,get:function(){return It.LegendRow}}),Object.defineProperty(t,"LineChartFactory",{enumerable:!0,get:function(){return ot.default}}),Object.defineProperty(t,"ListItem",{enumerable:!0,get:function(){return jt.ListItem}}),Object.defineProperty(t,"LoadDataModalFactory",{enumerable:!0,get:function(){return Le.default}}),Object.defineProperty(t,"LoadStorageMapFactory",{enumerable:!0,get:function(){return He.default}}),Object.defineProperty(t,"LoadingDialog",{enumerable:!0,get:function(){return Rt.default}}),Object.defineProperty(t,"LoadingSpinner",{enumerable:!0,get:function(){return Nt.default}}),Object.defineProperty(t,"LocalePanelFactory",{enumerable:!0,get:function(){return _e.default}}),Object.defineProperty(t,"MapContainerFactory",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(t,"MapControlButton",{enumerable:!0,get:function(){return yn.MapControlButton}}),Object.defineProperty(t,"MapControlFactory",{enumerable:!0,get:function(){return ve.default}}),Object.defineProperty(t,"MapControlPanelFactory",{enumerable:!0,get:function(){return Ce.default}}),Object.defineProperty(t,"MapControlToolbarFactory",{enumerable:!0,get:function(){return je.default}}),Object.defineProperty(t,"MapControlTooltipFactory",{enumerable:!0,get:function(){return Oe.default}}),Object.defineProperty(t,"MapDrawPanelFactory",{enumerable:!0,get:function(){return Se.default}}),Object.defineProperty(t,"MapLayerSelector",{enumerable:!0,get:function(){return $t.default}}),Object.defineProperty(t,"MapLegendFactory",{enumerable:!0,get:function(){return Pe.default}}),Object.defineProperty(t,"MapLegendPanelFactory",{enumerable:!0,get:function(){return we.default}}),Object.defineProperty(t,"MapManagerFactory",{enumerable:!0,get:function(){return ce.default}}),Object.defineProperty(t,"MapPopoverContentFactory",{enumerable:!0,get:function(){return ye.default}}),Object.defineProperty(t,"MapPopoverFactory",{enumerable:!0,get:function(){return ge.default}}),Object.defineProperty(t,"MapStyleSelectorFactory",{enumerable:!0,get:function(){return fe.default}}),Object.defineProperty(t,"MapViewStateContext",{enumerable:!0,get:function(){return Bt.MapViewStateContext}}),Object.defineProperty(t,"MapViewStateContextProvider",{enumerable:!0,get:function(){return Bt.MapViewStateContextProvider}}),Object.defineProperty(t,"MapsLayoutFactory",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(t,"Modal",{enumerable:!0,get:function(){return Dt.default}}),Object.defineProperty(t,"ModalContainerFactory",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(t,"ModalDialogFactory",{enumerable:!0,get:function(){return De.default}}),Object.defineProperty(t,"ModalFooter",{enumerable:!0,get:function(){return Dt.ModalFooter}}),Object.defineProperty(t,"ModalTabItem",{enumerable:!0,get:function(){return ze.ModalTabItem}}),Object.defineProperty(t,"ModalTabsFactory",{enumerable:!0,get:function(){return ze.default}}),Object.defineProperty(t,"ModalTitle",{enumerable:!0,get:function(){return Dt.ModalTitle}}),Object.defineProperty(t,"MultiSelectFilterFactory",{enumerable:!0,get:function(){return mt.default}}),Object.defineProperty(t,"NewFilterPanelFactory",{enumerable:!0,get:function(){return gt.default}}),Object.defineProperty(t,"NotificationItemFactory",{enumerable:!0,get:function(){return Ye.default}}),Object.defineProperty(t,"NotificationPanelFactory",{enumerable:!0,get:function(){return Ue.default}}),Object.defineProperty(t,"NumberFormatConfig",{enumerable:!0,get:function(){return Xt.NumberFormatConfig}}),Object.defineProperty(t,"OptionDropdown",{enumerable:!0,get:function(){return Jt.default}}),Object.defineProperty(t,"PaletteConfig",{enumerable:!0,get:function(){return W.PaletteConfig}}),Object.defineProperty(t,"PanelAction",{enumerable:!0,get:function(){return L.PanelAction}}),Object.defineProperty(t,"PanelContent",{enumerable:!0,get:function(){return yn.PanelContent}}),t.PanelHeaderAction=void 0,Object.defineProperty(t,"PanelHeaderActionFactory",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"PanelHeaderContent",{enumerable:!0,get:function(){return yn.PanelHeaderContent}}),Object.defineProperty(t,"PanelHeaderDropdownFactory",{enumerable:!0,get:function(){return L.PanelHeaderDropdownFactory}}),Object.defineProperty(t,"PanelHeaderFactory",{enumerable:!0,get:function(){return L.default}}),Object.defineProperty(t,"PanelHeaderTitle",{enumerable:!0,get:function(){return yn.PanelHeaderTitle}}),Object.defineProperty(t,"PanelLabel",{enumerable:!0,get:function(){return yn.PanelLabel}}),Object.defineProperty(t,"PanelLabelBold",{enumerable:!0,get:function(){return yn.PanelLabelBold}}),Object.defineProperty(t,"PanelLabelWrapper",{enumerable:!0,get:function(){return yn.PanelLabelWrapper}}),Object.defineProperty(t,"PanelTabFactory",{enumerable:!0,get:function(){return N.default}}),Object.defineProperty(t,"PanelTitleFactory",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(t,"PanelToggleFactory",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(t,"PanelViewListToggleFactory",{enumerable:!0,get:function(){return K.default}}),Object.defineProperty(t,"PlayControlFactory",{enumerable:!0,get:function(){return Je.default}}),Object.defineProperty(t,"PlaybackControlsFactory",{enumerable:!0,get:function(){return Ze.default}}),Object.defineProperty(t,"PlotContainerFactory",{enumerable:!0,get:function(){return D.default}}),Object.defineProperty(t,"Portaled",{enumerable:!0,get:function(){return Wt.default}}),Object.defineProperty(t,"ProgressBar",{enumerable:!0,get:function(){return zt.default}}),Object.defineProperty(t,"PureFeatureActionPanelFactory",{enumerable:!0,get:function(){return ht.PureFeatureActionPanelFactory}}),Object.defineProperty(t,"RangeBrushFactory",{enumerable:!0,get:function(){return it.default}}),Object.defineProperty(t,"RangeFilterFactory",{enumerable:!0,get:function(){return vt.default}}),Object.defineProperty(t,"RangePlotFactory",{enumerable:!0,get:function(){return rt.default}}),t.RangeSlider=void 0,Object.defineProperty(t,"RangeSliderFactory",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"ResetControlFactory",{enumerable:!0,get:function(){return $e.default}}),Object.defineProperty(t,"RootContext",{enumerable:!0,get:function(){return o.RootContext}}),Object.defineProperty(t,"SBFlexboxItem",{enumerable:!0,get:function(){return yn.SBFlexboxItem}}),Object.defineProperty(t,"SBFlexboxNoMargin",{enumerable:!0,get:function(){return yn.SBFlexboxNoMargin}}),Object.defineProperty(t,"SaveExportDropdownFactory",{enumerable:!0,get:function(){return L.SaveExportDropdownFactory}}),Object.defineProperty(t,"SaveMapModalFactory",{enumerable:!0,get:function(){return Ie.default}}),Object.defineProperty(t,"SelectText",{enumerable:!0,get:function(){return yn.SelectText}}),Object.defineProperty(t,"SelectTextBold",{enumerable:!0,get:function(){return yn.SelectTextBold}}),Object.defineProperty(t,"SelectionButton",{enumerable:!0,get:function(){return yn.SelectionButton}}),Object.defineProperty(t,"ShareMapUrlModalFactory",{enumerable:!0,get:function(){return tn.default}}),Object.defineProperty(t,"SharingUrl",{enumerable:!0,get:function(){return tn.SharingUrl}}),Object.defineProperty(t,"SidePanelDivider",{enumerable:!0,get:function(){return yn.SidePanelDivider}}),Object.defineProperty(t,"SidePanelFactory",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(t,"SidePanelSection",{enumerable:!0,get:function(){return yn.SidePanelSection}}),Object.defineProperty(t,"SidePanelTitleFactory",{enumerable:!0,get:function(){return fn.default}}),Object.defineProperty(t,"SidebarFactory",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(t,"SingleColorLegend",{enumerable:!0,get:function(){return Pe.SingleColorLegend}}),Object.defineProperty(t,"SingleColorPalette",{enumerable:!0,get:function(){return H.default}}),Object.defineProperty(t,"SingleSelectFilterFactory",{enumerable:!0,get:function(){return pt.default}}),Object.defineProperty(t,"Slider",{enumerable:!0,get:function(){return Vt.default}}),Object.defineProperty(t,"SliderBarHandle",{enumerable:!0,get:function(){return Ut.default}}),Object.defineProperty(t,"SliderHandle",{enumerable:!0,get:function(){return Gt.default}}),Object.defineProperty(t,"SourceDataCatalogFactory",{enumerable:!0,get:function(){return $.default}}),Object.defineProperty(t,"SourceDataSelectorFactory",{enumerable:!0,get:function(){return Q.default}}),Object.defineProperty(t,"SpaceBetweenFlexbox",{enumerable:!0,get:function(){return yn.SpaceBetweenFlexbox}}),Object.defineProperty(t,"SpeedControlFactory",{enumerable:!0,get:function(){return Qe.default}}),Object.defineProperty(t,"SplitMapButtonFactory",{enumerable:!0,get:function(){return xe.default}}),Object.defineProperty(t,"StatusPanel",{enumerable:!0,get:function(){return Ae.default}}),Object.defineProperty(t,"StyledAttrbution",{enumerable:!0,get:function(){return yn.StyledAttrbution}}),Object.defineProperty(t,"StyledConfigGroupHeader",{enumerable:!0,get:function(){return f.StyledConfigGroupHeader}}),Object.defineProperty(t,"StyledDropdownSelect",{enumerable:!0,get:function(){return Mt.default}}),Object.defineProperty(t,"StyledExportSection",{enumerable:!0,get:function(){return yn.StyledExportSection}}),Object.defineProperty(t,"StyledFilterContent",{enumerable:!0,get:function(){return yn.StyledFilterContent}}),Object.defineProperty(t,"StyledFilteredOption",{enumerable:!0,get:function(){return yn.StyledFilteredOption}}),Object.defineProperty(t,"StyledMapContainer",{enumerable:!0,get:function(){return yn.StyledMapContainer}}),Object.defineProperty(t,"StyledMapControlLegend",{enumerable:!0,get:function(){return Pe.StyledMapControlLegend}}),Object.defineProperty(t,"StyledModalContent",{enumerable:!0,get:function(){return yn.StyledModalContent}}),Object.defineProperty(t,"StyledModalInputFootnote",{enumerable:!0,get:function(){return yn.StyledModalInputFootnote}}),Object.defineProperty(t,"StyledModalSection",{enumerable:!0,get:function(){return yn.StyledModalSection}}),Object.defineProperty(t,"StyledModalVerticalPanel",{enumerable:!0,get:function(){return yn.StyledModalVerticalPanel}}),Object.defineProperty(t,"StyledPanelDropdown",{enumerable:!0,get:function(){return yn.StyledPanelDropdown}}),Object.defineProperty(t,"StyledPanelHeader",{enumerable:!0,get:function(){return yn.StyledPanelHeader}}),Object.defineProperty(t,"StyledType",{enumerable:!0,get:function(){return yn.StyledType}}),Object.defineProperty(t,"Switch",{enumerable:!0,get:function(){return Tt.default}}),Object.defineProperty(t,"TextArea",{enumerable:!0,get:function(){return yn.TextArea}}),Object.defineProperty(t,"TextAreaLight",{enumerable:!0,get:function(){return yn.TextAreaLight}}),Object.defineProperty(t,"TextLabelPanelFactory",{enumerable:!0,get:function(){return V.default}}),Object.defineProperty(t,"TimeRangeFilterFactory",{enumerable:!0,get:function(){return yt.default}}),t.TimeRangeSlider=void 0,Object.defineProperty(t,"TimeRangeSliderFactory",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"TimeRangeSliderTimeTitleFactory",{enumerable:!0,get:function(){return ct.default}}),Object.defineProperty(t,"TimeSliderMarkerFactory",{enumerable:!0,get:function(){return ut.default}}),Object.defineProperty(t,"TimeWidgetFactory",{enumerable:!0,get:function(){return ft.default}}),Object.defineProperty(t,"TimeWidgetTopFactory",{enumerable:!0,get:function(){return st.default}}),Object.defineProperty(t,"TippyTooltip",{enumerable:!0,get:function(){return nn.default}}),Object.defineProperty(t,"Toggle3dButtonFactory",{enumerable:!0,get:function(){return Me.default}}),Object.defineProperty(t,"ToolbarItem",{enumerable:!0,get:function(){return en.default}}),Object.defineProperty(t,"Tooltip",{enumerable:!0,get:function(){return yn.Tooltip}}),Object.defineProperty(t,"TooltipConfigFactory",{enumerable:!0,get:function(){return ue.default}}),Object.defineProperty(t,"TruncatedTitleText",{enumerable:!0,get:function(){return yn.TruncatedTitleText}}),Object.defineProperty(t,"Typeahead",{enumerable:!0,get:function(){return kt.default}}),Object.defineProperty(t,"UploadButton",{enumerable:!0,get:function(){return Pt.default}}),Object.defineProperty(t,"VerticalToolbar",{enumerable:!0,get:function(){return Qt.default}}),t.VisConfigSlider=void 0,Object.defineProperty(t,"VisConfigSliderFactory",{enumerable:!0,get:function(){return c.default}}),t.VisConfigSwitch=void 0,Object.defineProperty(t,"VisConfigSwitchFactory",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"VisualChannelMetric",{enumerable:!0,get:function(){return Pe.VisualChannelMetric}}),Object.defineProperty(t,"WarningMsg",{enumerable:!0,get:function(){return Ct.WarningMsg}}),Object.defineProperty(t,"WidgetContainer",{enumerable:!0,get:function(){return yn.WidgetContainer}}),Object.defineProperty(t,"WindowActionControlFactory",{enumerable:!0,get:function(){return qe.default}}),Object.defineProperty(t,"appInjector",{enumerable:!0,get:function(){return _.appInjector}}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(t,"dropdownListClassList",{enumerable:!0,get:function(){return jt.classList}}),Object.defineProperty(t,"getLayerConfiguratorProps",{enumerable:!0,get:function(){return m.getLayerConfiguratorProps}}),Object.defineProperty(t,"getLayerDataset",{enumerable:!0,get:function(){return m.getLayerDataset}}),Object.defineProperty(t,"getTickFormat",{enumerable:!0,get:function(){return ut.getTickFormat}}),Object.defineProperty(t,"getUpdateVisDataPayload",{enumerable:!0,get:function(){return F.getUpdateVisDataPayload}}),Object.defineProperty(t,"getVisConfiguratorProps",{enumerable:!0,get:function(){return m.getVisConfiguratorProps}}),Object.defineProperty(t,"getVisibleDatasets",{enumerable:!0,get:function(){return C.getVisibleDatasets}}),Object.defineProperty(t,"getXAxis",{enumerable:!0,get:function(){return ut.getXAxis}}),Object.defineProperty(t,"injectComponents",{enumerable:!0,get:function(){return _.injectComponents}}),Object.defineProperty(t,"injector",{enumerable:!0,get:function(){return Et.injector}}),Object.defineProperty(t,"makeGetActionCreators",{enumerable:!0,get:function(){return C.makeGetActionCreators}}),Object.defineProperty(t,"mapFieldsSelector",{enumerable:!0,get:function(){return C.mapFieldsSelector}}),Object.defineProperty(t,"plotContainerSelector",{enumerable:!0,get:function(){return C.plotContainerSelector}}),Object.defineProperty(t,"provideRecipesToInjector",{enumerable:!0,get:function(){return Et.provideRecipesToInjector}}),Object.defineProperty(t,"testForCoordinates",{enumerable:!0,get:function(){return T.testForCoordinates}}),Object.defineProperty(t,"timeRangeSliderFieldsSelector",{enumerable:!0,get:function(){return yt.timeRangeSliderFieldsSelector}}),Object.defineProperty(t,"updateAxis",{enumerable:!0,get:function(){return ut.updateAxis}}),Object.defineProperty(t,"useCloudListProvider",{enumerable:!0,get:function(){return En.useCloudListProvider}}),Object.defineProperty(t,"useDndEffects",{enumerable:!0,get:function(){return hn.default}}),Object.defineProperty(t,"useDndLayers",{enumerable:!0,get:function(){return bn.default}}),Object.defineProperty(t,"useFeatureFlags",{enumerable:!0,get:function(){return vn.default}}),Object.defineProperty(t,"withState",{enumerable:!0,get:function(){return Et.withState}});var o=Cn(n(266)),i=r(n(881)),u=r(n(267)),c=r(n(1255)),d=r(n(1256)),f=Cn(n(887)),s=r(n(1257)),p=r(n(1259)),m=Cn(n(1260)),g=Cn(n(335)),y=r(n(890)),v=r(n(336)),b=r(n(553)),h=Cn(n(642)),E=n(1268),_=Cn(n(1990)),C=Cn(n(1270)),O=r(n(1271)),P=r(n(447)),S=Cn(n(899)),x=r(n(903)),w=r(n(1320)),M=r(n(1324)),k=r(n(1323)),j=r(n(1325)),D=r(n(1353)),F=Cn(n(1355)),T=n(1356),L=Cn(n(1273)),I=Cn(n(1272)),A=r(n(1275)),N=r(n(1276)),R=Cn(n(1277)),B=r(n(643)),W=Cn(n(1266)),z=r(n(1278)),H=r(n(1265)),V=r(n(1264)),G=Cn(n(895)),U=r(n(1280)),Y=r(n(1279)),K=r(n(894)),X=r(n(1283)),Z=r(n(892)),q=r(n(644)),J=Cn(n(1267));Object.keys(J).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(l,e)||e in t&&t[e]===J[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return J[e]}}))}));var $=r(n(646)),Q=r(n(640)),ee=r(n(1281)),te=r(n(1282)),ne=r(n(641)),re=r(n(1285)),ae=r(n(1286)),le=r(n(1291)),oe=r(n(1292)),ie=r(n(1293)),ue=r(n(1294)),ce=r(n(1295)),de=r(n(1297)),fe=r(n(1296)),se=r(n(1298)),pe=r(n(1299)),me=r(n(1363)),ge=r(n(1301)),ye=r(n(1302)),ve=r(n(1304)),be=r(n(900)),he=r(n(1303)),Ee=r(n(1307)),_e=r(n(1315)),Ce=r(n(901)),Oe=r(n(337)),Pe=Cn(n(1310)),Se=r(n(1313)),xe=r(n(1305)),we=r(n(1309)),Me=r(n(1306)),ke=r(n(1312)),je=r(n(902)),De=r(n(1326)),Fe=r(n(1327)),Te=Cn(n(1328)),Le=r(n(1335)),Ie=r(n(1351)),Ae=r(n(651)),Ne=r(n(1345)),Re=r(n(1346)),Be=r(n(1350)),We=r(n(1347)),ze=Cn(n(1344)),He=r(n(1341)),Ve=r(n(1349)),Ge=r(n(1348)),Ue=r(n(1354)),Ye=r(n(906)),Ke=r(n(884)),Xe=r(n(904)),Ze=r(n(883)),qe=r(n(1249)),Je=r(n(1252)),$e=r(n(1251)),Qe=r(n(1253)),et=r(n(1250)),tt=r(n(885)),nt=r(n(1248)),rt=r(n(1236)),at=r(n(913)),lt=r(n(1238)),ot=r(n(1239)),it=r(n(1237)),ut=Cn(n(1243)),ct=r(n(1254)),dt=r(n(446)),ft=r(n(1321)),st=r(n(1322)),pt=r(n(1287)),mt=r(n(1288)),gt=r(n(896)),yt=Cn(n(897)),vt=r(n(1289)),bt=r(n(1316)),ht=Cn(n(1317)),Et=n(555),_t=r(n(1342)),Ct=Cn(n(1336)),Ot=r(n(1340)),Pt=r(n(1337)),St=r(n(905)),xt=r(n(639)),wt=Cn(n(888)),Mt=r(n(183)),kt=r(n(889)),jt=Cn(n(301)),Dt=Cn(n(650)),Ft=r(n(891)),Tt=r(n(268)),Lt=r(n(638)),It=Cn(n(1311)),At=r(n(2018)),Nt=r(n(910)),Rt=r(n(909)),Bt=n(649),Wt=r(n(554)),zt=r(n(1339)),Ht=r(n(1338)),Vt=r(n(882)),Gt=r(n(1240)),Ut=r(n(1242)),Yt=Cn(n(1318)),Kt=r(n(1330)),Xt=Cn(n(1334)),Zt=r(n(1329)),qt=r(n(1333)),Jt=Cn(n(908)),$t=r(n(1308)),Qt=r(n(1314)),en=r(n(645)),tn=Cn(n(1352)),nn=r(n(898)),rn=r(n(1262)),an=r(n(1263)),ln=r(n(1258)),on=Cn(n(893)),un=r(n(647)),cn=r(n(1357)),dn=r(n(1359)),fn=r(n(1358)),sn=r(n(1362)),pn=r(n(1360)),mn=r(n(1361)),gn=r(n(1269)),yn=n(2019),vn=r(n(2020)),bn=r(n(1364)),hn=r(n(1365)),En=n(388);function _n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_n=function(e){return e?n:t})(e)}function Cn(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=_n(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}var On=_.appInjector.get(i.default);t.TimeRangeSlider=On;var Pn=_.appInjector.get(u.default);t.RangeSlider=Pn;var Sn=_.appInjector.get(c.default);t.VisConfigSlider=Sn;var xn=_.appInjector.get(d.default);t.VisConfigSwitch=xn;var wn=_.appInjector.get(f.default);t.LayerConfigGroup=wn;var Mn=_.appInjector.get(s.default);t.LayerColumnConfig=Mn;var kn=_.appInjector.get(m.ChannelByValueSelectorFactory);t.ChannelByValueSelector=kn;var jn=_.appInjector.get(g.default);t.FieldSelector=jn;var Dn=_.appInjector.get(y.default);t.FieldToken=Dn;var Fn=_.appInjector.get(v.default);t.PanelHeaderAction=Fn;var Tn=_.appInjector.get(g.FieldListItemFactoryFactory);t.FieldListItemFactory=Tn;var Ln=_.appInjector.get(p.default);t.LayerTypeListItem=Ln;var In=_.appInjector.get(b.default);t.InfoHelper=In;var An=_.appInjector.get(h.default);t.ColorSelector=An;var Nn=_.appInjector.get(E.LayerColorSelectorFactory);t.LayerColorSelector=Nn;var Rn=_.appInjector.get(E.LayerColorRangeSelectorFactory);t.LayerColorRangeSelector=Rn;var Bn=_.appInjector.get(E.ArcLayerColorSelectorFactory);t.ArcLayerColorSelector=Bn},336:function(e,t,n){"use strict";var r=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=g;var a,l=r(n(1)),o=r(n(6)),i=r(n(0)),u=r(n(25)),c=r(n(5)),d=n(19),f=n(41);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,l.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=c.default.div.attrs((function(e){return{dataTestId:e.testId}}))(a||(a=(0,o.default)(["\n  margin-left: ","px;\n  display: flex;\n  align-items: center;\n  color: ",";\n\n  cursor: pointer;\n\n  :hover {\n    color: ",";\n  }\n\n  &.disabled {\n    cursor: none;\n    pointer-events: none;\n    opacity: 0.3;\n  }\n"])),(function(e){return e.flush?0:8}),(function(e){return e.active?e.theme.panelHeaderIconActive:e.theme.panelHeaderIcon}),(function(e){return e.hoverColor?e.theme[e.hoverColor]:e.theme.panelHeaderIconHover}));function g(){var e=function(e){var t=e.onClick,n=e.tooltip,r=e.id,a=e.active,o=void 0!==a&&a,c=e.flush,s=e.hoverColor,g=e.tooltipType,y=e.disabled,v=e.className,b=e.IconComponent,h=e.testId;return i.default.createElement(m,{className:(0,u.default)("panel--header__action",p({disabled:y},v?(0,l.default)({},v,!0):{})),active:o,hoverColor:s,flush:c},b?i.default.createElement(b,{className:"panel--header__action__component","data-testid":h,"data-tip":!0,"data-for":"".concat(n,"_").concat(r),height:"16px",onClick:t}):null,n?i.default.createElement(f.Tooltip,{id:"".concat(n,"_").concat(r),effect:"solid",delayShow:500,type:g},i.default.createElement("span",null,i.default.createElement(d.FormattedMessage,{id:n}))):null)},t=i.default.memo(e);return t.displayName="PanelHeaderAction",t}g.deps=[]},337:function(e,t,n){"use strict";var r=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(0)),l=n(19),o=r(n(898));var i=function(){var e=a.default.memo((function(e){var t=e.id,n=e.message,r=e.children;return a.default.createElement(o.default,{placement:"left",render:function(){return a.default.createElement("div",{id:t},a.default.createElement(l.FormattedMessage,{id:n}))}},r)}));return e.displayName="MapControlTooltip",e};t.default=i},388:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.useCloudListProvider=t.CloudListProvider=void 0;var l=r(n(24)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),i=n(266);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}t.CloudListProvider=function(e){var t=e.children,n=e.providers,r=void 0===n?[]:n,a=(0,o.useState)(null),u=(0,l.default)(a,2),c=u[0],d=u[1],f=(0,o.useRef)(r),s=(0,o.useCallback)((function(e){d(c===e?null:e)}),[c]),p=(0,o.useMemo)((function(){return{provider:c,setProvider:s,cloudProviders:f.current}}),[c,d]);return o.default.createElement(i.CloudProviderContext.Provider,{value:p},t)};t.useCloudListProvider=function(){return(0,o.useContext)(i.CloudProviderContext)}},447:function(e,t,n){"use strict";var r=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,l,o=r(n(6)),i=r(n(0)),u=r(n(5)),c=r(n(25)),d=u.default.div.attrs((function(e){return{className:(0,c.default)("panel-title",e.className)}}))(a||(a=(0,o.default)(["\n  color: ",";\n  font-size: ",";\n  line-height: ",";\n  font-weight: 400;\n  letter-spacing: 1.25px;\n"])),(function(e){return e.theme.titleTextColor}),(function(e){return e.theme.sidePanelTitleFontsize}),(function(e){return e.theme.sidePanelTitleLineHeight})),f=u.default.div.attrs({className:"layer-manager-header"})(l||(l=(0,o.default)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-top: 16px;\n  margin-bottom: 32px;\n"]))),s=function(){return function(e){var t=e.title,n=e.className,r=e.children;return i.default.createElement(f,null,i.default.createElement(d,{className:n||"panel-title"},t),r)}};t.default=s},555:function(e,t,n){"use strict";var r=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.ERROR_MSG=void 0,t.flattenDeps=v,t.injector=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,n=new Map,r=function e(r,a){var l=t.get(r);if(!l)return f.console.error(y.noDep(r,a)),g;var o=n.get(l)||l.apply(void 0,(0,i.default)(l.deps?l.deps.map((function(t){return e(t,l)})):[]));return n.set(r,o),o};return{provide:function(n,r){return b([n,r])?e(new Map(t).set(n,r)):e(t)},get:r}},t.provideRecipesToInjector=function(e,t){var n=new Map;return e.reduce((function(e,t){var r;return b(t)?(e=v([],t[1]).reduce((function(e,r){return n.get(r)&&f.console.warn("".concat(r.name," already injected from ").concat(n.get(r).name,", injecting ").concat(t[0].name," after ").concat(n.get(r).name," will override it")),e.provide(r,r)}),e),n.set(t[0],t[1]),(r=e).provide.apply(r,(0,i.default)(t))):e}),t)},t.typeCheckRecipe=b,t.withState=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(r){return(0,c.connect)((function(e){return m(m({},t(e)),{},{state:e})}),(function(e){return Object.keys(n).reduce((function(t,r){return m(m({},t),{},(0,a.default)({},r,(0,d.bindActionCreators)(n[r],e)))}),{})}))((function(t){var n=t.state,a=(0,l.default)(t,["state"]);return u.default.createElement(s.default.Consumer,null,(function(t){return u.default.createElement(r,e.reduce((function(e,r){return m(m({},e),r(t.selector(n)))}),a))}))}))}};var a=r(n(1)),l=r(n(50)),o=r(n(24)),i=r(n(21)),u=r(n(0)),c=n(152),d=n(354),f=n(31),s=r(n(266));function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g=function(){return u.default.createElement("div",null)},y={wrongRecipeType:"injectComponents takes an array of factories replacement pairs as input, each pair be a array as [originalFactory, replacement].",noDep:function(e,t){return"".concat(e.name," is required as a dependency of ").concat(t.name,", ")+"but is not provided to injectComponents. It will not be rendered."},notFunc:"factory and its replacement should be a function"};function v(e,t){var n=e.concat([t]);return Array.isArray(t.deps)&&t.deps.length?t.deps.reduce((function(e,t){return v(e,t)}),n):n}function b(e){if(!Array.isArray(e)||e.length<2)return f.console.error("Error injecting [factory, replacement]",e),f.console.error(y.wrongRecipeType),!1;var t=(0,o.default)(e,2),n=t[0],r=t[1];return"function"!=typeof n?(f.console.error("Error injecting factory: ",n),f.console.error(y.notFunc),!1):"function"==typeof r||(f.console.error("Error injecting replacement for: ",n),f.console.error(y.notFunc),!1)}t.ERROR_MSG=y;var h=function(e){return e}},640:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),o=n(41),i=r(n(183)),u=r(n(641)),c=n(19);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e){var t=function(t){var n=t.value;return l.default.createElement(e,{dataset:n})},n=function(e){var n=e.dataId,r=e.datasets,a=e.disabled,u=e.onSelect,d=e.defaultValue,f=e.inputTheme,s=(0,l.useMemo)((function(){return Object.values(r).map((function(e){return{label:e.label,value:e.id,color:e.color}}))}),[r]),p=(0,l.useMemo)((function(){return n?(Array.isArray(n)&&n||[n]).map((function(e){return r[e]})):[]}),[n,r]);return l.default.createElement(o.SidePanelSection,{className:"data-source-selector"},l.default.createElement(o.PanelLabel,null,l.default.createElement(c.FormattedMessage,{id:"misc.dataSource"})),l.default.createElement(i.default,{inputTheme:f,selectedItems:p,options:s,getOptionValue:"value",filterOption:"label",multiSelect:!1,onChange:u,placeholder:d,disabled:Boolean(a),displayOption:"label",DropDownLineItemRenderComponent:t}))};return n.defaultProps={defaultValue:"Select A Dataset"},n}f.deps=[u.default]},641:function(e,t,n){"use strict";var r=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e){var t=e.onClick,n=void 0===t?f:t,r=e.onClickSquare,a=void 0===r?f:r,l=e.dataset,o=e.updateTableColor;return i.default.createElement(s,{className:"source-data-tag"},i.default.createElement(m,{id:l.id},i.default.createElement(d.DatasetSquare,{className:"dataset-color",backgroundColor:l.color,onClick:a,"data-tip":!0,"data-for":"update-color-".concat(l.id)}),o?i.default.createElement(d.Tooltip,{id:"update-color-".concat(l.id),effect:"solid"},i.default.createElement("span",null,i.default.createElement(u.FormattedMessage,{id:"Update color"}))):null),i.default.createElement("div",{className:"dataset-name",title:l.label,onClick:n},l.label))}};var a,l,o=r(n(6)),i=r(n(0)),u=n(19),c=r(n(5)),d=n(270);function f(e){}var s=c.default.div(a||(a=(0,o.default)(["\n  display: flex;\n  color: ",";\n  font-size: 11px;\n  letter-spacing: 0.2px;\n  overflow: auto;\n\n  .dataset-color {\n    flex-shrink: 0;\n    margin-top: 3px;\n  }\n\n  .dataset-name {\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n"])),(function(e){return e.theme.textColor})),p=c.default.div(l||(l=(0,o.default)(["\n  display: flex;\n"]))),m=function(e){var t=e.children,n=e.id;return i.default.createElement(p,{className:"dataset-action update-color","data-tip":!0,"data-for":"update-color-".concat(n)},t)}},642:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.InputBoxContainer=t.ColorSelectorInput=t.ColorBlock=void 0;var l,o,i,u,c=r(n(14)),d=r(n(18)),f=r(n(21)),s=r(n(8)),p=r(n(9)),m=r(n(10)),g=r(n(11)),y=r(n(12)),v=r(n(7)),b=r(n(1)),h=r(n(6)),E=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=j(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),_=r(n(5)),C=n(56),O=n(13),P=r(n(1265)),S=r(n(1266)),x=r(n(643)),w=n(41),M=r(n(193)),k=r(n(267));function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(j=function(e){return e?n:t})(e)}function D(e){var t=function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}();return function(){var n,r=(0,v.default)(e);if(t){var a=(0,v.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,y.default)(this,n)}}var F=_.default.div(l||(l=(0,h.default)(["\n  padding: 0px 12px 12px 12px;\n"]))),T={type:"number",range:[0,1],value0:0,step:.01,isRanged:!1,label:"Opacity",showInput:!0},L=_.default.div(o||(o=(0,h.default)(["\n  width: 32px;\n  height: 18px;\n  border-radius: 1px;\n  background-color: ",";\n"])),(function(e){return Array.isArray(e.backgroundcolor)?"rgb(".concat(e.backgroundcolor.slice(0,3).join(","),")"):"transparent"}));t.ColorBlock=L;var I=_.default.div(i||(i=(0,h.default)(["\n  ",";\n  height: ",";\n\n  .color-selector__selector__label {\n    text-transform: capitalize;\n    font-size: 12px;\n    text-align: center;\n    color: ",";\n  }\n"])),(function(e){return"secondary"===e.inputTheme?e.theme.secondaryInput:e.theme.input}),(function(e){return e.theme.inputBoxHeight}),(function(e){return e.theme.inputPlaceholderColor}));t.ColorSelectorInput=I;var A=_.default.div(u||(u=(0,h.default)(["\n  display: flex;\n  justify-content: space-between;\n\n  .color-select__input-group {\n    flex-grow: 1;\n  }\n  .color-select__input-group:nth-child(2) {\n    margin-left: 12px;\n  }\n"])));function N(e){var t=function(t){(0,g.default)(r,t);var n=D(r);function r(){var e;(0,s.default)(this,r);for(var t=arguments.length,a=new Array(t),l=0;l<t;l++)a[l]=arguments[l];return e=n.call.apply(n,[this].concat(a)),(0,b.default)((0,m.default)(e),"state",{showDropdown:!1}),(0,b.default)((0,m.default)(e),"node",(0,E.createRef)()),(0,b.default)((0,m.default)(e),"handleClickOutside",(function(t){e.props.colorUI&&Number.isInteger(e.props.colorUI.showSketcher)||e._closePanelDropdown()})),(0,b.default)((0,m.default)(e),"_getEditing",(function(){return e.props.colorUI?e.props.colorUI.showDropdown:e.state.showDropdown})),(0,b.default)((0,m.default)(e),"_closePanelDropdown",(function(){!1!==e._getEditing()&&(e.props.setColorUI?e.props.setColorUI({showDropdown:!1,showSketcher:!1}):e.setState({showDropdown:!1}))})),(0,b.default)((0,m.default)(e),"_onSelectColor",(function(t,n){n.stopPropagation();var r=e._getEditing(),a="number"==typeof r&&e.props.colorSets[r];a&&e._setColor(a,t,a.selectedColor[3])})),(0,b.default)((0,m.default)(e),"_onSelectOpacity",(function(t,n){n&&n.stopPropagation();var r=e._getEditing(),a="number"==typeof r&&e.props.colorSets[r];a&&e._setColor(a,a.selectedColor,Math.round(255*t[1]))})),(0,b.default)((0,m.default)(e),"_setColor",(function(t,n,r){e.props.useOpacity&&Array.isArray(n)?t.setColor([].concat((0,f.default)(n.slice(0,3)),[r])):t.setColor(n)})),(0,b.default)((0,m.default)(e),"_showDropdown",(function(t,n){t.stopPropagation(),t.preventDefault(),e.props.setColorUI?e.props.setColorUI({showDropdown:n}):e.setState({showDropdown:n})})),e}return(0,p.default)(r,[{key:"render",value:function(){var t=this,n=this.props,r=n.colorSets,a=n.useOpacity,l=n.disabled,o=n.inputTheme,i=n.colorUI,u=this._getEditing(),f="number"==typeof u&&r[u]&&"object"===(0,d.default)(r[u]);return E.default.createElement("div",{className:"color-selector",ref:this.node},E.default.createElement(A,null,r.map((function(e,n){return E.default.createElement("div",{className:"color-select__input-group",key:n},E.default.createElement(I,{className:"color-selector__selector",active:u===n,disabled:l,inputTheme:o,onMouseDown:function(e){return t._showDropdown(e,n)}},e.isRange?E.default.createElement(x.default,{colors:e.selectedColor.colors}):E.default.createElement(L,{className:"color-selector__selector__block",backgroundcolor:e.selectedColor}),e.label?E.default.createElement("div",{className:"color-selector__selector__label"},e.label):null))}))),f?E.default.createElement(w.StyledPanelDropdown,{className:"color-selector__dropdown"},r[u].isRange?E.default.createElement(S.default,{selectedColorRange:r[u].selectedColor,onSelectColorRange:this._onSelectColor,setColorPaletteUI:this.props.setColorUI,colorPaletteUI:i}):E.default.createElement(P.default,{selectedColor:(0,O.rgbToHex)(r[u].selectedColor),onSelectColor:this._onSelectColor}),a?E.default.createElement(F,null,E.default.createElement(w.PanelLabel,null,E.default.createElement(C.FormattedMessage,{id:"color.opacity"})),E.default.createElement(e,(0,c.default)({},T,{value1:r[u].selectedColor[3]/255,onChange:this._onSelectOpacity}))):null):null)}}]),r}(E.Component);return(0,b.default)(t,"defaultProps",{colorSets:[]}),(0,M.default)(t)}t.InputBoxContainer=A,N.deps=[k.default];var R=N;t.default=R},643:function(e,t,n){"use strict";var r=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,l,o,i=r(n(6)),u=r(n(0)),c=r(n(5)),d=r(n(25)),f=c.default.div.attrs({className:"color-range-palette__inner"})(a||(a=(0,i.default)(["\n  border-radius: 2px;\n  display: flex;\n  flex-direction: row;\n  flex-grow: 1;\n  justify-content: space-between;\n  overflow: hidden;\n"]))),s=c.default.div.attrs((function(e){return{className:(0,d.default)("color-range-palette",e.className)}}))(l||(l=(0,i.default)(["\n  display: flex;\n  flex-grow: 1;\n  border-width: 1px;\n  border-style: solid;\n  border-color: ",";\n  padding: 4px;\n  border-radius: 4px;\n"])),(function(e){return e.isSelected?"#FFFFFF":"transparent"})),p=c.default.div.attrs({className:"color-range-palette__block"})(o||(o=(0,i.default)(["\n  flex-grow: 1;\n"]))),m=function(e){var t=e.colors,n=e.height,r=e.className,a=e.isSelected,l=e.isReversed;return u.default.createElement(s,{className:r,isSelected:a},u.default.createElement(f,{style:{height:n,transform:"scale(".concat(l?-1:1,", 1)")}},t.map((function(e,t){return u.default.createElement(p,{key:"".concat(e,"-").concat(t),style:{backgroundColor:String(e)}})}))))};m.defaultProps={height:10,colors:[],className:"",isSelected:!1,isReversed:!1};var g=m;t.default=g},644:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,o=r(n(8)),i=r(n(9)),u=r(n(10)),c=r(n(11)),d=r(n(12)),f=r(n(7)),s=r(n(1)),p=r(n(6)),m=E(n(0)),g=E(n(5)),y=n(932),v=r(n(193)),b=n(47);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function E(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function _(e){var t=function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}();return function(){var n,r=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,d.default)(this,n)}}var C=g.default.div(l||(l=(0,p.default)(["\n  .sketch-picker {\n    span {\n      color: "," !important;\n      font-family: ",";\n    }\n    input {\n      text-align: center;\n      font-family: ",";\n      color: "," !important;\n      border-color: "," !important;\n      box-shadow: none !important;\n      background-color: "," !important;\n    }\n  }\n"])),(function(e){return e.theme.labelColor}),(function(e){return e.theme.fontFamily}),(function(e){return e.theme.fontFamily}),(function(e){return e.theme.inputColor}),(function(e){return e.theme.secondaryInputBgd}),(function(e){return e.theme.inputBgdHover})),O=[],P=function(e){(0,c.default)(n,e);var t=_(n);function n(){var e;(0,o.default)(this,n);for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return e=t.call.apply(t,[this].concat(a)),(0,s.default)((0,u.default)(e),"themeSelector",(function(e){return e.theme})),(0,s.default)((0,u.default)(e),"pickerStyleSelector",(0,b.createSelector)(e.themeSelector,(function(e){return{picker:{width:"200px",padding:"10px 10px 8px",boxSizing:"initial",background:e.panelBackground}}}))),(0,s.default)((0,u.default)(e),"handleClickOutside",(function(t){e.props.onSwatchClose()})),e}return(0,i.default)(n,[{key:"render",value:function(){var e=this.props,t=e.color,n=e.onChange,r=this.pickerStyleSelector(this.props);return m.default.createElement(C,null,m.default.createElement(y.SketchPicker,{color:t,onChange:n,presetColors:O,styles:r,disableAlpha:!0}))}}]),n}(m.Component),S=(0,g.withTheme)((0,v.default)(P));t.default=S},646:function(e,t,n){"use strict";var r=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,l=r(n(6)),o=r(n(0)),i=r(n(5)),u=n(41),c=r(n(1281)),d=r(n(1282)),f=i.default.div(a||(a=(0,l.default)(["\n  transition: ",";\n"])),(function(e){return e.theme.transition}));function s(e,t){return function(n){var r=n.datasets,a=n.showDatasetTable,l=n.removeDataset,i=n.onTitleClick,c=n.updateTableColor,d=n.showDeleteDataset,s=void 0!==d&&d;return o.default.createElement(f,{className:"source-data-catalog"},Object.values(r).map((function(n){return o.default.createElement(u.SidePanelSection,{key:n.id},o.default.createElement(e,{showDatasetTable:a,showDeleteDataset:s,removeDataset:l,dataset:n,onTitleClick:i,updateTableColor:c}),a?o.default.createElement(t,{dataset:n}):null)})))}}s.deps=[c.default,d.default];var p=s;t.default=p},647:function(e,t,n){"use strict";var r=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.StyledFilterHeader=void 0;var a,l,o=r(n(6)),i=r(n(0)),u=r(n(5)),c=r(n(336)),d=n(55),f=n(13),s=n(41),p=(0,u.default)(s.StyledPanelHeader)(a||(a=(0,o.default)(["\n  cursor: pointer;\n  padding: 10px 12px;\n\n  .field-selector {\n    width: 100%;\n    flex: 2;\n  }\n\n  border-left: 3px solid;\n  ",";\n"])),(function(e){return e.$labelRCGColorValues&&e.$labelRCGColorValues.length>0?"border-image: ".concat((0,f.createLinearGradient)("bottom",e.$labelRCGColorValues)," 3;"):"border-color: transparent;"}));t.StyledFilterHeader=p;var m=u.default.div(l||(l=(0,o.default)(["\n  display: flex;\n  flex: 1;\n  overflow: hidden;\n"])));function g(e){var t={delete:d.Trash};return function(n){var r=n.children,a=n.datasets,l=n.filter,o=n.removeFilter,u=n.actionIcons,c=void 0===u?t:u;return i.default.createElement(p,{className:"filter-panel__header",$labelRCGColorValues:a.map((function(e){return e.color}))},i.default.createElement(m,null,r),i.default.createElement(e,{id:l.id,tooltip:"tooltip.delete",tooltipType:"error",onClick:o,hoverColor:"errorColor",IconComponent:c.delete}))}}g.deps=[c.default];var y=g;t.default=y},648:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),o=n(41),i=r(n(647)),u=r(n(336)),c=r(n(640)),d=r(n(335)),f=n(896);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function p(e,t,n,r){var a=l.default.memo((function(a){var i=a.children,u=a.allAvailableFields,c=a.datasets,d=a.filter,s=a.idx,p=a.removeFilter,m=a.setFilter,g=a.panelActions,y=void 0===g?[]:g,v=(0,l.useCallback)((function(e){return m(s,"name",e.name)}),[s,m]),b=(0,l.useCallback)((function(e){return m(s,"dataId",[e])}),[s,m]),h=(0,l.useMemo)((function(){return Array.isArray(d.name)?d.name[0]:d.name}),[d.name]),E=c[d.dataId[0]],_=(0,l.useMemo)((function(){return(0,f.getSupportedFilterFields)(E.supportedFilterTypes,u)}),[E.supportedFilterTypes,u]);return l.default.createElement(l.default.Fragment,null,l.default.createElement(e,{datasets:[E],filter:d,removeFilter:p},l.default.createElement(n,{inputTheme:"secondary",fields:_,value:h,erasable:!1,onSelect:v}),y.map((function(e){return l.default.createElement(r,{id:e.id,key:e.id,onClick:e.onClick,tooltip:e.tooltip,IconComponent:e.iconComponent,active:e.active})}))),l.default.createElement(o.StyledFilterContent,{className:"filter-panel__content"},Object.keys(c).length>1&&l.default.createElement(t,{inputTheme:"secondary",datasets:c,disabled:d.freeze,dataId:d.dataId,onSelect:b}),i))}));return a.displayName="FilterPanelWithFieldSelect",a}p.deps=[i.default,c.default,d.default,u.default];var m=p;t.default=m},649:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.MapViewStateContextProvider=t.MapViewStateContext=void 0;var l=r(n(21)),o=r(n(24)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),u=r(n(206)),c=r(n(140)),d=n(66);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}var s=(0,i.createContext)({getInternalViewState:function(){return{latitude:0,longitude:0,zoom:0}},setInternalViewState:function(e){}});t.MapViewStateContext=s;t.MapViewStateContextProvider=function(e){var t=e.mapState,n=e.children,r=t||{},a=r.isSplit,f=r.isViewportSynced,p=(0,i.useState)([t]),m=(0,o.default)(p,2),g=m[0],y=m[1];(0,i.useEffect)((function(){if(t){var e=g[0];if(e!==t){var n,r=Object.keys(e).filter((function(e){return!e.startsWith("transition")})),l=function(e,t){return!(0,u.default)((0,c.default)(e,r),(0,c.default)(t,r))};if(a&&!f)null!==(n=t.splitMapViewports)&&void 0!==n&&n.some((function(e,t){return l(e,g[t])}))&&y(t.splitMapViewports);else l(e,t)&&y([(0,d.pickViewportPropsFromMapState)(t)])}}}),[t]);var v={getInternalViewState:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return null!==(e=g[t])&&void 0!==e?e:g[0]},setInternalViewState:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;y((function(n){if(a&&!f){var r=(0,l.default)(n);return r[t]=e,r}return[e]}))}};return i.default.createElement(s.Provider,{value:v},n)}},651:function(e,t,n){"use strict";var r=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UploadAnimation=void 0;var a,l,o,i=r(n(6)),u=r(n(0)),c=r(n(5)),d=n(55),f=n(41),s=r(n(2004)),p=n(19),m=c.default.div(a||(a=(0,i.default)(["\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n"]))),g=c.default.div(l||(l=(0,i.default)(["\n  color: ",";\n  margin-right: 16px;\n  margin-top: 4px;\n"])),(function(e){return e.theme.textColorLT})),y=c.default.svg(o||(o=(0,i.default)(["\n  margin-right: 16px;\n\n  line {\n    stroke: ",";\n    stroke-width: 4;\n    stroke-linecap: square;\n    stroke-dasharray: 5 12;\n    animation: dash-animation 25s infinite linear;\n  }\n  circle {\n    fill: ",";\n  }\n\n  @keyframes dash-animation {\n    to {\n      stroke-dashoffset: -1000;\n    }\n  }\n"])),(function(e){return e.theme.selectBorderColorLT}),(function(e){return e.theme.selectBorderColorLT})),v=function(){return u.default.createElement(y,{height:"5px",width:"150px"},u.default.createElement("line",{x1:"0",y1:"4",x2:"150",y2:"4"}))},b=function(e){return u.default.createElement(m,null,u.default.createElement(g,null,u.default.createElement(d.MapIcon,{height:"48px"})),u.default.createElement(v,null),e.icon&&u.default.createElement(e.icon,{height:"64px"}))};t.UploadAnimation=b;var h=function(e){var t=e.error,n=e.isLoading,r=e.providerIcon;return u.default.createElement(f.StyledExportSection,null,u.default.createElement("div",{className:"description"},u.default.createElement("div",{className:"title"},n?u.default.createElement(p.FormattedMessage,{id:"modal.statusPanel.mapUploading"}):t?u.default.createElement(p.FormattedMessage,{id:"modal.statusPanel.error"}):null)),u.default.createElement("div",{className:"selection"},n&&u.default.createElement(b,{icon:r}),t&&u.default.createElement(s.default,{error:t})))};t.default=h},887:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigGroupCollapsibleHeader=t.ConfigGroupCollapsibleContent=void 0,t.LayerConfigGroupLabelFactory=k,t.default=t.StyledLayerConfigGroupAction=t.StyledLayerConfigGroup=t.StyledConfigGroupHeader=void 0;var l,o,i,u,c,d,f,s=r(n(1)),p=r(n(24)),m=r(n(6)),g=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),y=r(n(5)),v=r(n(25)),b=n(56),h=r(n(268)),E=r(n(553)),_=n(55);function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}var O=y.default.div(l||(l=(0,m.default)(["\n  display: flex;\n  align-items: center;\n  color: ",";\n"])),(function(e){return e.theme.textColor}));t.StyledLayerConfigGroupAction=O;var P=y.default.div.attrs({className:"layer-config-group__content__collapsible"})(o||(o=(0,m.default)(["\n  transition: max-height 0.3s ease-out;\n  height: max-content;\n  max-height: 1200px;\n  overflow: auto;\n"])));t.ConfigGroupCollapsibleContent=P;var S=y.default.div.attrs({className:"layer-config-group__header__collapsible"})(i||(i=(0,m.default)(["\n  overflow: visible;\n  overflow: hidden;\n  max-height: 0;\n"])));t.ConfigGroupCollapsibleHeader=S;var x=y.default.div(u||(u=(0,m.default)(["\n  padding-left: ","px;\n  margin-bottom: ","px;\n\n  &.disabled {\n    opacity: 0.3;\n    pointer-events: none;\n  }\n  &.collapsed {\n    .layer-config-group__header__collapsible {\n      overflow: visible;\n      max-height: 600px;\n    }\n    .layer-config-group__content {\n      .layer-config-group__content__collapsible {\n        overflow: hidden;\n        max-height: 0;\n      }\n    }\n  }\n"])),(function(e){return e.theme.layerConfigGroupPaddingLeft}),(function(e){return e.theme.layerConfigGroupMarginBottom}));t.StyledLayerConfigGroup=x;var w=y.default.div.attrs({className:"layer-config-group__header"})(c||(c=(0,m.default)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 12px;\n  cursor: default;\n\n  :hover {\n    ","\n    .layer-config-group__label {\n      color: ",";\n    }\n\n    .layer-config-group__action {\n      color: ",";\n    }\n  }\n"])),(function(e){return e.collapsible&&"cursor: pointer;"}),(function(e){return e.theme.textColorHl}),(function(e){return e.theme.textColorHl}));t.StyledConfigGroupHeader=w;var M=y.default.div(d||(d=(0,m.default)(["\n  &.disabled {\n    opacity: 0.3;\n    pointer-events: none;\n    * {\n      pointer-events: none;\n    }\n  }\n"])));function k(e){var t=y.default.div(f||(f=(0,m.default)(["\n    border-left: "," solid\n      ",";\n    line-height: 12px;\n    margin-left: ",";\n    padding-left: ",";\n\n    display: flex;\n    align-items: center;\n\n    span {\n      color: ",";\n      font-weight: 500;\n      letter-spacing: 0.2px;\n      text-transform: capitalize;\n      margin-left: ",";\n      font-size: ",";\n    }\n  "])),(function(e){return e.theme.layerConfigGroupLabelBorderLeft}),(function(e){return e.theme.labelColor}),(function(e){return e.theme.layerConfigGroupLabelMargin}),(function(e){return e.theme.layerConfigGroupLabelPadding}),(function(e){return e.theme.textColor}),(function(e){return e.theme.layerConfigGroupLabelLabelMargin}),(function(e){return e.theme.layerConfigGroupLabelLabelFontSize}));return function(n){var r=n.label,a=n.description;return g.default.createElement(t,{className:"layer-config-group__label"},g.default.createElement("span",null,g.default.createElement(b.FormattedMessage,{id:r||"misc.empty",defaultMessage:r})),a&&g.default.createElement(e,{description:a,id:r}))}}function j(e){var t=function(t){var n=t.label,r=t.children,a=t.property,l=t.layer,o=t.onChange,i=t.collapsible,u=t.description,c=t.disabled,d=t.expanded,f=t.IconComponent,m=void 0===f?_.VertThreeDots:f,y=(0,g.useState)(!d),b=(0,p.default)(y,2),E=b[0],C=b[1],P=(0,g.useCallback)((function(){i&&C(!E)}),[E,C,i]);return g.default.createElement(x,{className:(0,v.default)("layer-config-group",{collapsed:E,disabled:c})},g.default.createElement(w,{onClick:P,collapsible:i},g.default.createElement(e,{label:n,description:u,collapsed:E}),g.default.createElement(O,{className:"layer-config-group__action"},a?g.default.createElement(h.default,{checked:null==l?void 0:l.config.visConfig[a],id:"".concat(null==l?void 0:l.id,"-").concat(a),onChange:function(){return null==o?void 0:o((0,s.default)({},a,!(null!=l&&l.config.visConfig[a])))}}):null,i?g.default.createElement(m,{height:"18px"}):null)),g.default.createElement(M,{className:(0,v.default)("layer-config-group__content",{disabled:a&&!(null!=l&&l.config.visConfig[a])})},r))};return t.defaultProps={collapsible:!1,expanded:!1,onChange:function(){},description:"",disabled:!1},t}k.deps=[E.default],j.deps=[k];var D=j;t.default=D},892:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,o,i=r(n(21)),u=r(n(14)),c=r(n(1)),d=r(n(6)),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),s=r(n(5)),p=r(n(25)),m=n(154),g=n(35),y=r(n(1278)),v=n(13),b=n(4);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}var E=s.default.div(l||(l=(0,d.default)(["\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n"]))),_=s.default.div(o||(o=(0,d.default)(["\n  z-index: ",";\n  transition: ",";\n  transform: ",";\n  &.sorting {\n    opacity: 0.3;\n    pointer-events: none;\n  }\n  &.sorting-layers .layer-panel__header {\n    background-color: ",";\n    font-family: ",";\n    font-weight: ",";\n    font-size: ",";\n    line-height: ",";\n    *,\n    *:before,\n    *:after {\n      box-sizing: border-box;\n    }\n    .layer__drag-handle {\n      opacity: 1;\n      color: ",";\n    }\n  }\n"])),(function(e){return e.theme.dropdownWrapperZ+1}),(function(e){return e.transition}),(function(e){return e.transform}),(function(e){return e.theme.panelBackgroundHover}),(function(e){return e.theme.fontFamily}),(function(e){return e.theme.fontWeight}),(function(e){return e.theme.fontSize}),(function(e){return e.theme.lineHeight}),(function(e){return e.theme.textColorHl})),C=[];function O(e){var t=function(t){var n=t.layer,r=t.idx,a=t.panelProps,l=t.layerActions,o=t.disabled,i=(0,m.useSortable)({id:n.id,data:{type:b.SORTABLE_LAYER_TYPE,parent:b.SORTABLE_SIDE_PANEL_TYPE},disabled:o}),d=i.attributes,s=i.listeners,y=i.setNodeRef,v=i.isDragging,h=i.transform,E=i.transition;return f.default.createElement(_,(0,u.default)({ref:y,className:(0,p.default)((0,c.default)({},b.dataTestIds.sortableLayerItem,!o),(0,c.default)({},b.dataTestIds.staticLayerItem,o),{sorting:v}),"data-testid":o?b.dataTestIds.staticLayerItem:b.dataTestIds.sortableLayerItem,transform:g.CSS.Transform.toString(h),transition:E},d),f.default.createElement(e,(0,u.default)({},a,l,{key:n.id,idx:r,layer:n,listeners:s,isDraggable:!o})))};return function(e){var n=e.layers,r=e.datasets,a=e.layerOrder,l=e.uiStateActions,o=e.visStateActions,u=e.mapStateActions,c=e.layerClasses,d=e.isSortable,s=void 0===d||d,p=l.toggleModal,g=(0,f.useMemo)((function(){return a.reduce((function(e,t){var r=(0,v.findById)(t)(n.filter(Boolean));return r?r.config.hidden?e:[].concat((0,i.default)(e),[r]):e}),C)}),[n,a]),y=(0,f.useMemo)((function(){return g.map((function(e){return e.id}))}),[g]),h=(0,f.useMemo)((function(){return Object.keys(c).map((function(e){var t=new c[e]({dataId:""});return{id:e,label:t.name,icon:t.layerIcon,requireData:t.requireData}}))}),[c]),_=(0,f.useMemo)((function(){return{layerColorUIChange:o.layerColorUIChange,layerConfigChange:o.layerConfigChange,layerVisualChannelConfigChange:o.layerVisualChannelConfigChange,layerTypeChange:o.layerTypeChange,layerVisConfigChange:o.layerVisConfigChange,layerTextLabelChange:o.layerTextLabelChange,removeLayer:o.removeLayer,zoomToLayer:u.fitBounds,duplicateLayer:o.duplicateLayer,layerSetIsValid:o.layerSetIsValid}}),[o,u]),O=(0,f.useMemo)((function(){return{datasets:r,openModal:p,layerTypeOptions:h}}),[r,p,h]);return f.default.createElement(E,null,f.default.createElement(m.SortableContext,{id:b.SORTABLE_SIDE_PANEL_TYPE,items:y,strategy:m.verticalListSortingStrategy,disabled:!s},g.map((function(e){return f.default.createElement(t,{key:e.id,layer:e,idx:n.findIndex((function(t){return(null==t?void 0:t.id)===e.id})),panelProps:O,layerActions:_,disabled:!s})}))))}}O.deps=[y.default];var P=O;t.default=P},893:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.LayerLabelEditor=t.HeaderWarning=t.DragHandle=void 0,t.LayerPanelHeaderActionSectionFactory=N,t.LayerTitleSectionFactory=A,t.defaultProps=t.default=void 0;var l,o,i,u,c,d,f,s,p=r(n(24)),m=r(n(14)),g=r(n(6)),y=S(n(0)),v=r(n(25)),b=S(n(5)),h=r(n(336)),E=n(41),_=n(55),C=n(19),O=n(4);function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}var x={isDragNDropEnabled:!0,showRemoveLayer:!0};t.defaultProps=x;var w=function(e){return(0,b.css)(l||(l=(0,g.default)(["\n    border-top: 2px solid ",";\n    border-bottom: 2px solid ",";\n    border-right: 2px solid ",";\n  "])),(function(t){return t.theme.notificationColors[e]}),(function(t){return t.theme.notificationColors[e]}),(function(t){return t.theme.notificationColors[e]}))},M=(0,b.default)(E.StyledPanelHeader)(o||(o=(0,g.default)(["\n  height: ","px;\n  position: relative;\n  align-items: stretch;\n\n  .layer__remove-layer {\n    opacity: 0;\n  }\n\n  .layer__drag-handle__placeholder {\n    height: 20px;\n    padding: 10px;\n  }\n\n  ","\n\n  :hover {\n    cursor: pointer;\n    background-color: ",";\n\n    .layer__drag-handle {\n      opacity: 1;\n    }\n\n    .layer__remove-layer {\n      opacity: 1;\n    }\n  }\n"])),(function(e){return e.theme.layerPanelHeaderHeight}),(function(e){return e.warning?w("warning"):e.isValid?"":w("error")}),(function(e){return e.theme.panelBackgroundHover})),k=b.default.div(i||(i=(0,g.default)(["\n  display: flex;\n  color: ",";\n  flex-grow: 1;\n  align-items: stretch;\n  // leave space for eye and collapse icon\n  padding-right: 50px;\n"])),(function(e){return e.theme.textColor})),j=b.default.div(u||(u=(0,g.default)(["\n  display: flex;\n  position: absolute;\n  height: 100%;\n  align-items: stretch;\n  right: 10px;\n  pointer-events: ",";\n  :hover {\n    .layer-panel__header__actions__hidden {\n      opacity: 1;\n      background-color: ",";\n    }\n  }\n"])),(function(e){return e.isEditingLabel?"none":"all"}),(function(e){return e.theme.panelBackgroundHover})),D=b.default.div.attrs({className:"layer-panel__header__actions__hidden"})(c||(c=(0,g.default)(["\n  opacity: 0;\n  display: flex;\n  align-items: center;\n  background-color: ",";\n  transition: opacity 0.4s ease, background-color 0.4s ease;\n\n  :hover {\n    opacity: 1;\n  }\n"])),(function(e){return e.isConfigActive?e.theme.panelBackgroundHover:e.theme.panelBackground})),F=b.default.div(d||(d=(0,g.default)(["\n  display: flex;\n  align-items: center;\n  opacity: 0;\n  z-index: 1000;\n\n  :hover {\n    cursor: move;\n    opacity: 1;\n    color: ",";\n  }\n"])),(function(e){return e.theme.textColorHl})),T=function(e){var t=e.className,n=e.listeners,r=e.children;return y.default.createElement(F,(0,m.default)({className:t},n||{}),r)};t.DragHandle=T;var L=function(e){e.stopPropagation(),e.preventDefault()},I=function(e){var t=e.layerId,n=e.label,r=e.onEdit,a=e.onFocus,l=e.onBlur;return y.default.createElement(E.InlineInput,{type:"text",className:"layer__title__editor","data-testid":O.dataTestIds.layerTitleEditor,value:n,onClick:L,onChange:r,onFocus:a,onBlur:l,id:"".concat(t,":input-layer-label")})};function A(){var e=b.default.div(f||(f=(0,g.default)(["\n    margin-left: 4px;\n    flex-grow: 1;\n    align-items: center;\n    display: flex;\n    .layer__title__inner {\n      flex-grow: 1;\n    }\n\n    .layer__title__type {\n      color: ",";\n      font-size: 10px;\n      line-height: 12px;\n      letter-spacing: 0.37px;\n      text-transform: capitalize;\n    }\n  "])),(function(e){return e.theme.subtextColor}));return function(t){var n=t.layerType,r=t.layerId,a=t.label,l=t.onUpdateLayerLabel,o=t.onFocus,i=t.onBlur;return y.default.createElement(e,{className:"layer__title"},y.default.createElement("div",null,y.default.createElement(I,{layerId:r,label:a,onEdit:l,onFocus:o,onBlur:i}),y.default.createElement("div",{className:"layer__title__type"},n&&y.default.createElement(C.FormattedMessage,{id:"layer.type.".concat(n.toLowerCase())}))))}}function N(e){return function(t){var n=t.isConfigActive,r=t.allowDuplicate,a=t.isVisible,l=t.isValid,o=t.layerId,i=t.onToggleVisibility,u=t.onResetIsValid,c=t.onToggleEnableConfig,d=t.onDuplicateLayer,f=t.onRemoveLayer,s=t.onZoomToLayer,p=t.showRemoveLayer,m=t.isEditingLabel,g=t.actionIcons,b=void 0===g?W:g;return y.default.createElement(j,{className:"layer-panel__header__actions",isEditingLabel:m},y.default.createElement(D,{isConfigActive:n},p?y.default.createElement(e,{className:"layer__remove-layer",testId:"remove-layer-action",id:o,tooltip:"tooltip.removeLayer",onClick:f,tooltipType:"error",IconComponent:b.remove}):null,y.default.createElement(e,{className:"layer__duplicate",id:o,tooltip:"tooltip.duplicateLayer",onClick:d,IconComponent:b.duplicate,disabled:!r}),y.default.createElement(e,{className:"layer__zoom-to-layer",id:o,tooltip:"tooltip.zoomToLayer",onClick:s,IconComponent:b.crosshairs})),l?y.default.createElement(e,{className:"layer__visibility-toggle",id:o,tooltip:a?"tooltip.hideLayer":"tooltip.showLayer",onClick:i,IconComponent:a?b.visible:b.hidden}):y.default.createElement(e,{className:"layer__is-valid-refresh",id:o,tooltip:"tooltip.resetAfterError",onClick:u,IconComponent:b.resetIsValid}),y.default.createElement(e,{className:(0,v.default)("layer__enable-config ",{"is-open":n}),id:o,tooltip:"tooltip.layerSettings",onClick:c,IconComponent:b.enableConfig}))}}t.LayerLabelEditor=I,N.deps=[h.default];var R=b.default.div(s||(s=(0,g.default)(["\n  position: absolute;\n  right: -9px;\n  top: calc(50% - 9px);\n  color: ",";\n"])),(function(e){return e.theme.notificationColors.warning})),B=function(e){var t=e.warning,n=e.id;return y.default.createElement(R,null,y.default.createElement(_.WarningSign,{"data-tip":!0,"data-for":"layer-".concat(n,"-warning"),height:"16px"}),y.default.createElement(E.Tooltip,{id:"layer-".concat(n,"-warning"),type:"warning",effect:"solid",textColor:"black"},t))};t.HeaderWarning=B;var W={remove:_.Trash,visible:_.EyeSeen,hidden:_.EyeUnseen,enableConfig:_.ArrowDown,duplicate:_.Copy,resetIsValid:_.Reset,crosshairs:_.Crosshairs};function z(e,t){var n=function(n){var r=n.isConfigActive,a=n.isDragNDropEnabled,l=n.isValid,o=n.warning,i=n.label,u=n.layerId,c=n.layerType,d=n.labelRCGColorValues,f=n.onUpdateLayerLabel,s=n.onToggleEnableConfig,g=n.listeners,b=(0,y.useState)(!1),h=(0,p.default)(b,2),E=h[0],C=h[1];return y.default.createElement(M,{className:(0,v.default)("layer-panel__header",{"sort--handle":!r}),isValid:l,warning:o,active:r,labelRCGColorValues:d,onClick:s},o?y.default.createElement(B,{warning:o,id:u}):null,y.default.createElement(k,{className:"layer-panel__header__content"},a?y.default.createElement(T,{className:"layer__drag-handle",listeners:g},y.default.createElement(_.VertDots,{height:"20px"})):y.default.createElement("div",{className:"layer__drag-handle__placeholder"}),y.default.createElement(e,{layerId:u,label:i,onUpdateLayerLabel:f,layerType:c,onFocus:function(){C(!0)},onBlur:function(){C(!1)}})),y.default.createElement(t,(0,m.default)({},n,{isEditingLabel:E})))};return n.defaultProps=x,n}z.deps=[A,N];var H=z;t.default=H},894:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.StyledToggleOption=void 0;var l,o,i,u=r(n(1)),c=r(n(6)),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),f=r(n(5)),s=r(n(1246)),p=r(n(1247)),m=n(41),g=n(19),y=n(4);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,u.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=f.default.div.attrs({className:"panel-view-list-toggle"})(l||(l=(0,c.default)([""]))),_=f.default.div.attrs({className:"panel-view-list-toggle-inner"})(o||(o=(0,c.default)(["\n  display: flex;\n  justify-content: flex-end;\n  align-content: center;\n  gap: 10px;\n"]))),C=f.default.div.attrs({className:"layer-panel-toggle-option"})(i||(i=(0,c.default)(["\n  color: ",";\n  :hover {\n    cursor: pointer;\n    color: ",";\n  }\n"])),(function(e){return e.active?e.theme.subtextColorActive:e.theme.panelTabColor}),(function(e){return e.theme.subtextColorActive}));t.StyledToggleOption=C;var O=[{id:y.PANEL_VIEW_TOGGLES.list,iconComponent:s.default,label:"sidebar.panelViewToggle.list"},{id:y.PANEL_VIEW_TOGGLES.byDataset,iconComponent:p.default,label:"sidebar.panelViewToggle.byDataset"}];function P(e){return function(t){var n=t.mode,r=t.togglePanelListView,a=(0,d.useMemo)((function(){return O.map((function(e){return h(h({},e),{},{isActive:n===e.id})}))}),[n]);return d.default.createElement(E,null,d.default.createElement(_,null,a.map((function(t){return d.default.createElement(e,{key:t.id,onClick:function(){return e=t.id,r(e);var e},option:t,isActive:t.isActive})}))))}}P.deps=[function(){return function(e){var t=e.isActive,n=e.onClick,r=e.option;return d.default.createElement(C,{"data-tip":!0,"data-for":"".concat(r.id,"-toggle-option"),active:t,onClick:n},d.default.createElement(r.iconComponent,{height:"20px"}),d.default.createElement(m.Tooltip,{id:"".concat(r.id,"-toggle-option"),effect:"solid",delayShow:500,place:"bottom"},d.default.createElement("span",null,d.default.createElement(g.FormattedMessage,{id:r.label}))))}}];var S=P;t.default=S},895:function(e,t,n){"use strict";var r=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.AddDataButtonFactory=g,t.default=void 0;var a,l,o=r(n(6)),i=r(n(0)),u=r(n(5)),c=n(19),d=n(55),f=n(41),s=r(n(646)),p=u.default.div(a||(a=(0,o.default)(["\n  line-height: ",";\n  font-weight: 400;\n  letter-spacing: 1.25px;\n  color: ",";\n  font-size: 11px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: ",";\n"])),(function(e){return e.theme.sidePanelTitleLineHeight}),(function(e){return e.theme.subtextColor}),(function(e){return e.showDatasetList?"16px":"4px"})),m=u.default.div(l||(l=(0,o.default)(["\n  border-bottom: 1px solid ",";\n"])),(function(e){return e.theme.sidePanelBorderColor}));function g(){var e=i.default.memo((function(e){var t=e.onClick,n=e.isInactive;return i.default.createElement(f.Button,{className:"add-data-button",onClick:t,inactive:!n,width:"105px",secondary:!0},i.default.createElement(d.Add,{height:"12px"}),i.default.createElement(c.FormattedMessage,{id:"layerManager.addData"}))}));return e.displayName="AddDataButton",e}function y(e,t){return function(n){var r=n.datasets,a=n.showDatasetTable,l=n.updateTableColor,o=n.showDeleteDataset,u=n.removeDataset,c=n.showDatasetList,d=n.showAddDataModal,f=Object.keys(r).length;return i.default.createElement(m,null,i.default.createElement(p,{showDatasetList:c},i.default.createElement("span",null,"Datasets",f?"(".concat(f,")"):""),i.default.createElement(t,{onClick:d,isInactive:!f})),c&&i.default.createElement(e,{datasets:r,showDatasetTable:a,updateTableColor:l,removeDataset:u,showDeleteDataset:o}))}}y.deps=[s.default,g];var v=y;t.default=v},896:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.getSupportedFilterFields=f;var l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),o=n(41),i=r(n(647)),u=r(n(640)),c=r(n(335));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function f(e,t){return e?t.filter((function(t){return e.includes(t.type)})):t}function s(e,t,n){var r=l.default.memo((function(r){var a=r.idx,i=r.filter,u=r.datasets,c=r.allAvailableFields,d=r.setFilter,s=r.removeFilter,p=(0,l.useCallback)((function(e){return d(a,"name",e.name)}),[a,d]),m=(0,l.useCallback)((function(e){return d(a,"dataId",e)}),[a,d]),g=u[i.dataId[0]],y=(0,l.useMemo)((function(){return f(g.supportedFilterTypes,c)}),[g.supportedFilterTypes,c]);return l.default.createElement(l.default.Fragment,null,l.default.createElement(e,{datasets:[g],filter:i,removeFilter:s},l.default.createElement(n,{inputTheme:"secondary",fields:y,value:Array.isArray(i.name)?i.name[0]:i.name,erasable:!1,onSelect:p})),l.default.createElement(o.StyledFilterContent,{className:"filter-panel__content"},Object.keys(u).length>1&&l.default.createElement(t,{inputTheme:"secondary",datasets:u,disabled:i.freeze,dataId:i.dataId,onSelect:m})))}));return r.displayName="NewFilterPanel",r}s.deps=[i.default,u.default,c.default];var p=s;t.default=p},897:function(e,t,n){"use strict";var r=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.timeRangeSliderFieldsSelector=u;var a=r(n(14)),l=r(n(0)),o=r(n(881)),i=n(4);function u(e){var t=("string"==typeof e.timeFormat?e.timeFormat:e.defaultTimeFormat)||i.DEFAULT_TIME_FORMAT;return{id:e.id,domain:e.domain,bins:e.bins,value:e.value,plotType:e.plotType,lineChart:e.lineChart,yAxis:e.yAxis,step:e.step,speed:e.speed,histogram:e.view===i.FILTER_VIEW_TYPES.enlarged?e.enlargedHistogram:e.histogram,animationWindow:e.animationWindow,isAnimating:e.isAnimating,timezone:e.timezone,timeFormat:t,isMinified:e.view===i.FILTER_VIEW_TYPES.minified,isEnlarged:e.view===i.FILTER_VIEW_TYPES.enlarged}}function c(e){return function(t){var n=t.filter,r=t.setFilter,o=t.isAnimatable,i=t.toggleAnimation,c=t.hideTimeTitle,d=t.timeline;return l.default.createElement(e,(0,a.default)({},u(n),{onChange:r,toggleAnimation:i,isAnimatable:o,hideTimeTitle:c,timeline:d}))}}c.deps=[o.default];var d=c;t.default=d},899:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.Droppable=t.Attribution=void 0,t.default=Q,t.isSplitSelector=void 0;var l,o,i=r(n(8)),u=r(n(9)),c=r(n(10)),d=r(n(11)),f=r(n(12)),s=r(n(7)),p=r(n(1)),m=r(n(14)),g=r(n(6)),y=R(n(0)),v=R(n(5)),b=n(274),h=r(n(1300)),E=n(47),_=r(n(405)),C=n(113),O=r(n(187)),P=r(n(1301)),S=r(n(1304)),x=n(41),w=r(n(1316)),M=n(120),k=n(13),j=n(44),D=n(4),F=n(649),T=r(n(1319)),L=n(19),I=n(49),A=n(66);function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}function R(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){(0,p.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z(e){var t=function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}();return function(){var n,r=(0,s.default)(e);if(t){var a=(0,s.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,f.default)(this,n)}}var H={container:{display:"inline-block",position:"relative",width:"100%",height:"100%"},top:{position:"absolute",top:0,width:"100%",height:"100%",pointerEvents:"none"}},V=Object.keys(L.LOCALE_CODES),G=(0,v.default)(x.StyledMapContainer)((function(e){var t=e.mixBlendMode;return"\n  #default-deckgl-overlay {\n    mix-blend-mode: ".concat(void 0===t?"normal":t,";\n  };\n  *[maplibregl-children] {\n    position: absolute;\n  }\n")})),U=function(){},Y=function(){return y.default.createElement("div",{className:"attrition-logo"},"Basemap by:",y.default.createElement("a",{style:{marginLeft:"5px"},className:"maplibregl-ctrl-logo",target:"_blank",rel:"noopener noreferrer",href:"https://www.maplibre.org/","aria-label":"MapLibre logo"}))},K=v.default.div(l||(l=(0,g.default)(["\n  background-color: ",";\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  pointer-events: none;\n  z-index: 1;\n"])),(function(e){return e.isOver?e.theme.dndOverBackgroundColor:"none"})),X=function(e){return e.visState.splitMaps&&e.visState.splitMaps.length>1};t.isSplitSelector=X;var Z=function(e){var t=e.containerId,n=(0,C.useDroppable)({id:t,data:{type:D.DROPPABLE_MAP_CONTAINER_TYPE,index:t},disabled:!t}),r=n.isOver,a=n.setNodeRef;return y.default.createElement(K,{ref:a,isOver:r})};t.Droppable=Z;var q=v.default.div(o||(o=(0,g.default)(["\n  max-width: ",";\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n  color: ",";\n  margin-right: 2px;\n  line-height: ",";\n  :hover {\n    white-space: inherit;\n  }\n"])),(function(e){return e.isPalm?"130px":"180px"}),(function(e){return e.theme.labelColor}),(function(e){return e.isPalm?"1em":"1.4em"})),J=function(e){var t=e.datasetAttributions,n=e.isPalm;return y.default.createElement(y.default.Fragment,null,null!=t&&t.length?y.default.createElement(q,{isPalm:n},t.map((function(e,n){return y.default.createElement("a",(0,m.default)({},e.url?{href:e.url}:null,{target:"_blank",rel:"noopener noreferrer",key:"".concat(e.title,"_").concat(n)}),e.title,n!==t.length-1?", ":null)}))):null)},$=function(e){var t=e.showMapboxLogo,n=void 0===t||t,r=e.showOsmBasemapAttribution,a=void 0!==r&&r,l=e.datasetAttributions,o=(0,k.hasMobileWidth)(j.breakPointValues);return(0,y.useMemo)((function(){return n?y.default.createElement(x.StyledAttrbution,null,y.default.createElement(x.EndHorizontalFlexbox,null,y.default.createElement(J,{datasetAttributions:l,isPalm:o}),y.default.createElement("div",{className:"attrition-link"},null!=l&&l.length?y.default.createElement("span",{className:"pipe-separator"},"|"):null,o?y.default.createElement(Y,null):null,y.default.createElement("a",{href:"https://kepler.gl/policy/",target:"_blank",rel:"noopener noreferrer"}," kepler.gl |"," "),o?null:y.default.createElement(Y,null)))):y.default.createElement(x.StyledAttrbution,null,y.default.createElement(x.EndHorizontalFlexbox,null,y.default.createElement(J,{datasetAttributions:l,isPalm:o}),a?y.default.createElement("div",{className:"attrition-link"},null!=l&&l.length?y.default.createElement("span",{className:"pipe-separator"},"|"):null,y.default.createElement("a",{href:"http://www.openstreetmap.org/copyright",target:"_blank",rel:"noopener noreferrer"}," OpenStreetMap")):null))}),[n,a,l,o])};function Q(e,t,n){var r=function(r){(0,d.default)(l,r);var a=z(l);function l(e){var t;return(0,i.default)(this,l),t=a.call(this,e),(0,p.default)((0,c.default)(t),"displayName","MapContainer"),(0,p.default)((0,c.default)(t),"state",{showMapboxAttribution:!0}),(0,p.default)((0,c.default)(t),"_deck",null),(0,p.default)((0,c.default)(t),"_map",null),(0,p.default)((0,c.default)(t),"_ref",(0,y.createRef)()),(0,p.default)((0,c.default)(t),"_deckGLErrorsElapsed",{}),(0,p.default)((0,c.default)(t),"previousLayers",{}),(0,p.default)((0,c.default)(t),"_handleResize",(function(e){var n=t.props,r=n.primary,a=n.index;if(r){var l=t.props.mapStateActions;e&&e.width>0&&e.height>0&&l.updateMap(e,a)}})),(0,p.default)((0,c.default)(t),"layersSelector",(function(e){return e.visState.layers})),(0,p.default)((0,c.default)(t),"layerDataSelector",(function(e){return e.visState.layerData})),(0,p.default)((0,c.default)(t),"splitMapSelector",(function(e){return e.visState.splitMaps})),(0,p.default)((0,c.default)(t),"splitMapIndexSelector",(function(e){return e.index})),(0,p.default)((0,c.default)(t),"mapLayersSelector",(0,E.createSelector)(t.splitMapSelector,t.splitMapIndexSelector,k.getMapLayersFromSplitMaps)),(0,p.default)((0,c.default)(t),"layerOrderSelector",(function(e){return e.visState.layerOrder})),(0,p.default)((0,c.default)(t),"layersToRenderSelector",(0,E.createSelector)(t.layersSelector,t.layerDataSelector,t.mapLayersSelector,A.prepareLayersToRender)),(0,p.default)((0,c.default)(t),"layersForDeckSelector",(0,E.createSelector)(t.layersSelector,t.layerDataSelector,A.prepareLayersForDeck)),(0,p.default)((0,c.default)(t),"filtersSelector",(function(e){return e.visState.filters})),(0,p.default)((0,c.default)(t),"polygonFiltersSelector",(0,E.createSelector)(t.filtersSelector,(function(e){return e.filter((function(e){return e.type===D.FILTER_TYPES.polygon&&!1!==e.enabled}))}))),(0,p.default)((0,c.default)(t),"featuresSelector",(function(e){return e.visState.editor.features})),(0,p.default)((0,c.default)(t),"selectedFeatureSelector",(function(e){return e.visState.editor.selectedFeature})),(0,p.default)((0,c.default)(t),"featureCollectionSelector",(0,E.createSelector)(t.polygonFiltersSelector,t.featuresSelector,(function(e,t){return{type:"FeatureCollection",features:t.concat(e.map((function(e){return e.value})))}}))),(0,p.default)((0,c.default)(t),"selectedPolygonIndexSelector",(0,E.createSelector)(t.featureCollectionSelector,t.selectedFeatureSelector,(function(e,t){return e.features.findIndex((function(e){return e.id===(null==t?void 0:t.id)}))}))),(0,p.default)((0,c.default)(t),"selectedFeatureIndexArraySelector",(0,E.createSelector)((function(e){return e}),(function(e){return e<0?[]:[e]}))),(0,p.default)((0,c.default)(t),"generateMapboxLayerMethodSelector",(function(e){var t;return null!==(t=e.generateMapboxLayers)&&void 0!==t?t:M.generateMapboxLayers})),(0,p.default)((0,c.default)(t),"mapboxLayersSelector",(0,E.createSelector)(t.layersSelector,t.layerDataSelector,t.layerOrderSelector,t.layersToRenderSelector,t.generateMapboxLayerMethodSelector,(function(e,t,n,r,a){return a(e,t,n,r)}))),(0,p.default)((0,c.default)(t),"mapStyleTypeSelector",(function(e){return e.mapStyle.styleType})),(0,p.default)((0,c.default)(t),"mapStyleBackgroundColorSelector",(function(e){return e.mapStyle.backgroundColor})),(0,p.default)((0,c.default)(t),"styleSelector",(0,E.createSelector)(t.mapStyleTypeSelector,t.mapStyleBackgroundColorSelector,(function(e,t){return W(W({},H.container),e===D.NO_MAP_ID?{backgroundColor:(0,k.rgbToHex)(t)}:{})}))),(0,p.default)((0,c.default)(t),"_onCloseMapPopover",(function(){t.props.visStateActions.onLayerClick(null)})),(0,p.default)((0,c.default)(t),"_onLayerHover",(function(e,n){t.props.visStateActions.onLayerHover(n,t.props.index)})),(0,p.default)((0,c.default)(t),"_onLayerSetDomain",(function(e,n){t.props.visStateActions.layerConfigChange(t.props.visState.layers[e],{colorDomain:n})})),(0,p.default)((0,c.default)(t),"_handleMapToggleLayer",(function(e){var n=t.props,r=n.index,a=void 0===r?0:r;n.visStateActions.toggleLayerForMap(a,e)})),(0,p.default)((0,c.default)(t),"_onMapboxStyleUpdate",(function(e){t.previousLayers={},t._updateMapboxLayers(),e&&e.style&&t.setState({showMapboxAttribution:(0,k.isStyleUsingMapboxTiles)(e.style)}),"function"==typeof t.props.onMapStyleLoaded&&t.props.onMapStyleLoaded(t._map)})),(0,p.default)((0,c.default)(t),"_setMapboxMap",(function(e){if(!t._map&&e){if(t._map=e.getMap(),!t._map)return;t._map.on("style.load",t._onMapboxStyleUpdate),t._map.on("render",(function(){"function"==typeof t.props.onMapRender&&t.props.onMapRender(t._map)}))}t.props.getMapboxRef&&t.props.getMapboxRef(e,t.props.index)})),(0,p.default)((0,c.default)(t),"_onBeforeRender",(function(e){var n=e.gl;(0,k.setLayerBlending)(n,t.props.visState.layerBlending)})),(0,p.default)((0,c.default)(t),"_onDeckError",(function(e,n){var r=(null==e?void 0:e.message)||"unknown-error",a=null!=n&&n.id?" in ".concat(n.id," layer"):"",l="WebGL context is lost"===r?"Your GPU was disconnected. This can happen if your computer goes to sleep. It can also occur for other reasons, such as if you are running too many GPU applications.":"An error in deck.gl: ".concat(r).concat(a,"."),o=t._deckGLErrorsElapsed[l];if(!o||o<Date.now()-D.THROTTLE_NOTIFICATION_TIME){t._deckGLErrorsElapsed[l]=Date.now();var i="",u=t.props.visStateActions;if(n){for(var c,d=n;d.parent;)d=d.parent;null!==(c=d.props)&&void 0!==c&&c.id&&(u.layerSetIsValid(d,!1),i="The layer has been disabled and highlighted.")}t.props.uiStateActions.addNotification((0,k.errorNotification)({message:"".concat(l," ").concat(i),id:l}))}})),(0,p.default)((0,c.default)(t),"_onViewportChangePropagateDebounced",(0,O.default)((function(){var e,n=null===(e=t.context)||void 0===e?void 0:e.getInternalViewState(t.props.index);(0,k.onViewPortChange)(n,t.props.mapStateActions.updateMap,t.props.onViewStateChange,t.props.primary,t.props.index)}),10)),(0,p.default)((0,c.default)(t),"_onViewportChange",(function(e){var n=e.viewState;t.props.isExport||((0,t.context.setInternalViewState)(n,t.props.index),t._onViewportChangePropagateDebounced())})),(0,p.default)((0,c.default)(t),"_onLayerHoverDebounced",(0,O.default)((function(e,n,r){t.props.visStateActions.onLayerHover(e,n)}),10)),(0,p.default)((0,c.default)(t),"_onMouseMoveDebounced",(0,O.default)((function(e,n){t.props.visStateActions.onMouseMove((0,k.normalizeEvent)(e,n))}),10)),(0,p.default)((0,c.default)(t),"_toggleMapControl",(function(e){var n=t.props,r=n.index;n.uiStateActions.toggleMapControl(e,Number(r))})),t}return(0,u.default)(l,[{key:"componentDidMount",value:function(){this._ref.current&&(0,k.observeDimensions)(this._ref.current,this._handleResize)}},{key:"componentWillUnmount",value:function(){var e,t;this._map&&(null===(e=this._map)||void 0===e||e.off("style.load",U),null===(t=this._map)||void 0===t||t.off("render",U));this._ref.current&&(0,k.unobserveDimensions)(this._ref.current)}},{key:"_onDeckInitialized",value:function(e){this.props.onDeckInitialized&&this.props.onDeckInitialized(this._deck,e)}},{key:"_isOKToRenderEffects",value:function(e){var t,n,r;return!e&&Boolean(null===(t=this._deck)||void 0===t||null===(n=t.viewManager)||void 0===n||null===(r=n._viewports)||void 0===r?void 0:r.length)}},{key:"_renderMapPopover",value:function(){var t;if(this.props.index!==(null===(t=this.props.visState.hoverInfo)||void 0===t?void 0:t.mapIndex))return null;var n=this.props,r=n.mapState,a=n.visState,l=a.hoverInfo,o=a.clicked,i=a.datasets,u=a.interactionConfig,c=a.layers,d=a.mousePos,f=d.mousePosition,s=d.coordinate,p=d.pinned,g=this.layersToRenderSelector(this.props);if(!f||!u.tooltip)return null;var v=(0,A.getLayerHoverProp)({interactionConfig:u,hoverInfo:l,layers:c,layersToRender:g,datasets:i}),b=!!u.tooltip.config&&u.tooltip.config.compareMode,h={x:0,y:0},E=null;if(p||o){var _=(0,k.getViewportFromMapState)(r),C=o?o.coordinate:p.coordinate;h=this._getHoverXY(_,C),E=(0,A.getLayerHoverProp)({interactionConfig:u,hoverInfo:o,layers:c,layersToRender:g,datasets:i}),v&&E&&(v.primaryData=E.data,v.compareType=u.tooltip.config.compareType)}var O={onClose:this._onCloseMapPopover,zoom:r.zoom,container:this._deck?this._deck.canvas:void 0};return y.default.createElement(T.default,null,E&&y.default.createElement(e,(0,m.default)({},h,O,{layerHoverProp:E,coordinate:u.coordinate.enabled&&(p||{}).coordinate,frozen:!0,isBase:b,onSetFeatures:this.props.visStateActions.setFeatures,setSelectedFeature:this.props.visStateActions.setSelectedFeature,featureCollection:this.featureCollectionSelector(this.props)})),v&&(!E||b)&&y.default.createElement(e,(0,m.default)({x:f[0],y:f[1]},O,{layerHoverProp:v,frozen:!1,coordinate:u.coordinate.enabled&&s,onSetFeatures:this.props.visStateActions.setFeatures,setSelectedFeature:this.props.visStateActions.setSelectedFeature,featureCollection:this.featureCollectionSelector(this.props)})))}},{key:"_getHoverXY",value:function(e,t){var n=e&&t?e.project(t):null;return n&&{x:n[0],y:n[1]}}},{key:"_renderDeckOverlay",value:function(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{primaryMap:!1},a=this.props,l=a.mapStyle,o=a.visState,i=a.mapState,u=a.visStateActions,c=a.mapboxApiAccessToken,d=a.mapboxApiUrl,f=a.deckGlProps,s=a.index,p=a.mapControls,g=a.deckRenderCallbacks,v=a.theme,b=a.generateDeckGLLayers,E=a.onMouseMove,_=o.hoverInfo,C=o.editor,O=r.primaryMap,P=r.isInteractive,S=r.children,x=p.mapDraw,w=x||{},j=w.active,F=void 0!==j&&j,T=M.EditorLayerUtils.isDrawingActive(F,C.mode),L=null===(t=this.context)||void 0===t?void 0:t.getInternalViewState(s),N=W(W({},i),L),R=(0,k.getViewportFromMapState)(N),B=this.selectedPolygonIndexSelector(this.props),z=u.setFeatures,H=u.onLayerClick,V=u.setSelectedFeature,G=null!=b?b:A.computeDeckLayers,U=G({visState:o,mapState:N,mapStyle:l},{mapIndex:s,primaryMap:O,mapboxApiAccessToken:c,mapboxApiUrl:d,layersForDeck:e,editorInfo:O?{editor:C,editorMenuActive:F,onSetFeatures:z,setSelectedFeature:V,featureCollection:this.featureCollectionSelector(this.props),selectedFeatureIndexes:this.selectedFeatureIndexArraySelector(B),viewport:R}:void 0},{onLayerHover:this._onLayerHover,onSetLayerDomain:this._onLayerSetDomain},f),Y={};O&&(Y.getTooltip=function(e){return M.EditorLayerUtils.getTooltip(e,{editorMenuActive:F,editor:C,theme:v})},Y.getCursor=function(e){var t=e.isDragging,n=M.EditorLayerUtils.getCursor({editorMenuActive:F,editor:C,hoverInfo:_});return n||(t?"grabbing":null!=_&&_.layer?"pointer":"grab")});var K=this._isOKToRenderEffects(s)?(0,k.computeDeckEffects)({visState:o,mapState:i}):[],X=null!=f&&f.views?null==f?void 0:f.views():new I.MapView({legacyMeterSizes:!0}),Z=W(W({},f),{},{pickingRadius:D.DEFAULT_PICKING_RADIUS,views:X,layers:U,effects:K});return"function"!=typeof(null==g?void 0:g.onDeckRender)||(Z=g.onDeckRender(Z))?y.default.createElement("div",P?{onMouseMove:O?function(e){null==E||E(e),n._onMouseMoveDebounced(e,R)}:void 0}:{style:{pointerEvents:"none"}},y.default.createElement(h.default,(0,m.default)({id:"default-deckgl-overlay",onLoad:function(){"function"==typeof(null==g?void 0:g.onDeckLoad)&&g.onDeckLoad()}},Z,{controller:!!P&&{doubleClickZoom:!T,dragRotate:this.props.mapState.dragRotate},initialViewState:L,onBeforeRender:this._onBeforeRender,onViewStateChange:P?this._onViewportChange:void 0},Y,{onHover:P?function(e,t){M.EditorLayerUtils.onHover(e,{editorMenuActive:F,editor:C,hoverInfo:_})||n._onLayerHoverDebounced(e,s,t)}:null,onClick:function(e,t){(0,k.normalizeEvent)(t.srcEvent,R),M.EditorLayerUtils.onClick(e,t,{editorMenuActive:F,editor:C,onLayerClick:H,setSelectedFeature:V,mapIndex:s})||u.onLayerClick(e)},onError:this._onDeckError,ref:function(e){e&&e.deck&&!n._deck&&(n._deck=e.deck)},onWebGLInitialized:function(e){return n._onDeckInitialized(e)},onAfterRender:function(){"function"==typeof(null==g?void 0:g.onDeckAfterRender)&&g.onDeckAfterRender(Z)}}),S)):null}},{key:"_updateMapboxLayers",value:function(){var e=this.mapboxLayersSelector(this.props);(Object.keys(e).length||Object.keys(this.previousLayers).length)&&((0,M.updateMapboxLayers)(this._map,e,this.previousLayers),this.previousLayers=e)}},{key:"_renderMapboxOverlays",value:function(){this._map&&this._map.isStyleLoaded()&&this._updateMapboxLayers()}},{key:"_renderMap",value:function(){var e,r,a,l=this.props,o=l.visState,i=l.mapState,u=l.mapStyle,c=l.mapStateActions,d=l.MapComponent,f=void 0===d?b.Map:d,s=l.mapboxApiAccessToken,g=l.mapboxApiUrl,v=l.mapControls,h=l.isExport,E=l.locale,C=l.uiStateActions,O=l.visStateActions,P=l.index,S=l.primary,x=l.bottomMapContainerProps,w=l.topMapContainerProps,M=l.theme,j=l.datasetAttributions,F=void 0===j?[]:j,T=l.containerId,L=void 0===T?0:T,I=o.layers,A=o.datasets,N=o.editor,R=o.interactionConfig,B=this.layersToRenderSelector(this.props),z=this.layersForDeckSelector(this.props),G=null===(e=u.mapStyles)||void 0===e?void 0:e[u.styleType],U=null===(r=this.context)||void 0===r?void 0:r.getInternalViewState(P),Y=W(W({},U),{},{preserveDrawingBuffer:!0,mapboxAccessToken:(null==G?void 0:G.accessToken)||s,baseApiUrl:g,mapLib:_.default,transformRequest:this.props.transformRequest||k.transformRequest}),K=Boolean(I.find((function(e){return e.id===D.GEOCODER_LAYER_ID}))),q=Boolean(i.isSplit),J=this._renderDeckOverlay(z,{primaryMap:!0,isInteractive:!0,children:y.default.createElement(f,(0,m.default)({key:"bottom"},Y,{mapStyle:null!==(a=u.bottomMapStyle)&&void 0!==a?a:D.EMPTY_MAPBOX_STYLE},x,{ref:this._setMapboxMap}))});return J?y.default.createElement(y.default.Fragment,null,y.default.createElement(t,{mapState:i,datasets:A,availableLocales:V,dragRotate:i.dragRotate,isSplit:q,primary:Boolean(S),isExport:h,layers:I,layersToRender:B,mapIndex:P||0,mapControls:v,readOnly:this.props.readOnly,scale:i.scale||1,top:R.geocoder&&R.geocoder.enabled?M.mapControlTop:0,editor:N,locale:E,onTogglePerspective:c.togglePerspective,onToggleSplitMap:c.toggleSplitMap,onMapToggleLayer:this._handleMapToggleLayer,onToggleMapControl:this._toggleMapControl,onToggleSplitMapViewport:c.toggleSplitMapViewport,onSetEditorMode:O.setEditorMode,onSetLocale:C.setLocale,onToggleEditorVisibility:O.toggleEditorVisibility,mapHeight:i.height}),X(this.props)&&y.default.createElement(Z,{containerId:L}),J,this._renderMapboxOverlays(),y.default.createElement(n,{index:P||0,datasets:A,editor:N,filters:this.polygonFiltersSelector(this.props),layers:I,onDeleteFeature:O.deleteFeature,onSelect:O.setSelectedFeature,onTogglePolygonFilter:O.setPolygonFilterLayer,onSetEditorMode:O.setEditorMode,style:{pointerEvents:"all",position:"absolute",display:N.visible?"block":"none"}}),this.props.children,u.topMapStyle?y.default.createElement(f,(0,m.default)({key:"top",viewState:U,mapStyle:u.topMapStyle,style:H.top,mapboxAccessToken:Y.mapboxAccessToken,baseApiUrl:Y.baseApiUrl,mapLib:_.default},w)):null,K?this._renderDeckOverlay((0,p.default)({},D.GEOCODER_LAYER_ID,K),{primaryMap:!1,isInteractive:!1}):null,this._renderMapPopover(),this.props.primary?y.default.createElement($,{showMapboxLogo:this.state.showMapboxAttribution,showOsmBasemapAttribution:!0,datasetAttributions:F}):null):null}},{key:"render",value:function(){var e=this.props.visState,t=this._renderMap();return t?y.default.createElement(G,{ref:this._ref,style:this.styleSelector(this.props),onContextMenu:function(e){return e.preventDefault()},mixBlendMode:e.overlayBlending},t):null}}]),l}(y.Component);return(0,p.default)(r,"contextType",F.MapViewStateContext),(0,p.default)(r,"defaultProps",{MapComponent:b.Map,deckGlProps:{},index:0,primary:!0}),(0,v.withTheme)(r)}t.Attribution=$,Q.deps=[P.default,S.default,w.default]},900:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.StyledLayerName=void 0;var l,o,i,u=r(n(6)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),d=r(n(5)),f=n(41),s=n(55),p=r(n(2)),m=n(13),g=n(66),y=n(56);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}var b=(0,d.default)(f.CenterFlexbox)(l||(l=(0,u.default)(["\n  color: ",";\n  font-size: 12px;\n  letter-spacing: 0.43px;\n  text-transform: capitalize;\n\n  svg {\n    margin-right: 4px;\n  }\n"])),(function(e){return e.theme.textColorHl}));t.StyledLayerName=b;var h=d.default.table(o||(o=(0,u.default)(["\n  & .row__delta-value {\n    text-align: right;\n    margin-left: 6px;\n\n    &.positive {\n      color: ",";\n    }\n\n    &.negative {\n      color: ",";\n    }\n  }\n  & .row__value,\n  & .row__name {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: no-wrap;\n  }\n"])),(function(e){return e.theme.notificationColors.success}),(function(e){return e.theme.negativeBtnActBgd})),E=d.default.div(i||(i=(0,u.default)(["\n  // offset divider to reach popover edge\n  margin-left: -14px;\n  margin-right: -14px;\n  border-bottom: 1px solid ",";\n"])),(function(e){return e.theme.panelBorderColor})),_=function(e){var t=e.name,n=e.value,r=e.deltaValue,a=e.url;!a&&n&&"string"==typeof n&&n.match(/^http/)&&(a=n);var l=/<img>/.test(t);return c.default.createElement("tr",{className:"layer-hover-info__row",key:t},c.default.createElement("td",{className:"row__name"},l?t.replace("<img>",""):t),c.default.createElement("td",{className:"row__value"},l?c.default.createElement("img",{src:n}):a?c.default.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:a},n):c.default.createElement(c.default.Fragment,null,c.default.createElement("span",null,n),(0,m.notNullorUndefined)(r)?c.default.createElement("span",{className:"row__delta-value ".concat("+"===r.toString().charAt(0)?"positive":"negative")},r):null)))},C=function(e){var t=e.fieldsToShow,n=e.fields,r=e.data,a=e.primaryData,l=e.compareType;return c.default.createElement("tbody",null,t.map((function(e){return c.default.createElement(O,{key:e.name,item:e,fields:n,data:r,primaryData:a,compareType:l})})))},O=function(e){var t=e.item,n=e.fields,r=e.data,a=e.primaryData,l=e.compareType,o=n.findIndex((function(e){return e.name===t.name}));if(o<0)return null;var i=n[o],u=r.valueAt(o),d=(0,g.getTooltipDisplayValue)({item:t,field:i,value:u}),f=a?(0,g.getTooltipDisplayDeltaValue)({field:i,data:r,fieldIdx:o,primaryData:a,compareType:l}):null;return c.default.createElement(_,{name:i.displayName||i.name,value:d,deltaValue:f})},P=function(e){var t=e.fieldsToShow,n=e.data,r=e.layer,a=r.config,l=a.colorField,o=a.sizeField,i=(0,c.useMemo)((function(){if(l&&r.visualChannels.color){var e=t.find((function(e){return e.name===l.name}));return(0,g.getTooltipDisplayValue)({item:e,field:l,value:n.colorValue})}return null}),[t,l,r,n.colorValue]),u=(0,c.useMemo)((function(){if(o&&r.visualChannels.size){var e=t.find((function(e){return e.name===o.name}));return(0,g.getTooltipDisplayValue)({item:e,field:o,value:n.elevationValue})}return null}),[t,o,r,n.elevationValue]),d=r.getVisualChannelDescription("color").measure,f=r.getVisualChannelDescription("size").measure;return c.default.createElement("tbody",null,c.default.createElement(_,{name:"total points",key:"count",value:String(n.points&&n.points.length)}),l&&r.visualChannels.color&&d?c.default.createElement(_,{name:d,key:"color",value:i||"N/A"}):null,o&&r.visualChannels.size&&f?c.default.createElement(_,{name:f,key:"size",value:u||"N/A"}):null)},S=function(){var e=function(e){var t=e.data,n=e.layer,r=(0,y.useIntl)();if(!t||!n)return null;var a=t.fieldValues&&Object.keys(t.fieldValues).length>0||e.fieldsToShow&&e.fieldsToShow.length>0;return c.default.createElement("div",{className:"map-popover__layer-info"},c.default.createElement(b,{className:"map-popover__layer-name"},c.default.createElement(s.Layers,{height:"12px"}),e.layer.config.label),a&&c.default.createElement(E,null),c.default.createElement(h,null,t.fieldValues?c.default.createElement("tbody",null,t.fieldValues.map((function(e,t){var n=e.labelMessage,a=e.value;return c.default.createElement(_,{key:t,name:r.formatMessage({id:n}),value:a})}))):e.layer.isAggregated?c.default.createElement(P,e):c.default.createElement(C,e)),a&&c.default.createElement(E,null))};return e.propTypes={fields:p.default.arrayOf(p.default.any),fieldsToShow:p.default.arrayOf(p.default.any),layer:p.default.object,data:p.default.oneOfType([p.default.arrayOf(p.default.any),p.default.object])},e};t.default=S},901:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,o,i,u,c,d,f,s,p=r(n(6)),m=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),g=r(n(5)),y=n(19),v=n(41),b=n(55),h=r(n(268));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}var _=g.default.div(l||(l=(0,p.default)(["\n  background-color: ",";\n  flex-grow: 1;\n  z-index: 1;\n  p {\n    margin-bottom: 0;\n  }\n"])),(function(e){return e.theme.mapPanelBackgroundColor})),C=g.default.div.attrs({className:"map-control__panel-content"})(o||(o=(0,p.default)(["\n  ",";\n  max-height: 500px;\n  min-height: 100px;\n  min-width: ","px;\n  overflow: overlay;\n"])),(function(e){return e.theme.dropdownScrollBar}),(function(e){return e.theme.mapControl.width})),O=g.default.div.attrs({className:"map-control__panel-header"})(i||(i=(0,p.default)(["\n  display: flex;\n  justify-content: space-between;\n  background-color: ",";\n  height: 32px;\n  padding: 6px 12px;\n  font-family: ",";\n  font-size: 11px;\n  color: ",";\n  position: relative;\n  box-sizing: border-box;\n\n  button {\n    width: 18px;\n    height: 18px;\n  }\n"])),(function(e){return e.theme.mapPanelHeaderBackgroundColor}),(function(e){return e.theme.fontFamily}),(function(e){return e.theme.titleTextColor})),P=(0,g.default)(O).attrs({className:"map-control__panel-split-viewport-tools"})(u||(u=(0,p.default)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: self-start;\n  height: unset;\n"]))),S=(0,g.default)(v.CenterFlexbox)(c||(c=(0,p.default)(["\n  width: 100%;\n  justify-content: space-between;\n  flex-direction: row;\n"]))),x=g.default.span(d||(d=(0,p.default)(["\n  opacity: ",";\n  pointer-events: ",";\n"])),(function(e){return e.disabled?.4:1}),(function(e){return e.disabled?"none":"all"})),w=(0,g.default)(h.default)(f||(f=(0,p.default)(["\n  opacity: ",";\n  pointer-events: ",";\n"])),(function(e){return e.disabled?.4:1}),(function(e){return e.disabled?"none":"all"})),M=(0,g.default)(v.IconRoundSmall)(s||(s=(0,p.default)(["\n  color: ",";\n  background-color: transparent;\n\n  :hover {\n    cursor: pointer;\n    background-color: transparent;\n    color: ",";\n  }\n"])),(function(e){return e.theme.activeColor}),(function(e){return e.theme.linkBtnColor}));var k=function(){var e=m.default.memo((function(e){var t=e.children,n=e.header,r=e.pinnable,a=e.disableClose,l=e.onPinClick,o=e.onClick,i=e.scale,u=void 0===i?1:i,c=e.isExport,d=e.logoComponent,f=e.mapState,s=e.onToggleSplitMapViewport,p=e.isViewportUnsyncAllowed,g=f||{},v=g.isViewportSynced,h=g.isZoomLocked,E=(0,m.useCallback)((function(){null==s||s({isViewportSynced:!v})}),[v,s]),k=(0,m.useCallback)((function(){null==s||s({isZoomLocked:!h})}),[h,s]);return m.default.createElement(_,{className:"map-control-panel",style:{transform:"scale(".concat(u,")"),marginBottom:"8px !important"}},null!=f&&f.isSplit&&p?m.default.createElement(P,null,m.default.createElement(S,{style:{paddingBottom:"6px"}},m.default.createElement(y.FormattedMessage,{id:"Unlock Viewport"}),m.default.createElement(w,{checked:!(null!=f&&f.isViewportSynced),id:"unlock-viewport-toggle",onChange:E})),m.default.createElement(S,null,m.default.createElement(x,{disabled:null==f?void 0:f.isViewportSynced},m.default.createElement(y.FormattedMessage,{id:"Sync Zoom"})),m.default.createElement(w,{checked:null==f?void 0:f.isZoomLocked,id:"sync-zoom-toggle",onChange:k,disabled:null==f?void 0:f.isViewportSynced}))):null,m.default.createElement(O,null,c&&d?d:n?m.default.createElement("span",{style:{verticalAlign:"middle"}},m.default.createElement(y.FormattedMessage,{id:n})):null,c?null:m.default.createElement(m.default.Fragment,null,r&&m.default.createElement(M,{className:"pin-map-control-item",onClick:l},m.default.createElement(b.Pin,{height:"16px"})),a?null:m.default.createElement(M,{className:"close-map-control-item",onClick:o},m.default.createElement(b.Close,{height:"16px"})))),m.default.createElement(C,null,t))}));return e.displayName="MapControlPanel",e};t.default=k},902:function(e,t,n){"use strict";var r=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,l=r(n(6)),o=r(n(5)),i=r(n(1314));var u=function(){return(0,o.default)(i.default)(a||(a=(0,l.default)(["\n    position: absolute;\n    right: 32px;\n    transform: translateX(calc(-50% + 45px));\n\n    .toolbar-item {\n      width: 120px;\n      padding: 13px 16px;\n      flex-direction: row;\n      justify-content: flex-start;\n\n      .toolbar-item__svg-container {\n        width: 16px;\n        height: 16px;\n        margin-right: 10px;\n      }\n\n      .toolbar-item__title {\n        margin-left: auto;\n        margin-right: auto;\n      }\n    }\n  "])))};t.default=u},903:function(e,t,n){"use strict";var r=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=y;var a,l=r(n(8)),o=r(n(9)),i=r(n(11)),u=r(n(12)),c=r(n(7)),d=r(n(6)),f=r(n(5)),s=r(n(0)),p=n(649);function m(e){var t=function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}();return function(){var n,r=(0,c.default)(e);if(t){var a=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var g=f.default.div(a||(a=(0,d.default)(["\n  position: relative;\n  display: flex;\n  width: 100%;\n  height: 100%;\n"])));function y(){return function(e){(0,i.default)(n,e);var t=m(n);function n(){return(0,l.default)(this,n),t.apply(this,arguments)}return(0,o.default)(n,[{key:"render",value:function(){return s.default.createElement(g,{className:this.props.className},s.default.createElement(p.MapViewStateContextProvider,{mapState:this.props.mapState},this.props.children))}}]),n}(s.default.Component)}y.deps=[]},906:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return function(e){(0,m.default)(a,e);var t,n,r=(t=a,n=function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return!!e}(),function(){var e,r=(0,y.default)(t);if(n){var a=(0,y.default)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return(0,g.default)(this,e)});function a(){var e;(0,f.default)(this,a);for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return e=r.call.apply(r,[this].concat(n)),(0,v.default)((0,p.default)(e),"state",{isExpanded:!1}),e}return(0,s.default)(a,[{key:"componentDidMount",value:function(){this.props.isExpanded&&this.setState({isExpanded:!0})}},{key:"render",value:function(){var e=this,t=this.props,n=t.notification,r=t.removeNotification,a=this.state.isExpanded;return h.default.createElement(S,{isExpanded:a,theme:this.props.theme},(n.count||0)>1?h.default.createElement(M,{type:n.type,theme:this.props.theme},n.count):null,h.default.createElement(x,{className:"notification-item",type:n.type,isExpanded:a,onClick:function(){return e.setState({isExpanded:!a})}},h.default.createElement(j,{className:"notification-item--icon"},D[n.type]),h.default.createElement(k,{isExpanded:a,theme:this.props.theme},h.default.createElement(C.default,{source:n.message,renderers:{link:F}})),"function"==typeof r?h.default.createElement("div",{className:"notification-item--action"},h.default.createElement(w,{height:"10px",onClick:function(){return r(n.id)}})):null))}}]),a}(h.Component)};var l,o,i,u,c,d,f=r(n(8)),s=r(n(9)),p=r(n(10)),m=r(n(11)),g=r(n(12)),y=r(n(7)),v=r(n(1)),b=r(n(6)),h=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),E=r(n(5)),_=n(55),C=r(n(484)),O=n(4);function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}var S=E.default.div.attrs({className:"notification-item--content-block"})(l||(l=(0,b.default)(["\n  display: block;\n  position: relative;\n  width: ","px;\n  margin-left: auto;\n"])),(function(e){return e.theme.notificationPanelItemWidth*(1+Number(e.isExpanded))})),x=E.default.div(o||(o=(0,b.default)(["\n  background-color: ",";\n  color: #fff;\n  display: flex;\n  flex-direction: row;\n  width: ","px;\n  height: ","px;\n  font-size: 11px;\n  margin-bottom: 1rem;\n  padding: 1em;\n  border-radius: 4px;\n  box-shadow: ",";\n  cursor: pointer;\n"])),(function(e){return e.theme.notificationColors[e.type]||"#000"}),(function(e){return e.theme.notificationPanelItemWidth*(1+Number(e.isExpanded))}),(function(e){return e.theme.notificationPanelItemHeight*(1+Number(e.isExpanded))}),(function(e){return e.theme.boxShadow})),w=(0,E.default)(_.Delete)(i||(i=(0,b.default)(["\n  cursor: pointer;\n  width: 13px;\n  height: 13px;\n"]))),M=E.default.div.attrs({className:"notification-item--counter"})(u||(u=(0,b.default)(["\n  position: absolute;\n  font-size: 11px;\n  font-weight: bold;\n  text-align: center;\n  left: -4px;\n  bottom: -4px;\n  border-radius: 50%;\n  width: 20px;\n  height: 20px;\n  background-color: #ffffff;\n  border: 1px solid ",";\n  color: ",";\n  box-shadow: ",";\n"])),(function(e){return e.theme.notificationColors[e.type]||"#000"}),(function(e){return e.theme.notificationColors[e.type]||"#000"}),(function(e){return e.theme.boxShadow})),k=E.default.div.attrs({className:"notification-item--message"})(c||(c=(0,b.default)(["\n  flex-grow: 2;\n  width: ","px;\n  margin: 0 1em;\n  overflow: ",";\n  padding-right: ",";\n\n  p {\n    margin-top: 0;\n    a {\n      color: #fff;\n      text-decoration: underline;\n    }\n  }\n"])),(function(e){return e.theme.notificationPanelItemWidth}),(function(e){return e.isExpanded?"auto":"hidden"}),(function(e){return e.isExpanded?"1em":0})),j=E.default.div(d||(d=(0,b.default)(["\n  svg {\n    vertical-align: text-top;\n  }\n"]))),D={info:h.default.createElement(_.Info,{"data-testid":O.dataTestIds.infoIcon}),warning:h.default.createElement(_.Warning,{"data-testid":O.dataTestIds.warningIcon}),error:h.default.createElement(_.Warning,{"data-testid":O.dataTestIds.errorIcon}),success:h.default.createElement(_.Checkmark,{"data-testid":O.dataTestIds.successIcon})},F=function(e){return h.default.createElement("a",{href:e.href,target:"_blank",rel:"noopener noreferrer"},e.children)}},907:function(e,t,n){"use strict";var r=n(17),a=n(18);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=a(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&{}.hasOwnProperty.call(e,o)){var i=l?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(r,o,i):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}(n(0)),o=r(n(81)),i=n(4);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}var c=function(e){var t=e.onUpdateImageSetting,n=e.cleanupExportImage,r=e.provider,a=e.children;return(0,l.useEffect)((function(){return t({exporting:!0}),function(){n()}}),[t,n]),(0,l.useEffect)((function(){r?r.thumbnail&&t({mapW:(0,o.default)(r,["thumbnail","width"])||i.MAP_THUMBNAIL_DIMENSION.width,mapH:(0,o.default)(r,["thumbnail","height"])||i.MAP_THUMBNAIL_DIMENSION.height,ratio:i.EXPORT_IMG_RATIOS.CUSTOM,legend:!1}):t({mapW:i.MAP_THUMBNAIL_DIMENSION.width,mapH:i.MAP_THUMBNAIL_DIMENSION.height,ratio:i.EXPORT_IMG_RATIOS.CUSTOM,legend:!1})}),[r,t]),l.default.createElement(l.default.Fragment,null,a)};t.default=c},909:function(e,t,n){"use strict";var r=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,l,o=r(n(6)),i=r(n(0)),u=r(n(5)),c=r(n(910)),d=n(19),f=u.default.div(a||(a=(0,o.default)(["\n  text-align: center;\n\n  span {\n    margin: 0 auto;\n  }\n"]))),s=u.default.div.attrs({className:"data-loading-dialog"})(l||(l=(0,o.default)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-grow: 1;\n\n  .loading-content {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  .loading-message {\n    margin-left: 32px;\n    color: ",";\n    font-weight: 500;\n    font-size: 14px;\n  }\n"])),(function(e){return e.theme.titleColorLT})),p=function(e){var t=e.size,n=void 0===t?64:t,r=e.message,a=void 0===r?"modal.loadingDialog.loading":r;return i.default.createElement(s,null,i.default.createElement("div",{className:"loading-content"},i.default.createElement(f,null,i.default.createElement(c.default,{size:n})),i.default.createElement("div",{className:"loading-message"},i.default.createElement(d.FormattedMessage,{id:a}))))};t.default=p},912:function(e,t,n){"use strict";var r=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.ProviderSelect=void 0;var a,l=r(n(6)),o=r(n(1342)),i=r(n(0)),u=r(n(5)),c=n(4),d=u.default.div.attrs({className:"provider-selection"})(a||(a=(0,l.default)(["\n  display: flex;\n  gap: 8px;\n"])));t.ProviderSelect=function(e){var t=e.cloudProviders,n=void 0===t?[]:t;return i.default.createElement("div",{"data-testid":c.dataTestIds.providerSelect},n.length?i.default.createElement(d,null,n.map((function(e){return i.default.createElement(o.default,{key:e.name,provider:e})}))):i.default.createElement("p",null,"No storage provider available"))}},914:function(e,t,n){"use strict";var r=n(17);Object.defineProperty(t,"__esModule",{value:!0}),t.StyledWarning=t.StyledExportMapSection=t.StyledExportLink=t.ExportMapLink=void 0;var a,l,o,i=r(n(14)),u=r(n(50)),c=r(n(6)),d=r(n(0)),f=r(n(5)),s=n(41),p=(0,f.default)(s.StyledExportSection)(a||(a=(0,c.default)(["\n  margin-top: ","px;\n"])),(function(e){return e.theme.exportIntraSectionMargin}));t.StyledExportMapSection=p;var m=f.default.span(l||(l=(0,c.default)(["\n  color: ",";\n  font-weight: ",";\n"])),(function(e){return e.theme.errorColor}),(function(e){return e.theme.selectFontWeightBold}));t.StyledWarning=m;var g=f.default.a(o||(o=(0,c.default)(["\n  text-decoration-line: underline !important;\n"])));t.StyledExportLink=g;t.ExportMapLink=function(e){var t=e.children,n=(0,u.default)(e,["children"]);return d.default.createElement(g,(0,i.default)({target:"_blank",rel:"noopener noreferrer"},n),t)}}}]);
//# sourceMappingURL=0.bundle.js.map