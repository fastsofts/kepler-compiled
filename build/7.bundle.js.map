{"version":3,"sources":["webpack:////home/srikanth/kepler.gl/node_modules/@popperjs/core/lib/dom-utils/instanceOf.js","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/io/interfaces.mjs","webpack:////home/srikanth/kepler.gl/node_modules/@turf/point-to-line-distance/dist/es/index.js","webpack:////home/srikanth/kepler.gl/node_modules/@turf/nearest-point-on-line/dist/es/index.js","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/visitor.mjs","webpack:////home/srikanth/kepler.gl/node_modules/@turf/buffer/dist/es/index.js","webpack:////home/srikanth/kepler.gl/node_modules/@turf/ellipse/dist/es/index.js","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/util/chunk.mjs","webpack:////home/srikanth/kepler.gl/node_modules/@turf/distance/dist/es/index.js","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/recordbatch.mjs","webpack:////home/srikanth/kepler.gl/node_modules/@popperjs/core/lib/dom-utils/getWindow.js","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/util/int.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/visitor/vectorloader.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/ipc/reader.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/fb/int.mjs","webpack:////home/srikanth/kepler.gl/node_modules/@popperjs/core/lib/dom-utils/getBoundingClientRect.js","webpack:////home/srikanth/kepler.gl/node_modules/@popperjs/core/lib/dom-utils/getWindowScroll.js","webpack:////home/srikanth/kepler.gl/node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js","webpack:////home/srikanth/kepler.gl/node_modules/@popperjs/core/lib/dom-utils/getWindowScrollBarX.js","webpack:////home/srikanth/kepler.gl/node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js","webpack:////home/srikanth/kepler.gl/node_modules/@popperjs/core/lib/dom-utils/isScrollParent.js","webpack:////home/srikanth/kepler.gl/node_modules/@popperjs/core/lib/dom-utils/getCompositeRect.js","webpack:////home/srikanth/kepler.gl/node_modules/@popperjs/core/lib/dom-utils/getNodeScroll.js","webpack:////home/srikanth/kepler.gl/node_modules/@popperjs/core/lib/dom-utils/getHTMLElementScroll.js","webpack:////home/srikanth/kepler.gl/node_modules/@popperjs/core/lib/dom-utils/getLayoutRect.js","webpack:////home/srikanth/kepler.gl/node_modules/@popperjs/core/lib/dom-utils/getParentNode.js","webpack:////home/srikanth/kepler.gl/node_modules/@popperjs/core/lib/dom-utils/listScrollParents.js","webpack:////home/srikanth/kepler.gl/node_modules/@popperjs/core/lib/dom-utils/getScrollParent.js","webpack:////home/srikanth/kepler.gl/node_modules/@popperjs/core/lib/dom-utils/isTableElement.js","webpack:////home/srikanth/kepler.gl/node_modules/@popperjs/core/lib/dom-utils/getOffsetParent.js","webpack:////home/srikanth/kepler.gl/node_modules/@popperjs/core/lib/enums.js","webpack:////home/srikanth/kepler.gl/node_modules/@popperjs/core/lib/utils/orderModifiers.js","webpack:////home/srikanth/kepler.gl/node_modules/@popperjs/core/lib/createPopper.js","webpack:////home/srikanth/kepler.gl/node_modules/@popperjs/core/lib/utils/debounce.js","webpack:////home/srikanth/kepler.gl/node_modules/@popperjs/core/lib/utils/mergeByName.js","webpack:////home/srikanth/kepler.gl/node_modules/@popperjs/core/lib/modifiers/eventListeners.js","webpack:////home/srikanth/kepler.gl/node_modules/@popperjs/core/lib/utils/getBasePlacement.js","webpack:////home/srikanth/kepler.gl/node_modules/@popperjs/core/lib/utils/getVariation.js","webpack:////home/srikanth/kepler.gl/node_modules/@popperjs/core/lib/utils/getMainAxisFromPlacement.js","webpack:////home/srikanth/kepler.gl/node_modules/@popperjs/core/lib/utils/computeOffsets.js","webpack:////home/srikanth/kepler.gl/node_modules/@popperjs/core/lib/modifiers/popperOffsets.js","webpack:////home/srikanth/kepler.gl/node_modules/@popperjs/core/lib/utils/math.js","webpack:////home/srikanth/kepler.gl/node_modules/@popperjs/core/lib/modifiers/computeStyles.js","webpack:////home/srikanth/kepler.gl/node_modules/@popperjs/core/lib/modifiers/offset.js","webpack:////home/srikanth/kepler.gl/node_modules/@popperjs/core/lib/utils/getOppositePlacement.js","webpack:////home/srikanth/kepler.gl/node_modules/@popperjs/core/lib/utils/getOppositeVariationPlacement.js","webpack:////home/srikanth/kepler.gl/node_modules/@popperjs/core/lib/dom-utils/contains.js","webpack:////home/srikanth/kepler.gl/node_modules/@popperjs/core/lib/utils/rectToClientRect.js","webpack:////home/srikanth/kepler.gl/node_modules/@popperjs/core/lib/dom-utils/getClippingRect.js","webpack:////home/srikanth/kepler.gl/node_modules/@popperjs/core/lib/dom-utils/getViewportRect.js","webpack:////home/srikanth/kepler.gl/node_modules/@popperjs/core/lib/dom-utils/getDocumentRect.js","webpack:////home/srikanth/kepler.gl/node_modules/@popperjs/core/lib/utils/mergePaddingObject.js","webpack:////home/srikanth/kepler.gl/node_modules/@popperjs/core/lib/utils/getFreshSideObject.js","webpack:////home/srikanth/kepler.gl/node_modules/@popperjs/core/lib/utils/expandToHashMap.js","webpack:////home/srikanth/kepler.gl/node_modules/@popperjs/core/lib/utils/detectOverflow.js","webpack:////home/srikanth/kepler.gl/node_modules/@popperjs/core/lib/modifiers/flip.js","webpack:////home/srikanth/kepler.gl/node_modules/@popperjs/core/lib/utils/computeAutoPlacement.js","webpack:////home/srikanth/kepler.gl/node_modules/@popperjs/core/lib/utils/within.js","webpack:////home/srikanth/kepler.gl/node_modules/@popperjs/core/lib/modifiers/preventOverflow.js","webpack:////home/srikanth/kepler.gl/node_modules/@popperjs/core/lib/utils/getAltAxis.js","webpack:////home/srikanth/kepler.gl/node_modules/@popperjs/core/lib/modifiers/arrow.js","webpack:////home/srikanth/kepler.gl/node_modules/@popperjs/core/lib/modifiers/hide.js","webpack:////home/srikanth/kepler.gl/node_modules/@popperjs/core/lib/popper.js","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/enum.mjs","webpack:////home/srikanth/kepler.gl/node_modules/@turf/union/dist/es/index.js","webpack:////home/srikanth/kepler.gl/node_modules/@turf/intersect/dist/es/index.js","webpack:////home/srikanth/kepler.gl/node_modules/@turf/transform-translate/dist/es/index.js","webpack:////home/srikanth/kepler.gl/node_modules/@turf/transform-scale/dist/es/index.js","webpack:////home/srikanth/kepler.gl/node_modules/@turf/boolean-point-in-polygon/dist/es/index.js","webpack:////home/srikanth/kepler.gl/node_modules/@turf/along/dist/es/index.js","webpack:////home/srikanth/kepler.gl/node_modules/@turf/area/dist/es/index.js","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/visitor/get.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/util/bit.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/fb/body-compression-method.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/fb/compression-type.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/fb/body-compression.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/fb/buffer.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/fb/field-node.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/fb/record-batch.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/fb/dictionary-batch.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/fb/sparse-matrix-compressed-axis.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/fb/sparse-tensor-index.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/fb/message-header.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/fb/message.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/visitor/typeassembler.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/ipc/metadata/json.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/ipc/metadata/message.mjs","webpack:////home/srikanth/kepler.gl/node_modules/@popperjs/core/lib/dom-utils/getNodeName.js","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/fb/key-value.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/io/stream.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/io/adapters.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/fb/schema.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/ipc/message.mjs","webpack:////home/srikanth/kepler.gl/node_modules/@turf/bearing/dist/es/index.js","webpack:////home/srikanth/kepler.gl/node_modules/@turf/boolean-clockwise/dist/es/index.js","webpack:////home/srikanth/kepler.gl/node_modules/@turf/rewind/dist/es/index.js","webpack:////home/srikanth/kepler.gl/node_modules/@probe.gl/env/src/utils/globals.ts","webpack:////home/srikanth/kepler.gl/node_modules/@probe.gl/log/src/utils/local-storage.ts","webpack:////home/srikanth/kepler.gl/node_modules/@probe.gl/log/src/utils/formatters.ts","webpack:////home/srikanth/kepler.gl/node_modules/@probe.gl/log/src/utils/color.ts","webpack:////home/srikanth/kepler.gl/node_modules/@probe.gl/log/src/utils/assert.ts","webpack:////home/srikanth/kepler.gl/node_modules/@probe.gl/log/src/utils/hi-res-timestamp.ts","webpack:////home/srikanth/kepler.gl/node_modules/@probe.gl/log/src/log.ts","webpack:////home/srikanth/kepler.gl/node_modules/@probe.gl/log/src/utils/autobind.ts","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/util/bigint.mjs","webpack:////home/srikanth/kepler.gl/node_modules/@probe.gl/env/src/lib/get-browser.ts","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/fb/field.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/util/utf8.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/visitor/vectorassembler.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/visitor/jsontypeassembler.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/visitor/jsonvectorassembler.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/ipc/writer.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/ipc/serialization.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/fb/union-mode.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/fb/union.mjs","webpack:////home/srikanth/kepler.gl/node_modules/@turf/destination/dist/es/index.js","webpack:////home/srikanth/kepler.gl/node_modules/@wojtekmaj/date-utils/dist/esm/index.js","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/fb/decimal.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/type.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/fb/time.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/fb/timestamp.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/fb/block.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/fb/footer.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/ipc/metadata/file.mjs","webpack:////home/srikanth/kepler.gl/node_modules/@turf/helpers/dist/es/index.js","webpack:////home/srikanth/kepler.gl/node_modules/@turf/bbox-polygon/dist/es/index.js","webpack:////home/srikanth/kepler.gl/node_modules/@turf/rhumb-destination/dist/es/index.js","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/util/pretty.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/fb/time-unit.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/fb/fixed-size-binary.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/fb/fixed-size-list.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/fb/map.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/builder/buffer.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/builder/valid.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/builder.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/builder/binary.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/builder/bool.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/builder/date.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/builder/decimal.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/builder/dictionary.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/builder/fixedsizebinary.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/builder/fixedsizelist.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/builder/float.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/builder/interval.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/builder/int.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/builder/list.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/builder/map.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/builder/null.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/builder/struct.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/builder/timestamp.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/builder/time.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/builder/union.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/builder/utf8.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/visitor/builderctor.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/factories.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/util/recordbatch.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/table.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/fb/precision.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/fb/floating-point.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/fb/date-unit.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/fb/date.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/fb/interval-unit.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/fb/interval.mjs","webpack:////home/srikanth/kepler.gl/node_modules/@turf/center/dist/es/index.js","webpack:////home/srikanth/kepler.gl/node_modules/@turf/clone/dist/es/index.js","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/io/file.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/fb/dictionary-kind.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/fb/dictionary-encoding.mjs","webpack:////home/srikanth/kepler.gl/node_modules/@probe.gl/env/src/lib/globals.ts","webpack:////home/srikanth/kepler.gl/node_modules/@turf/bbox/dist/es/index.js","webpack:////home/srikanth/kepler.gl/node_modules/@turf/centroid/dist/es/index.js","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/util/buffer.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/util/vector.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/row/map.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/util/math.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/visitor/indexof.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/visitor/bytelength.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/visitor/typecomparator.mjs","webpack:////home/srikanth/kepler.gl/node_modules/@turf/boolean-within/node_modules/@turf/meta/dist/es/index.js","webpack:////home/srikanth/kepler.gl/node_modules/@turf/boolean-within/node_modules/@turf/bbox/dist/es/index.js","webpack:////home/srikanth/kepler.gl/node_modules/@turf/boolean-point-on-line/dist/es/index.js","webpack:////home/srikanth/kepler.gl/node_modules/@turf/boolean-point-on-line/node_modules/@turf/invariant/dist/es/index.js","webpack:////home/srikanth/kepler.gl/node_modules/@turf/boolean-within/node_modules/@turf/invariant/dist/es/index.js","webpack:////home/srikanth/kepler.gl/node_modules/@turf/boolean-within/node_modules/@turf/boolean-point-in-polygon/dist/es/index.js","webpack:////home/srikanth/kepler.gl/node_modules/@turf/boolean-within/dist/es/index.js","webpack:////home/srikanth/kepler.gl/node_modules/@tippyjs/react/src/utils.js","webpack:////home/srikanth/kepler.gl/node_modules/@tippyjs/react/src/util-hooks.js","webpack:////home/srikanth/kepler.gl/node_modules/@tippyjs/react/src/className-plugin.js","webpack:////home/srikanth/kepler.gl/node_modules/@tippyjs/react/src/Tippy.js","webpack:////home/srikanth/kepler.gl/node_modules/@tippyjs/react/src/useSingleton.js","webpack:////home/srikanth/kepler.gl/node_modules/@tippyjs/react/src/forwardRef.js","webpack:////home/srikanth/kepler.gl/node_modules/@tippyjs/react/src/index.js","webpack:////home/srikanth/kepler.gl/node_modules/@tippyjs/react/src/headless.js","webpack:////home/srikanth/kepler.gl/node_modules/@turf/invariant/dist/es/index.js","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/visitor/iterator.mjs","webpack:////home/srikanth/kepler.gl/node_modules/@turf/rhumb-distance/dist/es/index.js","webpack:////home/srikanth/kepler.gl/node_modules/@reduxjs/toolkit/node_modules/redux/es/redux.js","webpack:////home/srikanth/kepler.gl/node_modules/@reduxjs/toolkit/node_modules/redux-thunk/es/index.js","webpack:////home/srikanth/kepler.gl/node_modules/@reduxjs/toolkit/src/devtoolsExtension.ts","webpack:////home/srikanth/kepler.gl/node_modules/@reduxjs/toolkit/src/utils.ts","webpack:////home/srikanth/kepler.gl/node_modules/@reduxjs/toolkit/src/createAction.ts","webpack:////home/srikanth/kepler.gl/node_modules/@reduxjs/toolkit/src/index.ts","webpack:////home/srikanth/kepler.gl/node_modules/@probe.gl/stats/src/lib/stat.ts","webpack:////home/srikanth/kepler.gl/node_modules/@probe.gl/stats/src/lib/stats.ts","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/fb/metadata-version.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/fb/endianness.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/fb/null.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/fb/binary.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/fb/utf8.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/fb/bool.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/fb/list.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/fb/struct-.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/data.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/schema.mjs","webpack:////home/srikanth/kepler.gl/node_modules/@probe.gl/stats/src/utils/hi-res-timestamp.ts","webpack:////home/srikanth/kepler.gl/node_modules/@probe.gl/env/src/lib/is-browser.ts","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/fb/type.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/util/compat.mjs","webpack:////home/srikanth/kepler.gl/node_modules/@turf/line-segment/dist/es/index.js","webpack:////home/srikanth/kepler.gl/node_modules/@turf/line-intersect/dist/es/index.js","webpack:////home/srikanth/kepler.gl/node_modules/@probe.gl/env/src/lib/is-electron.ts","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/util/bn.mjs","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/row/struct.mjs","webpack:////home/srikanth/kepler.gl/node_modules/@turf/rhumb-bearing/dist/es/index.js","webpack:////home/srikanth/kepler.gl/node_modules/@popperjs/core/lib/modifiers/applyStyles.js","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/vector.mjs","webpack:////home/srikanth/kepler.gl/node_modules/@turf/difference/dist/es/index.js","webpack:////home/srikanth/kepler.gl/node_modules/@turf/circle/dist/es/index.js","webpack:////home/srikanth/kepler.gl/node_modules/@turf/polygon-to-line/dist/es/index.js","webpack:////home/srikanth/kepler.gl/node_modules/@turf/meta/dist/es/index.js","webpack:////home/srikanth/kepler.gl/node_modules/apache-arrow/visitor/set.mjs","webpack:////home/srikanth/kepler.gl/node_modules/@turf/transform-rotate/dist/es/index.js"],"names":["isElement","node","Element","isHTMLElement","HTMLElement","isShadowRoot","ShadowRoot","ITERATOR_DONE","Object","freeze","done","value","ArrowJSON","_json","this","ReadableInterop","_getDOMStream","tee","writable","options","_getNodeStream","pipe","pipeTo","duplex","pipeThrough","_DOMStream","toDOMStream","_nodeStream","toNodeStream","AsyncQueue","super","_values","resolvers","_closedPromise","Promise","r","_closedPromiseResolve","reason","return","_ensureOpen","length","push","shift","resolve","_error","error","reject","undefined","Symbol","asyncIterator","_","abort","close","size","next","_args","Error","dot","u","v","calcDistance","a","b","method","pt","line","units","Array","isArray","type","distance","Infinity","p","geometry","coordinates","segment","d","c1","c2","b2","Pb","distanceToSegment","lines","closestPt","dist","coords","i","start","properties","stop_1","sectionLength","heightDistance","Math","max","direction","perpendicularPt1","perpendicularPt2","intersect","intersectPt","features","location","index","Visitor","nodes","args","map","visit","x","getVisitFn","apply","throwIfNotFound","visitor","getVisitFnByTypeId","inferDType","NONE","typeId","_node","dtype","fn","Null","visitNull","Bool","visitBool","Int","visitInt","Int8","visitInt8","Int16","visitInt16","Int32","visitInt32","Int64","visitInt64","Uint8","visitUint8","Uint16","visitUint16","Uint32","visitUint32","Uint64","visitUint64","Float","visitFloat","Float16","visitFloat16","Float32","visitFloat32","Float64","visitFloat64","Utf8","visitUtf8","Binary","visitBinary","FixedSizeBinary","visitFixedSizeBinary","Date","visitDate","DateDay","visitDateDay","DateMillisecond","visitDateMillisecond","Timestamp","visitTimestamp","TimestampSecond","visitTimestampSecond","TimestampMillisecond","visitTimestampMillisecond","TimestampMicrosecond","visitTimestampMicrosecond","TimestampNanosecond","visitTimestampNanosecond","Time","visitTime","TimeSecond","visitTimeSecond","TimeMillisecond","visitTimeMillisecond","TimeMicrosecond","visitTimeMicrosecond","TimeNanosecond","visitTimeNanosecond","Decimal","visitDecimal","List","visitList","Struct","visitStruct","Union","visitUnion","DenseUnion","visitDenseUnion","SparseUnion","visitSparseUnion","Dictionary","visitDictionary","Interval","visitInterval","IntervalDayTime","visitIntervalDayTime","IntervalYearMonth","visitIntervalYearMonth","FixedSizeList","visitFixedSizeList","Map","visitMap","bitWidth","isSigned","precision","HALF","SINGLE","DOUBLE","unit","SECOND","MILLISECOND","MICROSECOND","NANOSECOND","DAY","DAY_TIME","YEAR_MONTH","mode","Dense","Sparse","prototype","bufferFeature","geojson","radius","steps","results","buffered","projection","rotation","rotate","scale","defineProjection","projected","projectCoords","geom","read","bufferOp","coordsIsNaN","isNaN","write","result","unprojectCoords","proj","coord","invert","feature","multiBuffered","getTanDeg","deg","rad","PI","tan","center","xSemiAxis","ySemiAxis","angle","pivot","centerCoords","angleRad","stepAngle","sqrt","pow","y","newx","cos","sin","newy","ChunkedIterator","numChunks","getChunkIterator","chunkIndex","chunkIterator","iterator","computeChunkNullCounts","chunks","reduce","nullCount","chunk","computeChunkOffsets","offsets","Uint32Array","sliceChunks","begin","end","slices","n","offset","from","to","min","slice","binarySearch","idx","lhs","mid","rhs","trunc","isChunkedValid","data","getValid","wrapChunkedCall1","chunkedFn","j","_offsets","wrapChunkedCall2","_2","wrapChunkedIndexOf","indexOf","_1","chunkedIndexOf","fromIndex","total","element","coordinates1","coordinates2","dLat","dLon","lat1","lat2","atan2","_a","proto","RecordBatch","schema","TypeError","fields","children","f","ensureSameLengthData","obj","keys","memo","name","new","nullable","_dictionaries","collectDictionaries","dictionaries","isDictionary","has","id","get","dictionary","set","others","_b","getChildAt","findIndex","child","setChildAt","numCols","numRows","field","clone","metadata","columnNames","select","columnIndices","selectAt","filter","Boolean","subset","maxLength","col","nullBitmapSize","entries","_changeLengthAndBackfillNullBitmap","nullBitmap","Uint8Array","assign","toStringTag","_nullCount","isConcatSpreadable","_InternalEmptyPlaceholderRecordBatch","getWindow","window","toString","ownerDocument","defaultView","intAsHex","kPowersOfTen","BaseInt64","buffer","other","L","R","product","sum","lessThan","_times","_plus","val","out_buffer","fromString","num","str","out","posn","group","Number","parseInt","multiple","times","plus","values","byteOffset","left","right","this_high","other_high","negate","startsWith","Int128","L0","L1","L2","L3","R0","R1","R2","R3","multiply","low","high","sums","bytes","buffers","nodesIndex","buffersIndex","nextFieldNode","readNullBitmap","readData","valueOffsets","readOffsets","visitMany","typeIds","readTypeIds","indices","readDictionary","nextBufferRange","_type","subarray","sources","Int32Array","ArrayType","isTimestamp","isInt","isTime","isDate","convertArray","isDecimal","isBinary","isFixedSizeBinary","joined","join","binaryDataFromJSON","isBool","isUtf8","impl","_impl","closed","autoDestroy","numDictionaries","numRecordBatches","isFile","footer","isSync","isAsync","isStream","throw","cancel","reset","opening","open","then","readRecordBatch","objectMode","writableStrategy","readableStrategy","source","fromArrowJSON","stat","file","readAt","AsyncRecordBatchFileReader","fromFileHandle","peek","byteLength","RecordBatchFileReader","arguments","fromAsyncByteStream","fromByteStream","readAllSync","readAllAsync","ArrayBuffer","isView","e_1","_c","batches","_f","_d","_e","batch","e_1_1","call","_dictionaryIndex","_recordBatchIndex","header","body","_loadVectors","isDelta","concat","memoize","types","_reader","_handle","shouldAutoDestroy","readSchema","message","reader","_readNextMessageAndValidate","isSchema","isRecordBatch","readMessageBody","bodyLength","_loadRecordBatch","isDictionaryBatch","vector","_loadDictionaryBatch","readMessage","_footer","_readFooter","block","dictionaryBatches","_readDictionaryBatch","getRecordBatch","seek","getDictionaryBatch","DictionaryBatch","readInt32","decode","rest","_super","create","_pending","self","bb","bb_pos","__init","position","setPosition","__offset","readInt8","builder","startObject","addFieldInt32","addFieldInt8","endObject","startInt","addBitWidth","addIsSigned","endInt","getBoundingClientRect","rect","width","height","top","bottom","getWindowScroll","win","scrollLeft","pageXOffset","scrollTop","pageYOffset","getDocumentElement","document","documentElement","getWindowScrollBarX","getComputedStyle","isScrollParent","_getComputedStyle","overflow","overflowX","overflowY","test","getCompositeRect","elementOrVirtualElement","offsetParent","isFixed","isOffsetParentAnElement","scroll","getNodeName","clientLeft","clientTop","getLayoutRect","clientRect","offsetWidth","offsetHeight","abs","offsetLeft","offsetTop","getParentNode","assignedSlot","parentNode","host","listScrollParents","list","_element$ownerDocumen","scrollParent","getScrollParent","isBody","target","visualViewport","updatedList","isTableElement","getTrueOffsetParent","getOffsetParent","isFirefox","navigator","userAgent","toLowerCase","currentNode","css","transform","perspective","contain","willChange","getContainingBlock","basePlacements","variationPlacements","acc","placement","modifierPhases","order","modifiers","visited","Set","forEach","modifier","sort","add","requires","requiresIfExists","dep","depModifier","DEFAULT_OPTIONS","strategy","areValidElements","_len","_key","some","popperGenerator","generatorOptions","_generatorOptions","_generatorOptions$def","defaultModifiers","_generatorOptions$def2","defaultOptions","reference","popper","pending","state","orderedModifiers","modifiersData","elements","attributes","styles","effectCleanupFns","isDestroyed","instance","setOptions","cleanupModifierEffects","scrollParents","contextElement","phase","orderModifiers","merged","current","existing","key","mergeByName","m","enabled","_ref3","_ref3$options","effect","cleanupFn","update","forceUpdate","_state$elements","rects","_state$orderedModifie","_state$orderedModifie2","_options","destroy","onFirstUpdate","passive","_ref","_options$scroll","_options$resize","resize","addEventListener","removeEventListener","getBasePlacement","split","getVariation","getMainAxisFromPlacement","computeOffsets","basePlacement","variation","commonX","commonY","mainAxis","len","round","unsetSides","mapToStyles","_ref2","_Object$assign2","popperRect","gpuAcceleration","adaptive","roundOffsets","dpr","devicePixelRatio","roundOffsetsByDPR","_ref3$x","_ref3$y","hasX","hasOwnProperty","hasY","sideX","sideY","heightProp","widthProp","_Object$assign","commonStyles","_ref4","_options$gpuAccelerat","_options$adaptive","_options$roundOffsets","popperOffsets","arrow","_options$offset","invertDistance","skidding","distanceAndSkiddingToXY","_data$state$placement","hash","getOppositePlacement","replace","matched","getOppositeVariationPlacement","contains","parent","rootNode","getRootNode","isSameNode","rectToClientRect","getClientRectFromMixedType","clippingParent","html","clientWidth","clientHeight","getViewportRect","getInnerBoundingClientRect","winScroll","scrollWidth","scrollHeight","getDocumentRect","getClippingRect","boundary","rootBoundary","mainClippingParents","clippingParents","clipperElement","getClippingParents","firstClippingParent","clippingRect","accRect","mergePaddingObject","paddingObject","expandToHashMap","hashMap","detectOverflow","_options$placement","_options$boundary","_options$rootBoundary","_options$elementConte","elementContext","_options$altBoundary","altBoundary","_options$padding","padding","altContext","referenceElement","clippingClientRect","referenceClientRect","popperClientRect","elementClientRect","overflowOffsets","offsetData","axis","_skip","_options$mainAxis","checkMainAxis","_options$altAxis","altAxis","checkAltAxis","specifiedFallbackPlacements","fallbackPlacements","_options$flipVariatio","flipVariations","allowedAutoPlacements","preferredPlacement","oppositePlacement","getExpandedFallbackPlacements","placements","_options$allowedAutoP","allowedPlacements","overflows","computeAutoPlacement","referenceRect","checksMap","makeFallbackChecks","firstFittingPlacement","_basePlacement","isStartVariation","isVertical","mainVariationSide","altVariationSide","checks","every","check","_loop","_i","fittingPlacement","find","within","_options$tether","tether","_options$tetherOffset","tetherOffset","isBasePlacement","tetherOffsetValue","mainSide","altSide","additive","minLen","maxLen","arrowElement","arrowRect","arrowPaddingObject","arrowPaddingMin","arrowPaddingMax","arrowLen","minOffset","maxOffset","arrowOffsetParent","clientOffset","offsetModifierValue","tetherMin","tetherMax","preventedOffset","_mainSide","_altSide","_offset","_min","_max","_preventedOffset","_state$modifiersData$","minProp","maxProp","endDiff","startDiff","clientSize","centerToReference","axisProp","centerOffset","_options$element","querySelector","getSideOffsets","preventedOffsets","isAnySideFullyClipped","side","preventOverflow","referenceOverflow","popperAltOverflow","referenceClippingOffsets","popperEscapeOffsets","isReferenceHidden","hasPopperEscaped","eventListeners","applyStyles","MetadataVersion","UnionMode","Precision","DateUnit","TimeUnit","IntervalUnit","MessageHeader","Type","BufferType","poly1","poly2","geom1","geom2","unioned","union","intersection","zTranslation","mutate","pointCoords","newCoords","factor","origin","isPoint","bbox","west","south","east","north","defineOrigin","originalDistance","bearing","newDistance","newCoord","originIsPoint","booleanPointInPolygon","point","polygon","polys","inBBox","insidePoly","inRing","ignoreBoundary","inHole","k","ring","isInside","xi","yi","xj","yj","along","travelled","overshot","area","polygonArea","calculateArea","ringArea","p1","p2","lowerIndex","middleIndex","upperIndex","coordsLength","GetVisitor","wrapGet","epochMillisecondsLongToMs","epochMillisecondsToDate","epochMs","getVariableWidthBytes","getDateDay","epochDaysToMs","epochDaysToDate","getDateMillisecond","epochMillisecondsLongToDate","getNumeric","stride","getBigInts","getTimestampSecond","getTimestampMillisecond","getTimestampMicrosecond","epochMicrosecondsLongToMs","getTimestampNanosecond","epochNanosecondsLongToMs","getTimeSecond","getTimeMillisecond","getTimeMicrosecond","getTimeNanosecond","getDenseUnion","childIndex","typeIdToChildIndex","getSparseUnion","getIntervalDayTime","getIntervalYearMonth","interval","int32s","_data","_index","decimal","getBool","byte","bit","getBit","truncateBitmap","bitmap","alignedSize","packBools","BitIterator","xs","context","byteIndex","popcnt_bit_range","rhsInside","lhsInside","arr","cnt","pos","view","DataView","popcnt_uint32","getUint32","getUint16","getUint8","popcnt_array","uint32","BodyCompressionMethod","CompressionType","flatbuffers","LZ4_FRAME","BUFFER","codec","startBodyCompression","addCodec","addMethod","endBodyCompression","Buffer","readInt64","prep","writeInt64","BigInt","null_count","__vector","__vector_len","__indirect","addFieldInt64","nodesOffset","addFieldOffset","numElems","startVector","buffersOffset","compressionOffset","dataOffset","SparseMatrixCompressedAxis","SparseTensorIndex","readInt16","V1","readUint8","__union","version","addFieldInt16","headerType","headerOffset","customMetadataOffset","addOffset","endVector","finish","startMessage","addVersion","addHeaderType","addHeader","addBodyLength","addCustomMetadata","endMessage","startNull","endNull","startFloatingPoint","addPrecision","endFloatingPoint","startBinary","endBinary","startBool","endBool","startUtf8","endUtf8","startDecimal","addScale","endDecimal","startDate","addUnit","endDate","startTime","endTime","timezone","createString","startTimestamp","addTimezone","endTimestamp","startInterval","endInterval","startList","endList","startStruct_","endStruct_","startTypeIdsVector","createTypeIdsVector","startUnion","addMode","addTypeIds","endUnion","indexType","startDictionaryEncoding","addId","addIsOrdered","isOrdered","addIndexType","endDictionaryEncoding","startFixedSizeBinary","addByteWidth","byteWidth","endFixedSizeBinary","startFixedSizeList","addListSize","listSize","endFixedSizeList","startMap","addKeysSorted","keysSorted","endMap","recordBatchFromJSON","fieldNodesFromJSON","fieldNodes","column","validity","buffersFromJSON","fieldChildrenFromJSON","_field","fromJSON","customMetadataFromJSON","_metadata","indexTypeFromJSON","typeFromJSON","t","Builder","ByteBuffer","msg","V4","_createHeader","Schema","messageHeaderFromJSON","buf","_message","getRootAsMessage","decodeMessageHeader","encode","finishMessageBuffer","asUint8Array","_version","_headerType","_bodyLength","_nodes","_length","_buffers","_id","_isDelta","decodeFieldChildren","childrenLength","decodeCustomMetadata","entry","customMetadataLength","customMetadata","decodeIndexType","decodeFieldType","typeType","typeIdsArray","nameOffset","typeOffset","dictionaryOffset","childOffsets","childrenVectorOffset","createChildrenVector","metadataOffset","createCustomMetadataVector","startKeyValue","addKey","addValue","endKeyValue","startField","addType","addTypeType","addChildren","addNullable","addName","addDictionary","endField","dictType","dictMeta","fieldOffsets","startFieldsVector","fieldsVectorOffset","createFieldsVector","startSchema","addFields","addEndianness","platformIsLittleEndian","Little","Big","endSchema","_schema","fieldsLength","decodeSchemaFields","schemaFieldsFromJSON","recordBatch","startNodesVector","reverse","nodesVectorOffset","startBuffersVector","b_","buffersVectorOffset","startRecordBatch","addLength","addNodes","addBuffers","endRecordBatch","compression","nodesLength","decodeFieldNodes","bufferRegions","buffersLength","decodeBuffers","dictionaryBatch","startDictionaryBatch","addIsDelta","addData","endDictionaryBatch","createFieldNode","createBuffer","setInt16","Int16Array","nodeName","KeyValue","optionalEncoding","__string","keyOffset","valueOffset","AsyncByteQueue","sync","toUint8Array","ByteStream","ByteStreamSource","fromIterable","AsyncByteStream","AsyncByteStreamSource","fromAsyncIterable","fromNodeStream","fromDOMStream","cmd","pump","threw","bufferLength","it","e","AdaptiveByteReader","releaseLock","stream","events","event","err","onEvent","race","isFinite","evt","cleanup","catch","handler","endianness","fieldsOffset","featuresOffset","addInt64","addFeatures","invalidMessageType","nullMessage","invalidMessageMetadata","expected","actual","invalidMessageBodyLength","MessageReader","readMetadataLength","readMetadata","throwIfNull","PADDING","metadataLength","AsyncMessageReader","JSONMessageReader","_body","_batchIndex","flattenDataSources","MAGIC","codePointAt","checkForMagicArrowString","magicLength","magicAndPadding","magicX2AndPadding","final","bear","calculateFinalBearing","lon1","lon2","booleanClockwise","prev","cur","rewindFeature","rewindLineString","rewindPolygon","lineCoords","VERSION","__VERSION__","checkIfBrowser","LocalStorage","constructor","defaultSettings","storage","setItem","removeItem","getStorage","config","_loadConfiguration","getConfiguration","setConfiguration","configuration","updateConfiguration","serialized","JSON","stringify","serializedConfiguration","getItem","parse","formatImage","image","maxWidth","imageUrl","src","style","floor","COLOR","getColor","color","toUpperCase","WHITE","assert","condition","getHiResTimestamp","timestamp","isBrowser","performance","now","process","timeParts","hrtime","originalConsole","debug","console","log","info","warn","DEFAULT_SETTINGS","level","noop","cache","ONCE","once","Log","_storage","userData","timeStamp","predefined","getPrototypeOf","propNames","getOwnPropertyNames","bind","autobind","seal","newLevel","setLevel","getLevel","isEnabled","getTotal","_startTs","toPrecision","getDelta","_deltaTs","newPriority","getPriority","enable","setting","settings","table","_getLogFunction","deprecated","oldUsage","newUsage","removed","probe","logLevel","time","columns","tag","getTableHeader","priority","_shouldLog","img","Image","onload","toDataURL","logImageInBrowser","nodeAsciifyImage","logImageInNode","timeEnd","opts","collapsed","normalizeArguments","groupCollapsed","groupEnd","withGroup","func","trace","normalizeLogLevel","delta","string","padLength","repeat","leftPad","ms","formatted","toFixed","formatTime","background","decorateMessage","resolvedLevel","unshift","messageType","title","bigIntToNumber","number","MIN_SAFE_INTEGER","MAX_SAFE_INTEGER","globalThis","getBrowser","mockUserAgent","isElectron","navigator_","isMSIE","isTrident","chrome","safari","mozInnerScreenX","Field","childrenOffset","decoder","TextDecoder","decodeUtf8","encoder","TextEncoder","encodeUtf8","unwrap","flatMap","assembler","_byteLength","_bufferRegions","RangeError","isNull","addBuffer","_null","assembleFlatVector","assembleFlatListVector","firstOffset","lastOffset","assembleListVector","assembleNestedVector","maxChildTypeId","childLengths","fill","shiftedOffsets","unshiftedOffsets","numChildren","childLength","tableFromIPC","input","readAll","typeIdsOffset","addInt32","destination","longitude1","latitude1","bearingRad","radians","latitude2","asin","longitude2","lng","lat","makeGetEdgeOfNeighbor","getPeriod","getEdgeOfPeriod","defaultOffset","date","previousPeriod","makeGetEnd","getBeginOfNextPeriod","getTime","makeGetRange","getStart","getEnd","getYear","getFullYear","year","getMonth","getMonthHuman","getDate","getHours","datePieces","hoursString","hours","getMinutes","minutesString","minutes","getSeconds","secondsWithMillisecondsString","seconds","getMilliseconds","millisecondsString","milliseconds","getCenturyStart","centuryStartYear","centuryStartDate","setFullYear","setHours","getPreviousCenturyStart","getNextCenturyStart","getCenturyEnd","getPreviousCenturyEnd","getCenturyRange","getDecadeStart","decadeStartYear","decadeStartDate","getPreviousDecadeStart","getNextDecadeStart","getDecadeEnd","getPreviousDecadeEnd","getDecadeRange","getYearStart","yearStartDate","getPreviousYearStart","getNextYearStart","getYearEnd","getPreviousYearEnd","getYearRange","makeGetEdgeOfNeighborMonth","month","getMonthStart","monthStartDate","getPreviousMonthStart","getNextMonthStart","getMonthEnd","getPreviousMonthEnd","getMonthRange","makeGetEdgeOfNeighborDay","day","getDayStart","dayStartDate","getDayEnd","getDayRange","getDaysInMonth","padStart","numStr","getHoursMinutes","getHoursMinutesSeconds","getISOLocalMonth","getISOLocalDate","_g","_h","_j","_k","_l","_m","_o","_p","_q","_r","_s","_t","_u","DataType","isUnion","Int_","Int8Array","Uint16Array","BigInt64Array","BigUint64Array","defineProperty","Float32Array","Float64Array","Date_","Time_","Timestamp_","Interval_","valueType","Union_","Map_","getId","atomicDictionaryId","strideForType","timezoneOffset","Block","metaDataLength","pad","writeInt32","schemaOffset","dictionariesOffset","recordBatchesOffset","getRootAsFooter","OffHeapFooter","startRecordBatchesVector","rb","recordBatches","startDictionariesVector","db","dictionaryBatchesOffset","startFooter","addSchema","addRecordBatches","addDictionaries","finishFooterBuffer","endFooter","_recordBatches","_dictionaryBatches","recordBatchesLength","dictionariesLength","fileBlock","createBlock","earthRadius","factors","centimeters","centimetres","degrees","feet","inches","kilometers","kilometres","meters","metres","miles","millimeters","millimetres","nauticalmiles","yards","unitsFactors","areaFactors","acres","hectares","feat","lineString","multiPoint","multiLineString","multiPolygon","isNumber","points","featureCollection","coordinates_1","polygons","lineStrings","fc","geometryCollection","geometries","multiplier","radiansToLength","lengthToRadians","lengthToDegrees","radiansToDegrees","bearingToAzimuth","degreesToRadians","convertLength","originalUnit","finalUnit","convertArea","startFactor","finalFactor","isObject","validateBBox","validateId","bboxPolygon","lowLeft","topLeft","topRight","lowRight","wasNegativeDistance","distanceInMeters","lambda1","phi1","theta","DeltaPhi","phi2","DeltaPsi","q","DeltaLambda","calculateRhumbDestination","valueToString","toPrimitive","roundLengthUpToNearest64Bytes","BPE","ceil","BYTES_PER_ELEMENT","_resize","extra","reserved","array","sliceOrExtendArray","clear","newLength","DataBufferBuilder","reserve","BitmapBufferBuilder","numValid","OffsetsBufferBuilder","flush","createIsValidFunction","nullValues","fnBody","noNaNs","valueToCase","Function","nulls","finished","_nulls","_isValid","numInvalid","_typeIds","reservedLength","reservedByteLength","setValid","isValid","setValue","_setValue","valid","last","_pendingLength","_flush","pendingLength","_flushPending","DateDayBuilder","DateMillisecondBuilder","hashFn","_dictionaryOffset","_keysToIndices","makeBuilder","valueToKey","keysToIndices","append","_dictionary","curr","toVector","Float32Builder","Float64Builder","IntervalDayTimeBuilder","IntervalYearMonthBuilder","Int8Builder","Int16Builder","Int32Builder","Int64Builder","Uint8Builder","Uint16Builder","Uint32Builder","Uint64Builder","row","TimestampSecondBuilder","TimestampMillisecondBuilder","TimestampMicrosecondBuilder","TimestampNanosecondBuilder","TimeSecondBuilder","TimeMillisecondBuilder","TimeMicrosecondBuilder","TimeNanosecondBuilder","_valueToChildTypeId","childTypeId","SparseUnionBuilder","denseIndex","getChildOptions","distributeVectorsIntoRecordBatches","vecs","cols","numBatches","c","batchLength","numColumns","POSITIVE_INFINITY","distributeChildren","uniformlyDistributeChunksAcrossRecordBatches","at","pop","String","toArray","empty","nameToIndex","columnName","oldToNew","f2","newIdx","ext","cloneFeature","cloned","cloneProperties","item","cloneGeometry","g","deepSlice","cloneFeatureCollection","RandomAccessFile","getInt32","nBytes","AsyncRandomAccessFile","bytesRead","DictionaryKind","DenseArray","indexTypeOffset","dictionaryKind","globals","global","window_","process_","xSum","ySum","SharedArrayBuf","SharedArrayBuffer","memcpy","targetByteOffset","sourceByteLength","targetByteLength","dst","joinUint8Arrays","xOffset","yOffset","xLen","yLen","collapseContiguousByteRanges","sliced","toArrayBufferView","ArrayBufferViewCtor","toInt32Array","toArrayBufferViewIterator","ArrayCtor","wrap","toUint8ArrayIterator","toArrayBufferViewAsyncIterator","emit","toUint8ArrayAsyncIterator","rebaseValueOffsets","compareArrayLike","tmp","clampRange","isNaNFast","createElementComparator","search","valueOfSearch","valueOf","comparators","createSubElementsComparator","createMapComparator","createArrayLikeComparator","createVectorComparator","allowEmpty","createObjectComparator","compareArray","compareObject","vec","compareVector","lKeyItr","rKeyItr","rValItr","rVal","lKey","rKey","kKeys","for","kVals","MapRow","Proxy","MapRowProxyHandler","MapRowIterator","toJSON","vals","json","keyIndex","numKeys","includes","enumerable","configurable","Reflect","defineProperties","f64","u32","uint16ToFloat64","h","expo","sigf","sign","NaN","float64ToUint16","IndexOfVisitor","indexOfValue","searchElement","indexOfNull","compare","indexOfUnion","GetByteLengthVisitor","____","getByteLength","getDenseUnionByteLength","getSparseUnionByteLength","TypeComparator","compareManyFields","compareFields","compareConstructor","compareAny","compareInt","compareFloat","compareDate","compareTimestamp","compareTime","compareUnion","compareInterval","compareSchemas","compareTypes","coordEach","callback","excludeWrapCoord","l","stopG","geometryMaybeCollection","isGeometryCollection","wrapShrink","coordIndex","isFeatureCollection","isFeature","stop","featureIndex","geomIndex","multiFeatureIndex","geometryIndex","geomType","isPointOnLineSegment","lineSegmentStart","lineSegmentEnd","excludeBoundary","x1","y1","x2","y2","dxl","dyl","ptCoords","getCoord","getCoords","ignoreEndVertices","doBBoxOverlap","bbox1","bbox2","compareCoords","pair1","pair2","feature1","feature2","type1","type2","output","isPointInMultiPoint","multiPoint1","multiPoint2","anyMatch","i2","isMultiPointInMultiPoint","foundInsidePoint","isMultiPointOnLine","isMultiPointInPoly","lineString1","lineString2","isLineOnLine","linestring","polyBbox","lineBbox","midpoint","isLineInPoly","poly1Bbox","isPolyInPoly","preserveRef","ref","ssrSafeCreateDiv","createElement","uniqueByShape","outputItem","deepEqual","prop","deepPreserveProps","instanceProps","componentProps","popperOptions","useIsomorphicLayoutEffect","useLayoutEffect","useEffect","useMutableBox","initialValue","useRef","updateClassName","box","action","classNames","classList","classNamePlugin","defaultValue","firstElementChild","isDefaultRenderFn","props","render","$$tippy","className","onCreate","onBeforeUpdate","onAfterUpdate","TippyGenerator","tippy","content","visible","singleton","disabled","ignoreAttributes","restOfNativeProps","__source","__self","isControlledMode","isSingletonMode","useState","mounted","setMounted","attrs","setAttrs","singletonContent","setSingletonContent","mutableBox","container","renders","trigger","hideOnClick","computedProps","plugins","onTrigger","currentTarget","deps","disable","show","hook","setProps","popperInstance","hide","hideData","referenceHidden","escaped","cloneElement","createPortal","dataAttrs","toDataAttributes","useSingletonGenerator","createSingleton","overrides","sourceData","setInstances","useMemo","Tippy","defaultProps","forwardRef","useSingleton","containsNumber","geojsonType","featureOf","collectionOf","getGeom","getType","_name","IteratorVisitor","vectorIterator","inner","VectorIterator","calculateRhumbDistance","observable","randomString","random","substring","compose","funcs","arg","createThunkMiddleware","extraArgument","dispatch","getState","withExtraArgument","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","__REDUX_DEVTOOLS_EXTENSION__","setPrototypeOf","MiddlewareArray","species","prepend","createAction","prepareAction","actionCreator","prepared","payload","meta","match","Stat","setSampleSize","samples","sampleSize","incrementCount","addCount","decrementCount","subtractCount","_count","_samples","_checkSampling","addTime","_time","lastTiming","timeStart","_startTime","_timerPending","getSampleAverageCount","lastSampleCount","getSampleAverageTime","lastSampleTime","getSampleHz","getAverageCount","count","getAverageTime","getHz","Stats","stats","_initializeStats","_getOrCreate","getTable","average","hz","Endianness","Struct_","Data","childStride","_sliceBuffers","_sliceChildren","VALIDITY","TYPE","OFFSET","DATA","MakeDataVisitor","isSparseUnion","childType","makeData","generateDictionaryMap","fieldNames","names","fieldIndices","curFields","mergeMaps","newFields","newDictionaries","m1","m2","browser","isBoolean","isFunction","isPromise","isIterable","isAsyncIterable","isArrowJSON","isIteratorResult","isFileHandle","isFetchResponse","isReadableDOMStream","isReadableInterop","isWritableDOMStream","isWritableNodeStream","isReadableNodeStream","isFlatbuffersByteBuffer","segments","previousCoords","currentCoords","coords1","coords2","createSegments","lineSegmentFeature","intersects","line1","line2","x3","y3","x4","y4","denom","numeA","numeB","uA","uB","unique","tree","load","versions","electron","realUserAgent","isArrowBigNumSymbol","BigNum","SignedBigNum","UnsignedBigNum","DecimalBigNum","bigNumToNumber","bn","signed","words","negative","word","bigNumToString","hint","bigNumToBigInt","unsignedBigNumToString","carry","elem","updated","digits","base64","base32","BN","kParent","kRowIndex","StructRow","rowIndex","StructRowProxyHandler","StructRowIterator","childFields","calculateRhumbBearing","deltaLambda","deltaPsi","bear360","removeAttribute","setAttribute","initialStyles","margin","property","attribute","visitorsByTypeId","vectorPrototypesByTypeId","Vector","unchunkedData","VectorName","flat","chunk_length","isMemoized","MemoizedVector","newData","unmemoize","T","cachedValue","makeVector","init","unwrapInputs","Uint8ClampedArray","polygon1","polygon2","differenced","difference","polygonToLine","poly","coordsToLine","multiPolygonToLine","multiPoly","coordReduce","previousValue","currentCoord","propEach","propReduce","currentProperties","featureEach","featureReduce","currentFeature","coordAll","geomEach","featureProperties","featureBBox","featureId","geomReduce","currentGeometry","flattenEach","flattenReduce","segmentEach","segmentIndex","previousFeatureIndex","previousMultiIndex","prevGeomIndex","featureIndexCoord","multiPartIndexCoord","currentSegment","segmentReduce","started","lineEach","lineReduce","currentLine","findSegment","findPoint","SetVisitor","wrapSet","setEpochMsToMillisecondsLong","setVariableWidthBytes","setInt","setFloat","setFloat16","setDateDay","setEpochMsToDays","setDateMillisecond","setFixedSizeBinary","setDate","setTimestampSecond","setTimestampMillisecond","setTimestampMicrosecond","setEpochMsToMicrosecondsLong","setTimestampNanosecond","setEpochMsToNanosecondsLong","setTimestamp","setTimeSecond","setTimeMillisecond","setTimeMicrosecond","setTimeNanosecond","setTime","setDecimal","setDenseUnion","setSparseUnion","setIntervalValue","setIntervalDayTime","setIntervalYearMonth","itr","childSetters","o","_setStructVectorValue","_setStructArrayValue","_setStructObjectValue","finalAngle"],"mappings":"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","file":"7.bundle.js","sourcesContent":["import getWindow from \"./getWindow.js\";\n\nfunction isElement(node) {\n  var OwnElement = getWindow(node).Element;\n  return node instanceof OwnElement || node instanceof Element;\n}\n\nfunction isHTMLElement(node) {\n  var OwnElement = getWindow(node).HTMLElement;\n  return node instanceof OwnElement || node instanceof HTMLElement;\n}\n\nfunction isShadowRoot(node) {\n  // IE 11 has no ShadowRoot\n  if (typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n\n  var OwnElement = getWindow(node).ShadowRoot;\n  return node instanceof OwnElement || node instanceof ShadowRoot;\n}\n\nexport { isElement, isHTMLElement, isShadowRoot };","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nimport { __awaiter } from \"tslib\";\nimport streamAdapters from './adapters.mjs';\n/** @ignore */\nexport const ITERATOR_DONE = Object.freeze({ done: true, value: void (0) });\n/** @ignore */\nexport class ArrowJSON {\n    constructor(_json) {\n        this._json = _json;\n    }\n    get schema() { return this._json['schema']; }\n    get batches() { return (this._json['batches'] || []); }\n    get dictionaries() { return (this._json['dictionaries'] || []); }\n}\n/** @ignore */\nexport class ReadableInterop {\n    tee() {\n        return this._getDOMStream().tee();\n    }\n    pipe(writable, options) {\n        return this._getNodeStream().pipe(writable, options);\n    }\n    pipeTo(writable, options) { return this._getDOMStream().pipeTo(writable, options); }\n    pipeThrough(duplex, options) {\n        return this._getDOMStream().pipeThrough(duplex, options);\n    }\n    _getDOMStream() {\n        return this._DOMStream || (this._DOMStream = this.toDOMStream());\n    }\n    _getNodeStream() {\n        return this._nodeStream || (this._nodeStream = this.toNodeStream());\n    }\n}\n/** @ignore */\nexport class AsyncQueue extends ReadableInterop {\n    constructor() {\n        super();\n        this._values = [];\n        this.resolvers = [];\n        this._closedPromise = new Promise((r) => this._closedPromiseResolve = r);\n    }\n    get closed() { return this._closedPromise; }\n    cancel(reason) {\n        return __awaiter(this, void 0, void 0, function* () { yield this.return(reason); });\n    }\n    write(value) {\n        if (this._ensureOpen()) {\n            this.resolvers.length <= 0\n                ? (this._values.push(value))\n                : (this.resolvers.shift().resolve({ done: false, value }));\n        }\n    }\n    abort(value) {\n        if (this._closedPromiseResolve) {\n            this.resolvers.length <= 0\n                ? (this._error = { error: value })\n                : (this.resolvers.shift().reject({ done: true, value }));\n        }\n    }\n    close() {\n        if (this._closedPromiseResolve) {\n            const { resolvers } = this;\n            while (resolvers.length > 0) {\n                resolvers.shift().resolve(ITERATOR_DONE);\n            }\n            this._closedPromiseResolve();\n            this._closedPromiseResolve = undefined;\n        }\n    }\n    [Symbol.asyncIterator]() { return this; }\n    toDOMStream(options) {\n        return streamAdapters.toDOMStream((this._closedPromiseResolve || this._error)\n            ? this\n            : this._values, options);\n    }\n    toNodeStream(options) {\n        return streamAdapters.toNodeStream((this._closedPromiseResolve || this._error)\n            ? this\n            : this._values, options);\n    }\n    throw(_) {\n        return __awaiter(this, void 0, void 0, function* () { yield this.abort(_); return ITERATOR_DONE; });\n    }\n    return(_) {\n        return __awaiter(this, void 0, void 0, function* () { yield this.close(); return ITERATOR_DONE; });\n    }\n    read(size) {\n        return __awaiter(this, void 0, void 0, function* () { return (yield this.next(size, 'read')).value; });\n    }\n    peek(size) {\n        return __awaiter(this, void 0, void 0, function* () { return (yield this.next(size, 'peek')).value; });\n    }\n    next(..._args) {\n        if (this._values.length > 0) {\n            return Promise.resolve({ done: false, value: this._values.shift() });\n        }\n        else if (this._error) {\n            return Promise.reject({ done: true, value: this._error.error });\n        }\n        else if (!this._closedPromiseResolve) {\n            return Promise.resolve(ITERATOR_DONE);\n        }\n        else {\n            return new Promise((resolve, reject) => {\n                this.resolvers.push({ resolve, reject });\n            });\n        }\n    }\n    _ensureOpen() {\n        if (this._closedPromiseResolve) {\n            return true;\n        }\n        throw new Error(`AsyncQueue is closed`);\n    }\n}\n\n//# sourceMappingURL=interfaces.mjs.map\n","// Taken from http://geomalgorithms.com/a02-_lines.html\nimport getDistance from \"@turf/distance\";\nimport { convertLength, feature, lineString, point, } from \"@turf/helpers\";\nimport { featureOf } from \"@turf/invariant\";\nimport { segmentEach } from \"@turf/meta\";\nimport getPlanarDistance from \"@turf/rhumb-distance\";\n/**\n * Returns the minimum distance between a {@link Point} and a {@link LineString}, being the distance from a line the\n * minimum distance between the point and any segment of the `LineString`.\n *\n * @name pointToLineDistance\n * @param {Feature<Point>|Array<number>} pt Feature or Geometry\n * @param {Feature<LineString>} line GeoJSON Feature or Geometry\n * @param {Object} [options={}] Optional parameters\n * @param {string} [options.units=\"kilometers\"] can be anything supported by turf/convertLength\n * (ex: degrees, radians, miles, or kilometers)\n * @param {string} [options.method=\"geodesic\"] wether to calculate the distance based on geodesic (spheroid) or\n * planar (flat) method. Valid options are 'geodesic' or 'planar'.\n * @returns {number} distance between point and line\n * @example\n * var pt = turf.point([0, 0]);\n * var line = turf.lineString([[1, 1],[-1, 1]]);\n *\n * var distance = turf.pointToLineDistance(pt, line, {units: 'miles'});\n * //=69.11854715938406\n */\nfunction pointToLineDistance(pt, line, options) {\n    if (options === void 0) { options = {}; }\n    // Optional parameters\n    if (!options.method) {\n        options.method = \"geodesic\";\n    }\n    if (!options.units) {\n        options.units = \"kilometers\";\n    }\n    // validation\n    if (!pt) {\n        throw new Error(\"pt is required\");\n    }\n    if (Array.isArray(pt)) {\n        pt = point(pt);\n    }\n    else if (pt.type === \"Point\") {\n        pt = feature(pt);\n    }\n    else {\n        featureOf(pt, \"Point\", \"point\");\n    }\n    if (!line) {\n        throw new Error(\"line is required\");\n    }\n    if (Array.isArray(line)) {\n        line = lineString(line);\n    }\n    else if (line.type === \"LineString\") {\n        line = feature(line);\n    }\n    else {\n        featureOf(line, \"LineString\", \"line\");\n    }\n    var distance = Infinity;\n    var p = pt.geometry.coordinates;\n    segmentEach(line, function (segment) {\n        var a = segment.geometry.coordinates[0];\n        var b = segment.geometry.coordinates[1];\n        var d = distanceToSegment(p, a, b, options);\n        if (d < distance) {\n            distance = d;\n        }\n    });\n    return convertLength(distance, \"degrees\", options.units);\n}\n/**\n * Returns the distance between a point P on a segment AB.\n *\n * @private\n * @param {Array<number>} p external point\n * @param {Array<number>} a first segment point\n * @param {Array<number>} b second segment point\n * @param {Object} [options={}] Optional parameters\n * @returns {number} distance\n */\nfunction distanceToSegment(p, a, b, options) {\n    var v = [b[0] - a[0], b[1] - a[1]];\n    var w = [p[0] - a[0], p[1] - a[1]];\n    var c1 = dot(w, v);\n    if (c1 <= 0) {\n        return calcDistance(p, a, { method: options.method, units: \"degrees\" });\n    }\n    var c2 = dot(v, v);\n    if (c2 <= c1) {\n        return calcDistance(p, b, { method: options.method, units: \"degrees\" });\n    }\n    var b2 = c1 / c2;\n    var Pb = [a[0] + b2 * v[0], a[1] + b2 * v[1]];\n    return calcDistance(p, Pb, { method: options.method, units: \"degrees\" });\n}\nfunction dot(u, v) {\n    return u[0] * v[0] + u[1] * v[1];\n}\nfunction calcDistance(a, b, options) {\n    return options.method === \"planar\"\n        ? getPlanarDistance(a, b, options)\n        : getDistance(a, b, options);\n}\nexport default pointToLineDistance;\n","import bearing from \"@turf/bearing\";\nimport distance from \"@turf/distance\";\nimport destination from \"@turf/destination\";\nimport lineIntersects from \"@turf/line-intersect\";\nimport { flattenEach } from \"@turf/meta\";\nimport { point, lineString, } from \"@turf/helpers\";\nimport { getCoords } from \"@turf/invariant\";\n/**\n * Takes a {@link Point} and a {@link LineString} and calculates the closest Point on the (Multi)LineString.\n *\n * @name nearestPointOnLine\n * @param {Geometry|Feature<LineString|MultiLineString>} lines lines to snap to\n * @param {Geometry|Feature<Point>|number[]} pt point to snap from\n * @param {Object} [options={}] Optional parameters\n * @param {string} [options.units='kilometers'] can be degrees, radians, miles, or kilometers\n * @returns {Feature<Point>} closest point on the `line` to `point`. The properties object will contain three values: `index`: closest point was found on nth line part, `dist`: distance between pt and the closest point, `location`: distance along the line between start and the closest point.\n * @example\n * var line = turf.lineString([\n *     [-77.031669, 38.878605],\n *     [-77.029609, 38.881946],\n *     [-77.020339, 38.884084],\n *     [-77.025661, 38.885821],\n *     [-77.021884, 38.889563],\n *     [-77.019824, 38.892368]\n * ]);\n * var pt = turf.point([-77.037076, 38.884017]);\n *\n * var snapped = turf.nearestPointOnLine(line, pt, {units: 'miles'});\n *\n * //addToMap\n * var addToMap = [line, pt, snapped];\n * snapped.properties['marker-color'] = '#00f';\n */\nfunction nearestPointOnLine(lines, pt, options) {\n    if (options === void 0) { options = {}; }\n    var closestPt = point([Infinity, Infinity], {\n        dist: Infinity,\n    });\n    var length = 0.0;\n    flattenEach(lines, function (line) {\n        var coords = getCoords(line);\n        for (var i = 0; i < coords.length - 1; i++) {\n            //start\n            var start = point(coords[i]);\n            start.properties.dist = distance(pt, start, options);\n            //stop\n            var stop_1 = point(coords[i + 1]);\n            stop_1.properties.dist = distance(pt, stop_1, options);\n            // sectionLength\n            var sectionLength = distance(start, stop_1, options);\n            //perpendicular\n            var heightDistance = Math.max(start.properties.dist, stop_1.properties.dist);\n            var direction = bearing(start, stop_1);\n            var perpendicularPt1 = destination(pt, heightDistance, direction + 90, options);\n            var perpendicularPt2 = destination(pt, heightDistance, direction - 90, options);\n            var intersect = lineIntersects(lineString([\n                perpendicularPt1.geometry.coordinates,\n                perpendicularPt2.geometry.coordinates,\n            ]), lineString([start.geometry.coordinates, stop_1.geometry.coordinates]));\n            var intersectPt = null;\n            if (intersect.features.length > 0) {\n                intersectPt = intersect.features[0];\n                intersectPt.properties.dist = distance(pt, intersectPt, options);\n                intersectPt.properties.location =\n                    length + distance(start, intersectPt, options);\n            }\n            if (start.properties.dist < closestPt.properties.dist) {\n                closestPt = start;\n                closestPt.properties.index = i;\n                closestPt.properties.location = length;\n            }\n            if (stop_1.properties.dist < closestPt.properties.dist) {\n                closestPt = stop_1;\n                closestPt.properties.index = i + 1;\n                closestPt.properties.location = length + sectionLength;\n            }\n            if (intersectPt &&\n                intersectPt.properties.dist < closestPt.properties.dist) {\n                closestPt = intersectPt;\n                closestPt.properties.index = i;\n            }\n            // update length\n            length += sectionLength;\n        }\n    });\n    return closestPt;\n}\nexport default nearestPointOnLine;\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nimport { Type, Precision, DateUnit, TimeUnit, IntervalUnit, UnionMode } from './enum.mjs';\nimport { DataType, } from './type.mjs';\nexport class Visitor {\n    visitMany(nodes, ...args) {\n        return nodes.map((node, i) => this.visit(node, ...args.map((x) => x[i])));\n    }\n    visit(...args) {\n        return this.getVisitFn(args[0], false).apply(this, args);\n    }\n    getVisitFn(node, throwIfNotFound = true) {\n        return getVisitFn(this, node, throwIfNotFound);\n    }\n    getVisitFnByTypeId(typeId, throwIfNotFound = true) {\n        return getVisitFnByTypeId(this, typeId, throwIfNotFound);\n    }\n    visitNull(_node, ..._args) { return null; }\n    visitBool(_node, ..._args) { return null; }\n    visitInt(_node, ..._args) { return null; }\n    visitFloat(_node, ..._args) { return null; }\n    visitUtf8(_node, ..._args) { return null; }\n    visitBinary(_node, ..._args) { return null; }\n    visitFixedSizeBinary(_node, ..._args) { return null; }\n    visitDate(_node, ..._args) { return null; }\n    visitTimestamp(_node, ..._args) { return null; }\n    visitTime(_node, ..._args) { return null; }\n    visitDecimal(_node, ..._args) { return null; }\n    visitList(_node, ..._args) { return null; }\n    visitStruct(_node, ..._args) { return null; }\n    visitUnion(_node, ..._args) { return null; }\n    visitDictionary(_node, ..._args) { return null; }\n    visitInterval(_node, ..._args) { return null; }\n    visitFixedSizeList(_node, ..._args) { return null; }\n    visitMap(_node, ..._args) { return null; }\n}\n/** @ignore */\nfunction getVisitFn(visitor, node, throwIfNotFound = true) {\n    if (typeof node === 'number') {\n        return getVisitFnByTypeId(visitor, node, throwIfNotFound);\n    }\n    if (typeof node === 'string' && (node in Type)) {\n        return getVisitFnByTypeId(visitor, Type[node], throwIfNotFound);\n    }\n    if (node && (node instanceof DataType)) {\n        return getVisitFnByTypeId(visitor, inferDType(node), throwIfNotFound);\n    }\n    if ((node === null || node === void 0 ? void 0 : node.type) && (node.type instanceof DataType)) {\n        return getVisitFnByTypeId(visitor, inferDType(node.type), throwIfNotFound);\n    }\n    return getVisitFnByTypeId(visitor, Type.NONE, throwIfNotFound);\n}\n/** @ignore */\nfunction getVisitFnByTypeId(visitor, dtype, throwIfNotFound = true) {\n    let fn = null;\n    switch (dtype) {\n        case Type.Null:\n            fn = visitor.visitNull;\n            break;\n        case Type.Bool:\n            fn = visitor.visitBool;\n            break;\n        case Type.Int:\n            fn = visitor.visitInt;\n            break;\n        case Type.Int8:\n            fn = visitor.visitInt8 || visitor.visitInt;\n            break;\n        case Type.Int16:\n            fn = visitor.visitInt16 || visitor.visitInt;\n            break;\n        case Type.Int32:\n            fn = visitor.visitInt32 || visitor.visitInt;\n            break;\n        case Type.Int64:\n            fn = visitor.visitInt64 || visitor.visitInt;\n            break;\n        case Type.Uint8:\n            fn = visitor.visitUint8 || visitor.visitInt;\n            break;\n        case Type.Uint16:\n            fn = visitor.visitUint16 || visitor.visitInt;\n            break;\n        case Type.Uint32:\n            fn = visitor.visitUint32 || visitor.visitInt;\n            break;\n        case Type.Uint64:\n            fn = visitor.visitUint64 || visitor.visitInt;\n            break;\n        case Type.Float:\n            fn = visitor.visitFloat;\n            break;\n        case Type.Float16:\n            fn = visitor.visitFloat16 || visitor.visitFloat;\n            break;\n        case Type.Float32:\n            fn = visitor.visitFloat32 || visitor.visitFloat;\n            break;\n        case Type.Float64:\n            fn = visitor.visitFloat64 || visitor.visitFloat;\n            break;\n        case Type.Utf8:\n            fn = visitor.visitUtf8;\n            break;\n        case Type.Binary:\n            fn = visitor.visitBinary;\n            break;\n        case Type.FixedSizeBinary:\n            fn = visitor.visitFixedSizeBinary;\n            break;\n        case Type.Date:\n            fn = visitor.visitDate;\n            break;\n        case Type.DateDay:\n            fn = visitor.visitDateDay || visitor.visitDate;\n            break;\n        case Type.DateMillisecond:\n            fn = visitor.visitDateMillisecond || visitor.visitDate;\n            break;\n        case Type.Timestamp:\n            fn = visitor.visitTimestamp;\n            break;\n        case Type.TimestampSecond:\n            fn = visitor.visitTimestampSecond || visitor.visitTimestamp;\n            break;\n        case Type.TimestampMillisecond:\n            fn = visitor.visitTimestampMillisecond || visitor.visitTimestamp;\n            break;\n        case Type.TimestampMicrosecond:\n            fn = visitor.visitTimestampMicrosecond || visitor.visitTimestamp;\n            break;\n        case Type.TimestampNanosecond:\n            fn = visitor.visitTimestampNanosecond || visitor.visitTimestamp;\n            break;\n        case Type.Time:\n            fn = visitor.visitTime;\n            break;\n        case Type.TimeSecond:\n            fn = visitor.visitTimeSecond || visitor.visitTime;\n            break;\n        case Type.TimeMillisecond:\n            fn = visitor.visitTimeMillisecond || visitor.visitTime;\n            break;\n        case Type.TimeMicrosecond:\n            fn = visitor.visitTimeMicrosecond || visitor.visitTime;\n            break;\n        case Type.TimeNanosecond:\n            fn = visitor.visitTimeNanosecond || visitor.visitTime;\n            break;\n        case Type.Decimal:\n            fn = visitor.visitDecimal;\n            break;\n        case Type.List:\n            fn = visitor.visitList;\n            break;\n        case Type.Struct:\n            fn = visitor.visitStruct;\n            break;\n        case Type.Union:\n            fn = visitor.visitUnion;\n            break;\n        case Type.DenseUnion:\n            fn = visitor.visitDenseUnion || visitor.visitUnion;\n            break;\n        case Type.SparseUnion:\n            fn = visitor.visitSparseUnion || visitor.visitUnion;\n            break;\n        case Type.Dictionary:\n            fn = visitor.visitDictionary;\n            break;\n        case Type.Interval:\n            fn = visitor.visitInterval;\n            break;\n        case Type.IntervalDayTime:\n            fn = visitor.visitIntervalDayTime || visitor.visitInterval;\n            break;\n        case Type.IntervalYearMonth:\n            fn = visitor.visitIntervalYearMonth || visitor.visitInterval;\n            break;\n        case Type.FixedSizeList:\n            fn = visitor.visitFixedSizeList;\n            break;\n        case Type.Map:\n            fn = visitor.visitMap;\n            break;\n    }\n    if (typeof fn === 'function')\n        return fn;\n    if (!throwIfNotFound)\n        return () => null;\n    throw new Error(`Unrecognized type '${Type[dtype]}'`);\n}\n/** @ignore */\nfunction inferDType(type) {\n    switch (type.typeId) {\n        case Type.Null: return Type.Null;\n        case Type.Int: {\n            const { bitWidth, isSigned } = type;\n            switch (bitWidth) {\n                case 8: return isSigned ? Type.Int8 : Type.Uint8;\n                case 16: return isSigned ? Type.Int16 : Type.Uint16;\n                case 32: return isSigned ? Type.Int32 : Type.Uint32;\n                case 64: return isSigned ? Type.Int64 : Type.Uint64;\n            }\n            // @ts-ignore\n            return Type.Int;\n        }\n        case Type.Float:\n            switch (type.precision) {\n                case Precision.HALF: return Type.Float16;\n                case Precision.SINGLE: return Type.Float32;\n                case Precision.DOUBLE: return Type.Float64;\n            }\n            // @ts-ignore\n            return Type.Float;\n        case Type.Binary: return Type.Binary;\n        case Type.Utf8: return Type.Utf8;\n        case Type.Bool: return Type.Bool;\n        case Type.Decimal: return Type.Decimal;\n        case Type.Time:\n            switch (type.unit) {\n                case TimeUnit.SECOND: return Type.TimeSecond;\n                case TimeUnit.MILLISECOND: return Type.TimeMillisecond;\n                case TimeUnit.MICROSECOND: return Type.TimeMicrosecond;\n                case TimeUnit.NANOSECOND: return Type.TimeNanosecond;\n            }\n            // @ts-ignore\n            return Type.Time;\n        case Type.Timestamp:\n            switch (type.unit) {\n                case TimeUnit.SECOND: return Type.TimestampSecond;\n                case TimeUnit.MILLISECOND: return Type.TimestampMillisecond;\n                case TimeUnit.MICROSECOND: return Type.TimestampMicrosecond;\n                case TimeUnit.NANOSECOND: return Type.TimestampNanosecond;\n            }\n            // @ts-ignore\n            return Type.Timestamp;\n        case Type.Date:\n            switch (type.unit) {\n                case DateUnit.DAY: return Type.DateDay;\n                case DateUnit.MILLISECOND: return Type.DateMillisecond;\n            }\n            // @ts-ignore\n            return Type.Date;\n        case Type.Interval:\n            switch (type.unit) {\n                case IntervalUnit.DAY_TIME: return Type.IntervalDayTime;\n                case IntervalUnit.YEAR_MONTH: return Type.IntervalYearMonth;\n            }\n            // @ts-ignore\n            return Type.Interval;\n        case Type.Map: return Type.Map;\n        case Type.List: return Type.List;\n        case Type.Struct: return Type.Struct;\n        case Type.Union:\n            switch (type.mode) {\n                case UnionMode.Dense: return Type.DenseUnion;\n                case UnionMode.Sparse: return Type.SparseUnion;\n            }\n            // @ts-ignore\n            return Type.Union;\n        case Type.FixedSizeBinary: return Type.FixedSizeBinary;\n        case Type.FixedSizeList: return Type.FixedSizeList;\n        case Type.Dictionary: return Type.Dictionary;\n    }\n    throw new Error(`Unrecognized type '${Type[type.typeId]}'`);\n}\n// Add these here so they're picked up by the externs creator\n// in the build, and closure-compiler doesn't minify them away\nVisitor.prototype.visitInt8 = null;\nVisitor.prototype.visitInt16 = null;\nVisitor.prototype.visitInt32 = null;\nVisitor.prototype.visitInt64 = null;\nVisitor.prototype.visitUint8 = null;\nVisitor.prototype.visitUint16 = null;\nVisitor.prototype.visitUint32 = null;\nVisitor.prototype.visitUint64 = null;\nVisitor.prototype.visitFloat16 = null;\nVisitor.prototype.visitFloat32 = null;\nVisitor.prototype.visitFloat64 = null;\nVisitor.prototype.visitDateDay = null;\nVisitor.prototype.visitDateMillisecond = null;\nVisitor.prototype.visitTimestampSecond = null;\nVisitor.prototype.visitTimestampMillisecond = null;\nVisitor.prototype.visitTimestampMicrosecond = null;\nVisitor.prototype.visitTimestampNanosecond = null;\nVisitor.prototype.visitTimeSecond = null;\nVisitor.prototype.visitTimeMillisecond = null;\nVisitor.prototype.visitTimeMicrosecond = null;\nVisitor.prototype.visitTimeNanosecond = null;\nVisitor.prototype.visitDenseUnion = null;\nVisitor.prototype.visitSparseUnion = null;\nVisitor.prototype.visitIntervalDayTime = null;\nVisitor.prototype.visitIntervalYearMonth = null;\n\n//# sourceMappingURL=visitor.mjs.map\n","import center from '@turf/center';\nimport { GeoJSONReader, BufferOp, GeoJSONWriter } from 'turf-jsts';\nimport { featureEach, geomEach } from '@turf/meta';\nimport { geoAzimuthalEquidistant } from 'd3-geo';\nimport { featureCollection, earthRadius, radiansToLength, lengthToRadians, feature } from '@turf/helpers';\n\n/**\n * Calculates a buffer for input features for a given radius. Units supported are miles, kilometers, and degrees.\n *\n * When using a negative radius, the resulting geometry may be invalid if\n * it's too small compared to the radius magnitude. If the input is a\n * FeatureCollection, only valid members will be returned in the output\n * FeatureCollection - i.e., the output collection may have fewer members than\n * the input, or even be empty.\n *\n * @name buffer\n * @param {FeatureCollection|Geometry|Feature<any>} geojson input to be buffered\n * @param {number} radius distance to draw the buffer (negative values are allowed)\n * @param {Object} [options={}] Optional parameters\n * @param {string} [options.units=\"kilometers\"] any of the options supported by turf units\n * @param {number} [options.steps=8] number of steps\n * @returns {FeatureCollection|Feature<Polygon|MultiPolygon>|undefined} buffered features\n * @example\n * var point = turf.point([-90.548630, 14.616599]);\n * var buffered = turf.buffer(point, 500, {units: 'miles'});\n *\n * //addToMap\n * var addToMap = [point, buffered]\n */\nfunction buffer(geojson, radius, options) {\n  // Optional params\n  options = options || {};\n\n  // use user supplied options or default values\n  var units = options.units || \"kilometers\";\n  var steps = options.steps || 8;\n\n  // validation\n  if (!geojson) throw new Error(\"geojson is required\");\n  if (typeof options !== \"object\") throw new Error(\"options must be an object\");\n  if (typeof steps !== \"number\") throw new Error(\"steps must be an number\");\n\n  // Allow negative buffers (\"erosion\") or zero-sized buffers (\"repair geometry\")\n  if (radius === undefined) throw new Error(\"radius is required\");\n  if (steps <= 0) throw new Error(\"steps must be greater than 0\");\n\n  var results = [];\n  switch (geojson.type) {\n    case \"GeometryCollection\":\n      geomEach(geojson, function (geometry) {\n        var buffered = bufferFeature(geometry, radius, units, steps);\n        if (buffered) results.push(buffered);\n      });\n      return featureCollection(results);\n    case \"FeatureCollection\":\n      featureEach(geojson, function (feature) {\n        var multiBuffered = bufferFeature(feature, radius, units, steps);\n        if (multiBuffered) {\n          featureEach(multiBuffered, function (buffered) {\n            if (buffered) results.push(buffered);\n          });\n        }\n      });\n      return featureCollection(results);\n  }\n  return bufferFeature(geojson, radius, units, steps);\n}\n\n/**\n * Buffer single Feature/Geometry\n *\n * @private\n * @param {Feature<any>} geojson input to be buffered\n * @param {number} radius distance to draw the buffer\n * @param {string} [units='kilometers'] any of the options supported by turf units\n * @param {number} [steps=8] number of steps\n * @returns {Feature<Polygon|MultiPolygon>} buffered feature\n */\nfunction bufferFeature(geojson, radius, units, steps) {\n  var properties = geojson.properties || {};\n  var geometry = geojson.type === \"Feature\" ? geojson.geometry : geojson;\n\n  // Geometry Types faster than jsts\n  if (geometry.type === \"GeometryCollection\") {\n    var results = [];\n    geomEach(geojson, function (geometry) {\n      var buffered = bufferFeature(geometry, radius, units, steps);\n      if (buffered) results.push(buffered);\n    });\n    return featureCollection(results);\n  }\n\n  // Project GeoJSON to Azimuthal Equidistant projection (convert to Meters)\n  var projection = defineProjection(geometry);\n  var projected = {\n    type: geometry.type,\n    coordinates: projectCoords(geometry.coordinates, projection),\n  };\n\n  // JSTS buffer operation\n  var reader = new GeoJSONReader();\n  var geom = reader.read(projected);\n  var distance = radiansToLength(lengthToRadians(radius, units), \"meters\");\n  var buffered = BufferOp.bufferOp(geom, distance, steps);\n  var writer = new GeoJSONWriter();\n  buffered = writer.write(buffered);\n\n  // Detect if empty geometries\n  if (coordsIsNaN(buffered.coordinates)) return undefined;\n\n  // Unproject coordinates (convert to Degrees)\n  var result = {\n    type: buffered.type,\n    coordinates: unprojectCoords(buffered.coordinates, projection),\n  };\n\n  return feature(result, properties);\n}\n\n/**\n * Coordinates isNaN\n *\n * @private\n * @param {Array<any>} coords GeoJSON Coordinates\n * @returns {boolean} if NaN exists\n */\nfunction coordsIsNaN(coords) {\n  if (Array.isArray(coords[0])) return coordsIsNaN(coords[0]);\n  return isNaN(coords[0]);\n}\n\n/**\n * Project coordinates to projection\n *\n * @private\n * @param {Array<any>} coords to project\n * @param {GeoProjection} proj D3 Geo Projection\n * @returns {Array<any>} projected coordinates\n */\nfunction projectCoords(coords, proj) {\n  if (typeof coords[0] !== \"object\") return proj(coords);\n  return coords.map(function (coord) {\n    return projectCoords(coord, proj);\n  });\n}\n\n/**\n * Un-Project coordinates to projection\n *\n * @private\n * @param {Array<any>} coords to un-project\n * @param {GeoProjection} proj D3 Geo Projection\n * @returns {Array<any>} un-projected coordinates\n */\nfunction unprojectCoords(coords, proj) {\n  if (typeof coords[0] !== \"object\") return proj.invert(coords);\n  return coords.map(function (coord) {\n    return unprojectCoords(coord, proj);\n  });\n}\n\n/**\n * Define Azimuthal Equidistant projection\n *\n * @private\n * @param {Geometry|Feature<any>} geojson Base projection on center of GeoJSON\n * @returns {GeoProjection} D3 Geo Azimuthal Equidistant Projection\n */\nfunction defineProjection(geojson) {\n  var coords = center(geojson).geometry.coordinates;\n  var rotation = [-coords[0], -coords[1]];\n  return geoAzimuthalEquidistant().rotate(rotation).scale(earthRadius);\n}\n\nexport default buffer;\n","import { isObject, isNumber, degreesToRadians, polygon } from '@turf/helpers';\nimport rhumbDestination from '@turf/rhumb-destination';\nimport transformRotate from '@turf/transform-rotate';\nimport { getCoord } from '@turf/invariant';\n\n/**\n * Takes a {@link Point} and calculates the ellipse polygon given two semi-axes expressed in variable units and steps for precision.\n *\n * @param {Coord} center center point\n * @param {number} xSemiAxis semi (major) axis of the ellipse along the x-axis\n * @param {number} ySemiAxis semi (minor) axis of the ellipse along the y-axis\n * @param {Object} [options={}] Optional parameters\n * @param {number} [options.angle=0] angle of rotation in decimal degrees, positive clockwise\n * @param {Coord} [options.pivot='origin'] point around which the rotation will be performed\n * @param {number} [options.steps=64] number of steps\n * @param {string} [options.units='kilometers'] unit of measurement for axes\n * @param {Object} [options.properties={}] properties\n * @returns {Feature<Polygon>} ellipse polygon\n * @example\n * var center = [-75, 40];\n * var xSemiAxis = 5;\n * var ySemiAxis = 2;\n * var ellipse = turf.ellipse(center, xSemiAxis, ySemiAxis);\n *\n * //addToMap\n * var addToMap = [turf.point(center), ellipse]\n */\nfunction ellipse(center, xSemiAxis, ySemiAxis, options) {\n  // Optional params\n  options = options || {};\n  var steps = options.steps || 64;\n  var units = options.units || \"kilometers\";\n  var angle = options.angle || 0;\n  var pivot = options.pivot || center;\n  var properties = options.properties || center.properties || {};\n\n  // validation\n  if (!center) throw new Error(\"center is required\");\n  if (!xSemiAxis) throw new Error(\"xSemiAxis is required\");\n  if (!ySemiAxis) throw new Error(\"ySemiAxis is required\");\n  if (!isObject(options)) throw new Error(\"options must be an object\");\n  if (!isNumber(steps)) throw new Error(\"steps must be a number\");\n  if (!isNumber(angle)) throw new Error(\"angle must be a number\");\n\n  var centerCoords = getCoord(center);\n  if (units === \"degrees\") {\n    var angleRad = degreesToRadians(angle);\n  } else {\n    xSemiAxis = rhumbDestination(center, xSemiAxis, 90, { units: units });\n    ySemiAxis = rhumbDestination(center, ySemiAxis, 0, { units: units });\n    xSemiAxis = getCoord(xSemiAxis)[0] - centerCoords[0];\n    ySemiAxis = getCoord(ySemiAxis)[1] - centerCoords[1];\n  }\n\n  var coordinates = [];\n  for (var i = 0; i < steps; i += 1) {\n    var stepAngle = (i * -360) / steps;\n    var x =\n      (xSemiAxis * ySemiAxis) /\n      Math.sqrt(\n        Math.pow(ySemiAxis, 2) +\n          Math.pow(xSemiAxis, 2) * Math.pow(getTanDeg(stepAngle), 2)\n      );\n    var y =\n      (xSemiAxis * ySemiAxis) /\n      Math.sqrt(\n        Math.pow(xSemiAxis, 2) +\n          Math.pow(ySemiAxis, 2) / Math.pow(getTanDeg(stepAngle), 2)\n      );\n\n    if (stepAngle < -90 && stepAngle >= -270) x = -x;\n    if (stepAngle < -180 && stepAngle >= -360) y = -y;\n    if (units === \"degrees\") {\n      var newx = x * Math.cos(angleRad) + y * Math.sin(angleRad);\n      var newy = y * Math.cos(angleRad) - x * Math.sin(angleRad);\n      x = newx;\n      y = newy;\n    }\n\n    coordinates.push([x + centerCoords[0], y + centerCoords[1]]);\n  }\n  coordinates.push(coordinates[0]);\n  if (units === \"degrees\") {\n    return polygon([coordinates], properties);\n  } else {\n    return transformRotate(polygon([coordinates], properties), angle, {\n      pivot: pivot,\n    });\n  }\n}\n\n/**\n * Get Tan Degrees\n *\n * @private\n * @param {number} deg Degrees\n * @returns {number} Tan Degrees\n */\nfunction getTanDeg(deg) {\n  var rad = (deg * Math.PI) / 180;\n  return Math.tan(rad);\n}\n\nexport default ellipse;\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\n/** @ignore */\nexport class ChunkedIterator {\n    constructor(numChunks = 0, getChunkIterator) {\n        this.numChunks = numChunks;\n        this.getChunkIterator = getChunkIterator;\n        this.chunkIndex = 0;\n        this.chunkIterator = this.getChunkIterator(0);\n    }\n    next() {\n        while (this.chunkIndex < this.numChunks) {\n            const next = this.chunkIterator.next();\n            if (!next.done) {\n                return next;\n            }\n            if (++this.chunkIndex < this.numChunks) {\n                this.chunkIterator = this.getChunkIterator(this.chunkIndex);\n            }\n        }\n        return { done: true, value: null };\n    }\n    [Symbol.iterator]() {\n        return this;\n    }\n}\n/** @ignore */\nexport function computeChunkNullCounts(chunks) {\n    return chunks.reduce((nullCount, chunk) => nullCount + chunk.nullCount, 0);\n}\n/** @ignore */\nexport function computeChunkOffsets(chunks) {\n    return chunks.reduce((offsets, chunk, index) => {\n        offsets[index + 1] = offsets[index] + chunk.length;\n        return offsets;\n    }, new Uint32Array(chunks.length + 1));\n}\n/** @ignore */\nexport function sliceChunks(chunks, offsets, begin, end) {\n    const slices = [];\n    for (let i = -1, n = chunks.length; ++i < n;) {\n        const chunk = chunks[i];\n        const offset = offsets[i];\n        const { length } = chunk;\n        // Stop if the child is to the right of the slice boundary\n        if (offset >= end) {\n            break;\n        }\n        // Exclude children to the left of of the slice boundary\n        if (begin >= offset + length) {\n            continue;\n        }\n        // Include entire child if between both left and right boundaries\n        if (offset >= begin && (offset + length) <= end) {\n            slices.push(chunk);\n            continue;\n        }\n        // Include the child slice that overlaps one of the slice boundaries\n        const from = Math.max(0, begin - offset);\n        const to = Math.min(end - offset, length);\n        slices.push(chunk.slice(from, to - from));\n    }\n    if (slices.length === 0) {\n        slices.push(chunks[0].slice(0, 0));\n    }\n    return slices;\n}\n/** @ignore */\nexport function binarySearch(chunks, offsets, idx, fn) {\n    let lhs = 0, mid = 0, rhs = offsets.length - 1;\n    do {\n        if (lhs >= rhs - 1) {\n            return (idx < offsets[rhs]) ? fn(chunks, lhs, idx - offsets[lhs]) : null;\n        }\n        mid = lhs + (Math.trunc((rhs - lhs) * .5));\n        idx < offsets[mid] ? (rhs = mid) : (lhs = mid);\n    } while (lhs < rhs);\n}\n/** @ignore */\nexport function isChunkedValid(data, index) {\n    return data.getValid(index);\n}\n/** @ignore */\nexport function wrapChunkedCall1(fn) {\n    function chunkedFn(chunks, i, j) { return fn(chunks[i], j); }\n    return function (index) {\n        const data = this.data;\n        return binarySearch(data, this._offsets, index, chunkedFn);\n    };\n}\n/** @ignore */\nexport function wrapChunkedCall2(fn) {\n    let _2;\n    function chunkedFn(chunks, i, j) { return fn(chunks[i], j, _2); }\n    return function (index, value) {\n        const data = this.data;\n        _2 = value;\n        const result = binarySearch(data, this._offsets, index, chunkedFn);\n        _2 = undefined;\n        return result;\n    };\n}\n/** @ignore */\nexport function wrapChunkedIndexOf(indexOf) {\n    let _1;\n    function chunkedIndexOf(data, chunkIndex, fromIndex) {\n        let begin = fromIndex, index = 0, total = 0;\n        for (let i = chunkIndex - 1, n = data.length; ++i < n;) {\n            const chunk = data[i];\n            if (~(index = indexOf(chunk, _1, begin))) {\n                return total + index;\n            }\n            begin = 0;\n            total += chunk.length;\n        }\n        return -1;\n    }\n    return function (element, offset) {\n        _1 = element;\n        const data = this.data;\n        const result = typeof offset !== 'number'\n            ? chunkedIndexOf(data, 0, 0)\n            : binarySearch(data, this._offsets, offset, chunkedIndexOf);\n        _1 = undefined;\n        return result;\n    };\n}\n\n//# sourceMappingURL=chunk.mjs.map\n","import { getCoord } from \"@turf/invariant\";\nimport { radiansToLength, degreesToRadians, } from \"@turf/helpers\";\n//http://en.wikipedia.org/wiki/Haversine_formula\n//http://www.movable-type.co.uk/scripts/latlong.html\n/**\n * Calculates the distance between two {@link Point|points} in degrees, radians, miles, or kilometers.\n * This uses the [Haversine formula](http://en.wikipedia.org/wiki/Haversine_formula) to account for global curvature.\n *\n * @name distance\n * @param {Coord | Point} from origin point or coordinate\n * @param {Coord | Point} to destination point or coordinate\n * @param {Object} [options={}] Optional parameters\n * @param {string} [options.units='kilometers'] can be degrees, radians, miles, or kilometers\n * @returns {number} distance between the two points\n * @example\n * var from = turf.point([-75.343, 39.984]);\n * var to = turf.point([-75.534, 39.123]);\n * var options = {units: 'miles'};\n *\n * var distance = turf.distance(from, to, options);\n *\n * //addToMap\n * var addToMap = [from, to];\n * from.properties.distance = distance;\n * to.properties.distance = distance;\n */\nfunction distance(from, to, options) {\n    if (options === void 0) { options = {}; }\n    var coordinates1 = getCoord(from);\n    var coordinates2 = getCoord(to);\n    var dLat = degreesToRadians(coordinates2[1] - coordinates1[1]);\n    var dLon = degreesToRadians(coordinates2[0] - coordinates1[0]);\n    var lat1 = degreesToRadians(coordinates1[1]);\n    var lat2 = degreesToRadians(coordinates2[1]);\n    var a = Math.pow(Math.sin(dLat / 2), 2) +\n        Math.pow(Math.sin(dLon / 2), 2) * Math.cos(lat1) * Math.cos(lat2);\n    return radiansToLength(2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a)), options.units);\n}\nexport default distance;\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nvar _a;\nimport { Data, makeData } from './data.mjs';\nimport { Table } from './table.mjs';\nimport { Vector } from './vector.mjs';\nimport { Schema, Field } from './schema.mjs';\nimport { DataType, Struct, Null } from './type.mjs';\nimport { instance as getVisitor } from './visitor/get.mjs';\nimport { instance as setVisitor } from './visitor/set.mjs';\nimport { instance as indexOfVisitor } from './visitor/indexof.mjs';\nimport { instance as iteratorVisitor } from './visitor/iterator.mjs';\nimport { instance as byteLengthVisitor } from './visitor/bytelength.mjs';\n/** @ignore */\nexport class RecordBatch {\n    constructor(...args) {\n        switch (args.length) {\n            case 2: {\n                [this.schema] = args;\n                if (!(this.schema instanceof Schema)) {\n                    throw new TypeError('RecordBatch constructor expects a [Schema, Data] pair.');\n                }\n                [,\n                    this.data = makeData({\n                        nullCount: 0,\n                        type: new Struct(this.schema.fields),\n                        children: this.schema.fields.map((f) => makeData({ type: f.type, nullCount: 0 }))\n                    })\n                ] = args;\n                if (!(this.data instanceof Data)) {\n                    throw new TypeError('RecordBatch constructor expects a [Schema, Data] pair.');\n                }\n                [this.schema, this.data] = ensureSameLengthData(this.schema, this.data.children);\n                break;\n            }\n            case 1: {\n                const [obj] = args;\n                const { fields, children, length } = Object.keys(obj).reduce((memo, name, i) => {\n                    memo.children[i] = obj[name];\n                    memo.length = Math.max(memo.length, obj[name].length);\n                    memo.fields[i] = Field.new({ name, type: obj[name].type, nullable: true });\n                    return memo;\n                }, {\n                    length: 0,\n                    fields: new Array(),\n                    children: new Array(),\n                });\n                const schema = new Schema(fields);\n                const data = makeData({ type: new Struct(fields), length, children, nullCount: 0 });\n                [this.schema, this.data] = ensureSameLengthData(schema, data.children, length);\n                break;\n            }\n            default: throw new TypeError('RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.');\n        }\n    }\n    get dictionaries() {\n        return this._dictionaries || (this._dictionaries = collectDictionaries(this.schema.fields, this.data.children));\n    }\n    /**\n     * The number of columns in this RecordBatch.\n     */\n    get numCols() { return this.schema.fields.length; }\n    /**\n     * The number of rows in this RecordBatch.\n     */\n    get numRows() { return this.data.length; }\n    /**\n     * The number of null rows in this RecordBatch.\n     */\n    get nullCount() {\n        return this.data.nullCount;\n    }\n    /**\n     * Check whether an element is null.\n     * @param index The index at which to read the validity bitmap.\n     */\n    isValid(index) {\n        return this.data.getValid(index);\n    }\n    /**\n     * Get a row by position.\n     * @param index The index of the element to read.\n     */\n    get(index) {\n        return getVisitor.visit(this.data, index);\n    }\n    /**\n     * Set a row by position.\n     * @param index The index of the element to write.\n     * @param value The value to set.\n     */\n    set(index, value) {\n        return setVisitor.visit(this.data, index, value);\n    }\n    /**\n     * Retrieve the index of the first occurrence of a row in an RecordBatch.\n     * @param element The row to locate in the RecordBatch.\n     * @param offset The index at which to begin the search. If offset is omitted, the search starts at index 0.\n     */\n    indexOf(element, offset) {\n        return indexOfVisitor.visit(this.data, element, offset);\n    }\n    /**\n     * Get the size (in bytes) of a row by index.\n     * @param index The row index for which to compute the byteLength.\n     */\n    getByteLength(index) {\n        return byteLengthVisitor.visit(this.data, index);\n    }\n    /**\n     * Iterator for rows in this RecordBatch.\n     */\n    [Symbol.iterator]() {\n        return iteratorVisitor.visit(new Vector([this.data]));\n    }\n    /**\n     * Return a JavaScript Array of the RecordBatch rows.\n     * @returns An Array of RecordBatch rows.\n     */\n    toArray() {\n        return [...this];\n    }\n    /**\n     * Combines two or more RecordBatch of the same schema.\n     * @param others Additional RecordBatch to add to the end of this RecordBatch.\n     */\n    concat(...others) {\n        return new Table(this.schema, [this, ...others]);\n    }\n    /**\n     * Return a zero-copy sub-section of this RecordBatch.\n     * @param start The beginning of the specified portion of the RecordBatch.\n     * @param end The end of the specified portion of the RecordBatch. This is exclusive of the element at the index 'end'.\n     */\n    slice(begin, end) {\n        const [slice] = new Vector([this.data]).slice(begin, end).data;\n        return new RecordBatch(this.schema, slice);\n    }\n    /**\n     * Returns a child Vector by name, or null if this Vector has no child with the given name.\n     * @param name The name of the child to retrieve.\n     */\n    getChild(name) {\n        var _b;\n        return this.getChildAt((_b = this.schema.fields) === null || _b === void 0 ? void 0 : _b.findIndex((f) => f.name === name));\n    }\n    /**\n     * Returns a child Vector by index, or null if this Vector has no child at the supplied index.\n     * @param index The index of the child to retrieve.\n     */\n    getChildAt(index) {\n        if (index > -1 && index < this.schema.fields.length) {\n            return new Vector([this.data.children[index]]);\n        }\n        return null;\n    }\n    /**\n     * Sets a child Vector by name.\n     * @param name The name of the child to overwrite.\n     * @returns A new RecordBatch with the new child for the specified name.\n     */\n    setChild(name, child) {\n        var _b;\n        return this.setChildAt((_b = this.schema.fields) === null || _b === void 0 ? void 0 : _b.findIndex((f) => f.name === name), child);\n    }\n    setChildAt(index, child) {\n        let schema = this.schema;\n        let data = this.data;\n        if (index > -1 && index < this.numCols) {\n            if (!child) {\n                child = new Vector([makeData({ type: new Null, length: this.numRows })]);\n            }\n            const fields = schema.fields.slice();\n            const children = data.children.slice();\n            const field = fields[index].clone({ type: child.type });\n            [fields[index], children[index]] = [field, child.data[0]];\n            schema = new Schema(fields, new Map(this.schema.metadata));\n            data = makeData({ type: new Struct(fields), children });\n        }\n        return new RecordBatch(schema, data);\n    }\n    /**\n     * Construct a new RecordBatch containing only specified columns.\n     *\n     * @param columnNames Names of columns to keep.\n     * @returns A new RecordBatch of columns matching the specified names.\n     */\n    select(columnNames) {\n        const schema = this.schema.select(columnNames);\n        const type = new Struct(schema.fields);\n        const children = [];\n        for (const name of columnNames) {\n            const index = this.schema.fields.findIndex((f) => f.name === name);\n            if (~index) {\n                children[index] = this.data.children[index];\n            }\n        }\n        return new RecordBatch(schema, makeData({ type, length: this.numRows, children }));\n    }\n    /**\n     * Construct a new RecordBatch containing only columns at the specified indices.\n     *\n     * @param columnIndices Indices of columns to keep.\n     * @returns A new RecordBatch of columns matching at the specified indices.\n     */\n    selectAt(columnIndices) {\n        const schema = this.schema.selectAt(columnIndices);\n        const children = columnIndices.map((i) => this.data.children[i]).filter(Boolean);\n        const subset = makeData({ type: new Struct(schema.fields), length: this.numRows, children });\n        return new RecordBatch(schema, subset);\n    }\n}\n_a = Symbol.toStringTag;\n// Initialize this static property via an IIFE so bundlers don't tree-shake\n// out this logic, but also so we're still compliant with `\"sideEffects\": false`\nRecordBatch[_a] = ((proto) => {\n    proto._nullCount = -1;\n    proto[Symbol.isConcatSpreadable] = true;\n    return 'RecordBatch';\n})(RecordBatch.prototype);\n/** @ignore */\nfunction ensureSameLengthData(schema, chunks, maxLength = chunks.reduce((max, col) => Math.max(max, col.length), 0)) {\n    var _b;\n    const fields = [...schema.fields];\n    const children = [...chunks];\n    const nullBitmapSize = ((maxLength + 63) & ~63) >> 3;\n    for (const [idx, field] of schema.fields.entries()) {\n        const chunk = chunks[idx];\n        if (!chunk || chunk.length !== maxLength) {\n            fields[idx] = field.clone({ nullable: true });\n            children[idx] = (_b = chunk === null || chunk === void 0 ? void 0 : chunk._changeLengthAndBackfillNullBitmap(maxLength)) !== null && _b !== void 0 ? _b : makeData({\n                type: field.type,\n                length: maxLength,\n                nullCount: maxLength,\n                nullBitmap: new Uint8Array(nullBitmapSize)\n            });\n        }\n    }\n    return [\n        schema.assign(fields),\n        makeData({ type: new Struct(fields), length: maxLength, children })\n    ];\n}\n/** @ignore */\nfunction collectDictionaries(fields, children, dictionaries = new Map()) {\n    for (let i = -1, n = fields.length; ++i < n;) {\n        const field = fields[i];\n        const type = field.type;\n        const data = children[i];\n        if (DataType.isDictionary(type)) {\n            if (!dictionaries.has(type.id)) {\n                if (data.dictionary) {\n                    dictionaries.set(type.id, data.dictionary);\n                }\n            }\n            else if (dictionaries.get(type.id) !== data.dictionary) {\n                throw new Error(`Cannot create Schema containing two different dictionaries with the same Id`);\n            }\n        }\n        if (type.children && type.children.length > 0) {\n            collectDictionaries(type.children, data.children, dictionaries);\n        }\n    }\n    return dictionaries;\n}\n/**\n * An internal class used by the `RecordBatchReader` and `RecordBatchWriter`\n * implementations to differentiate between a stream with valid zero-length\n * RecordBatches, and a stream with a Schema message, but no RecordBatches.\n * @see https://github.com/apache/arrow/pull/4373\n * @ignore\n * @private\n */\nexport class _InternalEmptyPlaceholderRecordBatch extends RecordBatch {\n    constructor(schema) {\n        const children = schema.fields.map((f) => makeData({ type: f.type }));\n        const data = makeData({ type: new Struct(schema.fields), nullCount: 0, children });\n        super(schema, data);\n    }\n}\n\n//# sourceMappingURL=recordbatch.mjs.map\n","export default function getWindow(node) {\n  if (node == null) {\n    return window;\n  }\n\n  if (node.toString() !== '[object Window]') {\n    var ownerDocument = node.ownerDocument;\n    return ownerDocument ? ownerDocument.defaultView || window : window;\n  }\n\n  return node;\n}","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\n/** @ignore */\nconst carryBit16 = 1 << 16;\n/** @ignore */\nfunction intAsHex(value) {\n    if (value < 0) {\n        value = 0xFFFFFFFF + value + 1;\n    }\n    return `0x${value.toString(16)}`;\n}\n/** @ignore */\nconst kInt32DecimalDigits = 8;\n/** @ignore */\nconst kPowersOfTen = [\n    1,\n    10,\n    100,\n    1000,\n    10000,\n    100000,\n    1000000,\n    10000000,\n    100000000\n];\n/** @ignore */\nexport class BaseInt64 {\n    constructor(buffer) {\n        this.buffer = buffer;\n    }\n    high() { return this.buffer[1]; }\n    low() { return this.buffer[0]; }\n    _times(other) {\n        // Break the left and right numbers into 16 bit chunks\n        // so that we can multiply them without overflow.\n        const L = new Uint32Array([\n            this.buffer[1] >>> 16,\n            this.buffer[1] & 0xFFFF,\n            this.buffer[0] >>> 16,\n            this.buffer[0] & 0xFFFF\n        ]);\n        const R = new Uint32Array([\n            other.buffer[1] >>> 16,\n            other.buffer[1] & 0xFFFF,\n            other.buffer[0] >>> 16,\n            other.buffer[0] & 0xFFFF\n        ]);\n        let product = L[3] * R[3];\n        this.buffer[0] = product & 0xFFFF;\n        let sum = product >>> 16;\n        product = L[2] * R[3];\n        sum += product;\n        product = (L[3] * R[2]) >>> 0;\n        sum += product;\n        this.buffer[0] += sum << 16;\n        this.buffer[1] = (sum >>> 0 < product ? carryBit16 : 0);\n        this.buffer[1] += sum >>> 16;\n        this.buffer[1] += L[1] * R[3] + L[2] * R[2] + L[3] * R[1];\n        this.buffer[1] += (L[0] * R[3] + L[1] * R[2] + L[2] * R[1] + L[3] * R[0]) << 16;\n        return this;\n    }\n    _plus(other) {\n        const sum = (this.buffer[0] + other.buffer[0]) >>> 0;\n        this.buffer[1] += other.buffer[1];\n        if (sum < (this.buffer[0] >>> 0)) {\n            ++this.buffer[1];\n        }\n        this.buffer[0] = sum;\n    }\n    lessThan(other) {\n        return this.buffer[1] < other.buffer[1] ||\n            (this.buffer[1] === other.buffer[1] && this.buffer[0] < other.buffer[0]);\n    }\n    equals(other) {\n        return this.buffer[1] === other.buffer[1] && this.buffer[0] == other.buffer[0];\n    }\n    greaterThan(other) {\n        return other.lessThan(this);\n    }\n    hex() {\n        return `${intAsHex(this.buffer[1])} ${intAsHex(this.buffer[0])}`;\n    }\n}\n/** @ignore */\nexport class Uint64 extends BaseInt64 {\n    times(other) {\n        this._times(other);\n        return this;\n    }\n    plus(other) {\n        this._plus(other);\n        return this;\n    }\n    /** @nocollapse */\n    static from(val, out_buffer = new Uint32Array(2)) {\n        return Uint64.fromString(typeof (val) === 'string' ? val : val.toString(), out_buffer);\n    }\n    /** @nocollapse */\n    static fromNumber(num, out_buffer = new Uint32Array(2)) {\n        // Always parse numbers as strings - pulling out high and low bits\n        // directly seems to lose precision sometimes\n        // For example:\n        //     > -4613034156400212000 >>> 0\n        //     721782784\n        // The correct lower 32-bits are 721782752\n        return Uint64.fromString(num.toString(), out_buffer);\n    }\n    /** @nocollapse */\n    static fromString(str, out_buffer = new Uint32Array(2)) {\n        const length = str.length;\n        const out = new Uint64(out_buffer);\n        for (let posn = 0; posn < length;) {\n            const group = kInt32DecimalDigits < length - posn ?\n                kInt32DecimalDigits : length - posn;\n            const chunk = new Uint64(new Uint32Array([Number.parseInt(str.slice(posn, posn + group), 10), 0]));\n            const multiple = new Uint64(new Uint32Array([kPowersOfTen[group], 0]));\n            out.times(multiple);\n            out.plus(chunk);\n            posn += group;\n        }\n        return out;\n    }\n    /** @nocollapse */\n    static convertArray(values) {\n        const data = new Uint32Array(values.length * 2);\n        for (let i = -1, n = values.length; ++i < n;) {\n            Uint64.from(values[i], new Uint32Array(data.buffer, data.byteOffset + 2 * i * 4, 2));\n        }\n        return data;\n    }\n    /** @nocollapse */\n    static multiply(left, right) {\n        const rtrn = new Uint64(new Uint32Array(left.buffer));\n        return rtrn.times(right);\n    }\n    /** @nocollapse */\n    static add(left, right) {\n        const rtrn = new Uint64(new Uint32Array(left.buffer));\n        return rtrn.plus(right);\n    }\n}\n/** @ignore */\nexport class Int64 extends BaseInt64 {\n    negate() {\n        this.buffer[0] = ~this.buffer[0] + 1;\n        this.buffer[1] = ~this.buffer[1];\n        if (this.buffer[0] == 0) {\n            ++this.buffer[1];\n        }\n        return this;\n    }\n    times(other) {\n        this._times(other);\n        return this;\n    }\n    plus(other) {\n        this._plus(other);\n        return this;\n    }\n    lessThan(other) {\n        // force high bytes to be signed\n        // eslint-disable-next-line unicorn/prefer-math-trunc\n        const this_high = this.buffer[1] << 0;\n        // eslint-disable-next-line unicorn/prefer-math-trunc\n        const other_high = other.buffer[1] << 0;\n        return this_high < other_high ||\n            (this_high === other_high && this.buffer[0] < other.buffer[0]);\n    }\n    /** @nocollapse */\n    static from(val, out_buffer = new Uint32Array(2)) {\n        return Int64.fromString(typeof (val) === 'string' ? val : val.toString(), out_buffer);\n    }\n    /** @nocollapse */\n    static fromNumber(num, out_buffer = new Uint32Array(2)) {\n        // Always parse numbers as strings - pulling out high and low bits\n        // directly seems to lose precision sometimes\n        // For example:\n        //     > -4613034156400212000 >>> 0\n        //     721782784\n        // The correct lower 32-bits are 721782752\n        return Int64.fromString(num.toString(), out_buffer);\n    }\n    /** @nocollapse */\n    static fromString(str, out_buffer = new Uint32Array(2)) {\n        // TODO: Assert that out_buffer is 0 and length = 2\n        const negate = str.startsWith('-');\n        const length = str.length;\n        const out = new Int64(out_buffer);\n        for (let posn = negate ? 1 : 0; posn < length;) {\n            const group = kInt32DecimalDigits < length - posn ?\n                kInt32DecimalDigits : length - posn;\n            const chunk = new Int64(new Uint32Array([Number.parseInt(str.slice(posn, posn + group), 10), 0]));\n            const multiple = new Int64(new Uint32Array([kPowersOfTen[group], 0]));\n            out.times(multiple);\n            out.plus(chunk);\n            posn += group;\n        }\n        return negate ? out.negate() : out;\n    }\n    /** @nocollapse */\n    static convertArray(values) {\n        const data = new Uint32Array(values.length * 2);\n        for (let i = -1, n = values.length; ++i < n;) {\n            Int64.from(values[i], new Uint32Array(data.buffer, data.byteOffset + 2 * i * 4, 2));\n        }\n        return data;\n    }\n    /** @nocollapse */\n    static multiply(left, right) {\n        const rtrn = new Int64(new Uint32Array(left.buffer));\n        return rtrn.times(right);\n    }\n    /** @nocollapse */\n    static add(left, right) {\n        const rtrn = new Int64(new Uint32Array(left.buffer));\n        return rtrn.plus(right);\n    }\n}\n/** @ignore */\nexport class Int128 {\n    constructor(buffer) {\n        this.buffer = buffer;\n        // buffer[3] MSB (high)\n        // buffer[2]\n        // buffer[1]\n        // buffer[0] LSB (low)\n    }\n    high() {\n        return new Int64(new Uint32Array(this.buffer.buffer, this.buffer.byteOffset + 8, 2));\n    }\n    low() {\n        return new Int64(new Uint32Array(this.buffer.buffer, this.buffer.byteOffset, 2));\n    }\n    negate() {\n        this.buffer[0] = ~this.buffer[0] + 1;\n        this.buffer[1] = ~this.buffer[1];\n        this.buffer[2] = ~this.buffer[2];\n        this.buffer[3] = ~this.buffer[3];\n        if (this.buffer[0] == 0) {\n            ++this.buffer[1];\n        }\n        if (this.buffer[1] == 0) {\n            ++this.buffer[2];\n        }\n        if (this.buffer[2] == 0) {\n            ++this.buffer[3];\n        }\n        return this;\n    }\n    times(other) {\n        // Break the left and right numbers into 32 bit chunks\n        // so that we can multiply them without overflow.\n        const L0 = new Uint64(new Uint32Array([this.buffer[3], 0]));\n        const L1 = new Uint64(new Uint32Array([this.buffer[2], 0]));\n        const L2 = new Uint64(new Uint32Array([this.buffer[1], 0]));\n        const L3 = new Uint64(new Uint32Array([this.buffer[0], 0]));\n        const R0 = new Uint64(new Uint32Array([other.buffer[3], 0]));\n        const R1 = new Uint64(new Uint32Array([other.buffer[2], 0]));\n        const R2 = new Uint64(new Uint32Array([other.buffer[1], 0]));\n        const R3 = new Uint64(new Uint32Array([other.buffer[0], 0]));\n        let product = Uint64.multiply(L3, R3);\n        this.buffer[0] = product.low();\n        const sum = new Uint64(new Uint32Array([product.high(), 0]));\n        product = Uint64.multiply(L2, R3);\n        sum.plus(product);\n        product = Uint64.multiply(L3, R2);\n        sum.plus(product);\n        this.buffer[1] = sum.low();\n        this.buffer[3] = (sum.lessThan(product) ? 1 : 0);\n        this.buffer[2] = sum.high();\n        const high = new Uint64(new Uint32Array(this.buffer.buffer, this.buffer.byteOffset + 8, 2));\n        high.plus(Uint64.multiply(L1, R3))\n            .plus(Uint64.multiply(L2, R2))\n            .plus(Uint64.multiply(L3, R1));\n        this.buffer[3] += Uint64.multiply(L0, R3)\n            .plus(Uint64.multiply(L1, R2))\n            .plus(Uint64.multiply(L2, R1))\n            .plus(Uint64.multiply(L3, R0)).low();\n        return this;\n    }\n    plus(other) {\n        const sums = new Uint32Array(4);\n        sums[3] = (this.buffer[3] + other.buffer[3]) >>> 0;\n        sums[2] = (this.buffer[2] + other.buffer[2]) >>> 0;\n        sums[1] = (this.buffer[1] + other.buffer[1]) >>> 0;\n        sums[0] = (this.buffer[0] + other.buffer[0]) >>> 0;\n        if (sums[0] < (this.buffer[0] >>> 0)) {\n            ++sums[1];\n        }\n        if (sums[1] < (this.buffer[1] >>> 0)) {\n            ++sums[2];\n        }\n        if (sums[2] < (this.buffer[2] >>> 0)) {\n            ++sums[3];\n        }\n        this.buffer[3] = sums[3];\n        this.buffer[2] = sums[2];\n        this.buffer[1] = sums[1];\n        this.buffer[0] = sums[0];\n        return this;\n    }\n    hex() {\n        return `${intAsHex(this.buffer[3])} ${intAsHex(this.buffer[2])} ${intAsHex(this.buffer[1])} ${intAsHex(this.buffer[0])}`;\n    }\n    /** @nocollapse */\n    static multiply(left, right) {\n        const rtrn = new Int128(new Uint32Array(left.buffer));\n        return rtrn.times(right);\n    }\n    /** @nocollapse */\n    static add(left, right) {\n        const rtrn = new Int128(new Uint32Array(left.buffer));\n        return rtrn.plus(right);\n    }\n    /** @nocollapse */\n    static from(val, out_buffer = new Uint32Array(4)) {\n        return Int128.fromString(typeof (val) === 'string' ? val : val.toString(), out_buffer);\n    }\n    /** @nocollapse */\n    static fromNumber(num, out_buffer = new Uint32Array(4)) {\n        // Always parse numbers as strings - pulling out high and low bits\n        // directly seems to lose precision sometimes\n        // For example:\n        //     > -4613034156400212000 >>> 0\n        //     721782784\n        // The correct lower 32-bits are 721782752\n        return Int128.fromString(num.toString(), out_buffer);\n    }\n    /** @nocollapse */\n    static fromString(str, out_buffer = new Uint32Array(4)) {\n        // TODO: Assert that out_buffer is 0 and length = 4\n        const negate = str.startsWith('-');\n        const length = str.length;\n        const out = new Int128(out_buffer);\n        for (let posn = negate ? 1 : 0; posn < length;) {\n            const group = kInt32DecimalDigits < length - posn ?\n                kInt32DecimalDigits : length - posn;\n            const chunk = new Int128(new Uint32Array([Number.parseInt(str.slice(posn, posn + group), 10), 0, 0, 0]));\n            const multiple = new Int128(new Uint32Array([kPowersOfTen[group], 0, 0, 0]));\n            out.times(multiple);\n            out.plus(chunk);\n            posn += group;\n        }\n        return negate ? out.negate() : out;\n    }\n    /** @nocollapse */\n    static convertArray(values) {\n        // TODO: Distinguish between string and number at compile-time\n        const data = new Uint32Array(values.length * 4);\n        for (let i = -1, n = values.length; ++i < n;) {\n            Int128.from(values[i], new Uint32Array(data.buffer, data.byteOffset + 4 * 4 * i, 4));\n        }\n        return data;\n    }\n}\n\n//# sourceMappingURL=int.mjs.map\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nimport { makeData } from '../data.mjs';\nimport { Field } from '../schema.mjs';\nimport { DataType } from '../type.mjs';\nimport { Visitor } from '../visitor.mjs';\nimport { packBools } from '../util/bit.mjs';\nimport { encodeUtf8 } from '../util/utf8.mjs';\nimport { Int64, Int128 } from '../util/int.mjs';\nimport { UnionMode, DateUnit } from '../enum.mjs';\nimport { toArrayBufferView } from '../util/buffer.mjs';\n/** @ignore */\nexport class VectorLoader extends Visitor {\n    constructor(bytes, nodes, buffers, dictionaries) {\n        super();\n        this.nodesIndex = -1;\n        this.buffersIndex = -1;\n        this.bytes = bytes;\n        this.nodes = nodes;\n        this.buffers = buffers;\n        this.dictionaries = dictionaries;\n    }\n    visit(node) {\n        return super.visit(node instanceof Field ? node.type : node);\n    }\n    visitNull(type, { length } = this.nextFieldNode()) {\n        return makeData({ type, length });\n    }\n    visitBool(type, { length, nullCount } = this.nextFieldNode()) {\n        return makeData({ type, length, nullCount, nullBitmap: this.readNullBitmap(type, nullCount), data: this.readData(type) });\n    }\n    visitInt(type, { length, nullCount } = this.nextFieldNode()) {\n        return makeData({ type, length, nullCount, nullBitmap: this.readNullBitmap(type, nullCount), data: this.readData(type) });\n    }\n    visitFloat(type, { length, nullCount } = this.nextFieldNode()) {\n        return makeData({ type, length, nullCount, nullBitmap: this.readNullBitmap(type, nullCount), data: this.readData(type) });\n    }\n    visitUtf8(type, { length, nullCount } = this.nextFieldNode()) {\n        return makeData({ type, length, nullCount, nullBitmap: this.readNullBitmap(type, nullCount), valueOffsets: this.readOffsets(type), data: this.readData(type) });\n    }\n    visitBinary(type, { length, nullCount } = this.nextFieldNode()) {\n        return makeData({ type, length, nullCount, nullBitmap: this.readNullBitmap(type, nullCount), valueOffsets: this.readOffsets(type), data: this.readData(type) });\n    }\n    visitFixedSizeBinary(type, { length, nullCount } = this.nextFieldNode()) {\n        return makeData({ type, length, nullCount, nullBitmap: this.readNullBitmap(type, nullCount), data: this.readData(type) });\n    }\n    visitDate(type, { length, nullCount } = this.nextFieldNode()) {\n        return makeData({ type, length, nullCount, nullBitmap: this.readNullBitmap(type, nullCount), data: this.readData(type) });\n    }\n    visitTimestamp(type, { length, nullCount } = this.nextFieldNode()) {\n        return makeData({ type, length, nullCount, nullBitmap: this.readNullBitmap(type, nullCount), data: this.readData(type) });\n    }\n    visitTime(type, { length, nullCount } = this.nextFieldNode()) {\n        return makeData({ type, length, nullCount, nullBitmap: this.readNullBitmap(type, nullCount), data: this.readData(type) });\n    }\n    visitDecimal(type, { length, nullCount } = this.nextFieldNode()) {\n        return makeData({ type, length, nullCount, nullBitmap: this.readNullBitmap(type, nullCount), data: this.readData(type) });\n    }\n    visitList(type, { length, nullCount } = this.nextFieldNode()) {\n        return makeData({ type, length, nullCount, nullBitmap: this.readNullBitmap(type, nullCount), valueOffsets: this.readOffsets(type), 'child': this.visit(type.children[0]) });\n    }\n    visitStruct(type, { length, nullCount } = this.nextFieldNode()) {\n        return makeData({ type, length, nullCount, nullBitmap: this.readNullBitmap(type, nullCount), children: this.visitMany(type.children) });\n    }\n    visitUnion(type) {\n        return type.mode === UnionMode.Sparse ? this.visitSparseUnion(type) : this.visitDenseUnion(type);\n    }\n    visitDenseUnion(type, { length, nullCount } = this.nextFieldNode()) {\n        return makeData({ type, length, nullCount, nullBitmap: this.readNullBitmap(type, nullCount), typeIds: this.readTypeIds(type), valueOffsets: this.readOffsets(type), children: this.visitMany(type.children) });\n    }\n    visitSparseUnion(type, { length, nullCount } = this.nextFieldNode()) {\n        return makeData({ type, length, nullCount, nullBitmap: this.readNullBitmap(type, nullCount), typeIds: this.readTypeIds(type), children: this.visitMany(type.children) });\n    }\n    visitDictionary(type, { length, nullCount } = this.nextFieldNode()) {\n        return makeData({ type, length, nullCount, nullBitmap: this.readNullBitmap(type, nullCount), data: this.readData(type.indices), dictionary: this.readDictionary(type) });\n    }\n    visitInterval(type, { length, nullCount } = this.nextFieldNode()) {\n        return makeData({ type, length, nullCount, nullBitmap: this.readNullBitmap(type, nullCount), data: this.readData(type) });\n    }\n    visitFixedSizeList(type, { length, nullCount } = this.nextFieldNode()) {\n        return makeData({ type, length, nullCount, nullBitmap: this.readNullBitmap(type, nullCount), 'child': this.visit(type.children[0]) });\n    }\n    visitMap(type, { length, nullCount } = this.nextFieldNode()) {\n        return makeData({ type, length, nullCount, nullBitmap: this.readNullBitmap(type, nullCount), valueOffsets: this.readOffsets(type), 'child': this.visit(type.children[0]) });\n    }\n    nextFieldNode() { return this.nodes[++this.nodesIndex]; }\n    nextBufferRange() { return this.buffers[++this.buffersIndex]; }\n    readNullBitmap(type, nullCount, buffer = this.nextBufferRange()) {\n        return nullCount > 0 && this.readData(type, buffer) || new Uint8Array(0);\n    }\n    readOffsets(type, buffer) { return this.readData(type, buffer); }\n    readTypeIds(type, buffer) { return this.readData(type, buffer); }\n    readData(_type, { length, offset } = this.nextBufferRange()) {\n        return this.bytes.subarray(offset, offset + length);\n    }\n    readDictionary(type) {\n        return this.dictionaries.get(type.id);\n    }\n}\n/** @ignore */\nexport class JSONVectorLoader extends VectorLoader {\n    constructor(sources, nodes, buffers, dictionaries) {\n        super(new Uint8Array(0), nodes, buffers, dictionaries);\n        this.sources = sources;\n    }\n    readNullBitmap(_type, nullCount, { offset } = this.nextBufferRange()) {\n        return nullCount <= 0 ? new Uint8Array(0) : packBools(this.sources[offset]);\n    }\n    readOffsets(_type, { offset } = this.nextBufferRange()) {\n        return toArrayBufferView(Uint8Array, toArrayBufferView(Int32Array, this.sources[offset]));\n    }\n    readTypeIds(type, { offset } = this.nextBufferRange()) {\n        return toArrayBufferView(Uint8Array, toArrayBufferView(type.ArrayType, this.sources[offset]));\n    }\n    readData(type, { offset } = this.nextBufferRange()) {\n        const { sources } = this;\n        if (DataType.isTimestamp(type)) {\n            return toArrayBufferView(Uint8Array, Int64.convertArray(sources[offset]));\n        }\n        else if ((DataType.isInt(type) || DataType.isTime(type)) && type.bitWidth === 64) {\n            return toArrayBufferView(Uint8Array, Int64.convertArray(sources[offset]));\n        }\n        else if (DataType.isDate(type) && type.unit === DateUnit.MILLISECOND) {\n            return toArrayBufferView(Uint8Array, Int64.convertArray(sources[offset]));\n        }\n        else if (DataType.isDecimal(type)) {\n            return toArrayBufferView(Uint8Array, Int128.convertArray(sources[offset]));\n        }\n        else if (DataType.isBinary(type) || DataType.isFixedSizeBinary(type)) {\n            return binaryDataFromJSON(sources[offset]);\n        }\n        else if (DataType.isBool(type)) {\n            return packBools(sources[offset]);\n        }\n        else if (DataType.isUtf8(type)) {\n            return encodeUtf8(sources[offset].join(''));\n        }\n        return toArrayBufferView(Uint8Array, toArrayBufferView(type.ArrayType, sources[offset].map((x) => +x)));\n    }\n}\n/** @ignore */\nfunction binaryDataFromJSON(values) {\n    // \"DATA\": [\"49BC7D5B6C47D2\",\"3F5FB6D9322026\"]\n    // There are definitely more efficient ways to do this... but it gets the\n    // job done.\n    const joined = values.join('');\n    const data = new Uint8Array(joined.length / 2);\n    for (let i = 0; i < joined.length; i += 2) {\n        data[i >> 1] = Number.parseInt(joined.slice(i, i + 2), 16);\n    }\n    return data;\n}\n\n//# sourceMappingURL=vectorloader.mjs.map\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nimport { __asyncDelegator, __asyncGenerator, __asyncValues, __await, __awaiter } from \"tslib\";\nimport { makeData } from '../data.mjs';\nimport { Vector } from '../vector.mjs';\nimport { Struct } from '../type.mjs';\nimport { MessageHeader } from '../enum.mjs';\nimport { Footer } from './metadata/file.mjs';\nimport streamAdapters from '../io/adapters.mjs';\nimport { ByteStream, AsyncByteStream } from '../io/stream.mjs';\nimport { RandomAccessFile, AsyncRandomAccessFile } from '../io/file.mjs';\nimport { VectorLoader, JSONVectorLoader } from '../visitor/vectorloader.mjs';\nimport { RecordBatch, _InternalEmptyPlaceholderRecordBatch } from '../recordbatch.mjs';\nimport { ITERATOR_DONE, ReadableInterop, } from '../io/interfaces.mjs';\nimport { MessageReader, AsyncMessageReader, JSONMessageReader, checkForMagicArrowString, magicLength, magicAndPadding, magicX2AndPadding } from './message.mjs';\nimport { isPromise, isIterable, isAsyncIterable, isIteratorResult, isArrowJSON, isFileHandle, isFetchResponse, isReadableDOMStream, isReadableNodeStream } from '../util/compat.mjs';\nexport class RecordBatchReader extends ReadableInterop {\n    constructor(impl) {\n        super();\n        this._impl = impl;\n    }\n    get closed() { return this._impl.closed; }\n    get schema() { return this._impl.schema; }\n    get autoDestroy() { return this._impl.autoDestroy; }\n    get dictionaries() { return this._impl.dictionaries; }\n    get numDictionaries() { return this._impl.numDictionaries; }\n    get numRecordBatches() { return this._impl.numRecordBatches; }\n    get footer() { return this._impl.isFile() ? this._impl.footer : null; }\n    isSync() { return this._impl.isSync(); }\n    isAsync() { return this._impl.isAsync(); }\n    isFile() { return this._impl.isFile(); }\n    isStream() { return this._impl.isStream(); }\n    next() {\n        return this._impl.next();\n    }\n    throw(value) {\n        return this._impl.throw(value);\n    }\n    return(value) {\n        return this._impl.return(value);\n    }\n    cancel() {\n        return this._impl.cancel();\n    }\n    reset(schema) {\n        this._impl.reset(schema);\n        this._DOMStream = undefined;\n        this._nodeStream = undefined;\n        return this;\n    }\n    open(options) {\n        const opening = this._impl.open(options);\n        return isPromise(opening) ? opening.then(() => this) : this;\n    }\n    readRecordBatch(index) {\n        return this._impl.isFile() ? this._impl.readRecordBatch(index) : null;\n    }\n    [Symbol.iterator]() {\n        return this._impl[Symbol.iterator]();\n    }\n    [Symbol.asyncIterator]() {\n        return this._impl[Symbol.asyncIterator]();\n    }\n    toDOMStream() {\n        return streamAdapters.toDOMStream((this.isSync()\n            ? { [Symbol.iterator]: () => this }\n            : { [Symbol.asyncIterator]: () => this }));\n    }\n    toNodeStream() {\n        return streamAdapters.toNodeStream((this.isSync()\n            ? { [Symbol.iterator]: () => this }\n            : { [Symbol.asyncIterator]: () => this }), { objectMode: true });\n    }\n    /** @nocollapse */\n    // @ts-ignore\n    static throughNode(options) {\n        throw new Error(`\"throughNode\" not available in this environment`);\n    }\n    /** @nocollapse */\n    static throughDOM(\n    // @ts-ignore\n    writableStrategy, \n    // @ts-ignore\n    readableStrategy) {\n        throw new Error(`\"throughDOM\" not available in this environment`);\n    }\n    /** @nocollapse */\n    static from(source) {\n        if (source instanceof RecordBatchReader) {\n            return source;\n        }\n        else if (isArrowJSON(source)) {\n            return fromArrowJSON(source);\n        }\n        else if (isFileHandle(source)) {\n            return fromFileHandle(source);\n        }\n        else if (isPromise(source)) {\n            return (() => __awaiter(this, void 0, void 0, function* () { return yield RecordBatchReader.from(yield source); }))();\n        }\n        else if (isFetchResponse(source) || isReadableDOMStream(source) || isReadableNodeStream(source) || isAsyncIterable(source)) {\n            return fromAsyncByteStream(new AsyncByteStream(source));\n        }\n        return fromByteStream(new ByteStream(source));\n    }\n    /** @nocollapse */\n    static readAll(source) {\n        if (source instanceof RecordBatchReader) {\n            return source.isSync() ? readAllSync(source) : readAllAsync(source);\n        }\n        else if (isArrowJSON(source) || ArrayBuffer.isView(source) || isIterable(source) || isIteratorResult(source)) {\n            return readAllSync(source);\n        }\n        return readAllAsync(source);\n    }\n}\n//\n// Since TS is a structural type system, we define the following subclass stubs\n// so that concrete types exist to associate with with the interfaces below.\n//\n// The implementation for each RecordBatchReader is hidden away in the set of\n// `RecordBatchReaderImpl` classes in the second half of this file. This allows\n// us to export a single RecordBatchReader class, and swap out the impl based\n// on the io primitives or underlying arrow (JSON, file, or stream) at runtime.\n//\n// Async/await makes our job a bit harder, since it forces everything to be\n// either fully sync or fully async. This is why the logic for the reader impls\n// has been duplicated into both sync and async variants. Since the RBR\n// delegates to its impl, an RBR with an AsyncRecordBatchFileReaderImpl for\n// example will return async/await-friendly Promises, but one with a (sync)\n// RecordBatchStreamReaderImpl will always return values. Nothing should be\n// different about their logic, aside from the async handling. This is also why\n// this code looks highly structured, as it should be nearly identical and easy\n// to follow.\n//\n/** @ignore */\nexport class RecordBatchStreamReader extends RecordBatchReader {\n    constructor(_impl) {\n        super(_impl);\n        this._impl = _impl;\n    }\n    readAll() { return [...this]; }\n    [Symbol.iterator]() { return this._impl[Symbol.iterator](); }\n    [Symbol.asyncIterator]() { return __asyncGenerator(this, arguments, function* _a() { yield __await(yield* __asyncDelegator(__asyncValues(this[Symbol.iterator]()))); }); }\n}\n/** @ignore */\nexport class AsyncRecordBatchStreamReader extends RecordBatchReader {\n    constructor(_impl) {\n        super(_impl);\n        this._impl = _impl;\n    }\n    readAll() {\n        var _a, e_1, _b, _c;\n        return __awaiter(this, void 0, void 0, function* () {\n            const batches = new Array();\n            try {\n                for (var _d = true, _e = __asyncValues(this), _f; _f = yield _e.next(), _a = _f.done, !_a; _d = true) {\n                    _c = _f.value;\n                    _d = false;\n                    const batch = _c;\n                    batches.push(batch);\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (!_d && !_a && (_b = _e.return)) yield _b.call(_e);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n            return batches;\n        });\n    }\n    [Symbol.iterator]() { throw new Error(`AsyncRecordBatchStreamReader is not Iterable`); }\n    [Symbol.asyncIterator]() { return this._impl[Symbol.asyncIterator](); }\n}\n/** @ignore */\nexport class RecordBatchFileReader extends RecordBatchStreamReader {\n    constructor(_impl) {\n        super(_impl);\n        this._impl = _impl;\n    }\n}\n/** @ignore */\nexport class AsyncRecordBatchFileReader extends AsyncRecordBatchStreamReader {\n    constructor(_impl) {\n        super(_impl);\n        this._impl = _impl;\n    }\n}\n/** @ignore */\nclass RecordBatchReaderImpl {\n    get numDictionaries() { return this._dictionaryIndex; }\n    get numRecordBatches() { return this._recordBatchIndex; }\n    constructor(dictionaries = new Map()) {\n        this.closed = false;\n        this.autoDestroy = true;\n        this._dictionaryIndex = 0;\n        this._recordBatchIndex = 0;\n        this.dictionaries = dictionaries;\n    }\n    isSync() { return false; }\n    isAsync() { return false; }\n    isFile() { return false; }\n    isStream() { return false; }\n    reset(schema) {\n        this._dictionaryIndex = 0;\n        this._recordBatchIndex = 0;\n        this.schema = schema;\n        this.dictionaries = new Map();\n        return this;\n    }\n    _loadRecordBatch(header, body) {\n        const children = this._loadVectors(header, body, this.schema.fields);\n        const data = makeData({ type: new Struct(this.schema.fields), length: header.length, children });\n        return new RecordBatch(this.schema, data);\n    }\n    _loadDictionaryBatch(header, body) {\n        const { id, isDelta } = header;\n        const { dictionaries, schema } = this;\n        const dictionary = dictionaries.get(id);\n        if (isDelta || !dictionary) {\n            const type = schema.dictionaries.get(id);\n            const data = this._loadVectors(header.data, body, [type]);\n            return (dictionary && isDelta ? dictionary.concat(new Vector(data)) :\n                new Vector(data)).memoize();\n        }\n        return dictionary.memoize();\n    }\n    _loadVectors(header, body, types) {\n        return new VectorLoader(body, header.nodes, header.buffers, this.dictionaries).visitMany(types);\n    }\n}\n/** @ignore */\nclass RecordBatchStreamReaderImpl extends RecordBatchReaderImpl {\n    constructor(source, dictionaries) {\n        super(dictionaries);\n        this._reader = !isArrowJSON(source)\n            ? new MessageReader(this._handle = source)\n            : new JSONMessageReader(this._handle = source);\n    }\n    isSync() { return true; }\n    isStream() { return true; }\n    [Symbol.iterator]() {\n        return this;\n    }\n    cancel() {\n        if (!this.closed && (this.closed = true)) {\n            this.reset()._reader.return();\n            this._reader = null;\n            this.dictionaries = null;\n        }\n    }\n    open(options) {\n        if (!this.closed) {\n            this.autoDestroy = shouldAutoDestroy(this, options);\n            if (!(this.schema || (this.schema = this._reader.readSchema()))) {\n                this.cancel();\n            }\n        }\n        return this;\n    }\n    throw(value) {\n        if (!this.closed && this.autoDestroy && (this.closed = true)) {\n            return this.reset()._reader.throw(value);\n        }\n        return ITERATOR_DONE;\n    }\n    return(value) {\n        if (!this.closed && this.autoDestroy && (this.closed = true)) {\n            return this.reset()._reader.return(value);\n        }\n        return ITERATOR_DONE;\n    }\n    next() {\n        if (this.closed) {\n            return ITERATOR_DONE;\n        }\n        let message;\n        const { _reader: reader } = this;\n        while (message = this._readNextMessageAndValidate()) {\n            if (message.isSchema()) {\n                this.reset(message.header());\n            }\n            else if (message.isRecordBatch()) {\n                this._recordBatchIndex++;\n                const header = message.header();\n                const buffer = reader.readMessageBody(message.bodyLength);\n                const recordBatch = this._loadRecordBatch(header, buffer);\n                return { done: false, value: recordBatch };\n            }\n            else if (message.isDictionaryBatch()) {\n                this._dictionaryIndex++;\n                const header = message.header();\n                const buffer = reader.readMessageBody(message.bodyLength);\n                const vector = this._loadDictionaryBatch(header, buffer);\n                this.dictionaries.set(header.id, vector);\n            }\n        }\n        if (this.schema && this._recordBatchIndex === 0) {\n            this._recordBatchIndex++;\n            return { done: false, value: new _InternalEmptyPlaceholderRecordBatch(this.schema) };\n        }\n        return this.return();\n    }\n    _readNextMessageAndValidate(type) {\n        return this._reader.readMessage(type);\n    }\n}\n/** @ignore */\nclass AsyncRecordBatchStreamReaderImpl extends RecordBatchReaderImpl {\n    constructor(source, dictionaries) {\n        super(dictionaries);\n        this._reader = new AsyncMessageReader(this._handle = source);\n    }\n    isAsync() { return true; }\n    isStream() { return true; }\n    [Symbol.asyncIterator]() {\n        return this;\n    }\n    cancel() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this.closed && (this.closed = true)) {\n                yield this.reset()._reader.return();\n                this._reader = null;\n                this.dictionaries = null;\n            }\n        });\n    }\n    open(options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this.closed) {\n                this.autoDestroy = shouldAutoDestroy(this, options);\n                if (!(this.schema || (this.schema = (yield this._reader.readSchema())))) {\n                    yield this.cancel();\n                }\n            }\n            return this;\n        });\n    }\n    throw(value) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this.closed && this.autoDestroy && (this.closed = true)) {\n                return yield this.reset()._reader.throw(value);\n            }\n            return ITERATOR_DONE;\n        });\n    }\n    return(value) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this.closed && this.autoDestroy && (this.closed = true)) {\n                return yield this.reset()._reader.return(value);\n            }\n            return ITERATOR_DONE;\n        });\n    }\n    next() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.closed) {\n                return ITERATOR_DONE;\n            }\n            let message;\n            const { _reader: reader } = this;\n            while (message = yield this._readNextMessageAndValidate()) {\n                if (message.isSchema()) {\n                    yield this.reset(message.header());\n                }\n                else if (message.isRecordBatch()) {\n                    this._recordBatchIndex++;\n                    const header = message.header();\n                    const buffer = yield reader.readMessageBody(message.bodyLength);\n                    const recordBatch = this._loadRecordBatch(header, buffer);\n                    return { done: false, value: recordBatch };\n                }\n                else if (message.isDictionaryBatch()) {\n                    this._dictionaryIndex++;\n                    const header = message.header();\n                    const buffer = yield reader.readMessageBody(message.bodyLength);\n                    const vector = this._loadDictionaryBatch(header, buffer);\n                    this.dictionaries.set(header.id, vector);\n                }\n            }\n            if (this.schema && this._recordBatchIndex === 0) {\n                this._recordBatchIndex++;\n                return { done: false, value: new _InternalEmptyPlaceholderRecordBatch(this.schema) };\n            }\n            return yield this.return();\n        });\n    }\n    _readNextMessageAndValidate(type) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this._reader.readMessage(type);\n        });\n    }\n}\n/** @ignore */\nclass RecordBatchFileReaderImpl extends RecordBatchStreamReaderImpl {\n    get footer() { return this._footer; }\n    get numDictionaries() { return this._footer ? this._footer.numDictionaries : 0; }\n    get numRecordBatches() { return this._footer ? this._footer.numRecordBatches : 0; }\n    constructor(source, dictionaries) {\n        super(source instanceof RandomAccessFile ? source : new RandomAccessFile(source), dictionaries);\n    }\n    isSync() { return true; }\n    isFile() { return true; }\n    open(options) {\n        if (!this.closed && !this._footer) {\n            this.schema = (this._footer = this._readFooter()).schema;\n            for (const block of this._footer.dictionaryBatches()) {\n                block && this._readDictionaryBatch(this._dictionaryIndex++);\n            }\n        }\n        return super.open(options);\n    }\n    readRecordBatch(index) {\n        var _a;\n        if (this.closed) {\n            return null;\n        }\n        if (!this._footer) {\n            this.open();\n        }\n        const block = (_a = this._footer) === null || _a === void 0 ? void 0 : _a.getRecordBatch(index);\n        if (block && this._handle.seek(block.offset)) {\n            const message = this._reader.readMessage(MessageHeader.RecordBatch);\n            if (message === null || message === void 0 ? void 0 : message.isRecordBatch()) {\n                const header = message.header();\n                const buffer = this._reader.readMessageBody(message.bodyLength);\n                const recordBatch = this._loadRecordBatch(header, buffer);\n                return recordBatch;\n            }\n        }\n        return null;\n    }\n    _readDictionaryBatch(index) {\n        var _a;\n        const block = (_a = this._footer) === null || _a === void 0 ? void 0 : _a.getDictionaryBatch(index);\n        if (block && this._handle.seek(block.offset)) {\n            const message = this._reader.readMessage(MessageHeader.DictionaryBatch);\n            if (message === null || message === void 0 ? void 0 : message.isDictionaryBatch()) {\n                const header = message.header();\n                const buffer = this._reader.readMessageBody(message.bodyLength);\n                const vector = this._loadDictionaryBatch(header, buffer);\n                this.dictionaries.set(header.id, vector);\n            }\n        }\n    }\n    _readFooter() {\n        const { _handle } = this;\n        const offset = _handle.size - magicAndPadding;\n        const length = _handle.readInt32(offset);\n        const buffer = _handle.readAt(offset - length, length);\n        return Footer.decode(buffer);\n    }\n    _readNextMessageAndValidate(type) {\n        var _a;\n        if (!this._footer) {\n            this.open();\n        }\n        if (this._footer && this._recordBatchIndex < this.numRecordBatches) {\n            const block = (_a = this._footer) === null || _a === void 0 ? void 0 : _a.getRecordBatch(this._recordBatchIndex);\n            if (block && this._handle.seek(block.offset)) {\n                return this._reader.readMessage(type);\n            }\n        }\n        return null;\n    }\n}\n/** @ignore */\nclass AsyncRecordBatchFileReaderImpl extends AsyncRecordBatchStreamReaderImpl {\n    get footer() { return this._footer; }\n    get numDictionaries() { return this._footer ? this._footer.numDictionaries : 0; }\n    get numRecordBatches() { return this._footer ? this._footer.numRecordBatches : 0; }\n    constructor(source, ...rest) {\n        const byteLength = typeof rest[0] !== 'number' ? rest.shift() : undefined;\n        const dictionaries = rest[0] instanceof Map ? rest.shift() : undefined;\n        super(source instanceof AsyncRandomAccessFile ? source : new AsyncRandomAccessFile(source, byteLength), dictionaries);\n    }\n    isFile() { return true; }\n    isAsync() { return true; }\n    open(options) {\n        const _super = Object.create(null, {\n            open: { get: () => super.open }\n        });\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this.closed && !this._footer) {\n                this.schema = (this._footer = yield this._readFooter()).schema;\n                for (const block of this._footer.dictionaryBatches()) {\n                    block && (yield this._readDictionaryBatch(this._dictionaryIndex++));\n                }\n            }\n            return yield _super.open.call(this, options);\n        });\n    }\n    readRecordBatch(index) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.closed) {\n                return null;\n            }\n            if (!this._footer) {\n                yield this.open();\n            }\n            const block = (_a = this._footer) === null || _a === void 0 ? void 0 : _a.getRecordBatch(index);\n            if (block && (yield this._handle.seek(block.offset))) {\n                const message = yield this._reader.readMessage(MessageHeader.RecordBatch);\n                if (message === null || message === void 0 ? void 0 : message.isRecordBatch()) {\n                    const header = message.header();\n                    const buffer = yield this._reader.readMessageBody(message.bodyLength);\n                    const recordBatch = this._loadRecordBatch(header, buffer);\n                    return recordBatch;\n                }\n            }\n            return null;\n        });\n    }\n    _readDictionaryBatch(index) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function* () {\n            const block = (_a = this._footer) === null || _a === void 0 ? void 0 : _a.getDictionaryBatch(index);\n            if (block && (yield this._handle.seek(block.offset))) {\n                const message = yield this._reader.readMessage(MessageHeader.DictionaryBatch);\n                if (message === null || message === void 0 ? void 0 : message.isDictionaryBatch()) {\n                    const header = message.header();\n                    const buffer = yield this._reader.readMessageBody(message.bodyLength);\n                    const vector = this._loadDictionaryBatch(header, buffer);\n                    this.dictionaries.set(header.id, vector);\n                }\n            }\n        });\n    }\n    _readFooter() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { _handle } = this;\n            _handle._pending && (yield _handle._pending);\n            const offset = _handle.size - magicAndPadding;\n            const length = yield _handle.readInt32(offset);\n            const buffer = yield _handle.readAt(offset - length, length);\n            return Footer.decode(buffer);\n        });\n    }\n    _readNextMessageAndValidate(type) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this._footer) {\n                yield this.open();\n            }\n            if (this._footer && this._recordBatchIndex < this.numRecordBatches) {\n                const block = this._footer.getRecordBatch(this._recordBatchIndex);\n                if (block && (yield this._handle.seek(block.offset))) {\n                    return yield this._reader.readMessage(type);\n                }\n            }\n            return null;\n        });\n    }\n}\n/** @ignore */\nclass RecordBatchJSONReaderImpl extends RecordBatchStreamReaderImpl {\n    constructor(source, dictionaries) {\n        super(source, dictionaries);\n    }\n    _loadVectors(header, body, types) {\n        return new JSONVectorLoader(body, header.nodes, header.buffers, this.dictionaries).visitMany(types);\n    }\n}\n//\n// Define some helper functions and static implementations down here. There's\n// a bit of branching in the static methods that can lead to the same routines\n// being executed, so we've broken those out here for readability.\n//\n/** @ignore */\nfunction shouldAutoDestroy(self, options) {\n    return options && (typeof options['autoDestroy'] === 'boolean') ? options['autoDestroy'] : self['autoDestroy'];\n}\n/** @ignore */\nfunction* readAllSync(source) {\n    const reader = RecordBatchReader.from(source);\n    try {\n        if (!reader.open({ autoDestroy: false }).closed) {\n            do {\n                yield reader;\n            } while (!(reader.reset().open()).closed);\n        }\n    }\n    finally {\n        reader.cancel();\n    }\n}\n/** @ignore */\nfunction readAllAsync(source) {\n    return __asyncGenerator(this, arguments, function* readAllAsync_1() {\n        const reader = yield __await(RecordBatchReader.from(source));\n        try {\n            if (!(yield __await(reader.open({ autoDestroy: false }))).closed) {\n                do {\n                    yield yield __await(reader);\n                } while (!(yield __await(reader.reset().open())).closed);\n            }\n        }\n        finally {\n            yield __await(reader.cancel());\n        }\n    });\n}\n/** @ignore */\nfunction fromArrowJSON(source) {\n    return new RecordBatchStreamReader(new RecordBatchJSONReaderImpl(source));\n}\n/** @ignore */\nfunction fromByteStream(source) {\n    const bytes = source.peek((magicLength + 7) & ~7);\n    return bytes && bytes.byteLength >= 4 ? !checkForMagicArrowString(bytes)\n        ? new RecordBatchStreamReader(new RecordBatchStreamReaderImpl(source))\n        : new RecordBatchFileReader(new RecordBatchFileReaderImpl(source.read()))\n        : new RecordBatchStreamReader(new RecordBatchStreamReaderImpl(function* () { }()));\n}\n/** @ignore */\nfunction fromAsyncByteStream(source) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const bytes = yield source.peek((magicLength + 7) & ~7);\n        return bytes && bytes.byteLength >= 4 ? !checkForMagicArrowString(bytes)\n            ? new AsyncRecordBatchStreamReader(new AsyncRecordBatchStreamReaderImpl(source))\n            : new RecordBatchFileReader(new RecordBatchFileReaderImpl(yield source.read()))\n            : new AsyncRecordBatchStreamReader(new AsyncRecordBatchStreamReaderImpl(function () { return __asyncGenerator(this, arguments, function* () { }); }()));\n    });\n}\n/** @ignore */\nfunction fromFileHandle(source) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const { size } = yield source.stat();\n        const file = new AsyncRandomAccessFile(source, size);\n        if (size >= magicX2AndPadding && checkForMagicArrowString(yield file.readAt(0, (magicLength + 7) & ~7))) {\n            return new AsyncRecordBatchFileReader(new AsyncRecordBatchFileReaderImpl(file));\n        }\n        return new AsyncRecordBatchStreamReader(new AsyncRecordBatchStreamReaderImpl(file));\n    });\n}\n\n//# sourceMappingURL=reader.mjs.map\n","// automatically generated by the FlatBuffers compiler, do not modify\nimport * as flatbuffers from 'flatbuffers';\nexport class Int {\n    constructor() {\n        this.bb = null;\n        this.bb_pos = 0;\n    }\n    __init(i, bb) {\n        this.bb_pos = i;\n        this.bb = bb;\n        return this;\n    }\n    static getRootAsInt(bb, obj) {\n        return (obj || new Int()).__init(bb.readInt32(bb.position()) + bb.position(), bb);\n    }\n    static getSizePrefixedRootAsInt(bb, obj) {\n        bb.setPosition(bb.position() + flatbuffers.SIZE_PREFIX_LENGTH);\n        return (obj || new Int()).__init(bb.readInt32(bb.position()) + bb.position(), bb);\n    }\n    bitWidth() {\n        const offset = this.bb.__offset(this.bb_pos, 4);\n        return offset ? this.bb.readInt32(this.bb_pos + offset) : 0;\n    }\n    isSigned() {\n        const offset = this.bb.__offset(this.bb_pos, 6);\n        return offset ? !!this.bb.readInt8(this.bb_pos + offset) : false;\n    }\n    static startInt(builder) {\n        builder.startObject(2);\n    }\n    static addBitWidth(builder, bitWidth) {\n        builder.addFieldInt32(0, bitWidth, 0);\n    }\n    static addIsSigned(builder, isSigned) {\n        builder.addFieldInt8(1, +isSigned, +false);\n    }\n    static endInt(builder) {\n        const offset = builder.endObject();\n        return offset;\n    }\n    static createInt(builder, bitWidth, isSigned) {\n        Int.startInt(builder);\n        Int.addBitWidth(builder, bitWidth);\n        Int.addIsSigned(builder, isSigned);\n        return Int.endInt(builder);\n    }\n}\n\n//# sourceMappingURL=int.mjs.map\n","export default function getBoundingClientRect(element) {\n  var rect = element.getBoundingClientRect();\n  return {\n    width: rect.width,\n    height: rect.height,\n    top: rect.top,\n    right: rect.right,\n    bottom: rect.bottom,\n    left: rect.left,\n    x: rect.left,\n    y: rect.top\n  };\n}","import getWindow from \"./getWindow.js\";\nexport default function getWindowScroll(node) {\n  var win = getWindow(node);\n  var scrollLeft = win.pageXOffset;\n  var scrollTop = win.pageYOffset;\n  return {\n    scrollLeft: scrollLeft,\n    scrollTop: scrollTop\n  };\n}","import { isElement } from \"./instanceOf.js\";\nexport default function getDocumentElement(element) {\n  // $FlowFixMe[incompatible-return]: assume body is always available\n  return ((isElement(element) ? element.ownerDocument : // $FlowFixMe[prop-missing]\n  element.document) || window.document).documentElement;\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getWindowScroll from \"./getWindowScroll.js\";\nexport default function getWindowScrollBarX(element) {\n  // If <html> has a CSS width greater than the viewport, then this will be\n  // incorrect for RTL.\n  // Popper 1 is broken in this case and never had a bug report so let's assume\n  // it's not an issue. I don't think anyone ever specifies width on <html>\n  // anyway.\n  // Browsers where the left scrollbar doesn't cause an issue report `0` for\n  // this (e.g. Edge 2019, IE11, Safari)\n  return getBoundingClientRect(getDocumentElement(element)).left + getWindowScroll(element).scrollLeft;\n}","import getWindow from \"./getWindow.js\";\nexport default function getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}","import getComputedStyle from \"./getComputedStyle.js\";\nexport default function isScrollParent(element) {\n  // Firefox wants us to check `-x` and `-y` variations as well\n  var _getComputedStyle = getComputedStyle(element),\n      overflow = _getComputedStyle.overflow,\n      overflowX = _getComputedStyle.overflowX,\n      overflowY = _getComputedStyle.overflowY;\n\n  return /auto|scroll|overlay|hidden/.test(overflow + overflowY + overflowX);\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getNodeScroll from \"./getNodeScroll.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport isScrollParent from \"./isScrollParent.js\"; // Returns the composite rect of an element relative to its offsetParent.\n// Composite means it takes into account transforms as well as layout.\n\nexport default function getCompositeRect(elementOrVirtualElement, offsetParent, isFixed) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n\n  var documentElement = getDocumentElement(offsetParent);\n  var rect = getBoundingClientRect(elementOrVirtualElement);\n  var isOffsetParentAnElement = isHTMLElement(offsetParent);\n  var scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  var offsets = {\n    x: 0,\n    y: 0\n  };\n\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || // https://github.com/popperjs/popper-core/issues/1078\n    isScrollParent(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n\n    if (isHTMLElement(offsetParent)) {\n      offsets = getBoundingClientRect(offsetParent);\n      offsets.x += offsetParent.clientLeft;\n      offsets.y += offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n\n  return {\n    x: rect.left + scroll.scrollLeft - offsets.x,\n    y: rect.top + scroll.scrollTop - offsets.y,\n    width: rect.width,\n    height: rect.height\n  };\n}","import getWindowScroll from \"./getWindowScroll.js\";\nimport getWindow from \"./getWindow.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport getHTMLElementScroll from \"./getHTMLElementScroll.js\";\nexport default function getNodeScroll(node) {\n  if (node === getWindow(node) || !isHTMLElement(node)) {\n    return getWindowScroll(node);\n  } else {\n    return getHTMLElementScroll(node);\n  }\n}","export default function getHTMLElementScroll(element) {\n  return {\n    scrollLeft: element.scrollLeft,\n    scrollTop: element.scrollTop\n  };\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\"; // Returns the layout rect of an element relative to its offsetParent. Layout\n// means it doesn't take into account transforms.\n\nexport default function getLayoutRect(element) {\n  var clientRect = getBoundingClientRect(element); // Use the clientRect sizes if it's not been transformed.\n  // Fixes https://github.com/popperjs/popper-core/issues/1223\n\n  var width = element.offsetWidth;\n  var height = element.offsetHeight;\n\n  if (Math.abs(clientRect.width - width) <= 1) {\n    width = clientRect.width;\n  }\n\n  if (Math.abs(clientRect.height - height) <= 1) {\n    height = clientRect.height;\n  }\n\n  return {\n    x: element.offsetLeft,\n    y: element.offsetTop,\n    width: width,\n    height: height\n  };\n}","import getNodeName from \"./getNodeName.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport { isShadowRoot } from \"./instanceOf.js\";\nexport default function getParentNode(element) {\n  if (getNodeName(element) === 'html') {\n    return element;\n  }\n\n  return (// this is a quicker (but less type safe) way to save quite some bytes from the bundle\n    // $FlowFixMe[incompatible-return]\n    // $FlowFixMe[prop-missing]\n    element.assignedSlot || // step into the shadow DOM of the parent of a slotted node\n    element.parentNode || ( // DOM Element detected\n    isShadowRoot(element) ? element.host : null) || // ShadowRoot detected\n    // $FlowFixMe[incompatible-call]: HTMLElement is a Node\n    getDocumentElement(element) // fallback\n\n  );\n}","import getScrollParent from \"./getScrollParent.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport getWindow from \"./getWindow.js\";\nimport isScrollParent from \"./isScrollParent.js\";\n/*\ngiven a DOM element, return the list of all scroll parents, up the list of ancesors\nuntil we get to the top window object. This list is what we attach scroll listeners\nto, because if any of these parent elements scroll, we'll need to re-calculate the\nreference element's position.\n*/\n\nexport default function listScrollParents(element, list) {\n  var _element$ownerDocumen;\n\n  if (list === void 0) {\n    list = [];\n  }\n\n  var scrollParent = getScrollParent(element);\n  var isBody = scrollParent === ((_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body);\n  var win = getWindow(scrollParent);\n  var target = isBody ? [win].concat(win.visualViewport || [], isScrollParent(scrollParent) ? scrollParent : []) : scrollParent;\n  var updatedList = list.concat(target);\n  return isBody ? updatedList : // $FlowFixMe[incompatible-call]: isBody tells us target will be an HTMLElement here\n  updatedList.concat(listScrollParents(getParentNode(target)));\n}","import getParentNode from \"./getParentNode.js\";\nimport isScrollParent from \"./isScrollParent.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nexport default function getScrollParent(node) {\n  if (['html', 'body', '#document'].indexOf(getNodeName(node)) >= 0) {\n    // $FlowFixMe[incompatible-return]: assume body is always available\n    return node.ownerDocument.body;\n  }\n\n  if (isHTMLElement(node) && isScrollParent(node)) {\n    return node;\n  }\n\n  return getScrollParent(getParentNode(node));\n}","import getNodeName from \"./getNodeName.js\";\nexport default function isTableElement(element) {\n  return ['table', 'td', 'th'].indexOf(getNodeName(element)) >= 0;\n}","import getWindow from \"./getWindow.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport isTableElement from \"./isTableElement.js\";\nimport getParentNode from \"./getParentNode.js\";\n\nfunction getTrueOffsetParent(element) {\n  if (!isHTMLElement(element) || // https://github.com/popperjs/popper-core/issues/837\n  getComputedStyle(element).position === 'fixed') {\n    return null;\n  }\n\n  return element.offsetParent;\n} // `.offsetParent` reports `null` for fixed elements, while absolute elements\n// return the containing block\n\n\nfunction getContainingBlock(element) {\n  var isFirefox = navigator.userAgent.toLowerCase().indexOf('firefox') !== -1;\n  var currentNode = getParentNode(element);\n\n  while (isHTMLElement(currentNode) && ['html', 'body'].indexOf(getNodeName(currentNode)) < 0) {\n    var css = getComputedStyle(currentNode); // This is non-exhaustive but covers the most common CSS properties that\n    // create a containing block.\n    // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n\n    if (css.transform !== 'none' || css.perspective !== 'none' || css.contain === 'paint' || ['transform', 'perspective'].indexOf(css.willChange) !== -1 || isFirefox && css.willChange === 'filter' || isFirefox && css.filter && css.filter !== 'none') {\n      return currentNode;\n    } else {\n      currentNode = currentNode.parentNode;\n    }\n  }\n\n  return null;\n} // Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\n\n\nexport default function getOffsetParent(element) {\n  var window = getWindow(element);\n  var offsetParent = getTrueOffsetParent(element);\n\n  while (offsetParent && isTableElement(offsetParent) && getComputedStyle(offsetParent).position === 'static') {\n    offsetParent = getTrueOffsetParent(offsetParent);\n  }\n\n  if (offsetParent && (getNodeName(offsetParent) === 'html' || getNodeName(offsetParent) === 'body' && getComputedStyle(offsetParent).position === 'static')) {\n    return window;\n  }\n\n  return offsetParent || getContainingBlock(element) || window;\n}","export var top = 'top';\nexport var bottom = 'bottom';\nexport var right = 'right';\nexport var left = 'left';\nexport var auto = 'auto';\nexport var basePlacements = [top, bottom, right, left];\nexport var start = 'start';\nexport var end = 'end';\nexport var clippingParents = 'clippingParents';\nexport var viewport = 'viewport';\nexport var popper = 'popper';\nexport var reference = 'reference';\nexport var variationPlacements = /*#__PURE__*/basePlacements.reduce(function (acc, placement) {\n  return acc.concat([placement + \"-\" + start, placement + \"-\" + end]);\n}, []);\nexport var placements = /*#__PURE__*/[].concat(basePlacements, [auto]).reduce(function (acc, placement) {\n  return acc.concat([placement, placement + \"-\" + start, placement + \"-\" + end]);\n}, []); // modifiers that need to read the DOM\n\nexport var beforeRead = 'beforeRead';\nexport var read = 'read';\nexport var afterRead = 'afterRead'; // pure-logic modifiers\n\nexport var beforeMain = 'beforeMain';\nexport var main = 'main';\nexport var afterMain = 'afterMain'; // modifier with the purpose to write to the DOM (or write into a framework state)\n\nexport var beforeWrite = 'beforeWrite';\nexport var write = 'write';\nexport var afterWrite = 'afterWrite';\nexport var modifierPhases = [beforeRead, read, afterRead, beforeMain, main, afterMain, beforeWrite, write, afterWrite];","import { modifierPhases } from \"../enums.js\"; // source: https://stackoverflow.com/questions/49875255\n\nfunction order(modifiers) {\n  var map = new Map();\n  var visited = new Set();\n  var result = [];\n  modifiers.forEach(function (modifier) {\n    map.set(modifier.name, modifier);\n  }); // On visiting object, check for its dependencies and visit them recursively\n\n  function sort(modifier) {\n    visited.add(modifier.name);\n    var requires = [].concat(modifier.requires || [], modifier.requiresIfExists || []);\n    requires.forEach(function (dep) {\n      if (!visited.has(dep)) {\n        var depModifier = map.get(dep);\n\n        if (depModifier) {\n          sort(depModifier);\n        }\n      }\n    });\n    result.push(modifier);\n  }\n\n  modifiers.forEach(function (modifier) {\n    if (!visited.has(modifier.name)) {\n      // check for visited object\n      sort(modifier);\n    }\n  });\n  return result;\n}\n\nexport default function orderModifiers(modifiers) {\n  // order based on dependencies\n  var orderedModifiers = order(modifiers); // order based on phase\n\n  return modifierPhases.reduce(function (acc, phase) {\n    return acc.concat(orderedModifiers.filter(function (modifier) {\n      return modifier.phase === phase;\n    }));\n  }, []);\n}","import getCompositeRect from \"./dom-utils/getCompositeRect.js\";\nimport getLayoutRect from \"./dom-utils/getLayoutRect.js\";\nimport listScrollParents from \"./dom-utils/listScrollParents.js\";\nimport getOffsetParent from \"./dom-utils/getOffsetParent.js\";\nimport getComputedStyle from \"./dom-utils/getComputedStyle.js\";\nimport orderModifiers from \"./utils/orderModifiers.js\";\nimport debounce from \"./utils/debounce.js\";\nimport validateModifiers from \"./utils/validateModifiers.js\";\nimport uniqueBy from \"./utils/uniqueBy.js\";\nimport getBasePlacement from \"./utils/getBasePlacement.js\";\nimport mergeByName from \"./utils/mergeByName.js\";\nimport detectOverflow from \"./utils/detectOverflow.js\";\nimport { isElement } from \"./dom-utils/instanceOf.js\";\nimport { auto } from \"./enums.js\";\nvar INVALID_ELEMENT_ERROR = 'Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.';\nvar INFINITE_LOOP_ERROR = 'Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.';\nvar DEFAULT_OPTIONS = {\n  placement: 'bottom',\n  modifiers: [],\n  strategy: 'absolute'\n};\n\nfunction areValidElements() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return !args.some(function (element) {\n    return !(element && typeof element.getBoundingClientRect === 'function');\n  });\n}\n\nexport function popperGenerator(generatorOptions) {\n  if (generatorOptions === void 0) {\n    generatorOptions = {};\n  }\n\n  var _generatorOptions = generatorOptions,\n      _generatorOptions$def = _generatorOptions.defaultModifiers,\n      defaultModifiers = _generatorOptions$def === void 0 ? [] : _generatorOptions$def,\n      _generatorOptions$def2 = _generatorOptions.defaultOptions,\n      defaultOptions = _generatorOptions$def2 === void 0 ? DEFAULT_OPTIONS : _generatorOptions$def2;\n  return function createPopper(reference, popper, options) {\n    if (options === void 0) {\n      options = defaultOptions;\n    }\n\n    var state = {\n      placement: 'bottom',\n      orderedModifiers: [],\n      options: Object.assign({}, DEFAULT_OPTIONS, defaultOptions),\n      modifiersData: {},\n      elements: {\n        reference: reference,\n        popper: popper\n      },\n      attributes: {},\n      styles: {}\n    };\n    var effectCleanupFns = [];\n    var isDestroyed = false;\n    var instance = {\n      state: state,\n      setOptions: function setOptions(options) {\n        cleanupModifierEffects();\n        state.options = Object.assign({}, defaultOptions, state.options, options);\n        state.scrollParents = {\n          reference: isElement(reference) ? listScrollParents(reference) : reference.contextElement ? listScrollParents(reference.contextElement) : [],\n          popper: listScrollParents(popper)\n        }; // Orders the modifiers based on their dependencies and `phase`\n        // properties\n\n        var orderedModifiers = orderModifiers(mergeByName([].concat(defaultModifiers, state.options.modifiers))); // Strip out disabled modifiers\n\n        state.orderedModifiers = orderedModifiers.filter(function (m) {\n          return m.enabled;\n        }); // Validate the provided modifiers so that the consumer will get warned\n        // if one of the modifiers is invalid for any reason\n\n        if (process.env.NODE_ENV !== \"production\") {\n          var modifiers = uniqueBy([].concat(orderedModifiers, state.options.modifiers), function (_ref) {\n            var name = _ref.name;\n            return name;\n          });\n          validateModifiers(modifiers);\n\n          if (getBasePlacement(state.options.placement) === auto) {\n            var flipModifier = state.orderedModifiers.find(function (_ref2) {\n              var name = _ref2.name;\n              return name === 'flip';\n            });\n\n            if (!flipModifier) {\n              console.error(['Popper: \"auto\" placements require the \"flip\" modifier be', 'present and enabled to work.'].join(' '));\n            }\n          }\n\n          var _getComputedStyle = getComputedStyle(popper),\n              marginTop = _getComputedStyle.marginTop,\n              marginRight = _getComputedStyle.marginRight,\n              marginBottom = _getComputedStyle.marginBottom,\n              marginLeft = _getComputedStyle.marginLeft; // We no longer take into account `margins` on the popper, and it can\n          // cause bugs with positioning, so we'll warn the consumer\n\n\n          if ([marginTop, marginRight, marginBottom, marginLeft].some(function (margin) {\n            return parseFloat(margin);\n          })) {\n            console.warn(['Popper: CSS \"margin\" styles cannot be used to apply padding', 'between the popper and its reference element or boundary.', 'To replicate margin, use the `offset` modifier, as well as', 'the `padding` option in the `preventOverflow` and `flip`', 'modifiers.'].join(' '));\n          }\n        }\n\n        runModifierEffects();\n        return instance.update();\n      },\n      // Sync update – it will always be executed, even if not necessary. This\n      // is useful for low frequency updates where sync behavior simplifies the\n      // logic.\n      // For high frequency updates (e.g. `resize` and `scroll` events), always\n      // prefer the async Popper#update method\n      forceUpdate: function forceUpdate() {\n        if (isDestroyed) {\n          return;\n        }\n\n        var _state$elements = state.elements,\n            reference = _state$elements.reference,\n            popper = _state$elements.popper; // Don't proceed if `reference` or `popper` are not valid elements\n        // anymore\n\n        if (!areValidElements(reference, popper)) {\n          if (process.env.NODE_ENV !== \"production\") {\n            console.error(INVALID_ELEMENT_ERROR);\n          }\n\n          return;\n        } // Store the reference and popper rects to be read by modifiers\n\n\n        state.rects = {\n          reference: getCompositeRect(reference, getOffsetParent(popper), state.options.strategy === 'fixed'),\n          popper: getLayoutRect(popper)\n        }; // Modifiers have the ability to reset the current update cycle. The\n        // most common use case for this is the `flip` modifier changing the\n        // placement, which then needs to re-run all the modifiers, because the\n        // logic was previously ran for the previous placement and is therefore\n        // stale/incorrect\n\n        state.reset = false;\n        state.placement = state.options.placement; // On each update cycle, the `modifiersData` property for each modifier\n        // is filled with the initial data specified by the modifier. This means\n        // it doesn't persist and is fresh on each update.\n        // To ensure persistent data, use `${name}#persistent`\n\n        state.orderedModifiers.forEach(function (modifier) {\n          return state.modifiersData[modifier.name] = Object.assign({}, modifier.data);\n        });\n        var __debug_loops__ = 0;\n\n        for (var index = 0; index < state.orderedModifiers.length; index++) {\n          if (process.env.NODE_ENV !== \"production\") {\n            __debug_loops__ += 1;\n\n            if (__debug_loops__ > 100) {\n              console.error(INFINITE_LOOP_ERROR);\n              break;\n            }\n          }\n\n          if (state.reset === true) {\n            state.reset = false;\n            index = -1;\n            continue;\n          }\n\n          var _state$orderedModifie = state.orderedModifiers[index],\n              fn = _state$orderedModifie.fn,\n              _state$orderedModifie2 = _state$orderedModifie.options,\n              _options = _state$orderedModifie2 === void 0 ? {} : _state$orderedModifie2,\n              name = _state$orderedModifie.name;\n\n          if (typeof fn === 'function') {\n            state = fn({\n              state: state,\n              options: _options,\n              name: name,\n              instance: instance\n            }) || state;\n          }\n        }\n      },\n      // Async and optimistically optimized update – it will not be executed if\n      // not necessary (debounced to run at most once-per-tick)\n      update: debounce(function () {\n        return new Promise(function (resolve) {\n          instance.forceUpdate();\n          resolve(state);\n        });\n      }),\n      destroy: function destroy() {\n        cleanupModifierEffects();\n        isDestroyed = true;\n      }\n    };\n\n    if (!areValidElements(reference, popper)) {\n      if (process.env.NODE_ENV !== \"production\") {\n        console.error(INVALID_ELEMENT_ERROR);\n      }\n\n      return instance;\n    }\n\n    instance.setOptions(options).then(function (state) {\n      if (!isDestroyed && options.onFirstUpdate) {\n        options.onFirstUpdate(state);\n      }\n    }); // Modifiers have the ability to execute arbitrary code before the first\n    // update cycle runs. They will be executed in the same order as the update\n    // cycle. This is useful when a modifier adds some persistent data that\n    // other modifiers need to use, but the modifier is run after the dependent\n    // one.\n\n    function runModifierEffects() {\n      state.orderedModifiers.forEach(function (_ref3) {\n        var name = _ref3.name,\n            _ref3$options = _ref3.options,\n            options = _ref3$options === void 0 ? {} : _ref3$options,\n            effect = _ref3.effect;\n\n        if (typeof effect === 'function') {\n          var cleanupFn = effect({\n            state: state,\n            name: name,\n            instance: instance,\n            options: options\n          });\n\n          var noopFn = function noopFn() {};\n\n          effectCleanupFns.push(cleanupFn || noopFn);\n        }\n      });\n    }\n\n    function cleanupModifierEffects() {\n      effectCleanupFns.forEach(function (fn) {\n        return fn();\n      });\n      effectCleanupFns = [];\n    }\n\n    return instance;\n  };\n}\nexport var createPopper = /*#__PURE__*/popperGenerator(); // eslint-disable-next-line import/no-unused-modules\n\nexport { detectOverflow };","export default function debounce(fn) {\n  var pending;\n  return function () {\n    if (!pending) {\n      pending = new Promise(function (resolve) {\n        Promise.resolve().then(function () {\n          pending = undefined;\n          resolve(fn());\n        });\n      });\n    }\n\n    return pending;\n  };\n}","export default function mergeByName(modifiers) {\n  var merged = modifiers.reduce(function (merged, current) {\n    var existing = merged[current.name];\n    merged[current.name] = existing ? Object.assign({}, existing, current, {\n      options: Object.assign({}, existing.options, current.options),\n      data: Object.assign({}, existing.data, current.data)\n    }) : current;\n    return merged;\n  }, {}); // IE11 does not support Object.values\n\n  return Object.keys(merged).map(function (key) {\n    return merged[key];\n  });\n}","import getWindow from \"../dom-utils/getWindow.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar passive = {\n  passive: true\n};\n\nfunction effect(_ref) {\n  var state = _ref.state,\n      instance = _ref.instance,\n      options = _ref.options;\n  var _options$scroll = options.scroll,\n      scroll = _options$scroll === void 0 ? true : _options$scroll,\n      _options$resize = options.resize,\n      resize = _options$resize === void 0 ? true : _options$resize;\n  var window = getWindow(state.elements.popper);\n  var scrollParents = [].concat(state.scrollParents.reference, state.scrollParents.popper);\n\n  if (scroll) {\n    scrollParents.forEach(function (scrollParent) {\n      scrollParent.addEventListener('scroll', instance.update, passive);\n    });\n  }\n\n  if (resize) {\n    window.addEventListener('resize', instance.update, passive);\n  }\n\n  return function () {\n    if (scroll) {\n      scrollParents.forEach(function (scrollParent) {\n        scrollParent.removeEventListener('scroll', instance.update, passive);\n      });\n    }\n\n    if (resize) {\n      window.removeEventListener('resize', instance.update, passive);\n    }\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'eventListeners',\n  enabled: true,\n  phase: 'write',\n  fn: function fn() {},\n  effect: effect,\n  data: {}\n};","import { auto } from \"../enums.js\";\nexport default function getBasePlacement(placement) {\n  return placement.split('-')[0];\n}","export default function getVariation(placement) {\n  return placement.split('-')[1];\n}","export default function getMainAxisFromPlacement(placement) {\n  return ['top', 'bottom'].indexOf(placement) >= 0 ? 'x' : 'y';\n}","import getBasePlacement from \"./getBasePlacement.js\";\nimport getVariation from \"./getVariation.js\";\nimport getMainAxisFromPlacement from \"./getMainAxisFromPlacement.js\";\nimport { top, right, bottom, left, start, end } from \"../enums.js\";\nexport default function computeOffsets(_ref) {\n  var reference = _ref.reference,\n      element = _ref.element,\n      placement = _ref.placement;\n  var basePlacement = placement ? getBasePlacement(placement) : null;\n  var variation = placement ? getVariation(placement) : null;\n  var commonX = reference.x + reference.width / 2 - element.width / 2;\n  var commonY = reference.y + reference.height / 2 - element.height / 2;\n  var offsets;\n\n  switch (basePlacement) {\n    case top:\n      offsets = {\n        x: commonX,\n        y: reference.y - element.height\n      };\n      break;\n\n    case bottom:\n      offsets = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n\n    case right:\n      offsets = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n\n    case left:\n      offsets = {\n        x: reference.x - element.width,\n        y: commonY\n      };\n      break;\n\n    default:\n      offsets = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n\n  var mainAxis = basePlacement ? getMainAxisFromPlacement(basePlacement) : null;\n\n  if (mainAxis != null) {\n    var len = mainAxis === 'y' ? 'height' : 'width';\n\n    switch (variation) {\n      case start:\n        offsets[mainAxis] = offsets[mainAxis] - (reference[len] / 2 - element[len] / 2);\n        break;\n\n      case end:\n        offsets[mainAxis] = offsets[mainAxis] + (reference[len] / 2 - element[len] / 2);\n        break;\n\n      default:\n    }\n  }\n\n  return offsets;\n}","import computeOffsets from \"../utils/computeOffsets.js\";\n\nfunction popperOffsets(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  // Offsets are the actual position the popper needs to have to be\n  // properly positioned near its reference element\n  // This is the most basic placement, and will be adjusted by\n  // the modifiers in the next step\n  state.modifiersData[name] = computeOffsets({\n    reference: state.rects.reference,\n    element: state.rects.popper,\n    strategy: 'absolute',\n    placement: state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'popperOffsets',\n  enabled: true,\n  phase: 'read',\n  fn: popperOffsets,\n  data: {}\n};","export var max = Math.max;\nexport var min = Math.min;\nexport var round = Math.round;","import { top, left, right, bottom } from \"../enums.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport getWindow from \"../dom-utils/getWindow.js\";\nimport getDocumentElement from \"../dom-utils/getDocumentElement.js\";\nimport getComputedStyle from \"../dom-utils/getComputedStyle.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport { round } from \"../utils/math.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar unsetSides = {\n  top: 'auto',\n  right: 'auto',\n  bottom: 'auto',\n  left: 'auto'\n}; // Round the offsets to the nearest suitable subpixel based on the DPR.\n// Zooming can change the DPR, but it seems to report a value that will\n// cleanly divide the values into the appropriate subpixels.\n\nfunction roundOffsetsByDPR(_ref) {\n  var x = _ref.x,\n      y = _ref.y;\n  var win = window;\n  var dpr = win.devicePixelRatio || 1;\n  return {\n    x: round(round(x * dpr) / dpr) || 0,\n    y: round(round(y * dpr) / dpr) || 0\n  };\n}\n\nexport function mapToStyles(_ref2) {\n  var _Object$assign2;\n\n  var popper = _ref2.popper,\n      popperRect = _ref2.popperRect,\n      placement = _ref2.placement,\n      offsets = _ref2.offsets,\n      position = _ref2.position,\n      gpuAcceleration = _ref2.gpuAcceleration,\n      adaptive = _ref2.adaptive,\n      roundOffsets = _ref2.roundOffsets;\n\n  var _ref3 = roundOffsets === true ? roundOffsetsByDPR(offsets) : typeof roundOffsets === 'function' ? roundOffsets(offsets) : offsets,\n      _ref3$x = _ref3.x,\n      x = _ref3$x === void 0 ? 0 : _ref3$x,\n      _ref3$y = _ref3.y,\n      y = _ref3$y === void 0 ? 0 : _ref3$y;\n\n  var hasX = offsets.hasOwnProperty('x');\n  var hasY = offsets.hasOwnProperty('y');\n  var sideX = left;\n  var sideY = top;\n  var win = window;\n\n  if (adaptive) {\n    var offsetParent = getOffsetParent(popper);\n    var heightProp = 'clientHeight';\n    var widthProp = 'clientWidth';\n\n    if (offsetParent === getWindow(popper)) {\n      offsetParent = getDocumentElement(popper);\n\n      if (getComputedStyle(offsetParent).position !== 'static') {\n        heightProp = 'scrollHeight';\n        widthProp = 'scrollWidth';\n      }\n    } // $FlowFixMe[incompatible-cast]: force type refinement, we compare offsetParent with window above, but Flow doesn't detect it\n\n\n    offsetParent = offsetParent;\n\n    if (placement === top) {\n      sideY = bottom; // $FlowFixMe[prop-missing]\n\n      y -= offsetParent[heightProp] - popperRect.height;\n      y *= gpuAcceleration ? 1 : -1;\n    }\n\n    if (placement === left) {\n      sideX = right; // $FlowFixMe[prop-missing]\n\n      x -= offsetParent[widthProp] - popperRect.width;\n      x *= gpuAcceleration ? 1 : -1;\n    }\n  }\n\n  var commonStyles = Object.assign({\n    position: position\n  }, adaptive && unsetSides);\n\n  if (gpuAcceleration) {\n    var _Object$assign;\n\n    return Object.assign({}, commonStyles, (_Object$assign = {}, _Object$assign[sideY] = hasY ? '0' : '', _Object$assign[sideX] = hasX ? '0' : '', _Object$assign.transform = (win.devicePixelRatio || 1) < 2 ? \"translate(\" + x + \"px, \" + y + \"px)\" : \"translate3d(\" + x + \"px, \" + y + \"px, 0)\", _Object$assign));\n  }\n\n  return Object.assign({}, commonStyles, (_Object$assign2 = {}, _Object$assign2[sideY] = hasY ? y + \"px\" : '', _Object$assign2[sideX] = hasX ? x + \"px\" : '', _Object$assign2.transform = '', _Object$assign2));\n}\n\nfunction computeStyles(_ref4) {\n  var state = _ref4.state,\n      options = _ref4.options;\n  var _options$gpuAccelerat = options.gpuAcceleration,\n      gpuAcceleration = _options$gpuAccelerat === void 0 ? true : _options$gpuAccelerat,\n      _options$adaptive = options.adaptive,\n      adaptive = _options$adaptive === void 0 ? true : _options$adaptive,\n      _options$roundOffsets = options.roundOffsets,\n      roundOffsets = _options$roundOffsets === void 0 ? true : _options$roundOffsets;\n\n  if (process.env.NODE_ENV !== \"production\") {\n    var transitionProperty = getComputedStyle(state.elements.popper).transitionProperty || '';\n\n    if (adaptive && ['transform', 'top', 'right', 'bottom', 'left'].some(function (property) {\n      return transitionProperty.indexOf(property) >= 0;\n    })) {\n      console.warn(['Popper: Detected CSS transitions on at least one of the following', 'CSS properties: \"transform\", \"top\", \"right\", \"bottom\", \"left\".', '\\n\\n', 'Disable the \"computeStyles\" modifier\\'s `adaptive` option to allow', 'for smooth transitions, or remove these properties from the CSS', 'transition declaration on the popper element if only transitioning', 'opacity or background-color for example.', '\\n\\n', 'We recommend using the popper element as a wrapper around an inner', 'element that can have any CSS property transitioned for animations.'].join(' '));\n    }\n  }\n\n  var commonStyles = {\n    placement: getBasePlacement(state.placement),\n    popper: state.elements.popper,\n    popperRect: state.rects.popper,\n    gpuAcceleration: gpuAcceleration\n  };\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.styles.popper = Object.assign({}, state.styles.popper, mapToStyles(Object.assign({}, commonStyles, {\n      offsets: state.modifiersData.popperOffsets,\n      position: state.options.strategy,\n      adaptive: adaptive,\n      roundOffsets: roundOffsets\n    })));\n  }\n\n  if (state.modifiersData.arrow != null) {\n    state.styles.arrow = Object.assign({}, state.styles.arrow, mapToStyles(Object.assign({}, commonStyles, {\n      offsets: state.modifiersData.arrow,\n      position: 'absolute',\n      adaptive: false,\n      roundOffsets: roundOffsets\n    })));\n  }\n\n  state.attributes.popper = Object.assign({}, state.attributes.popper, {\n    'data-popper-placement': state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'computeStyles',\n  enabled: true,\n  phase: 'beforeWrite',\n  fn: computeStyles,\n  data: {}\n};","import getBasePlacement from \"../utils/getBasePlacement.js\";\nimport { top, left, right, placements } from \"../enums.js\";\nexport function distanceAndSkiddingToXY(placement, rects, offset) {\n  var basePlacement = getBasePlacement(placement);\n  var invertDistance = [left, top].indexOf(basePlacement) >= 0 ? -1 : 1;\n\n  var _ref = typeof offset === 'function' ? offset(Object.assign({}, rects, {\n    placement: placement\n  })) : offset,\n      skidding = _ref[0],\n      distance = _ref[1];\n\n  skidding = skidding || 0;\n  distance = (distance || 0) * invertDistance;\n  return [left, right].indexOf(basePlacement) >= 0 ? {\n    x: distance,\n    y: skidding\n  } : {\n    x: skidding,\n    y: distance\n  };\n}\n\nfunction offset(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options,\n      name = _ref2.name;\n  var _options$offset = options.offset,\n      offset = _options$offset === void 0 ? [0, 0] : _options$offset;\n  var data = placements.reduce(function (acc, placement) {\n    acc[placement] = distanceAndSkiddingToXY(placement, state.rects, offset);\n    return acc;\n  }, {});\n  var _data$state$placement = data[state.placement],\n      x = _data$state$placement.x,\n      y = _data$state$placement.y;\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.modifiersData.popperOffsets.x += x;\n    state.modifiersData.popperOffsets.y += y;\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'offset',\n  enabled: true,\n  phase: 'main',\n  requires: ['popperOffsets'],\n  fn: offset\n};","var hash = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nexport default function getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, function (matched) {\n    return hash[matched];\n  });\n}","var hash = {\n  start: 'end',\n  end: 'start'\n};\nexport default function getOppositeVariationPlacement(placement) {\n  return placement.replace(/start|end/g, function (matched) {\n    return hash[matched];\n  });\n}","import { isShadowRoot } from \"./instanceOf.js\";\nexport default function contains(parent, child) {\n  var rootNode = child.getRootNode && child.getRootNode(); // First, attempt with faster native method\n\n  if (parent.contains(child)) {\n    return true;\n  } // then fallback to custom implementation with Shadow DOM support\n  else if (rootNode && isShadowRoot(rootNode)) {\n      var next = child;\n\n      do {\n        if (next && parent.isSameNode(next)) {\n          return true;\n        } // $FlowFixMe[prop-missing]: need a better way to handle this...\n\n\n        next = next.parentNode || next.host;\n      } while (next);\n    } // Give up, the result is false\n\n\n  return false;\n}","export default function rectToClientRect(rect) {\n  return Object.assign({}, rect, {\n    left: rect.x,\n    top: rect.y,\n    right: rect.x + rect.width,\n    bottom: rect.y + rect.height\n  });\n}","import { viewport } from \"../enums.js\";\nimport getViewportRect from \"./getViewportRect.js\";\nimport getDocumentRect from \"./getDocumentRect.js\";\nimport listScrollParents from \"./listScrollParents.js\";\nimport getOffsetParent from \"./getOffsetParent.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport { isElement, isHTMLElement } from \"./instanceOf.js\";\nimport getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport contains from \"./contains.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport rectToClientRect from \"../utils/rectToClientRect.js\";\nimport { max, min } from \"../utils/math.js\";\n\nfunction getInnerBoundingClientRect(element) {\n  var rect = getBoundingClientRect(element);\n  rect.top = rect.top + element.clientTop;\n  rect.left = rect.left + element.clientLeft;\n  rect.bottom = rect.top + element.clientHeight;\n  rect.right = rect.left + element.clientWidth;\n  rect.width = element.clientWidth;\n  rect.height = element.clientHeight;\n  rect.x = rect.left;\n  rect.y = rect.top;\n  return rect;\n}\n\nfunction getClientRectFromMixedType(element, clippingParent) {\n  return clippingParent === viewport ? rectToClientRect(getViewportRect(element)) : isHTMLElement(clippingParent) ? getInnerBoundingClientRect(clippingParent) : rectToClientRect(getDocumentRect(getDocumentElement(element)));\n} // A \"clipping parent\" is an overflowable container with the characteristic of\n// clipping (or hiding) overflowing elements with a position different from\n// `initial`\n\n\nfunction getClippingParents(element) {\n  var clippingParents = listScrollParents(getParentNode(element));\n  var canEscapeClipping = ['absolute', 'fixed'].indexOf(getComputedStyle(element).position) >= 0;\n  var clipperElement = canEscapeClipping && isHTMLElement(element) ? getOffsetParent(element) : element;\n\n  if (!isElement(clipperElement)) {\n    return [];\n  } // $FlowFixMe[incompatible-return]: https://github.com/facebook/flow/issues/1414\n\n\n  return clippingParents.filter(function (clippingParent) {\n    return isElement(clippingParent) && contains(clippingParent, clipperElement) && getNodeName(clippingParent) !== 'body';\n  });\n} // Gets the maximum area that the element is visible in due to any number of\n// clipping parents\n\n\nexport default function getClippingRect(element, boundary, rootBoundary) {\n  var mainClippingParents = boundary === 'clippingParents' ? getClippingParents(element) : [].concat(boundary);\n  var clippingParents = [].concat(mainClippingParents, [rootBoundary]);\n  var firstClippingParent = clippingParents[0];\n  var clippingRect = clippingParents.reduce(function (accRect, clippingParent) {\n    var rect = getClientRectFromMixedType(element, clippingParent);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromMixedType(element, firstClippingParent));\n  clippingRect.width = clippingRect.right - clippingRect.left;\n  clippingRect.height = clippingRect.bottom - clippingRect.top;\n  clippingRect.x = clippingRect.left;\n  clippingRect.y = clippingRect.top;\n  return clippingRect;\n}","import getWindow from \"./getWindow.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nexport default function getViewportRect(element) {\n  var win = getWindow(element);\n  var html = getDocumentElement(element);\n  var visualViewport = win.visualViewport;\n  var width = html.clientWidth;\n  var height = html.clientHeight;\n  var x = 0;\n  var y = 0; // NB: This isn't supported on iOS <= 12. If the keyboard is open, the popper\n  // can be obscured underneath it.\n  // Also, `html.clientHeight` adds the bottom bar height in Safari iOS, even\n  // if it isn't open, so if this isn't available, the popper will be detected\n  // to overflow the bottom of the screen too early.\n\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height; // Uses Layout Viewport (like Chrome; Safari does not currently)\n    // In Chrome, it returns a value very close to 0 (+/-) but contains rounding\n    // errors due to floating point numbers, so we need to check precision.\n    // Safari returns a number <= 0, usually < -1 when pinch-zoomed\n    // Feature detection fails in mobile emulation mode in Chrome.\n    // Math.abs(win.innerWidth / visualViewport.scale - visualViewport.width) <\n    // 0.001\n    // Fallback here: \"Not Safari\" userAgent\n\n    if (!/^((?!chrome|android).)*safari/i.test(navigator.userAgent)) {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n\n  return {\n    width: width,\n    height: height,\n    x: x + getWindowScrollBarX(element),\n    y: y\n  };\n}","import getDocumentElement from \"./getDocumentElement.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport getWindowScroll from \"./getWindowScroll.js\";\nimport { max } from \"../utils/math.js\"; // Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable\n\nexport default function getDocumentRect(element) {\n  var _element$ownerDocumen;\n\n  var html = getDocumentElement(element);\n  var winScroll = getWindowScroll(element);\n  var body = (_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body;\n  var width = max(html.scrollWidth, html.clientWidth, body ? body.scrollWidth : 0, body ? body.clientWidth : 0);\n  var height = max(html.scrollHeight, html.clientHeight, body ? body.scrollHeight : 0, body ? body.clientHeight : 0);\n  var x = -winScroll.scrollLeft + getWindowScrollBarX(element);\n  var y = -winScroll.scrollTop;\n\n  if (getComputedStyle(body || html).direction === 'rtl') {\n    x += max(html.clientWidth, body ? body.clientWidth : 0) - width;\n  }\n\n  return {\n    width: width,\n    height: height,\n    x: x,\n    y: y\n  };\n}","import getFreshSideObject from \"./getFreshSideObject.js\";\nexport default function mergePaddingObject(paddingObject) {\n  return Object.assign({}, getFreshSideObject(), paddingObject);\n}","export default function getFreshSideObject() {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  };\n}","export default function expandToHashMap(value, keys) {\n  return keys.reduce(function (hashMap, key) {\n    hashMap[key] = value;\n    return hashMap;\n  }, {});\n}","import getBoundingClientRect from \"../dom-utils/getBoundingClientRect.js\";\nimport getClippingRect from \"../dom-utils/getClippingRect.js\";\nimport getDocumentElement from \"../dom-utils/getDocumentElement.js\";\nimport computeOffsets from \"./computeOffsets.js\";\nimport rectToClientRect from \"./rectToClientRect.js\";\nimport { clippingParents, reference, popper, bottom, top, right, basePlacements, viewport } from \"../enums.js\";\nimport { isElement } from \"../dom-utils/instanceOf.js\";\nimport mergePaddingObject from \"./mergePaddingObject.js\";\nimport expandToHashMap from \"./expandToHashMap.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport default function detectOverflow(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      _options$placement = _options.placement,\n      placement = _options$placement === void 0 ? state.placement : _options$placement,\n      _options$boundary = _options.boundary,\n      boundary = _options$boundary === void 0 ? clippingParents : _options$boundary,\n      _options$rootBoundary = _options.rootBoundary,\n      rootBoundary = _options$rootBoundary === void 0 ? viewport : _options$rootBoundary,\n      _options$elementConte = _options.elementContext,\n      elementContext = _options$elementConte === void 0 ? popper : _options$elementConte,\n      _options$altBoundary = _options.altBoundary,\n      altBoundary = _options$altBoundary === void 0 ? false : _options$altBoundary,\n      _options$padding = _options.padding,\n      padding = _options$padding === void 0 ? 0 : _options$padding;\n  var paddingObject = mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements));\n  var altContext = elementContext === popper ? reference : popper;\n  var referenceElement = state.elements.reference;\n  var popperRect = state.rects.popper;\n  var element = state.elements[altBoundary ? altContext : elementContext];\n  var clippingClientRect = getClippingRect(isElement(element) ? element : element.contextElement || getDocumentElement(state.elements.popper), boundary, rootBoundary);\n  var referenceClientRect = getBoundingClientRect(referenceElement);\n  var popperOffsets = computeOffsets({\n    reference: referenceClientRect,\n    element: popperRect,\n    strategy: 'absolute',\n    placement: placement\n  });\n  var popperClientRect = rectToClientRect(Object.assign({}, popperRect, popperOffsets));\n  var elementClientRect = elementContext === popper ? popperClientRect : referenceClientRect; // positive = overflowing the clipping rect\n  // 0 or negative = within the clipping rect\n\n  var overflowOffsets = {\n    top: clippingClientRect.top - elementClientRect.top + paddingObject.top,\n    bottom: elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom,\n    left: clippingClientRect.left - elementClientRect.left + paddingObject.left,\n    right: elementClientRect.right - clippingClientRect.right + paddingObject.right\n  };\n  var offsetData = state.modifiersData.offset; // Offsets can be applied only to the popper element\n\n  if (elementContext === popper && offsetData) {\n    var offset = offsetData[placement];\n    Object.keys(overflowOffsets).forEach(function (key) {\n      var multiply = [right, bottom].indexOf(key) >= 0 ? 1 : -1;\n      var axis = [top, bottom].indexOf(key) >= 0 ? 'y' : 'x';\n      overflowOffsets[key] += offset[axis] * multiply;\n    });\n  }\n\n  return overflowOffsets;\n}","import getOppositePlacement from \"../utils/getOppositePlacement.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getOppositeVariationPlacement from \"../utils/getOppositeVariationPlacement.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\nimport computeAutoPlacement from \"../utils/computeAutoPlacement.js\";\nimport { bottom, top, start, right, left, auto } from \"../enums.js\";\nimport getVariation from \"../utils/getVariation.js\"; // eslint-disable-next-line import/no-unused-modules\n\nfunction getExpandedFallbackPlacements(placement) {\n  if (getBasePlacement(placement) === auto) {\n    return [];\n  }\n\n  var oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeVariationPlacement(placement), oppositePlacement, getOppositeVariationPlacement(oppositePlacement)];\n}\n\nfunction flip(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n\n  if (state.modifiersData[name]._skip) {\n    return;\n  }\n\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? true : _options$altAxis,\n      specifiedFallbackPlacements = options.fallbackPlacements,\n      padding = options.padding,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      _options$flipVariatio = options.flipVariations,\n      flipVariations = _options$flipVariatio === void 0 ? true : _options$flipVariatio,\n      allowedAutoPlacements = options.allowedAutoPlacements;\n  var preferredPlacement = state.options.placement;\n  var basePlacement = getBasePlacement(preferredPlacement);\n  var isBasePlacement = basePlacement === preferredPlacement;\n  var fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipVariations ? [getOppositePlacement(preferredPlacement)] : getExpandedFallbackPlacements(preferredPlacement));\n  var placements = [preferredPlacement].concat(fallbackPlacements).reduce(function (acc, placement) {\n    return acc.concat(getBasePlacement(placement) === auto ? computeAutoPlacement(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding,\n      flipVariations: flipVariations,\n      allowedAutoPlacements: allowedAutoPlacements\n    }) : placement);\n  }, []);\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var checksMap = new Map();\n  var makeFallbackChecks = true;\n  var firstFittingPlacement = placements[0];\n\n  for (var i = 0; i < placements.length; i++) {\n    var placement = placements[i];\n\n    var _basePlacement = getBasePlacement(placement);\n\n    var isStartVariation = getVariation(placement) === start;\n    var isVertical = [top, bottom].indexOf(_basePlacement) >= 0;\n    var len = isVertical ? 'width' : 'height';\n    var overflow = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      altBoundary: altBoundary,\n      padding: padding\n    });\n    var mainVariationSide = isVertical ? isStartVariation ? right : left : isStartVariation ? bottom : top;\n\n    if (referenceRect[len] > popperRect[len]) {\n      mainVariationSide = getOppositePlacement(mainVariationSide);\n    }\n\n    var altVariationSide = getOppositePlacement(mainVariationSide);\n    var checks = [];\n\n    if (checkMainAxis) {\n      checks.push(overflow[_basePlacement] <= 0);\n    }\n\n    if (checkAltAxis) {\n      checks.push(overflow[mainVariationSide] <= 0, overflow[altVariationSide] <= 0);\n    }\n\n    if (checks.every(function (check) {\n      return check;\n    })) {\n      firstFittingPlacement = placement;\n      makeFallbackChecks = false;\n      break;\n    }\n\n    checksMap.set(placement, checks);\n  }\n\n  if (makeFallbackChecks) {\n    // `2` may be desired in some cases – research later\n    var numberOfChecks = flipVariations ? 3 : 1;\n\n    var _loop = function _loop(_i) {\n      var fittingPlacement = placements.find(function (placement) {\n        var checks = checksMap.get(placement);\n\n        if (checks) {\n          return checks.slice(0, _i).every(function (check) {\n            return check;\n          });\n        }\n      });\n\n      if (fittingPlacement) {\n        firstFittingPlacement = fittingPlacement;\n        return \"break\";\n      }\n    };\n\n    for (var _i = numberOfChecks; _i > 0; _i--) {\n      var _ret = _loop(_i);\n\n      if (_ret === \"break\") break;\n    }\n  }\n\n  if (state.placement !== firstFittingPlacement) {\n    state.modifiersData[name]._skip = true;\n    state.placement = firstFittingPlacement;\n    state.reset = true;\n  }\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'flip',\n  enabled: true,\n  phase: 'main',\n  fn: flip,\n  requiresIfExists: ['offset'],\n  data: {\n    _skip: false\n  }\n};","import getVariation from \"./getVariation.js\";\nimport { variationPlacements, basePlacements, placements as allPlacements } from \"../enums.js\";\nimport detectOverflow from \"./detectOverflow.js\";\nimport getBasePlacement from \"./getBasePlacement.js\";\nexport default function computeAutoPlacement(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      placement = _options.placement,\n      boundary = _options.boundary,\n      rootBoundary = _options.rootBoundary,\n      padding = _options.padding,\n      flipVariations = _options.flipVariations,\n      _options$allowedAutoP = _options.allowedAutoPlacements,\n      allowedAutoPlacements = _options$allowedAutoP === void 0 ? allPlacements : _options$allowedAutoP;\n  var variation = getVariation(placement);\n  var placements = variation ? flipVariations ? variationPlacements : variationPlacements.filter(function (placement) {\n    return getVariation(placement) === variation;\n  }) : basePlacements;\n  var allowedPlacements = placements.filter(function (placement) {\n    return allowedAutoPlacements.indexOf(placement) >= 0;\n  });\n\n  if (allowedPlacements.length === 0) {\n    allowedPlacements = placements;\n\n    if (process.env.NODE_ENV !== \"production\") {\n      console.error(['Popper: The `allowedAutoPlacements` option did not allow any', 'placements. Ensure the `placement` option matches the variation', 'of the allowed placements.', 'For example, \"auto\" cannot be used to allow \"bottom-start\".', 'Use \"auto-start\" instead.'].join(' '));\n    }\n  } // $FlowFixMe[incompatible-type]: Flow seems to have problems with two array unions...\n\n\n  var overflows = allowedPlacements.reduce(function (acc, placement) {\n    acc[placement] = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding\n    })[getBasePlacement(placement)];\n    return acc;\n  }, {});\n  return Object.keys(overflows).sort(function (a, b) {\n    return overflows[a] - overflows[b];\n  });\n}","import { max as mathMax, min as mathMin } from \"./math.js\";\nexport default function within(min, value, max) {\n  return mathMax(min, mathMin(value, max));\n}","import { top, left, right, bottom, start } from \"../enums.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getMainAxisFromPlacement from \"../utils/getMainAxisFromPlacement.js\";\nimport getAltAxis from \"../utils/getAltAxis.js\";\nimport within from \"../utils/within.js\";\nimport getLayoutRect from \"../dom-utils/getLayoutRect.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\nimport getVariation from \"../utils/getVariation.js\";\nimport getFreshSideObject from \"../utils/getFreshSideObject.js\";\nimport { max as mathMax, min as mathMin } from \"../utils/math.js\";\n\nfunction preventOverflow(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? false : _options$altAxis,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      padding = options.padding,\n      _options$tether = options.tether,\n      tether = _options$tether === void 0 ? true : _options$tether,\n      _options$tetherOffset = options.tetherOffset,\n      tetherOffset = _options$tetherOffset === void 0 ? 0 : _options$tetherOffset;\n  var overflow = detectOverflow(state, {\n    boundary: boundary,\n    rootBoundary: rootBoundary,\n    padding: padding,\n    altBoundary: altBoundary\n  });\n  var basePlacement = getBasePlacement(state.placement);\n  var variation = getVariation(state.placement);\n  var isBasePlacement = !variation;\n  var mainAxis = getMainAxisFromPlacement(basePlacement);\n  var altAxis = getAltAxis(mainAxis);\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var tetherOffsetValue = typeof tetherOffset === 'function' ? tetherOffset(Object.assign({}, state.rects, {\n    placement: state.placement\n  })) : tetherOffset;\n  var data = {\n    x: 0,\n    y: 0\n  };\n\n  if (!popperOffsets) {\n    return;\n  }\n\n  if (checkMainAxis || checkAltAxis) {\n    var mainSide = mainAxis === 'y' ? top : left;\n    var altSide = mainAxis === 'y' ? bottom : right;\n    var len = mainAxis === 'y' ? 'height' : 'width';\n    var offset = popperOffsets[mainAxis];\n    var min = popperOffsets[mainAxis] + overflow[mainSide];\n    var max = popperOffsets[mainAxis] - overflow[altSide];\n    var additive = tether ? -popperRect[len] / 2 : 0;\n    var minLen = variation === start ? referenceRect[len] : popperRect[len];\n    var maxLen = variation === start ? -popperRect[len] : -referenceRect[len]; // We need to include the arrow in the calculation so the arrow doesn't go\n    // outside the reference bounds\n\n    var arrowElement = state.elements.arrow;\n    var arrowRect = tether && arrowElement ? getLayoutRect(arrowElement) : {\n      width: 0,\n      height: 0\n    };\n    var arrowPaddingObject = state.modifiersData['arrow#persistent'] ? state.modifiersData['arrow#persistent'].padding : getFreshSideObject();\n    var arrowPaddingMin = arrowPaddingObject[mainSide];\n    var arrowPaddingMax = arrowPaddingObject[altSide]; // If the reference length is smaller than the arrow length, we don't want\n    // to include its full size in the calculation. If the reference is small\n    // and near the edge of a boundary, the popper can overflow even if the\n    // reference is not overflowing as well (e.g. virtual elements with no\n    // width or height)\n\n    var arrowLen = within(0, referenceRect[len], arrowRect[len]);\n    var minOffset = isBasePlacement ? referenceRect[len] / 2 - additive - arrowLen - arrowPaddingMin - tetherOffsetValue : minLen - arrowLen - arrowPaddingMin - tetherOffsetValue;\n    var maxOffset = isBasePlacement ? -referenceRect[len] / 2 + additive + arrowLen + arrowPaddingMax + tetherOffsetValue : maxLen + arrowLen + arrowPaddingMax + tetherOffsetValue;\n    var arrowOffsetParent = state.elements.arrow && getOffsetParent(state.elements.arrow);\n    var clientOffset = arrowOffsetParent ? mainAxis === 'y' ? arrowOffsetParent.clientTop || 0 : arrowOffsetParent.clientLeft || 0 : 0;\n    var offsetModifierValue = state.modifiersData.offset ? state.modifiersData.offset[state.placement][mainAxis] : 0;\n    var tetherMin = popperOffsets[mainAxis] + minOffset - offsetModifierValue - clientOffset;\n    var tetherMax = popperOffsets[mainAxis] + maxOffset - offsetModifierValue;\n\n    if (checkMainAxis) {\n      var preventedOffset = within(tether ? mathMin(min, tetherMin) : min, offset, tether ? mathMax(max, tetherMax) : max);\n      popperOffsets[mainAxis] = preventedOffset;\n      data[mainAxis] = preventedOffset - offset;\n    }\n\n    if (checkAltAxis) {\n      var _mainSide = mainAxis === 'x' ? top : left;\n\n      var _altSide = mainAxis === 'x' ? bottom : right;\n\n      var _offset = popperOffsets[altAxis];\n\n      var _min = _offset + overflow[_mainSide];\n\n      var _max = _offset - overflow[_altSide];\n\n      var _preventedOffset = within(tether ? mathMin(_min, tetherMin) : _min, _offset, tether ? mathMax(_max, tetherMax) : _max);\n\n      popperOffsets[altAxis] = _preventedOffset;\n      data[altAxis] = _preventedOffset - _offset;\n    }\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'preventOverflow',\n  enabled: true,\n  phase: 'main',\n  fn: preventOverflow,\n  requiresIfExists: ['offset']\n};","export default function getAltAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}","import getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getLayoutRect from \"../dom-utils/getLayoutRect.js\";\nimport contains from \"../dom-utils/contains.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport getMainAxisFromPlacement from \"../utils/getMainAxisFromPlacement.js\";\nimport within from \"../utils/within.js\";\nimport mergePaddingObject from \"../utils/mergePaddingObject.js\";\nimport expandToHashMap from \"../utils/expandToHashMap.js\";\nimport { left, right, basePlacements, top, bottom } from \"../enums.js\";\nimport { isHTMLElement } from \"../dom-utils/instanceOf.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar toPaddingObject = function toPaddingObject(padding, state) {\n  padding = typeof padding === 'function' ? padding(Object.assign({}, state.rects, {\n    placement: state.placement\n  })) : padding;\n  return mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements));\n};\n\nfunction arrow(_ref) {\n  var _state$modifiersData$;\n\n  var state = _ref.state,\n      name = _ref.name,\n      options = _ref.options;\n  var arrowElement = state.elements.arrow;\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var basePlacement = getBasePlacement(state.placement);\n  var axis = getMainAxisFromPlacement(basePlacement);\n  var isVertical = [left, right].indexOf(basePlacement) >= 0;\n  var len = isVertical ? 'height' : 'width';\n\n  if (!arrowElement || !popperOffsets) {\n    return;\n  }\n\n  var paddingObject = toPaddingObject(options.padding, state);\n  var arrowRect = getLayoutRect(arrowElement);\n  var minProp = axis === 'y' ? top : left;\n  var maxProp = axis === 'y' ? bottom : right;\n  var endDiff = state.rects.reference[len] + state.rects.reference[axis] - popperOffsets[axis] - state.rects.popper[len];\n  var startDiff = popperOffsets[axis] - state.rects.reference[axis];\n  var arrowOffsetParent = getOffsetParent(arrowElement);\n  var clientSize = arrowOffsetParent ? axis === 'y' ? arrowOffsetParent.clientHeight || 0 : arrowOffsetParent.clientWidth || 0 : 0;\n  var centerToReference = endDiff / 2 - startDiff / 2; // Make sure the arrow doesn't overflow the popper if the center point is\n  // outside of the popper bounds\n\n  var min = paddingObject[minProp];\n  var max = clientSize - arrowRect[len] - paddingObject[maxProp];\n  var center = clientSize / 2 - arrowRect[len] / 2 + centerToReference;\n  var offset = within(min, center, max); // Prevents breaking syntax highlighting...\n\n  var axisProp = axis;\n  state.modifiersData[name] = (_state$modifiersData$ = {}, _state$modifiersData$[axisProp] = offset, _state$modifiersData$.centerOffset = offset - center, _state$modifiersData$);\n}\n\nfunction effect(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options;\n  var _options$element = options.element,\n      arrowElement = _options$element === void 0 ? '[data-popper-arrow]' : _options$element;\n\n  if (arrowElement == null) {\n    return;\n  } // CSS selector\n\n\n  if (typeof arrowElement === 'string') {\n    arrowElement = state.elements.popper.querySelector(arrowElement);\n\n    if (!arrowElement) {\n      return;\n    }\n  }\n\n  if (process.env.NODE_ENV !== \"production\") {\n    if (!isHTMLElement(arrowElement)) {\n      console.error(['Popper: \"arrow\" element must be an HTMLElement (not an SVGElement).', 'To use an SVG arrow, wrap it in an HTMLElement that will be used as', 'the arrow.'].join(' '));\n    }\n  }\n\n  if (!contains(state.elements.popper, arrowElement)) {\n    if (process.env.NODE_ENV !== \"production\") {\n      console.error(['Popper: \"arrow\" modifier\\'s `element` must be a child of the popper', 'element.'].join(' '));\n    }\n\n    return;\n  }\n\n  state.elements.arrow = arrowElement;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'arrow',\n  enabled: true,\n  phase: 'main',\n  fn: arrow,\n  effect: effect,\n  requires: ['popperOffsets'],\n  requiresIfExists: ['preventOverflow']\n};","import { top, bottom, left, right } from \"../enums.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\n\nfunction getSideOffsets(overflow, rect, preventedOffsets) {\n  if (preventedOffsets === void 0) {\n    preventedOffsets = {\n      x: 0,\n      y: 0\n    };\n  }\n\n  return {\n    top: overflow.top - rect.height - preventedOffsets.y,\n    right: overflow.right - rect.width + preventedOffsets.x,\n    bottom: overflow.bottom - rect.height + preventedOffsets.y,\n    left: overflow.left - rect.width - preventedOffsets.x\n  };\n}\n\nfunction isAnySideFullyClipped(overflow) {\n  return [top, right, bottom, left].some(function (side) {\n    return overflow[side] >= 0;\n  });\n}\n\nfunction hide(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var preventedOffsets = state.modifiersData.preventOverflow;\n  var referenceOverflow = detectOverflow(state, {\n    elementContext: 'reference'\n  });\n  var popperAltOverflow = detectOverflow(state, {\n    altBoundary: true\n  });\n  var referenceClippingOffsets = getSideOffsets(referenceOverflow, referenceRect);\n  var popperEscapeOffsets = getSideOffsets(popperAltOverflow, popperRect, preventedOffsets);\n  var isReferenceHidden = isAnySideFullyClipped(referenceClippingOffsets);\n  var hasPopperEscaped = isAnySideFullyClipped(popperEscapeOffsets);\n  state.modifiersData[name] = {\n    referenceClippingOffsets: referenceClippingOffsets,\n    popperEscapeOffsets: popperEscapeOffsets,\n    isReferenceHidden: isReferenceHidden,\n    hasPopperEscaped: hasPopperEscaped\n  };\n  state.attributes.popper = Object.assign({}, state.attributes.popper, {\n    'data-popper-reference-hidden': isReferenceHidden,\n    'data-popper-escaped': hasPopperEscaped\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'hide',\n  enabled: true,\n  phase: 'main',\n  requiresIfExists: ['preventOverflow'],\n  fn: hide\n};","import { popperGenerator, detectOverflow } from \"./createPopper.js\";\nimport eventListeners from \"./modifiers/eventListeners.js\";\nimport popperOffsets from \"./modifiers/popperOffsets.js\";\nimport computeStyles from \"./modifiers/computeStyles.js\";\nimport applyStyles from \"./modifiers/applyStyles.js\";\nimport offset from \"./modifiers/offset.js\";\nimport flip from \"./modifiers/flip.js\";\nimport preventOverflow from \"./modifiers/preventOverflow.js\";\nimport arrow from \"./modifiers/arrow.js\";\nimport hide from \"./modifiers/hide.js\";\nvar defaultModifiers = [eventListeners, popperOffsets, computeStyles, applyStyles, offset, flip, preventOverflow, arrow, hide];\nvar createPopper = /*#__PURE__*/popperGenerator({\n  defaultModifiers: defaultModifiers\n}); // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper, popperGenerator, defaultModifiers, detectOverflow }; // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper as createPopperLite } from \"./popper-lite.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport * from \"./modifiers/index.js\";","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\n////\n//\n// A few enums copied from `fb/Schema.ts` and `fb/Message.ts` because Webpack\n// v4 doesn't seem to be able to tree-shake the rest of those exports.\n//\n// We will have to keep these enums in sync when we re-generate the flatbuffers\n// code from the shchemas. See js/DEVELOP.md for info on how to run flatbuffers\n// code generation.\n//\n////\n/**\n * Logical types, vector layouts, and schemas\n *\n * @enum {number}\n */\nexport var MetadataVersion;\n(function (MetadataVersion) {\n    /**\n     * 0.1.0 (October 2016).\n     */\n    MetadataVersion[MetadataVersion[\"V1\"] = 0] = \"V1\";\n    /**\n     * 0.2.0 (February 2017). Non-backwards compatible with V1.\n     */\n    MetadataVersion[MetadataVersion[\"V2\"] = 1] = \"V2\";\n    /**\n     * 0.3.0 -> 0.7.1 (May - December 2017). Non-backwards compatible with V2.\n     */\n    MetadataVersion[MetadataVersion[\"V3\"] = 2] = \"V3\";\n    /**\n     * >= 0.8.0 (December 2017). Non-backwards compatible with V3.\n     */\n    MetadataVersion[MetadataVersion[\"V4\"] = 3] = \"V4\";\n    /**\n     * >= 1.0.0 (July 2020. Backwards compatible with V4 (V5 readers can read V4\n     * metadata and IPC messages). Implementations are recommended to provide a\n     * V4 compatibility mode with V5 format changes disabled.\n     *\n     * Incompatible changes between V4 and V5:\n     * - Union buffer layout has changed. In V5, Unions don't have a validity\n     *   bitmap buffer.\n     */\n    MetadataVersion[MetadataVersion[\"V5\"] = 4] = \"V5\";\n})(MetadataVersion || (MetadataVersion = {}));\n/**\n * @enum {number}\n */\nexport var UnionMode;\n(function (UnionMode) {\n    UnionMode[UnionMode[\"Sparse\"] = 0] = \"Sparse\";\n    UnionMode[UnionMode[\"Dense\"] = 1] = \"Dense\";\n})(UnionMode || (UnionMode = {}));\n/**\n * @enum {number}\n */\nexport var Precision;\n(function (Precision) {\n    Precision[Precision[\"HALF\"] = 0] = \"HALF\";\n    Precision[Precision[\"SINGLE\"] = 1] = \"SINGLE\";\n    Precision[Precision[\"DOUBLE\"] = 2] = \"DOUBLE\";\n})(Precision || (Precision = {}));\n/**\n * @enum {number}\n */\nexport var DateUnit;\n(function (DateUnit) {\n    DateUnit[DateUnit[\"DAY\"] = 0] = \"DAY\";\n    DateUnit[DateUnit[\"MILLISECOND\"] = 1] = \"MILLISECOND\";\n})(DateUnit || (DateUnit = {}));\n/**\n * @enum {number}\n */\nexport var TimeUnit;\n(function (TimeUnit) {\n    TimeUnit[TimeUnit[\"SECOND\"] = 0] = \"SECOND\";\n    TimeUnit[TimeUnit[\"MILLISECOND\"] = 1] = \"MILLISECOND\";\n    TimeUnit[TimeUnit[\"MICROSECOND\"] = 2] = \"MICROSECOND\";\n    TimeUnit[TimeUnit[\"NANOSECOND\"] = 3] = \"NANOSECOND\";\n})(TimeUnit || (TimeUnit = {}));\n/**\n * @enum {number}\n */\nexport var IntervalUnit;\n(function (IntervalUnit) {\n    IntervalUnit[IntervalUnit[\"YEAR_MONTH\"] = 0] = \"YEAR_MONTH\";\n    IntervalUnit[IntervalUnit[\"DAY_TIME\"] = 1] = \"DAY_TIME\";\n    IntervalUnit[IntervalUnit[\"MONTH_DAY_NANO\"] = 2] = \"MONTH_DAY_NANO\";\n})(IntervalUnit || (IntervalUnit = {}));\n/**\n * ----------------------------------------------------------------------\n * The root Message type\n * This union enables us to easily send different message types without\n * redundant storage, and in the future we can easily add new message types.\n *\n * Arrow implementations do not need to implement all of the message types,\n * which may include experimental metadata types. For maximum compatibility,\n * it is best to send data using RecordBatch\n *\n * @enum {number}\n */\nexport var MessageHeader;\n(function (MessageHeader) {\n    MessageHeader[MessageHeader[\"NONE\"] = 0] = \"NONE\";\n    MessageHeader[MessageHeader[\"Schema\"] = 1] = \"Schema\";\n    MessageHeader[MessageHeader[\"DictionaryBatch\"] = 2] = \"DictionaryBatch\";\n    MessageHeader[MessageHeader[\"RecordBatch\"] = 3] = \"RecordBatch\";\n    MessageHeader[MessageHeader[\"Tensor\"] = 4] = \"Tensor\";\n    MessageHeader[MessageHeader[\"SparseTensor\"] = 5] = \"SparseTensor\";\n})(MessageHeader || (MessageHeader = {}));\n/**\n * Main data type enumeration.\n *\n * Data types in this library are all *logical*. They can be expressed as\n * either a primitive physical type (bytes or bits of some fixed size), a\n * nested type consisting of other data types, or another data type (e.g. a\n * timestamp encoded as an int64).\n *\n * **Note**: Only enum values 0-17 (NONE through Map) are written to an Arrow\n * IPC payload.\n *\n * The rest of the values are specified here so TypeScript can narrow the type\n * signatures further beyond the base Arrow Types. The Arrow DataTypes include\n * metadata like `bitWidth` that impact the type signatures of the values we\n * accept and return.\n *\n * For example, the `Int8Vector` reads 1-byte numbers from an `Int8Array`, an\n * `Int32Vector` reads a 4-byte number from an `Int32Array`, and an `Int64Vector`\n * reads a pair of 4-byte lo, hi 32-bit integers as a zero-copy slice from the\n * underlying `Int32Array`.\n *\n * Library consumers benefit by knowing the narrowest type, since we can ensure\n * the types across all public methods are propagated, and never bail to `any`.\n * These values are _never_ used at runtime, and they will _never_ be written\n * to the flatbuffers metadata of serialized Arrow IPC payloads.\n */\nexport var Type;\n(function (Type) {\n    Type[Type[\"NONE\"] = 0] = \"NONE\";\n    Type[Type[\"Null\"] = 1] = \"Null\";\n    Type[Type[\"Int\"] = 2] = \"Int\";\n    Type[Type[\"Float\"] = 3] = \"Float\";\n    Type[Type[\"Binary\"] = 4] = \"Binary\";\n    Type[Type[\"Utf8\"] = 5] = \"Utf8\";\n    Type[Type[\"Bool\"] = 6] = \"Bool\";\n    Type[Type[\"Decimal\"] = 7] = \"Decimal\";\n    Type[Type[\"Date\"] = 8] = \"Date\";\n    Type[Type[\"Time\"] = 9] = \"Time\";\n    Type[Type[\"Timestamp\"] = 10] = \"Timestamp\";\n    Type[Type[\"Interval\"] = 11] = \"Interval\";\n    Type[Type[\"List\"] = 12] = \"List\";\n    Type[Type[\"Struct\"] = 13] = \"Struct\";\n    Type[Type[\"Union\"] = 14] = \"Union\";\n    Type[Type[\"FixedSizeBinary\"] = 15] = \"FixedSizeBinary\";\n    Type[Type[\"FixedSizeList\"] = 16] = \"FixedSizeList\";\n    Type[Type[\"Map\"] = 17] = \"Map\";\n    Type[Type[\"Dictionary\"] = -1] = \"Dictionary\";\n    Type[Type[\"Int8\"] = -2] = \"Int8\";\n    Type[Type[\"Int16\"] = -3] = \"Int16\";\n    Type[Type[\"Int32\"] = -4] = \"Int32\";\n    Type[Type[\"Int64\"] = -5] = \"Int64\";\n    Type[Type[\"Uint8\"] = -6] = \"Uint8\";\n    Type[Type[\"Uint16\"] = -7] = \"Uint16\";\n    Type[Type[\"Uint32\"] = -8] = \"Uint32\";\n    Type[Type[\"Uint64\"] = -9] = \"Uint64\";\n    Type[Type[\"Float16\"] = -10] = \"Float16\";\n    Type[Type[\"Float32\"] = -11] = \"Float32\";\n    Type[Type[\"Float64\"] = -12] = \"Float64\";\n    Type[Type[\"DateDay\"] = -13] = \"DateDay\";\n    Type[Type[\"DateMillisecond\"] = -14] = \"DateMillisecond\";\n    Type[Type[\"TimestampSecond\"] = -15] = \"TimestampSecond\";\n    Type[Type[\"TimestampMillisecond\"] = -16] = \"TimestampMillisecond\";\n    Type[Type[\"TimestampMicrosecond\"] = -17] = \"TimestampMicrosecond\";\n    Type[Type[\"TimestampNanosecond\"] = -18] = \"TimestampNanosecond\";\n    Type[Type[\"TimeSecond\"] = -19] = \"TimeSecond\";\n    Type[Type[\"TimeMillisecond\"] = -20] = \"TimeMillisecond\";\n    Type[Type[\"TimeMicrosecond\"] = -21] = \"TimeMicrosecond\";\n    Type[Type[\"TimeNanosecond\"] = -22] = \"TimeNanosecond\";\n    Type[Type[\"DenseUnion\"] = -23] = \"DenseUnion\";\n    Type[Type[\"SparseUnion\"] = -24] = \"SparseUnion\";\n    Type[Type[\"IntervalDayTime\"] = -25] = \"IntervalDayTime\";\n    Type[Type[\"IntervalYearMonth\"] = -26] = \"IntervalYearMonth\";\n})(Type || (Type = {}));\nexport var BufferType;\n(function (BufferType) {\n    /**\n     * used in List type, Dense Union and variable length primitive types (String, Binary)\n     */\n    BufferType[BufferType[\"OFFSET\"] = 0] = \"OFFSET\";\n    /**\n     * actual data, either wixed width primitive types in slots or variable width delimited by an OFFSET vector\n     */\n    BufferType[BufferType[\"DATA\"] = 1] = \"DATA\";\n    /**\n     * Bit vector indicating if each value is null\n     */\n    BufferType[BufferType[\"VALIDITY\"] = 2] = \"VALIDITY\";\n    /**\n     * Type vector used in Union type\n     */\n    BufferType[BufferType[\"TYPE\"] = 3] = \"TYPE\";\n})(BufferType || (BufferType = {}));\n\n//# sourceMappingURL=enum.mjs.map\n","import polygonClipping from \"polygon-clipping\";\nimport { getGeom } from \"@turf/invariant\";\nimport { multiPolygon, polygon } from \"@turf/helpers\";\n/**\n * Takes two {@link (Multi)Polygon(s)} and returns a combined polygon. If the input polygons are not contiguous, this function returns a {@link MultiPolygon} feature.\n *\n * @name union\n * @param {Feature<Polygon|MultiPolygon>} polygon1 input Polygon feature\n * @param {Feature<Polygon|MultiPolygon>} polygon2 Polygon feature to difference from polygon1\n * @param {Object} [options={}] Optional Parameters\n * @param {Object} [options.properties={}] Translate Properties to output Feature\n * @returns {Feature<(Polygon|MultiPolygon)>} a combined {@link Polygon} or {@link MultiPolygon} feature, or null if the inputs are empty\n * @example\n * var poly1 = turf.polygon([[\n *     [-82.574787, 35.594087],\n *     [-82.574787, 35.615581],\n *     [-82.545261, 35.615581],\n *     [-82.545261, 35.594087],\n *     [-82.574787, 35.594087]\n * ]], {\"fill\": \"#0f0\"});\n * var poly2 = turf.polygon([[\n *     [-82.560024, 35.585153],\n *     [-82.560024, 35.602602],\n *     [-82.52964, 35.602602],\n *     [-82.52964, 35.585153],\n *     [-82.560024, 35.585153]\n * ]], {\"fill\": \"#00f\"});\n *\n * var union = turf.union(poly1, poly2);\n *\n * //addToMap\n * var addToMap = [poly1, poly2, union];\n */\nfunction union(poly1, poly2, options) {\n    if (options === void 0) { options = {}; }\n    var geom1 = getGeom(poly1);\n    var geom2 = getGeom(poly2);\n    var unioned = polygonClipping.union(geom1.coordinates, geom2.coordinates);\n    if (unioned.length === 0)\n        return null;\n    if (unioned.length === 1)\n        return polygon(unioned[0], options.properties);\n    else\n        return multiPolygon(unioned, options.properties);\n}\nexport default union;\n","import { multiPolygon, polygon, } from \"@turf/helpers\";\nimport { getGeom } from \"@turf/invariant\";\nimport polygonClipping from \"polygon-clipping\";\n/**\n * Takes two {@link Polygon|polygon} or {@link MultiPolygon|multi-polygon} geometries and\n * finds their polygonal intersection. If they don't intersect, returns null.\n *\n * @name intersect\n * @param {Feature<Polygon | MultiPolygon>} poly1 the first polygon or multipolygon\n * @param {Feature<Polygon | MultiPolygon>} poly2 the second polygon or multipolygon\n * @param {Object} [options={}] Optional Parameters\n * @param {Object} [options.properties={}] Translate GeoJSON Properties to Feature\n * @returns {Feature|null} returns a feature representing the area they share (either a {@link Polygon} or\n * {@link MultiPolygon}). If they do not share any area, returns `null`.\n * @example\n * var poly1 = turf.polygon([[\n *   [-122.801742, 45.48565],\n *   [-122.801742, 45.60491],\n *   [-122.584762, 45.60491],\n *   [-122.584762, 45.48565],\n *   [-122.801742, 45.48565]\n * ]]);\n *\n * var poly2 = turf.polygon([[\n *   [-122.520217, 45.535693],\n *   [-122.64038, 45.553967],\n *   [-122.720031, 45.526554],\n *   [-122.669906, 45.507309],\n *   [-122.723464, 45.446643],\n *   [-122.532577, 45.408574],\n *   [-122.487258, 45.477466],\n *   [-122.520217, 45.535693]\n * ]]);\n *\n * var intersection = turf.intersect(poly1, poly2);\n *\n * //addToMap\n * var addToMap = [poly1, poly2, intersection];\n */\nexport default function intersect(poly1, poly2, options) {\n    if (options === void 0) { options = {}; }\n    var geom1 = getGeom(poly1);\n    var geom2 = getGeom(poly2);\n    var intersection = polygonClipping.intersection(geom1.coordinates, geom2.coordinates);\n    if (intersection.length === 0)\n        return null;\n    if (intersection.length === 1)\n        return polygon(intersection[0], options.properties);\n    return multiPolygon(intersection, options.properties);\n}\n","import { coordEach } from '@turf/meta';\nimport { isObject } from '@turf/helpers';\nimport { getCoords } from '@turf/invariant';\nimport clone from '@turf/clone';\nimport rhumbDestination from '@turf/rhumb-destination';\n\n/**\n * Moves any geojson Feature or Geometry of a specified distance along a Rhumb Line\n * on the provided direction angle.\n *\n * @name transformTranslate\n * @param {GeoJSON} geojson object to be translated\n * @param {number} distance length of the motion; negative values determine motion in opposite direction\n * @param {number} direction of the motion; angle from North in decimal degrees, positive clockwise\n * @param {Object} [options={}] Optional parameters\n * @param {string} [options.units='kilometers'] in which `distance` will be express; miles, kilometers, degrees, or radians\n * @param {number} [options.zTranslation=0] length of the vertical motion, same unit of distance\n * @param {boolean} [options.mutate=false] allows GeoJSON input to be mutated (significant performance increase if true)\n * @returns {GeoJSON} the translated GeoJSON object\n * @example\n * var poly = turf.polygon([[[0,29],[3.5,29],[2.5,32],[0,29]]]);\n * var translatedPoly = turf.transformTranslate(poly, 100, 35);\n *\n * //addToMap\n * var addToMap = [poly, translatedPoly];\n * translatedPoly.properties = {stroke: '#F00', 'stroke-width': 4};\n */\nfunction transformTranslate(geojson, distance, direction, options) {\n  // Optional parameters\n  options = options || {};\n  if (!isObject(options)) throw new Error(\"options is invalid\");\n  var units = options.units;\n  var zTranslation = options.zTranslation;\n  var mutate = options.mutate;\n\n  // Input validation\n  if (!geojson) throw new Error(\"geojson is required\");\n  if (distance === undefined || distance === null || isNaN(distance))\n    throw new Error(\"distance is required\");\n  if (zTranslation && typeof zTranslation !== \"number\" && isNaN(zTranslation))\n    throw new Error(\"zTranslation is not a number\");\n\n  // Shortcut no-motion\n  zTranslation = zTranslation !== undefined ? zTranslation : 0;\n  if (distance === 0 && zTranslation === 0) return geojson;\n\n  if (direction === undefined || direction === null || isNaN(direction))\n    throw new Error(\"direction is required\");\n\n  // Invert with negative distances\n  if (distance < 0) {\n    distance = -distance;\n    direction = direction + 180;\n  }\n\n  // Clone geojson to avoid side effects\n  if (mutate === false || mutate === undefined) geojson = clone(geojson);\n\n  // Translate each coordinate\n  coordEach(geojson, function (pointCoords) {\n    var newCoords = getCoords(\n      rhumbDestination(pointCoords, distance, direction, { units: units })\n    );\n    pointCoords[0] = newCoords[0];\n    pointCoords[1] = newCoords[1];\n    if (zTranslation && pointCoords.length === 3)\n      pointCoords[2] += zTranslation;\n  });\n  return geojson;\n}\n\nexport default transformTranslate;\n","import clone from '@turf/clone';\nimport center from '@turf/center';\nimport centroid from '@turf/centroid';\nimport turfBBox from '@turf/bbox';\nimport rhumbBearing from '@turf/rhumb-bearing';\nimport rhumbDistance from '@turf/rhumb-distance';\nimport rhumbDestination from '@turf/rhumb-destination';\nimport { featureEach, coordEach } from '@turf/meta';\nimport { isObject, point } from '@turf/helpers';\nimport { getType, getCoords, getCoord } from '@turf/invariant';\n\n/**\n * Scale a GeoJSON from a given point by a factor of scaling (ex: factor=2 would make the GeoJSON 200% larger).\n * If a FeatureCollection is provided, the origin point will be calculated based on each individual Feature.\n *\n * @name transformScale\n * @param {GeoJSON} geojson GeoJSON to be scaled\n * @param {number} factor of scaling, positive or negative values greater than 0\n * @param {Object} [options={}] Optional parameters\n * @param {string|Coord} [options.origin='centroid'] Point from which the scaling will occur (string options: sw/se/nw/ne/center/centroid)\n * @param {boolean} [options.mutate=false] allows GeoJSON input to be mutated (significant performance increase if true)\n * @returns {GeoJSON} scaled GeoJSON\n * @example\n * var poly = turf.polygon([[[0,29],[3.5,29],[2.5,32],[0,29]]]);\n * var scaledPoly = turf.transformScale(poly, 3);\n *\n * //addToMap\n * var addToMap = [poly, scaledPoly];\n * scaledPoly.properties = {stroke: '#F00', 'stroke-width': 4};\n */\nfunction transformScale(geojson, factor, options) {\n  // Optional parameters\n  options = options || {};\n  if (!isObject(options)) throw new Error(\"options is invalid\");\n  var origin = options.origin;\n  var mutate = options.mutate;\n\n  // Input validation\n  if (!geojson) throw new Error(\"geojson required\");\n  if (typeof factor !== \"number\" || factor === 0)\n    throw new Error(\"invalid factor\");\n  var originIsPoint = Array.isArray(origin) || typeof origin === \"object\";\n\n  // Clone geojson to avoid side effects\n  if (mutate !== true) geojson = clone(geojson);\n\n  // Scale each Feature separately\n  if (geojson.type === \"FeatureCollection\" && !originIsPoint) {\n    featureEach(geojson, function (feature, index) {\n      geojson.features[index] = scale(feature, factor, origin);\n    });\n    return geojson;\n  }\n  // Scale Feature/Geometry\n  return scale(geojson, factor, origin);\n}\n\n/**\n * Scale Feature/Geometry\n *\n * @private\n * @param {Feature|Geometry} feature GeoJSON Feature/Geometry\n * @param {number} factor of scaling, positive or negative values greater than 0\n * @param {string|Coord} [origin=\"centroid\"] Point from which the scaling will occur (string options: sw/se/nw/ne/center/centroid)\n * @returns {Feature|Geometry} scaled GeoJSON Feature/Geometry\n */\nfunction scale(feature, factor, origin) {\n  // Default params\n  var isPoint = getType(feature) === \"Point\";\n  origin = defineOrigin(feature, origin);\n\n  // Shortcut no-scaling\n  if (factor === 1 || isPoint) return feature;\n\n  // Scale each coordinate\n  coordEach(feature, function (coord) {\n    var originalDistance = rhumbDistance(origin, coord);\n    var bearing = rhumbBearing(origin, coord);\n    var newDistance = originalDistance * factor;\n    var newCoord = getCoords(rhumbDestination(origin, newDistance, bearing));\n    coord[0] = newCoord[0];\n    coord[1] = newCoord[1];\n    if (coord.length === 3) coord[2] *= factor;\n  });\n\n  return feature;\n}\n\n/**\n * Define Origin\n *\n * @private\n * @param {GeoJSON} geojson GeoJSON\n * @param {string|Coord} origin sw/se/nw/ne/center/centroid\n * @returns {Feature<Point>} Point origin\n */\nfunction defineOrigin(geojson, origin) {\n  // Default params\n  if (origin === undefined || origin === null) origin = \"centroid\";\n\n  // Input Coord\n  if (Array.isArray(origin) || typeof origin === \"object\")\n    return getCoord(origin);\n\n  // Define BBox\n  var bbox = geojson.bbox ? geojson.bbox : turfBBox(geojson);\n  var west = bbox[0];\n  var south = bbox[1];\n  var east = bbox[2];\n  var north = bbox[3];\n\n  switch (origin) {\n    case \"sw\":\n    case \"southwest\":\n    case \"westsouth\":\n    case \"bottomleft\":\n      return point([west, south]);\n    case \"se\":\n    case \"southeast\":\n    case \"eastsouth\":\n    case \"bottomright\":\n      return point([east, south]);\n    case \"nw\":\n    case \"northwest\":\n    case \"westnorth\":\n    case \"topleft\":\n      return point([west, north]);\n    case \"ne\":\n    case \"northeast\":\n    case \"eastnorth\":\n    case \"topright\":\n      return point([east, north]);\n    case \"center\":\n      return center(geojson);\n    case undefined:\n    case null:\n    case \"centroid\":\n      return centroid(geojson);\n    default:\n      throw new Error(\"invalid origin\");\n  }\n}\n\nexport default transformScale;\n","import { getCoord, getGeom } from \"@turf/invariant\";\n// http://en.wikipedia.org/wiki/Even%E2%80%93odd_rule\n// modified from: https://github.com/substack/point-in-polygon/blob/master/index.js\n// which was modified from http://www.ecse.rpi.edu/Homepages/wrf/Research/Short_Notes/pnpoly.html\n/**\n * Takes a {@link Point} and a {@link Polygon} or {@link MultiPolygon} and determines if the point\n * resides inside the polygon. The polygon can be convex or concave. The function accounts for holes.\n *\n * @name booleanPointInPolygon\n * @param {Coord} point input point\n * @param {Feature<Polygon|MultiPolygon>} polygon input polygon or multipolygon\n * @param {Object} [options={}] Optional parameters\n * @param {boolean} [options.ignoreBoundary=false] True if polygon boundary should be ignored when determining if\n * the point is inside the polygon otherwise false.\n * @returns {boolean} `true` if the Point is inside the Polygon; `false` if the Point is not inside the Polygon\n * @example\n * var pt = turf.point([-77, 44]);\n * var poly = turf.polygon([[\n *   [-81, 41],\n *   [-81, 47],\n *   [-72, 47],\n *   [-72, 41],\n *   [-81, 41]\n * ]]);\n *\n * turf.booleanPointInPolygon(pt, poly);\n * //= true\n */\nexport default function booleanPointInPolygon(point, polygon, options) {\n    if (options === void 0) { options = {}; }\n    // validation\n    if (!point) {\n        throw new Error(\"point is required\");\n    }\n    if (!polygon) {\n        throw new Error(\"polygon is required\");\n    }\n    var pt = getCoord(point);\n    var geom = getGeom(polygon);\n    var type = geom.type;\n    var bbox = polygon.bbox;\n    var polys = geom.coordinates;\n    // Quick elimination if point is not inside bbox\n    if (bbox && inBBox(pt, bbox) === false) {\n        return false;\n    }\n    // normalize to multipolygon\n    if (type === \"Polygon\") {\n        polys = [polys];\n    }\n    var insidePoly = false;\n    for (var i = 0; i < polys.length && !insidePoly; i++) {\n        // check if it is in the outer ring first\n        if (inRing(pt, polys[i][0], options.ignoreBoundary)) {\n            var inHole = false;\n            var k = 1;\n            // check for the point in any of the holes\n            while (k < polys[i].length && !inHole) {\n                if (inRing(pt, polys[i][k], !options.ignoreBoundary)) {\n                    inHole = true;\n                }\n                k++;\n            }\n            if (!inHole) {\n                insidePoly = true;\n            }\n        }\n    }\n    return insidePoly;\n}\n/**\n * inRing\n *\n * @private\n * @param {Array<number>} pt [x,y]\n * @param {Array<Array<number>>} ring [[x,y], [x,y],..]\n * @param {boolean} ignoreBoundary ignoreBoundary\n * @returns {boolean} inRing\n */\nfunction inRing(pt, ring, ignoreBoundary) {\n    var isInside = false;\n    if (ring[0][0] === ring[ring.length - 1][0] &&\n        ring[0][1] === ring[ring.length - 1][1]) {\n        ring = ring.slice(0, ring.length - 1);\n    }\n    for (var i = 0, j = ring.length - 1; i < ring.length; j = i++) {\n        var xi = ring[i][0];\n        var yi = ring[i][1];\n        var xj = ring[j][0];\n        var yj = ring[j][1];\n        var onBoundary = pt[1] * (xi - xj) + yi * (xj - pt[0]) + yj * (pt[0] - xi) === 0 &&\n            (xi - pt[0]) * (xj - pt[0]) <= 0 &&\n            (yi - pt[1]) * (yj - pt[1]) <= 0;\n        if (onBoundary) {\n            return !ignoreBoundary;\n        }\n        var intersect = yi > pt[1] !== yj > pt[1] &&\n            pt[0] < ((xj - xi) * (pt[1] - yi)) / (yj - yi) + xi;\n        if (intersect) {\n            isInside = !isInside;\n        }\n    }\n    return isInside;\n}\n/**\n * inBBox\n *\n * @private\n * @param {Position} pt point [x,y]\n * @param {BBox} bbox BBox [west, south, east, north]\n * @returns {boolean} true/false if point is inside BBox\n */\nfunction inBBox(pt, bbox) {\n    return (bbox[0] <= pt[0] && bbox[1] <= pt[1] && bbox[2] >= pt[0] && bbox[3] >= pt[1]);\n}\n","import bearing from \"@turf/bearing\";\nimport destination from \"@turf/destination\";\nimport measureDistance from \"@turf/distance\";\nimport { point } from \"@turf/helpers\";\nimport { getGeom } from \"@turf/invariant\";\n/**\n * Takes a {@link LineString} and returns a {@link Point} at a specified distance along the line.\n *\n * @name along\n * @param {Feature<LineString>} line input line\n * @param {number} distance distance along the line\n * @param {Object} [options] Optional parameters\n * @param {string} [options.units=\"kilometers\"] can be degrees, radians, miles, or kilometers\n * @returns {Feature<Point>} Point `distance` `units` along the line\n * @example\n * var line = turf.lineString([[-83, 30], [-84, 36], [-78, 41]]);\n * var options = {units: 'miles'};\n *\n * var along = turf.along(line, 200, options);\n *\n * //addToMap\n * var addToMap = [along, line]\n */\nexport default function along(line, distance, options) {\n    if (options === void 0) { options = {}; }\n    // Get Coords\n    var geom = getGeom(line);\n    var coords = geom.coordinates;\n    var travelled = 0;\n    for (var i = 0; i < coords.length; i++) {\n        if (distance >= travelled && i === coords.length - 1) {\n            break;\n        }\n        else if (travelled >= distance) {\n            var overshot = distance - travelled;\n            if (!overshot) {\n                return point(coords[i]);\n            }\n            else {\n                var direction = bearing(coords[i], coords[i - 1]) - 180;\n                var interpolated = destination(coords[i], overshot, direction, options);\n                return interpolated;\n            }\n        }\n        else {\n            travelled += measureDistance(coords[i], coords[i + 1], options);\n        }\n    }\n    return point(coords[coords.length - 1]);\n}\n","import { geomReduce } from \"@turf/meta\";\n// Note: change RADIUS => earthRadius\nvar RADIUS = 6378137;\n/**\n * Takes one or more features and returns their area in square meters.\n *\n * @name area\n * @param {GeoJSON} geojson input GeoJSON feature(s)\n * @returns {number} area in square meters\n * @example\n * var polygon = turf.polygon([[[125, -15], [113, -22], [154, -27], [144, -15], [125, -15]]]);\n *\n * var area = turf.area(polygon);\n *\n * //addToMap\n * var addToMap = [polygon]\n * polygon.properties.area = area\n */\nexport default function area(geojson) {\n    return geomReduce(geojson, function (value, geom) {\n        return value + calculateArea(geom);\n    }, 0);\n}\n/**\n * Calculate Area\n *\n * @private\n * @param {Geometry} geom GeoJSON Geometries\n * @returns {number} area\n */\nfunction calculateArea(geom) {\n    var total = 0;\n    var i;\n    switch (geom.type) {\n        case \"Polygon\":\n            return polygonArea(geom.coordinates);\n        case \"MultiPolygon\":\n            for (i = 0; i < geom.coordinates.length; i++) {\n                total += polygonArea(geom.coordinates[i]);\n            }\n            return total;\n        case \"Point\":\n        case \"MultiPoint\":\n        case \"LineString\":\n        case \"MultiLineString\":\n            return 0;\n    }\n    return 0;\n}\nfunction polygonArea(coords) {\n    var total = 0;\n    if (coords && coords.length > 0) {\n        total += Math.abs(ringArea(coords[0]));\n        for (var i = 1; i < coords.length; i++) {\n            total -= Math.abs(ringArea(coords[i]));\n        }\n    }\n    return total;\n}\n/**\n * @private\n * Calculate the approximate area of the polygon were it projected onto the earth.\n * Note that this area will be positive if ring is oriented clockwise, otherwise it will be negative.\n *\n * Reference:\n * Robert. G. Chamberlain and William H. Duquette, \"Some Algorithms for Polygons on a Sphere\",\n * JPL Publication 07-03, Jet Propulsion\n * Laboratory, Pasadena, CA, June 2007 https://trs.jpl.nasa.gov/handle/2014/40409\n *\n * @param {Array<Array<number>>} coords Ring Coordinates\n * @returns {number} The approximate signed geodesic area of the polygon in square meters.\n */\nfunction ringArea(coords) {\n    var p1;\n    var p2;\n    var p3;\n    var lowerIndex;\n    var middleIndex;\n    var upperIndex;\n    var i;\n    var total = 0;\n    var coordsLength = coords.length;\n    if (coordsLength > 2) {\n        for (i = 0; i < coordsLength; i++) {\n            if (i === coordsLength - 2) {\n                // i = N-2\n                lowerIndex = coordsLength - 2;\n                middleIndex = coordsLength - 1;\n                upperIndex = 0;\n            }\n            else if (i === coordsLength - 1) {\n                // i = N-1\n                lowerIndex = coordsLength - 1;\n                middleIndex = 0;\n                upperIndex = 1;\n            }\n            else {\n                // i = 0 to N-3\n                lowerIndex = i;\n                middleIndex = i + 1;\n                upperIndex = i + 2;\n            }\n            p1 = coords[lowerIndex];\n            p2 = coords[middleIndex];\n            p3 = coords[upperIndex];\n            total += (rad(p3[0]) - rad(p1[0])) * Math.sin(rad(p2[1]));\n        }\n        total = (total * RADIUS * RADIUS) / 2;\n    }\n    return total;\n}\nfunction rad(num) {\n    return (num * Math.PI) / 180;\n}\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nimport { BN } from '../util/bn.mjs';\nimport { Vector } from '../vector.mjs';\nimport { Visitor } from '../visitor.mjs';\nimport { MapRow } from '../row/map.mjs';\nimport { StructRow } from '../row/struct.mjs';\nimport { decodeUtf8 } from '../util/utf8.mjs';\nimport { uint16ToFloat64 } from '../util/math.mjs';\nimport { UnionMode, Precision, DateUnit, TimeUnit, IntervalUnit } from '../enum.mjs';\n/** @ignore */\nexport class GetVisitor extends Visitor {\n}\n/** @ignore */\nfunction wrapGet(fn) {\n    return (data, _1) => data.getValid(_1) ? fn(data, _1) : null;\n}\n/** @ignore */ const epochDaysToMs = (data, index) => 86400000 * data[index];\n/** @ignore */ const epochMillisecondsLongToMs = (data, index) => 4294967296 * (data[index + 1]) + (data[index] >>> 0);\n/** @ignore */ const epochMicrosecondsLongToMs = (data, index) => 4294967296 * (data[index + 1] / 1000) + ((data[index] >>> 0) / 1000);\n/** @ignore */ const epochNanosecondsLongToMs = (data, index) => 4294967296 * (data[index + 1] / 1000000) + ((data[index] >>> 0) / 1000000);\n/** @ignore */ const epochMillisecondsToDate = (epochMs) => new Date(epochMs);\n/** @ignore */ const epochDaysToDate = (data, index) => epochMillisecondsToDate(epochDaysToMs(data, index));\n/** @ignore */ const epochMillisecondsLongToDate = (data, index) => epochMillisecondsToDate(epochMillisecondsLongToMs(data, index));\n/** @ignore */\nconst getNull = (_data, _index) => null;\n/** @ignore */\nconst getVariableWidthBytes = (values, valueOffsets, index) => {\n    if (index + 1 >= valueOffsets.length) {\n        return null;\n    }\n    const x = valueOffsets[index];\n    const y = valueOffsets[index + 1];\n    return values.subarray(x, y);\n};\n/** @ignore */\nconst getBool = ({ offset, values }, index) => {\n    const idx = offset + index;\n    const byte = values[idx >> 3];\n    return (byte & 1 << (idx % 8)) !== 0;\n};\n/** @ignore */\nconst getDateDay = ({ values }, index) => epochDaysToDate(values, index);\n/** @ignore */\nconst getDateMillisecond = ({ values }, index) => epochMillisecondsLongToDate(values, index * 2);\n/** @ignore */\nconst getNumeric = ({ stride, values }, index) => values[stride * index];\n/** @ignore */\nconst getFloat16 = ({ stride, values }, index) => uint16ToFloat64(values[stride * index]);\n/** @ignore */\nconst getBigInts = ({ values }, index) => values[index];\n/** @ignore */\nconst getFixedSizeBinary = ({ stride, values }, index) => values.subarray(stride * index, stride * (index + 1));\n/** @ignore */\nconst getBinary = ({ values, valueOffsets }, index) => getVariableWidthBytes(values, valueOffsets, index);\n/** @ignore */\nconst getUtf8 = ({ values, valueOffsets }, index) => {\n    const bytes = getVariableWidthBytes(values, valueOffsets, index);\n    return bytes !== null ? decodeUtf8(bytes) : null;\n};\n/* istanbul ignore next */\n/** @ignore */\nconst getInt = ({ values }, index) => values[index];\n/* istanbul ignore next */\n/** @ignore */\nconst getFloat = ({ type, values }, index) => (type.precision !== Precision.HALF ? values[index] : uint16ToFloat64(values[index]));\n/* istanbul ignore next */\n/** @ignore */\nconst getDate = (data, index) => (data.type.unit === DateUnit.DAY\n    ? getDateDay(data, index)\n    : getDateMillisecond(data, index));\n/** @ignore */\nconst getTimestampSecond = ({ values }, index) => 1000 * epochMillisecondsLongToMs(values, index * 2);\n/** @ignore */\nconst getTimestampMillisecond = ({ values }, index) => epochMillisecondsLongToMs(values, index * 2);\n/** @ignore */\nconst getTimestampMicrosecond = ({ values }, index) => epochMicrosecondsLongToMs(values, index * 2);\n/** @ignore */\nconst getTimestampNanosecond = ({ values }, index) => epochNanosecondsLongToMs(values, index * 2);\n/* istanbul ignore next */\n/** @ignore */\nconst getTimestamp = (data, index) => {\n    switch (data.type.unit) {\n        case TimeUnit.SECOND: return getTimestampSecond(data, index);\n        case TimeUnit.MILLISECOND: return getTimestampMillisecond(data, index);\n        case TimeUnit.MICROSECOND: return getTimestampMicrosecond(data, index);\n        case TimeUnit.NANOSECOND: return getTimestampNanosecond(data, index);\n    }\n};\n/** @ignore */\nconst getTimeSecond = ({ values }, index) => values[index];\n/** @ignore */\nconst getTimeMillisecond = ({ values }, index) => values[index];\n/** @ignore */\nconst getTimeMicrosecond = ({ values }, index) => values[index];\n/** @ignore */\nconst getTimeNanosecond = ({ values }, index) => values[index];\n/* istanbul ignore next */\n/** @ignore */\nconst getTime = (data, index) => {\n    switch (data.type.unit) {\n        case TimeUnit.SECOND: return getTimeSecond(data, index);\n        case TimeUnit.MILLISECOND: return getTimeMillisecond(data, index);\n        case TimeUnit.MICROSECOND: return getTimeMicrosecond(data, index);\n        case TimeUnit.NANOSECOND: return getTimeNanosecond(data, index);\n    }\n};\n/** @ignore */\nconst getDecimal = ({ values, stride }, index) => BN.decimal(values.subarray(stride * index, stride * (index + 1)));\n/** @ignore */\nconst getList = (data, index) => {\n    const { valueOffsets, stride, children } = data;\n    const { [index * stride]: begin, [index * stride + 1]: end } = valueOffsets;\n    const child = children[0];\n    const slice = child.slice(begin, end - begin);\n    return new Vector([slice]);\n};\n/** @ignore */\nconst getMap = (data, index) => {\n    const { valueOffsets, children } = data;\n    const { [index]: begin, [index + 1]: end } = valueOffsets;\n    const child = children[0];\n    return new MapRow(child.slice(begin, end - begin));\n};\n/** @ignore */\nconst getStruct = (data, index) => {\n    return new StructRow(data, index);\n};\n/* istanbul ignore next */\n/** @ignore */\nconst getUnion = (data, index) => {\n    return data.type.mode === UnionMode.Dense ?\n        getDenseUnion(data, index) :\n        getSparseUnion(data, index);\n};\n/** @ignore */\nconst getDenseUnion = (data, index) => {\n    const childIndex = data.type.typeIdToChildIndex[data.typeIds[index]];\n    const child = data.children[childIndex];\n    return instance.visit(child, data.valueOffsets[index]);\n};\n/** @ignore */\nconst getSparseUnion = (data, index) => {\n    const childIndex = data.type.typeIdToChildIndex[data.typeIds[index]];\n    const child = data.children[childIndex];\n    return instance.visit(child, index);\n};\n/** @ignore */\nconst getDictionary = (data, index) => {\n    var _a;\n    return (_a = data.dictionary) === null || _a === void 0 ? void 0 : _a.get(data.values[index]);\n};\n/* istanbul ignore next */\n/** @ignore */\nconst getInterval = (data, index) => (data.type.unit === IntervalUnit.DAY_TIME)\n    ? getIntervalDayTime(data, index)\n    : getIntervalYearMonth(data, index);\n/** @ignore */\nconst getIntervalDayTime = ({ values }, index) => values.subarray(2 * index, 2 * (index + 1));\n/** @ignore */\nconst getIntervalYearMonth = ({ values }, index) => {\n    const interval = values[index];\n    const int32s = new Int32Array(2);\n    int32s[0] = Math.trunc(interval / 12); /* years */\n    int32s[1] = Math.trunc(interval % 12); /* months */\n    return int32s;\n};\n/** @ignore */\nconst getFixedSizeList = (data, index) => {\n    const { stride, children } = data;\n    const child = children[0];\n    const slice = child.slice(index * stride, stride);\n    return new Vector([slice]);\n};\nGetVisitor.prototype.visitNull = wrapGet(getNull);\nGetVisitor.prototype.visitBool = wrapGet(getBool);\nGetVisitor.prototype.visitInt = wrapGet(getInt);\nGetVisitor.prototype.visitInt8 = wrapGet(getNumeric);\nGetVisitor.prototype.visitInt16 = wrapGet(getNumeric);\nGetVisitor.prototype.visitInt32 = wrapGet(getNumeric);\nGetVisitor.prototype.visitInt64 = wrapGet(getBigInts);\nGetVisitor.prototype.visitUint8 = wrapGet(getNumeric);\nGetVisitor.prototype.visitUint16 = wrapGet(getNumeric);\nGetVisitor.prototype.visitUint32 = wrapGet(getNumeric);\nGetVisitor.prototype.visitUint64 = wrapGet(getBigInts);\nGetVisitor.prototype.visitFloat = wrapGet(getFloat);\nGetVisitor.prototype.visitFloat16 = wrapGet(getFloat16);\nGetVisitor.prototype.visitFloat32 = wrapGet(getNumeric);\nGetVisitor.prototype.visitFloat64 = wrapGet(getNumeric);\nGetVisitor.prototype.visitUtf8 = wrapGet(getUtf8);\nGetVisitor.prototype.visitBinary = wrapGet(getBinary);\nGetVisitor.prototype.visitFixedSizeBinary = wrapGet(getFixedSizeBinary);\nGetVisitor.prototype.visitDate = wrapGet(getDate);\nGetVisitor.prototype.visitDateDay = wrapGet(getDateDay);\nGetVisitor.prototype.visitDateMillisecond = wrapGet(getDateMillisecond);\nGetVisitor.prototype.visitTimestamp = wrapGet(getTimestamp);\nGetVisitor.prototype.visitTimestampSecond = wrapGet(getTimestampSecond);\nGetVisitor.prototype.visitTimestampMillisecond = wrapGet(getTimestampMillisecond);\nGetVisitor.prototype.visitTimestampMicrosecond = wrapGet(getTimestampMicrosecond);\nGetVisitor.prototype.visitTimestampNanosecond = wrapGet(getTimestampNanosecond);\nGetVisitor.prototype.visitTime = wrapGet(getTime);\nGetVisitor.prototype.visitTimeSecond = wrapGet(getTimeSecond);\nGetVisitor.prototype.visitTimeMillisecond = wrapGet(getTimeMillisecond);\nGetVisitor.prototype.visitTimeMicrosecond = wrapGet(getTimeMicrosecond);\nGetVisitor.prototype.visitTimeNanosecond = wrapGet(getTimeNanosecond);\nGetVisitor.prototype.visitDecimal = wrapGet(getDecimal);\nGetVisitor.prototype.visitList = wrapGet(getList);\nGetVisitor.prototype.visitStruct = wrapGet(getStruct);\nGetVisitor.prototype.visitUnion = wrapGet(getUnion);\nGetVisitor.prototype.visitDenseUnion = wrapGet(getDenseUnion);\nGetVisitor.prototype.visitSparseUnion = wrapGet(getSparseUnion);\nGetVisitor.prototype.visitDictionary = wrapGet(getDictionary);\nGetVisitor.prototype.visitInterval = wrapGet(getInterval);\nGetVisitor.prototype.visitIntervalDayTime = wrapGet(getIntervalDayTime);\nGetVisitor.prototype.visitIntervalYearMonth = wrapGet(getIntervalYearMonth);\nGetVisitor.prototype.visitFixedSizeList = wrapGet(getFixedSizeList);\nGetVisitor.prototype.visitMap = wrapGet(getMap);\n/** @ignore */\nexport const instance = new GetVisitor();\n\n//# sourceMappingURL=get.mjs.map\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\n/** @ignore */\nexport function getBool(_data, _index, byte, bit) {\n    return (byte & 1 << bit) !== 0;\n}\n/** @ignore */\nexport function getBit(_data, _index, byte, bit) {\n    return (byte & 1 << bit) >> bit;\n}\n/** @ignore */\nexport function setBool(bytes, index, value) {\n    return value ?\n        !!(bytes[index >> 3] |= (1 << (index % 8))) || true :\n        !(bytes[index >> 3] &= ~(1 << (index % 8))) && false;\n}\n/** @ignore */\nexport function truncateBitmap(offset, length, bitmap) {\n    const alignedSize = (bitmap.byteLength + 7) & ~7;\n    if (offset > 0 || bitmap.byteLength < alignedSize) {\n        const bytes = new Uint8Array(alignedSize);\n        // If the offset is a multiple of 8 bits, it's safe to slice the bitmap\n        bytes.set(offset % 8 === 0 ? bitmap.subarray(offset >> 3) :\n            // Otherwise iterate each bit from the offset and return a new one\n            packBools(new BitIterator(bitmap, offset, length, null, getBool)).subarray(0, alignedSize));\n        return bytes;\n    }\n    return bitmap;\n}\n/** @ignore */\nexport function packBools(values) {\n    const xs = [];\n    let i = 0, bit = 0, byte = 0;\n    for (const value of values) {\n        value && (byte |= 1 << bit);\n        if (++bit === 8) {\n            xs[i++] = byte;\n            byte = bit = 0;\n        }\n    }\n    if (i === 0 || bit > 0) {\n        xs[i++] = byte;\n    }\n    const b = new Uint8Array((xs.length + 7) & ~7);\n    b.set(xs);\n    return b;\n}\n/** @ignore */\nexport class BitIterator {\n    constructor(bytes, begin, length, context, get) {\n        this.bytes = bytes;\n        this.length = length;\n        this.context = context;\n        this.get = get;\n        this.bit = begin % 8;\n        this.byteIndex = begin >> 3;\n        this.byte = bytes[this.byteIndex++];\n        this.index = 0;\n    }\n    next() {\n        if (this.index < this.length) {\n            if (this.bit === 8) {\n                this.bit = 0;\n                this.byte = this.bytes[this.byteIndex++];\n            }\n            return {\n                value: this.get(this.context, this.index++, this.byte, this.bit++)\n            };\n        }\n        return { done: true, value: null };\n    }\n    [Symbol.iterator]() {\n        return this;\n    }\n}\n/**\n * Compute the population count (the number of bits set to 1) for a range of bits in a Uint8Array.\n * @param vector The Uint8Array of bits for which to compute the population count.\n * @param lhs The range's left-hand side (or start) bit\n * @param rhs The range's right-hand side (or end) bit\n */\n/** @ignore */\nexport function popcnt_bit_range(data, lhs, rhs) {\n    if (rhs - lhs <= 0) {\n        return 0;\n    }\n    // If the bit range is less than one byte, sum the 1 bits in the bit range\n    if (rhs - lhs < 8) {\n        let sum = 0;\n        for (const bit of new BitIterator(data, lhs, rhs - lhs, data, getBit)) {\n            sum += bit;\n        }\n        return sum;\n    }\n    // Get the next lowest multiple of 8 from the right hand side\n    const rhsInside = rhs >> 3 << 3;\n    // Get the next highest multiple of 8 from the left hand side\n    const lhsInside = lhs + (lhs % 8 === 0 ? 0 : 8 - lhs % 8);\n    return (\n    // Get the popcnt of bits between the left hand side, and the next highest multiple of 8\n    popcnt_bit_range(data, lhs, lhsInside) +\n        // Get the popcnt of bits between the right hand side, and the next lowest multiple of 8\n        popcnt_bit_range(data, rhsInside, rhs) +\n        // Get the popcnt of all bits between the left and right hand sides' multiples of 8\n        popcnt_array(data, lhsInside >> 3, (rhsInside - lhsInside) >> 3));\n}\n/** @ignore */\nexport function popcnt_array(arr, byteOffset, byteLength) {\n    let cnt = 0, pos = Math.trunc(byteOffset);\n    const view = new DataView(arr.buffer, arr.byteOffset, arr.byteLength);\n    const len = byteLength === void 0 ? arr.byteLength : pos + byteLength;\n    while (len - pos >= 4) {\n        cnt += popcnt_uint32(view.getUint32(pos));\n        pos += 4;\n    }\n    while (len - pos >= 2) {\n        cnt += popcnt_uint32(view.getUint16(pos));\n        pos += 2;\n    }\n    while (len - pos >= 1) {\n        cnt += popcnt_uint32(view.getUint8(pos));\n        pos += 1;\n    }\n    return cnt;\n}\n/** @ignore */\nexport function popcnt_uint32(uint32) {\n    let i = Math.trunc(uint32);\n    i = i - ((i >>> 1) & 0x55555555);\n    i = (i & 0x33333333) + ((i >>> 2) & 0x33333333);\n    return (((i + (i >>> 4)) & 0x0F0F0F0F) * 0x01010101) >>> 24;\n}\n\n//# sourceMappingURL=bit.mjs.map\n","// automatically generated by the FlatBuffers compiler, do not modify\n/**\n * Provided for forward compatibility in case we need to support different\n * strategies for compressing the IPC message body (like whole-body\n * compression rather than buffer-level) in the future\n */\nexport var BodyCompressionMethod;\n(function (BodyCompressionMethod) {\n    /**\n     * Each constituent buffer is first compressed with the indicated\n     * compressor, and then written with the uncompressed length in the first 8\n     * bytes as a 64-bit little-endian signed integer followed by the compressed\n     * buffer bytes (and then padding as required by the protocol). The\n     * uncompressed length may be set to -1 to indicate that the data that\n     * follows is not compressed, which can be useful for cases where\n     * compression does not yield appreciable savings.\n     */\n    BodyCompressionMethod[BodyCompressionMethod[\"BUFFER\"] = 0] = \"BUFFER\";\n})(BodyCompressionMethod || (BodyCompressionMethod = {}));\n\n//# sourceMappingURL=body-compression-method.mjs.map\n","// automatically generated by the FlatBuffers compiler, do not modify\nexport var CompressionType;\n(function (CompressionType) {\n    CompressionType[CompressionType[\"LZ4_FRAME\"] = 0] = \"LZ4_FRAME\";\n    CompressionType[CompressionType[\"ZSTD\"] = 1] = \"ZSTD\";\n})(CompressionType || (CompressionType = {}));\n\n//# sourceMappingURL=compression-type.mjs.map\n","// automatically generated by the FlatBuffers compiler, do not modify\nimport * as flatbuffers from 'flatbuffers';\nimport { BodyCompressionMethod } from './body-compression-method.mjs';\nimport { CompressionType } from './compression-type.mjs';\n/**\n * Optional compression for the memory buffers constituting IPC message\n * bodies. Intended for use with RecordBatch but could be used for other\n * message types\n */\nexport class BodyCompression {\n    constructor() {\n        this.bb = null;\n        this.bb_pos = 0;\n    }\n    __init(i, bb) {\n        this.bb_pos = i;\n        this.bb = bb;\n        return this;\n    }\n    static getRootAsBodyCompression(bb, obj) {\n        return (obj || new BodyCompression()).__init(bb.readInt32(bb.position()) + bb.position(), bb);\n    }\n    static getSizePrefixedRootAsBodyCompression(bb, obj) {\n        bb.setPosition(bb.position() + flatbuffers.SIZE_PREFIX_LENGTH);\n        return (obj || new BodyCompression()).__init(bb.readInt32(bb.position()) + bb.position(), bb);\n    }\n    /**\n     * Compressor library.\n     * For LZ4_FRAME, each compressed buffer must consist of a single frame.\n     */\n    codec() {\n        const offset = this.bb.__offset(this.bb_pos, 4);\n        return offset ? this.bb.readInt8(this.bb_pos + offset) : CompressionType.LZ4_FRAME;\n    }\n    /**\n     * Indicates the way the record batch body was compressed\n     */\n    method() {\n        const offset = this.bb.__offset(this.bb_pos, 6);\n        return offset ? this.bb.readInt8(this.bb_pos + offset) : BodyCompressionMethod.BUFFER;\n    }\n    static startBodyCompression(builder) {\n        builder.startObject(2);\n    }\n    static addCodec(builder, codec) {\n        builder.addFieldInt8(0, codec, CompressionType.LZ4_FRAME);\n    }\n    static addMethod(builder, method) {\n        builder.addFieldInt8(1, method, BodyCompressionMethod.BUFFER);\n    }\n    static endBodyCompression(builder) {\n        const offset = builder.endObject();\n        return offset;\n    }\n    static createBodyCompression(builder, codec, method) {\n        BodyCompression.startBodyCompression(builder);\n        BodyCompression.addCodec(builder, codec);\n        BodyCompression.addMethod(builder, method);\n        return BodyCompression.endBodyCompression(builder);\n    }\n}\n\n//# sourceMappingURL=body-compression.mjs.map\n","// automatically generated by the FlatBuffers compiler, do not modify\n/**\n * ----------------------------------------------------------------------\n * A Buffer represents a single contiguous memory segment\n */\nexport class Buffer {\n    constructor() {\n        this.bb = null;\n        this.bb_pos = 0;\n    }\n    __init(i, bb) {\n        this.bb_pos = i;\n        this.bb = bb;\n        return this;\n    }\n    /**\n     * The relative offset into the shared memory page where the bytes for this\n     * buffer starts\n     */\n    offset() {\n        return this.bb.readInt64(this.bb_pos);\n    }\n    /**\n     * The absolute length (in bytes) of the memory buffer. The memory is found\n     * from offset (inclusive) to offset + length (non-inclusive). When building\n     * messages using the encapsulated IPC message, padding bytes may be written\n     * after a buffer, but such padding bytes do not need to be accounted for in\n     * the size here.\n     */\n    length() {\n        return this.bb.readInt64(this.bb_pos + 8);\n    }\n    static sizeOf() {\n        return 16;\n    }\n    static createBuffer(builder, offset, length) {\n        builder.prep(8, 16);\n        builder.writeInt64(BigInt(length !== null && length !== void 0 ? length : 0));\n        builder.writeInt64(BigInt(offset !== null && offset !== void 0 ? offset : 0));\n        return builder.offset();\n    }\n}\n\n//# sourceMappingURL=buffer.mjs.map\n","// automatically generated by the FlatBuffers compiler, do not modify\n/**\n * ----------------------------------------------------------------------\n * Data structures for describing a table row batch (a collection of\n * equal-length Arrow arrays)\n * Metadata about a field at some level of a nested type tree (but not\n * its children).\n *\n * For example, a List<Int16> with values `[[1, 2, 3], null, [4], [5, 6], null]`\n * would have {length: 5, null_count: 2} for its List node, and {length: 6,\n * null_count: 0} for its Int16 node, as separate FieldNode structs\n */\nexport class FieldNode {\n    constructor() {\n        this.bb = null;\n        this.bb_pos = 0;\n    }\n    __init(i, bb) {\n        this.bb_pos = i;\n        this.bb = bb;\n        return this;\n    }\n    /**\n     * The number of value slots in the Arrow array at this level of a nested\n     * tree\n     */\n    length() {\n        return this.bb.readInt64(this.bb_pos);\n    }\n    /**\n     * The number of observed nulls. Fields with null_count == 0 may choose not\n     * to write their physical validity bitmap out as a materialized buffer,\n     * instead setting the length of the bitmap buffer to 0.\n     */\n    nullCount() {\n        return this.bb.readInt64(this.bb_pos + 8);\n    }\n    static sizeOf() {\n        return 16;\n    }\n    static createFieldNode(builder, length, null_count) {\n        builder.prep(8, 16);\n        builder.writeInt64(BigInt(null_count !== null && null_count !== void 0 ? null_count : 0));\n        builder.writeInt64(BigInt(length !== null && length !== void 0 ? length : 0));\n        return builder.offset();\n    }\n}\n\n//# sourceMappingURL=field-node.mjs.map\n","// automatically generated by the FlatBuffers compiler, do not modify\nimport * as flatbuffers from 'flatbuffers';\nimport { BodyCompression } from './body-compression.mjs';\nimport { Buffer } from './buffer.mjs';\nimport { FieldNode } from './field-node.mjs';\n/**\n * A data header describing the shared memory layout of a \"record\" or \"row\"\n * batch. Some systems call this a \"row batch\" internally and others a \"record\n * batch\".\n */\nexport class RecordBatch {\n    constructor() {\n        this.bb = null;\n        this.bb_pos = 0;\n    }\n    __init(i, bb) {\n        this.bb_pos = i;\n        this.bb = bb;\n        return this;\n    }\n    static getRootAsRecordBatch(bb, obj) {\n        return (obj || new RecordBatch()).__init(bb.readInt32(bb.position()) + bb.position(), bb);\n    }\n    static getSizePrefixedRootAsRecordBatch(bb, obj) {\n        bb.setPosition(bb.position() + flatbuffers.SIZE_PREFIX_LENGTH);\n        return (obj || new RecordBatch()).__init(bb.readInt32(bb.position()) + bb.position(), bb);\n    }\n    /**\n     * number of records / rows. The arrays in the batch should all have this\n     * length\n     */\n    length() {\n        const offset = this.bb.__offset(this.bb_pos, 4);\n        return offset ? this.bb.readInt64(this.bb_pos + offset) : BigInt('0');\n    }\n    /**\n     * Nodes correspond to the pre-ordered flattened logical schema\n     */\n    nodes(index, obj) {\n        const offset = this.bb.__offset(this.bb_pos, 6);\n        return offset ? (obj || new FieldNode()).__init(this.bb.__vector(this.bb_pos + offset) + index * 16, this.bb) : null;\n    }\n    nodesLength() {\n        const offset = this.bb.__offset(this.bb_pos, 6);\n        return offset ? this.bb.__vector_len(this.bb_pos + offset) : 0;\n    }\n    /**\n     * Buffers correspond to the pre-ordered flattened buffer tree\n     *\n     * The number of buffers appended to this list depends on the schema. For\n     * example, most primitive arrays will have 2 buffers, 1 for the validity\n     * bitmap and 1 for the values. For struct arrays, there will only be a\n     * single buffer for the validity (nulls) bitmap\n     */\n    buffers(index, obj) {\n        const offset = this.bb.__offset(this.bb_pos, 8);\n        return offset ? (obj || new Buffer()).__init(this.bb.__vector(this.bb_pos + offset) + index * 16, this.bb) : null;\n    }\n    buffersLength() {\n        const offset = this.bb.__offset(this.bb_pos, 8);\n        return offset ? this.bb.__vector_len(this.bb_pos + offset) : 0;\n    }\n    /**\n     * Optional compression of the message body\n     */\n    compression(obj) {\n        const offset = this.bb.__offset(this.bb_pos, 10);\n        return offset ? (obj || new BodyCompression()).__init(this.bb.__indirect(this.bb_pos + offset), this.bb) : null;\n    }\n    static startRecordBatch(builder) {\n        builder.startObject(4);\n    }\n    static addLength(builder, length) {\n        builder.addFieldInt64(0, length, BigInt('0'));\n    }\n    static addNodes(builder, nodesOffset) {\n        builder.addFieldOffset(1, nodesOffset, 0);\n    }\n    static startNodesVector(builder, numElems) {\n        builder.startVector(16, numElems, 8);\n    }\n    static addBuffers(builder, buffersOffset) {\n        builder.addFieldOffset(2, buffersOffset, 0);\n    }\n    static startBuffersVector(builder, numElems) {\n        builder.startVector(16, numElems, 8);\n    }\n    static addCompression(builder, compressionOffset) {\n        builder.addFieldOffset(3, compressionOffset, 0);\n    }\n    static endRecordBatch(builder) {\n        const offset = builder.endObject();\n        return offset;\n    }\n}\n\n//# sourceMappingURL=record-batch.mjs.map\n","// automatically generated by the FlatBuffers compiler, do not modify\nimport * as flatbuffers from 'flatbuffers';\nimport { RecordBatch } from './record-batch.mjs';\n/**\n * For sending dictionary encoding information. Any Field can be\n * dictionary-encoded, but in this case none of its children may be\n * dictionary-encoded.\n * There is one vector / column per dictionary, but that vector / column\n * may be spread across multiple dictionary batches by using the isDelta\n * flag\n */\nexport class DictionaryBatch {\n    constructor() {\n        this.bb = null;\n        this.bb_pos = 0;\n    }\n    __init(i, bb) {\n        this.bb_pos = i;\n        this.bb = bb;\n        return this;\n    }\n    static getRootAsDictionaryBatch(bb, obj) {\n        return (obj || new DictionaryBatch()).__init(bb.readInt32(bb.position()) + bb.position(), bb);\n    }\n    static getSizePrefixedRootAsDictionaryBatch(bb, obj) {\n        bb.setPosition(bb.position() + flatbuffers.SIZE_PREFIX_LENGTH);\n        return (obj || new DictionaryBatch()).__init(bb.readInt32(bb.position()) + bb.position(), bb);\n    }\n    id() {\n        const offset = this.bb.__offset(this.bb_pos, 4);\n        return offset ? this.bb.readInt64(this.bb_pos + offset) : BigInt('0');\n    }\n    data(obj) {\n        const offset = this.bb.__offset(this.bb_pos, 6);\n        return offset ? (obj || new RecordBatch()).__init(this.bb.__indirect(this.bb_pos + offset), this.bb) : null;\n    }\n    /**\n     * If isDelta is true the values in the dictionary are to be appended to a\n     * dictionary with the indicated id. If isDelta is false this dictionary\n     * should replace the existing dictionary.\n     */\n    isDelta() {\n        const offset = this.bb.__offset(this.bb_pos, 8);\n        return offset ? !!this.bb.readInt8(this.bb_pos + offset) : false;\n    }\n    static startDictionaryBatch(builder) {\n        builder.startObject(3);\n    }\n    static addId(builder, id) {\n        builder.addFieldInt64(0, id, BigInt('0'));\n    }\n    static addData(builder, dataOffset) {\n        builder.addFieldOffset(1, dataOffset, 0);\n    }\n    static addIsDelta(builder, isDelta) {\n        builder.addFieldInt8(2, +isDelta, +false);\n    }\n    static endDictionaryBatch(builder) {\n        const offset = builder.endObject();\n        return offset;\n    }\n}\n\n//# sourceMappingURL=dictionary-batch.mjs.map\n","// automatically generated by the FlatBuffers compiler, do not modify\nexport var SparseMatrixCompressedAxis;\n(function (SparseMatrixCompressedAxis) {\n    SparseMatrixCompressedAxis[SparseMatrixCompressedAxis[\"Row\"] = 0] = \"Row\";\n    SparseMatrixCompressedAxis[SparseMatrixCompressedAxis[\"Column\"] = 1] = \"Column\";\n})(SparseMatrixCompressedAxis || (SparseMatrixCompressedAxis = {}));\n\n//# sourceMappingURL=sparse-matrix-compressed-axis.mjs.map\n","// automatically generated by the FlatBuffers compiler, do not modify\nimport { SparseMatrixIndexCSX } from './sparse-matrix-index-csx.mjs';\nimport { SparseTensorIndexCOO } from './sparse-tensor-index-coo.mjs';\nimport { SparseTensorIndexCSF } from './sparse-tensor-index-csf.mjs';\nexport var SparseTensorIndex;\n(function (SparseTensorIndex) {\n    SparseTensorIndex[SparseTensorIndex[\"NONE\"] = 0] = \"NONE\";\n    SparseTensorIndex[SparseTensorIndex[\"SparseTensorIndexCOO\"] = 1] = \"SparseTensorIndexCOO\";\n    SparseTensorIndex[SparseTensorIndex[\"SparseMatrixIndexCSX\"] = 2] = \"SparseMatrixIndexCSX\";\n    SparseTensorIndex[SparseTensorIndex[\"SparseTensorIndexCSF\"] = 3] = \"SparseTensorIndexCSF\";\n})(SparseTensorIndex || (SparseTensorIndex = {}));\nexport function unionToSparseTensorIndex(type, accessor) {\n    switch (SparseTensorIndex[type]) {\n        case 'NONE': return null;\n        case 'SparseTensorIndexCOO': return accessor(new SparseTensorIndexCOO());\n        case 'SparseMatrixIndexCSX': return accessor(new SparseMatrixIndexCSX());\n        case 'SparseTensorIndexCSF': return accessor(new SparseTensorIndexCSF());\n        default: return null;\n    }\n}\nexport function unionListToSparseTensorIndex(type, accessor, index) {\n    switch (SparseTensorIndex[type]) {\n        case 'NONE': return null;\n        case 'SparseTensorIndexCOO': return accessor(index, new SparseTensorIndexCOO());\n        case 'SparseMatrixIndexCSX': return accessor(index, new SparseMatrixIndexCSX());\n        case 'SparseTensorIndexCSF': return accessor(index, new SparseTensorIndexCSF());\n        default: return null;\n    }\n}\n\n//# sourceMappingURL=sparse-tensor-index.mjs.map\n","// automatically generated by the FlatBuffers compiler, do not modify\nimport { DictionaryBatch } from './dictionary-batch.mjs';\nimport { RecordBatch } from './record-batch.mjs';\nimport { Schema } from './schema.mjs';\nimport { SparseTensor } from './sparse-tensor.mjs';\nimport { Tensor } from './tensor.mjs';\n/**\n * ----------------------------------------------------------------------\n * The root Message type\n * This union enables us to easily send different message types without\n * redundant storage, and in the future we can easily add new message types.\n *\n * Arrow implementations do not need to implement all of the message types,\n * which may include experimental metadata types. For maximum compatibility,\n * it is best to send data using RecordBatch\n */\nexport var MessageHeader;\n(function (MessageHeader) {\n    MessageHeader[MessageHeader[\"NONE\"] = 0] = \"NONE\";\n    MessageHeader[MessageHeader[\"Schema\"] = 1] = \"Schema\";\n    MessageHeader[MessageHeader[\"DictionaryBatch\"] = 2] = \"DictionaryBatch\";\n    MessageHeader[MessageHeader[\"RecordBatch\"] = 3] = \"RecordBatch\";\n    MessageHeader[MessageHeader[\"Tensor\"] = 4] = \"Tensor\";\n    MessageHeader[MessageHeader[\"SparseTensor\"] = 5] = \"SparseTensor\";\n})(MessageHeader || (MessageHeader = {}));\nexport function unionToMessageHeader(type, accessor) {\n    switch (MessageHeader[type]) {\n        case 'NONE': return null;\n        case 'Schema': return accessor(new Schema());\n        case 'DictionaryBatch': return accessor(new DictionaryBatch());\n        case 'RecordBatch': return accessor(new RecordBatch());\n        case 'Tensor': return accessor(new Tensor());\n        case 'SparseTensor': return accessor(new SparseTensor());\n        default: return null;\n    }\n}\nexport function unionListToMessageHeader(type, accessor, index) {\n    switch (MessageHeader[type]) {\n        case 'NONE': return null;\n        case 'Schema': return accessor(index, new Schema());\n        case 'DictionaryBatch': return accessor(index, new DictionaryBatch());\n        case 'RecordBatch': return accessor(index, new RecordBatch());\n        case 'Tensor': return accessor(index, new Tensor());\n        case 'SparseTensor': return accessor(index, new SparseTensor());\n        default: return null;\n    }\n}\n\n//# sourceMappingURL=message-header.mjs.map\n","// automatically generated by the FlatBuffers compiler, do not modify\nimport * as flatbuffers from 'flatbuffers';\nimport { KeyValue } from './key-value.mjs';\nimport { MessageHeader } from './message-header.mjs';\nimport { MetadataVersion } from './metadata-version.mjs';\nexport class Message {\n    constructor() {\n        this.bb = null;\n        this.bb_pos = 0;\n    }\n    __init(i, bb) {\n        this.bb_pos = i;\n        this.bb = bb;\n        return this;\n    }\n    static getRootAsMessage(bb, obj) {\n        return (obj || new Message()).__init(bb.readInt32(bb.position()) + bb.position(), bb);\n    }\n    static getSizePrefixedRootAsMessage(bb, obj) {\n        bb.setPosition(bb.position() + flatbuffers.SIZE_PREFIX_LENGTH);\n        return (obj || new Message()).__init(bb.readInt32(bb.position()) + bb.position(), bb);\n    }\n    version() {\n        const offset = this.bb.__offset(this.bb_pos, 4);\n        return offset ? this.bb.readInt16(this.bb_pos + offset) : MetadataVersion.V1;\n    }\n    headerType() {\n        const offset = this.bb.__offset(this.bb_pos, 6);\n        return offset ? this.bb.readUint8(this.bb_pos + offset) : MessageHeader.NONE;\n    }\n    header(obj) {\n        const offset = this.bb.__offset(this.bb_pos, 8);\n        return offset ? this.bb.__union(obj, this.bb_pos + offset) : null;\n    }\n    bodyLength() {\n        const offset = this.bb.__offset(this.bb_pos, 10);\n        return offset ? this.bb.readInt64(this.bb_pos + offset) : BigInt('0');\n    }\n    customMetadata(index, obj) {\n        const offset = this.bb.__offset(this.bb_pos, 12);\n        return offset ? (obj || new KeyValue()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos + offset) + index * 4), this.bb) : null;\n    }\n    customMetadataLength() {\n        const offset = this.bb.__offset(this.bb_pos, 12);\n        return offset ? this.bb.__vector_len(this.bb_pos + offset) : 0;\n    }\n    static startMessage(builder) {\n        builder.startObject(5);\n    }\n    static addVersion(builder, version) {\n        builder.addFieldInt16(0, version, MetadataVersion.V1);\n    }\n    static addHeaderType(builder, headerType) {\n        builder.addFieldInt8(1, headerType, MessageHeader.NONE);\n    }\n    static addHeader(builder, headerOffset) {\n        builder.addFieldOffset(2, headerOffset, 0);\n    }\n    static addBodyLength(builder, bodyLength) {\n        builder.addFieldInt64(3, bodyLength, BigInt('0'));\n    }\n    static addCustomMetadata(builder, customMetadataOffset) {\n        builder.addFieldOffset(4, customMetadataOffset, 0);\n    }\n    static createCustomMetadataVector(builder, data) {\n        builder.startVector(4, data.length, 4);\n        for (let i = data.length - 1; i >= 0; i--) {\n            builder.addOffset(data[i]);\n        }\n        return builder.endVector();\n    }\n    static startCustomMetadataVector(builder, numElems) {\n        builder.startVector(4, numElems, 4);\n    }\n    static endMessage(builder) {\n        const offset = builder.endObject();\n        return offset;\n    }\n    static finishMessageBuffer(builder, offset) {\n        builder.finish(offset);\n    }\n    static finishSizePrefixedMessageBuffer(builder, offset) {\n        builder.finish(offset, undefined, true);\n    }\n    static createMessage(builder, version, headerType, headerOffset, bodyLength, customMetadataOffset) {\n        Message.startMessage(builder);\n        Message.addVersion(builder, version);\n        Message.addHeaderType(builder, headerType);\n        Message.addHeader(builder, headerOffset);\n        Message.addBodyLength(builder, bodyLength);\n        Message.addCustomMetadata(builder, customMetadataOffset);\n        return Message.endMessage(builder);\n    }\n}\n\n//# sourceMappingURL=message.mjs.map\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nimport { Visitor } from '../visitor.mjs';\nimport { Null } from '../fb/null.mjs';\nimport { Int } from '../fb/int.mjs';\nimport { FloatingPoint } from '../fb/floating-point.mjs';\nimport { Binary } from '../fb/binary.mjs';\nimport { Bool } from '../fb/bool.mjs';\nimport { Utf8 } from '../fb/utf8.mjs';\nimport { Decimal } from '../fb/decimal.mjs';\nimport { Date } from '../fb/date.mjs';\nimport { Time } from '../fb/time.mjs';\nimport { Timestamp } from '../fb/timestamp.mjs';\nimport { Interval } from '../fb/interval.mjs';\nimport { List } from '../fb/list.mjs';\nimport { Struct_ as Struct } from '../fb/struct-.mjs';\nimport { Union } from '../fb/union.mjs';\nimport { DictionaryEncoding } from '../fb/dictionary-encoding.mjs';\nimport { FixedSizeBinary } from '../fb/fixed-size-binary.mjs';\nimport { FixedSizeList } from '../fb/fixed-size-list.mjs';\nimport { Map as Map_ } from '../fb/map.mjs';\n/** @ignore */\nexport class TypeAssembler extends Visitor {\n    visit(node, builder) {\n        return (node == null || builder == null) ? undefined : super.visit(node, builder);\n    }\n    visitNull(_node, b) {\n        Null.startNull(b);\n        return Null.endNull(b);\n    }\n    visitInt(node, b) {\n        Int.startInt(b);\n        Int.addBitWidth(b, node.bitWidth);\n        Int.addIsSigned(b, node.isSigned);\n        return Int.endInt(b);\n    }\n    visitFloat(node, b) {\n        FloatingPoint.startFloatingPoint(b);\n        FloatingPoint.addPrecision(b, node.precision);\n        return FloatingPoint.endFloatingPoint(b);\n    }\n    visitBinary(_node, b) {\n        Binary.startBinary(b);\n        return Binary.endBinary(b);\n    }\n    visitBool(_node, b) {\n        Bool.startBool(b);\n        return Bool.endBool(b);\n    }\n    visitUtf8(_node, b) {\n        Utf8.startUtf8(b);\n        return Utf8.endUtf8(b);\n    }\n    visitDecimal(node, b) {\n        Decimal.startDecimal(b);\n        Decimal.addScale(b, node.scale);\n        Decimal.addPrecision(b, node.precision);\n        Decimal.addBitWidth(b, node.bitWidth);\n        return Decimal.endDecimal(b);\n    }\n    visitDate(node, b) {\n        Date.startDate(b);\n        Date.addUnit(b, node.unit);\n        return Date.endDate(b);\n    }\n    visitTime(node, b) {\n        Time.startTime(b);\n        Time.addUnit(b, node.unit);\n        Time.addBitWidth(b, node.bitWidth);\n        return Time.endTime(b);\n    }\n    visitTimestamp(node, b) {\n        const timezone = (node.timezone && b.createString(node.timezone)) || undefined;\n        Timestamp.startTimestamp(b);\n        Timestamp.addUnit(b, node.unit);\n        if (timezone !== undefined) {\n            Timestamp.addTimezone(b, timezone);\n        }\n        return Timestamp.endTimestamp(b);\n    }\n    visitInterval(node, b) {\n        Interval.startInterval(b);\n        Interval.addUnit(b, node.unit);\n        return Interval.endInterval(b);\n    }\n    visitList(_node, b) {\n        List.startList(b);\n        return List.endList(b);\n    }\n    visitStruct(_node, b) {\n        Struct.startStruct_(b);\n        return Struct.endStruct_(b);\n    }\n    visitUnion(node, b) {\n        Union.startTypeIdsVector(b, node.typeIds.length);\n        const typeIds = Union.createTypeIdsVector(b, node.typeIds);\n        Union.startUnion(b);\n        Union.addMode(b, node.mode);\n        Union.addTypeIds(b, typeIds);\n        return Union.endUnion(b);\n    }\n    visitDictionary(node, b) {\n        const indexType = this.visit(node.indices, b);\n        DictionaryEncoding.startDictionaryEncoding(b);\n        DictionaryEncoding.addId(b, BigInt(node.id));\n        DictionaryEncoding.addIsOrdered(b, node.isOrdered);\n        if (indexType !== undefined) {\n            DictionaryEncoding.addIndexType(b, indexType);\n        }\n        return DictionaryEncoding.endDictionaryEncoding(b);\n    }\n    visitFixedSizeBinary(node, b) {\n        FixedSizeBinary.startFixedSizeBinary(b);\n        FixedSizeBinary.addByteWidth(b, node.byteWidth);\n        return FixedSizeBinary.endFixedSizeBinary(b);\n    }\n    visitFixedSizeList(node, b) {\n        FixedSizeList.startFixedSizeList(b);\n        FixedSizeList.addListSize(b, node.listSize);\n        return FixedSizeList.endFixedSizeList(b);\n    }\n    visitMap(node, b) {\n        Map_.startMap(b);\n        Map_.addKeysSorted(b, node.keysSorted);\n        return Map_.endMap(b);\n    }\n}\n/** @ignore */\nexport const instance = new TypeAssembler();\n\n//# sourceMappingURL=typeassembler.mjs.map\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\n/* eslint-disable brace-style */\nimport { Schema, Field } from '../../schema.mjs';\nimport { Dictionary, Utf8, Binary, Decimal, FixedSizeBinary, List, FixedSizeList, Map_, Struct, Union, Bool, Null, Int, Float, Date_, Time, Interval, Timestamp, Int32, } from '../../type.mjs';\nimport { DictionaryBatch, RecordBatch, FieldNode, BufferRegion } from './message.mjs';\nimport { TimeUnit, Precision, IntervalUnit, UnionMode, DateUnit } from '../../enum.mjs';\n/** @ignore */\nexport function schemaFromJSON(_schema, dictionaries = new Map()) {\n    return new Schema(schemaFieldsFromJSON(_schema, dictionaries), customMetadataFromJSON(_schema['customMetadata']), dictionaries);\n}\n/** @ignore */\nexport function recordBatchFromJSON(b) {\n    return new RecordBatch(b['count'], fieldNodesFromJSON(b['columns']), buffersFromJSON(b['columns']));\n}\n/** @ignore */\nexport function dictionaryBatchFromJSON(b) {\n    return new DictionaryBatch(recordBatchFromJSON(b['data']), b['id'], b['isDelta']);\n}\n/** @ignore */\nfunction schemaFieldsFromJSON(_schema, dictionaries) {\n    return (_schema['fields'] || []).filter(Boolean).map((f) => Field.fromJSON(f, dictionaries));\n}\n/** @ignore */\nfunction fieldChildrenFromJSON(_field, dictionaries) {\n    return (_field['children'] || []).filter(Boolean).map((f) => Field.fromJSON(f, dictionaries));\n}\n/** @ignore */\nfunction fieldNodesFromJSON(xs) {\n    return (xs || []).reduce((fieldNodes, column) => [\n        ...fieldNodes,\n        new FieldNode(column['count'], nullCountFromJSON(column['VALIDITY'])),\n        ...fieldNodesFromJSON(column['children'])\n    ], []);\n}\n/** @ignore */\nfunction buffersFromJSON(xs, buffers = []) {\n    for (let i = -1, n = (xs || []).length; ++i < n;) {\n        const column = xs[i];\n        column['VALIDITY'] && buffers.push(new BufferRegion(buffers.length, column['VALIDITY'].length));\n        column['TYPE'] && buffers.push(new BufferRegion(buffers.length, column['TYPE'].length));\n        column['OFFSET'] && buffers.push(new BufferRegion(buffers.length, column['OFFSET'].length));\n        column['DATA'] && buffers.push(new BufferRegion(buffers.length, column['DATA'].length));\n        buffers = buffersFromJSON(column['children'], buffers);\n    }\n    return buffers;\n}\n/** @ignore */\nfunction nullCountFromJSON(validity) {\n    return (validity || []).reduce((sum, val) => sum + +(val === 0), 0);\n}\n/** @ignore */\nexport function fieldFromJSON(_field, dictionaries) {\n    let id;\n    let keys;\n    let field;\n    let dictMeta;\n    let type;\n    let dictType;\n    // If no dictionary encoding\n    if (!dictionaries || !(dictMeta = _field['dictionary'])) {\n        type = typeFromJSON(_field, fieldChildrenFromJSON(_field, dictionaries));\n        field = new Field(_field['name'], type, _field['nullable'], customMetadataFromJSON(_field['customMetadata']));\n    }\n    // If dictionary encoded and the first time we've seen this dictionary id, decode\n    // the data type and child fields, then wrap in a Dictionary type and insert the\n    // data type into the dictionary types map.\n    else if (!dictionaries.has(id = dictMeta['id'])) {\n        // a dictionary index defaults to signed 32 bit int if unspecified\n        keys = (keys = dictMeta['indexType']) ? indexTypeFromJSON(keys) : new Int32();\n        dictionaries.set(id, type = typeFromJSON(_field, fieldChildrenFromJSON(_field, dictionaries)));\n        dictType = new Dictionary(type, keys, id, dictMeta['isOrdered']);\n        field = new Field(_field['name'], dictType, _field['nullable'], customMetadataFromJSON(_field['customMetadata']));\n    }\n    // If dictionary encoded, and have already seen this dictionary Id in the schema, then reuse the\n    // data type and wrap in a new Dictionary type and field.\n    else {\n        // a dictionary index defaults to signed 32 bit int if unspecified\n        keys = (keys = dictMeta['indexType']) ? indexTypeFromJSON(keys) : new Int32();\n        dictType = new Dictionary(dictionaries.get(id), keys, id, dictMeta['isOrdered']);\n        field = new Field(_field['name'], dictType, _field['nullable'], customMetadataFromJSON(_field['customMetadata']));\n    }\n    return field || null;\n}\n/** @ignore */\nfunction customMetadataFromJSON(_metadata) {\n    return new Map(Object.entries(_metadata || {}));\n}\n/** @ignore */\nfunction indexTypeFromJSON(_type) {\n    return new Int(_type['isSigned'], _type['bitWidth']);\n}\n/** @ignore */\nfunction typeFromJSON(f, children) {\n    const typeId = f['type']['name'];\n    switch (typeId) {\n        case 'NONE': return new Null();\n        case 'null': return new Null();\n        case 'binary': return new Binary();\n        case 'utf8': return new Utf8();\n        case 'bool': return new Bool();\n        case 'list': return new List((children || [])[0]);\n        case 'struct': return new Struct(children || []);\n        case 'struct_': return new Struct(children || []);\n    }\n    switch (typeId) {\n        case 'int': {\n            const t = f['type'];\n            return new Int(t['isSigned'], t['bitWidth']);\n        }\n        case 'floatingpoint': {\n            const t = f['type'];\n            return new Float(Precision[t['precision']]);\n        }\n        case 'decimal': {\n            const t = f['type'];\n            return new Decimal(t['scale'], t['precision'], t['bitWidth']);\n        }\n        case 'date': {\n            const t = f['type'];\n            return new Date_(DateUnit[t['unit']]);\n        }\n        case 'time': {\n            const t = f['type'];\n            return new Time(TimeUnit[t['unit']], t['bitWidth']);\n        }\n        case 'timestamp': {\n            const t = f['type'];\n            return new Timestamp(TimeUnit[t['unit']], t['timezone']);\n        }\n        case 'interval': {\n            const t = f['type'];\n            return new Interval(IntervalUnit[t['unit']]);\n        }\n        case 'union': {\n            const t = f['type'];\n            return new Union(UnionMode[t['mode']], (t['typeIds'] || []), children || []);\n        }\n        case 'fixedsizebinary': {\n            const t = f['type'];\n            return new FixedSizeBinary(t['byteWidth']);\n        }\n        case 'fixedsizelist': {\n            const t = f['type'];\n            return new FixedSizeList(t['listSize'], (children || [])[0]);\n        }\n        case 'map': {\n            const t = f['type'];\n            return new Map_((children || [])[0], t['keysSorted']);\n        }\n    }\n    throw new Error(`Unrecognized type: \"${typeId}\"`);\n}\n\n//# sourceMappingURL=json.mjs.map\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\n/* eslint-disable brace-style */\nimport * as flatbuffers from 'flatbuffers';\nimport { Schema as _Schema } from '../../fb/schema.mjs';\nimport { Int as _Int } from '../../fb/int.mjs';\nimport { RecordBatch as _RecordBatch } from '../../fb/record-batch.mjs';\nimport { DictionaryBatch as _DictionaryBatch } from '../../fb/dictionary-batch.mjs';\nimport { Buffer as _Buffer } from '../../fb/buffer.mjs';\nimport { Field as _Field } from '../../fb/field.mjs';\nimport { FieldNode as _FieldNode } from '../../fb/field-node.mjs';\nimport { Type } from '../../fb/type.mjs';\nimport { KeyValue as _KeyValue } from '../../fb/key-value.mjs';\nimport { Endianness as _Endianness } from '../../fb/endianness.mjs';\nimport { FloatingPoint as _FloatingPoint } from '../../fb/floating-point.mjs';\nimport { Decimal as _Decimal } from '../../fb/decimal.mjs';\nimport { Date as _Date } from '../../fb/date.mjs';\nimport { Time as _Time } from '../../fb/time.mjs';\nimport { Timestamp as _Timestamp } from '../../fb/timestamp.mjs';\nimport { Interval as _Interval } from '../../fb/interval.mjs';\nimport { Union as _Union } from '../../fb/union.mjs';\nimport { FixedSizeBinary as _FixedSizeBinary } from '../../fb/fixed-size-binary.mjs';\nimport { FixedSizeList as _FixedSizeList } from '../../fb/fixed-size-list.mjs';\nimport { Map as _Map } from '../../fb/map.mjs';\nimport { Message as _Message } from '../../fb/message.mjs';\nimport { Schema, Field } from '../../schema.mjs';\nimport { toUint8Array } from '../../util/buffer.mjs';\nimport { bigIntToNumber } from '../../util/bigint.mjs';\nimport { MessageHeader, MetadataVersion } from '../../enum.mjs';\nimport { instance as typeAssembler } from '../../visitor/typeassembler.mjs';\nimport { fieldFromJSON, schemaFromJSON, recordBatchFromJSON, dictionaryBatchFromJSON } from './json.mjs';\nvar Builder = flatbuffers.Builder;\nvar ByteBuffer = flatbuffers.ByteBuffer;\nimport { DataType, Dictionary, Utf8, Binary, Decimal, FixedSizeBinary, List, FixedSizeList, Map_, Struct, Union, Bool, Null, Int, Float, Date_, Time, Interval, Timestamp, Int32, } from '../../type.mjs';\n/**\n * @ignore\n * @private\n **/\nexport class Message {\n    /** @nocollapse */\n    static fromJSON(msg, headerType) {\n        const message = new Message(0, MetadataVersion.V4, headerType);\n        message._createHeader = messageHeaderFromJSON(msg, headerType);\n        return message;\n    }\n    /** @nocollapse */\n    static decode(buf) {\n        buf = new ByteBuffer(toUint8Array(buf));\n        const _message = _Message.getRootAsMessage(buf);\n        const bodyLength = _message.bodyLength();\n        const version = _message.version();\n        const headerType = _message.headerType();\n        const message = new Message(bodyLength, version, headerType);\n        message._createHeader = decodeMessageHeader(_message, headerType);\n        return message;\n    }\n    /** @nocollapse */\n    static encode(message) {\n        const b = new Builder();\n        let headerOffset = -1;\n        if (message.isSchema()) {\n            headerOffset = Schema.encode(b, message.header());\n        }\n        else if (message.isRecordBatch()) {\n            headerOffset = RecordBatch.encode(b, message.header());\n        }\n        else if (message.isDictionaryBatch()) {\n            headerOffset = DictionaryBatch.encode(b, message.header());\n        }\n        _Message.startMessage(b);\n        _Message.addVersion(b, MetadataVersion.V4);\n        _Message.addHeader(b, headerOffset);\n        _Message.addHeaderType(b, message.headerType);\n        _Message.addBodyLength(b, BigInt(message.bodyLength));\n        _Message.finishMessageBuffer(b, _Message.endMessage(b));\n        return b.asUint8Array();\n    }\n    /** @nocollapse */\n    static from(header, bodyLength = 0) {\n        if (header instanceof Schema) {\n            return new Message(0, MetadataVersion.V4, MessageHeader.Schema, header);\n        }\n        if (header instanceof RecordBatch) {\n            return new Message(bodyLength, MetadataVersion.V4, MessageHeader.RecordBatch, header);\n        }\n        if (header instanceof DictionaryBatch) {\n            return new Message(bodyLength, MetadataVersion.V4, MessageHeader.DictionaryBatch, header);\n        }\n        throw new Error(`Unrecognized Message header: ${header}`);\n    }\n    get type() { return this.headerType; }\n    get version() { return this._version; }\n    get headerType() { return this._headerType; }\n    get bodyLength() { return this._bodyLength; }\n    header() { return this._createHeader(); }\n    isSchema() { return this.headerType === MessageHeader.Schema; }\n    isRecordBatch() { return this.headerType === MessageHeader.RecordBatch; }\n    isDictionaryBatch() { return this.headerType === MessageHeader.DictionaryBatch; }\n    constructor(bodyLength, version, headerType, header) {\n        this._version = version;\n        this._headerType = headerType;\n        this.body = new Uint8Array(0);\n        header && (this._createHeader = () => header);\n        this._bodyLength = bigIntToNumber(bodyLength);\n    }\n}\n/**\n * @ignore\n * @private\n **/\nexport class RecordBatch {\n    get nodes() { return this._nodes; }\n    get length() { return this._length; }\n    get buffers() { return this._buffers; }\n    constructor(length, nodes, buffers) {\n        this._nodes = nodes;\n        this._buffers = buffers;\n        this._length = bigIntToNumber(length);\n    }\n}\n/**\n * @ignore\n * @private\n **/\nexport class DictionaryBatch {\n    get id() { return this._id; }\n    get data() { return this._data; }\n    get isDelta() { return this._isDelta; }\n    get length() { return this.data.length; }\n    get nodes() { return this.data.nodes; }\n    get buffers() { return this.data.buffers; }\n    constructor(data, id, isDelta = false) {\n        this._data = data;\n        this._isDelta = isDelta;\n        this._id = bigIntToNumber(id);\n    }\n}\n/**\n * @ignore\n * @private\n **/\nexport class BufferRegion {\n    constructor(offset, length) {\n        this.offset = bigIntToNumber(offset);\n        this.length = bigIntToNumber(length);\n    }\n}\n/**\n * @ignore\n * @private\n **/\nexport class FieldNode {\n    constructor(length, nullCount) {\n        this.length = bigIntToNumber(length);\n        this.nullCount = bigIntToNumber(nullCount);\n    }\n}\n/** @ignore */\nfunction messageHeaderFromJSON(message, type) {\n    return (() => {\n        switch (type) {\n            case MessageHeader.Schema: return Schema.fromJSON(message);\n            case MessageHeader.RecordBatch: return RecordBatch.fromJSON(message);\n            case MessageHeader.DictionaryBatch: return DictionaryBatch.fromJSON(message);\n        }\n        throw new Error(`Unrecognized Message type: { name: ${MessageHeader[type]}, type: ${type} }`);\n    });\n}\n/** @ignore */\nfunction decodeMessageHeader(message, type) {\n    return (() => {\n        switch (type) {\n            case MessageHeader.Schema: return Schema.decode(message.header(new _Schema()));\n            case MessageHeader.RecordBatch: return RecordBatch.decode(message.header(new _RecordBatch()), message.version());\n            case MessageHeader.DictionaryBatch: return DictionaryBatch.decode(message.header(new _DictionaryBatch()), message.version());\n        }\n        throw new Error(`Unrecognized Message type: { name: ${MessageHeader[type]}, type: ${type} }`);\n    });\n}\nField['encode'] = encodeField;\nField['decode'] = decodeField;\nField['fromJSON'] = fieldFromJSON;\nSchema['encode'] = encodeSchema;\nSchema['decode'] = decodeSchema;\nSchema['fromJSON'] = schemaFromJSON;\nRecordBatch['encode'] = encodeRecordBatch;\nRecordBatch['decode'] = decodeRecordBatch;\nRecordBatch['fromJSON'] = recordBatchFromJSON;\nDictionaryBatch['encode'] = encodeDictionaryBatch;\nDictionaryBatch['decode'] = decodeDictionaryBatch;\nDictionaryBatch['fromJSON'] = dictionaryBatchFromJSON;\nFieldNode['encode'] = encodeFieldNode;\nFieldNode['decode'] = decodeFieldNode;\nBufferRegion['encode'] = encodeBufferRegion;\nBufferRegion['decode'] = decodeBufferRegion;\n/** @ignore */\nfunction decodeSchema(_schema, dictionaries = new Map()) {\n    const fields = decodeSchemaFields(_schema, dictionaries);\n    return new Schema(fields, decodeCustomMetadata(_schema), dictionaries);\n}\n/** @ignore */\nfunction decodeRecordBatch(batch, version = MetadataVersion.V4) {\n    if (batch.compression() !== null) {\n        throw new Error('Record batch compression not implemented');\n    }\n    return new RecordBatch(batch.length(), decodeFieldNodes(batch), decodeBuffers(batch, version));\n}\n/** @ignore */\nfunction decodeDictionaryBatch(batch, version = MetadataVersion.V4) {\n    return new DictionaryBatch(RecordBatch.decode(batch.data(), version), batch.id(), batch.isDelta());\n}\n/** @ignore */\nfunction decodeBufferRegion(b) {\n    return new BufferRegion(b.offset(), b.length());\n}\n/** @ignore */\nfunction decodeFieldNode(f) {\n    return new FieldNode(f.length(), f.nullCount());\n}\n/** @ignore */\nfunction decodeFieldNodes(batch) {\n    const nodes = [];\n    for (let f, i = -1, j = -1, n = batch.nodesLength(); ++i < n;) {\n        if (f = batch.nodes(i)) {\n            nodes[++j] = FieldNode.decode(f);\n        }\n    }\n    return nodes;\n}\n/** @ignore */\nfunction decodeBuffers(batch, version) {\n    const bufferRegions = [];\n    for (let b, i = -1, j = -1, n = batch.buffersLength(); ++i < n;) {\n        if (b = batch.buffers(i)) {\n            // If this Arrow buffer was written before version 4,\n            // advance the buffer's bb_pos 8 bytes to skip past\n            // the now-removed page_id field\n            if (version < MetadataVersion.V4) {\n                b.bb_pos += (8 * (i + 1));\n            }\n            bufferRegions[++j] = BufferRegion.decode(b);\n        }\n    }\n    return bufferRegions;\n}\n/** @ignore */\nfunction decodeSchemaFields(schema, dictionaries) {\n    const fields = [];\n    for (let f, i = -1, j = -1, n = schema.fieldsLength(); ++i < n;) {\n        if (f = schema.fields(i)) {\n            fields[++j] = Field.decode(f, dictionaries);\n        }\n    }\n    return fields;\n}\n/** @ignore */\nfunction decodeFieldChildren(field, dictionaries) {\n    const children = [];\n    for (let f, i = -1, j = -1, n = field.childrenLength(); ++i < n;) {\n        if (f = field.children(i)) {\n            children[++j] = Field.decode(f, dictionaries);\n        }\n    }\n    return children;\n}\n/** @ignore */\nfunction decodeField(f, dictionaries) {\n    let id;\n    let field;\n    let type;\n    let keys;\n    let dictType;\n    let dictMeta;\n    // If no dictionary encoding\n    if (!dictionaries || !(dictMeta = f.dictionary())) {\n        type = decodeFieldType(f, decodeFieldChildren(f, dictionaries));\n        field = new Field(f.name(), type, f.nullable(), decodeCustomMetadata(f));\n    }\n    // If dictionary encoded and the first time we've seen this dictionary id, decode\n    // the data type and child fields, then wrap in a Dictionary type and insert the\n    // data type into the dictionary types map.\n    else if (!dictionaries.has(id = bigIntToNumber(dictMeta.id()))) {\n        // a dictionary index defaults to signed 32 bit int if unspecified\n        keys = (keys = dictMeta.indexType()) ? decodeIndexType(keys) : new Int32();\n        dictionaries.set(id, type = decodeFieldType(f, decodeFieldChildren(f, dictionaries)));\n        dictType = new Dictionary(type, keys, id, dictMeta.isOrdered());\n        field = new Field(f.name(), dictType, f.nullable(), decodeCustomMetadata(f));\n    }\n    // If dictionary encoded, and have already seen this dictionary Id in the schema, then reuse the\n    // data type and wrap in a new Dictionary type and field.\n    else {\n        // a dictionary index defaults to signed 32 bit int if unspecified\n        keys = (keys = dictMeta.indexType()) ? decodeIndexType(keys) : new Int32();\n        dictType = new Dictionary(dictionaries.get(id), keys, id, dictMeta.isOrdered());\n        field = new Field(f.name(), dictType, f.nullable(), decodeCustomMetadata(f));\n    }\n    return field || null;\n}\n/** @ignore */\nfunction decodeCustomMetadata(parent) {\n    const data = new Map();\n    if (parent) {\n        for (let entry, key, i = -1, n = Math.trunc(parent.customMetadataLength()); ++i < n;) {\n            if ((entry = parent.customMetadata(i)) && (key = entry.key()) != null) {\n                data.set(key, entry.value());\n            }\n        }\n    }\n    return data;\n}\n/** @ignore */\nfunction decodeIndexType(_type) {\n    return new Int(_type.isSigned(), _type.bitWidth());\n}\n/** @ignore */\nfunction decodeFieldType(f, children) {\n    const typeId = f.typeType();\n    switch (typeId) {\n        case Type['NONE']: return new Null();\n        case Type['Null']: return new Null();\n        case Type['Binary']: return new Binary();\n        case Type['Utf8']: return new Utf8();\n        case Type['Bool']: return new Bool();\n        case Type['List']: return new List((children || [])[0]);\n        case Type['Struct_']: return new Struct(children || []);\n    }\n    switch (typeId) {\n        case Type['Int']: {\n            const t = f.type(new _Int());\n            return new Int(t.isSigned(), t.bitWidth());\n        }\n        case Type['FloatingPoint']: {\n            const t = f.type(new _FloatingPoint());\n            return new Float(t.precision());\n        }\n        case Type['Decimal']: {\n            const t = f.type(new _Decimal());\n            return new Decimal(t.scale(), t.precision(), t.bitWidth());\n        }\n        case Type['Date']: {\n            const t = f.type(new _Date());\n            return new Date_(t.unit());\n        }\n        case Type['Time']: {\n            const t = f.type(new _Time());\n            return new Time(t.unit(), t.bitWidth());\n        }\n        case Type['Timestamp']: {\n            const t = f.type(new _Timestamp());\n            return new Timestamp(t.unit(), t.timezone());\n        }\n        case Type['Interval']: {\n            const t = f.type(new _Interval());\n            return new Interval(t.unit());\n        }\n        case Type['Union']: {\n            const t = f.type(new _Union());\n            return new Union(t.mode(), t.typeIdsArray() || [], children || []);\n        }\n        case Type['FixedSizeBinary']: {\n            const t = f.type(new _FixedSizeBinary());\n            return new FixedSizeBinary(t.byteWidth());\n        }\n        case Type['FixedSizeList']: {\n            const t = f.type(new _FixedSizeList());\n            return new FixedSizeList(t.listSize(), (children || [])[0]);\n        }\n        case Type['Map']: {\n            const t = f.type(new _Map());\n            return new Map_((children || [])[0], t.keysSorted());\n        }\n    }\n    throw new Error(`Unrecognized type: \"${Type[typeId]}\" (${typeId})`);\n}\n/** @ignore */\nfunction encodeSchema(b, schema) {\n    const fieldOffsets = schema.fields.map((f) => Field.encode(b, f));\n    _Schema.startFieldsVector(b, fieldOffsets.length);\n    const fieldsVectorOffset = _Schema.createFieldsVector(b, fieldOffsets);\n    const metadataOffset = !(schema.metadata && schema.metadata.size > 0) ? -1 :\n        _Schema.createCustomMetadataVector(b, [...schema.metadata].map(([k, v]) => {\n            const key = b.createString(`${k}`);\n            const val = b.createString(`${v}`);\n            _KeyValue.startKeyValue(b);\n            _KeyValue.addKey(b, key);\n            _KeyValue.addValue(b, val);\n            return _KeyValue.endKeyValue(b);\n        }));\n    _Schema.startSchema(b);\n    _Schema.addFields(b, fieldsVectorOffset);\n    _Schema.addEndianness(b, platformIsLittleEndian ? _Endianness.Little : _Endianness.Big);\n    if (metadataOffset !== -1) {\n        _Schema.addCustomMetadata(b, metadataOffset);\n    }\n    return _Schema.endSchema(b);\n}\n/** @ignore */\nfunction encodeField(b, field) {\n    let nameOffset = -1;\n    let typeOffset = -1;\n    let dictionaryOffset = -1;\n    const type = field.type;\n    let typeId = field.typeId;\n    if (!DataType.isDictionary(type)) {\n        typeOffset = typeAssembler.visit(type, b);\n    }\n    else {\n        typeId = type.dictionary.typeId;\n        dictionaryOffset = typeAssembler.visit(type, b);\n        typeOffset = typeAssembler.visit(type.dictionary, b);\n    }\n    const childOffsets = (type.children || []).map((f) => Field.encode(b, f));\n    const childrenVectorOffset = _Field.createChildrenVector(b, childOffsets);\n    const metadataOffset = !(field.metadata && field.metadata.size > 0) ? -1 :\n        _Field.createCustomMetadataVector(b, [...field.metadata].map(([k, v]) => {\n            const key = b.createString(`${k}`);\n            const val = b.createString(`${v}`);\n            _KeyValue.startKeyValue(b);\n            _KeyValue.addKey(b, key);\n            _KeyValue.addValue(b, val);\n            return _KeyValue.endKeyValue(b);\n        }));\n    if (field.name) {\n        nameOffset = b.createString(field.name);\n    }\n    _Field.startField(b);\n    _Field.addType(b, typeOffset);\n    _Field.addTypeType(b, typeId);\n    _Field.addChildren(b, childrenVectorOffset);\n    _Field.addNullable(b, !!field.nullable);\n    if (nameOffset !== -1) {\n        _Field.addName(b, nameOffset);\n    }\n    if (dictionaryOffset !== -1) {\n        _Field.addDictionary(b, dictionaryOffset);\n    }\n    if (metadataOffset !== -1) {\n        _Field.addCustomMetadata(b, metadataOffset);\n    }\n    return _Field.endField(b);\n}\n/** @ignore */\nfunction encodeRecordBatch(b, recordBatch) {\n    const nodes = recordBatch.nodes || [];\n    const buffers = recordBatch.buffers || [];\n    _RecordBatch.startNodesVector(b, nodes.length);\n    for (const n of nodes.slice().reverse())\n        FieldNode.encode(b, n);\n    const nodesVectorOffset = b.endVector();\n    _RecordBatch.startBuffersVector(b, buffers.length);\n    for (const b_ of buffers.slice().reverse())\n        BufferRegion.encode(b, b_);\n    const buffersVectorOffset = b.endVector();\n    _RecordBatch.startRecordBatch(b);\n    _RecordBatch.addLength(b, BigInt(recordBatch.length));\n    _RecordBatch.addNodes(b, nodesVectorOffset);\n    _RecordBatch.addBuffers(b, buffersVectorOffset);\n    return _RecordBatch.endRecordBatch(b);\n}\n/** @ignore */\nfunction encodeDictionaryBatch(b, dictionaryBatch) {\n    const dataOffset = RecordBatch.encode(b, dictionaryBatch.data);\n    _DictionaryBatch.startDictionaryBatch(b);\n    _DictionaryBatch.addId(b, BigInt(dictionaryBatch.id));\n    _DictionaryBatch.addIsDelta(b, dictionaryBatch.isDelta);\n    _DictionaryBatch.addData(b, dataOffset);\n    return _DictionaryBatch.endDictionaryBatch(b);\n}\n/** @ignore */\nfunction encodeFieldNode(b, node) {\n    return _FieldNode.createFieldNode(b, BigInt(node.length), BigInt(node.nullCount));\n}\n/** @ignore */\nfunction encodeBufferRegion(b, node) {\n    return _Buffer.createBuffer(b, BigInt(node.offset), BigInt(node.length));\n}\n/** @ignore */\nconst platformIsLittleEndian = (() => {\n    const buffer = new ArrayBuffer(2);\n    new DataView(buffer).setInt16(0, 256, true /* littleEndian */);\n    // Int16Array uses the platform's endianness.\n    return new Int16Array(buffer)[0] === 256;\n})();\n\n//# sourceMappingURL=message.mjs.map\n","export default function getNodeName(element) {\n  return element ? (element.nodeName || '').toLowerCase() : null;\n}","// automatically generated by the FlatBuffers compiler, do not modify\nimport * as flatbuffers from 'flatbuffers';\n/**\n * ----------------------------------------------------------------------\n * user defined key value pairs to add custom metadata to arrow\n * key namespacing is the responsibility of the user\n */\nexport class KeyValue {\n    constructor() {\n        this.bb = null;\n        this.bb_pos = 0;\n    }\n    __init(i, bb) {\n        this.bb_pos = i;\n        this.bb = bb;\n        return this;\n    }\n    static getRootAsKeyValue(bb, obj) {\n        return (obj || new KeyValue()).__init(bb.readInt32(bb.position()) + bb.position(), bb);\n    }\n    static getSizePrefixedRootAsKeyValue(bb, obj) {\n        bb.setPosition(bb.position() + flatbuffers.SIZE_PREFIX_LENGTH);\n        return (obj || new KeyValue()).__init(bb.readInt32(bb.position()) + bb.position(), bb);\n    }\n    key(optionalEncoding) {\n        const offset = this.bb.__offset(this.bb_pos, 4);\n        return offset ? this.bb.__string(this.bb_pos + offset, optionalEncoding) : null;\n    }\n    value(optionalEncoding) {\n        const offset = this.bb.__offset(this.bb_pos, 6);\n        return offset ? this.bb.__string(this.bb_pos + offset, optionalEncoding) : null;\n    }\n    static startKeyValue(builder) {\n        builder.startObject(2);\n    }\n    static addKey(builder, keyOffset) {\n        builder.addFieldOffset(0, keyOffset, 0);\n    }\n    static addValue(builder, valueOffset) {\n        builder.addFieldOffset(1, valueOffset, 0);\n    }\n    static endKeyValue(builder) {\n        const offset = builder.endObject();\n        return offset;\n    }\n    static createKeyValue(builder, keyOffset, valueOffset) {\n        KeyValue.startKeyValue(builder);\n        KeyValue.addKey(builder, keyOffset);\n        KeyValue.addValue(builder, valueOffset);\n        return KeyValue.endKeyValue(builder);\n    }\n}\n\n//# sourceMappingURL=key-value.mjs.map\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nimport { __asyncValues, __awaiter } from \"tslib\";\nimport streamAdapters from './adapters.mjs';\nimport { decodeUtf8 } from '../util/utf8.mjs';\nimport { ITERATOR_DONE, AsyncQueue } from './interfaces.mjs';\nimport { toUint8Array, joinUint8Arrays } from '../util/buffer.mjs';\nimport { isPromise, isFetchResponse, isIterable, isAsyncIterable, isReadableDOMStream, isReadableNodeStream } from '../util/compat.mjs';\n/** @ignore */\nexport class AsyncByteQueue extends AsyncQueue {\n    write(value) {\n        if ((value = toUint8Array(value)).byteLength > 0) {\n            return super.write(value);\n        }\n    }\n    toString(sync = false) {\n        return sync\n            ? decodeUtf8(this.toUint8Array(true))\n            : this.toUint8Array(false).then(decodeUtf8);\n    }\n    toUint8Array(sync = false) {\n        return sync ? joinUint8Arrays(this._values)[0] : (() => __awaiter(this, void 0, void 0, function* () {\n            var _a, e_1, _b, _c;\n            const buffers = [];\n            let byteLength = 0;\n            try {\n                for (var _d = true, _e = __asyncValues(this), _f; _f = yield _e.next(), _a = _f.done, !_a; _d = true) {\n                    _c = _f.value;\n                    _d = false;\n                    const chunk = _c;\n                    buffers.push(chunk);\n                    byteLength += chunk.byteLength;\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (!_d && !_a && (_b = _e.return)) yield _b.call(_e);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n            return joinUint8Arrays(buffers, byteLength)[0];\n        }))();\n    }\n}\n/** @ignore */\nexport class ByteStream {\n    constructor(source) {\n        if (source) {\n            this.source = new ByteStreamSource(streamAdapters.fromIterable(source));\n        }\n    }\n    [Symbol.iterator]() { return this; }\n    next(value) { return this.source.next(value); }\n    throw(value) { return this.source.throw(value); }\n    return(value) { return this.source.return(value); }\n    peek(size) { return this.source.peek(size); }\n    read(size) { return this.source.read(size); }\n}\n/** @ignore */\nexport class AsyncByteStream {\n    constructor(source) {\n        if (source instanceof AsyncByteStream) {\n            this.source = source.source;\n        }\n        else if (source instanceof AsyncByteQueue) {\n            this.source = new AsyncByteStreamSource(streamAdapters.fromAsyncIterable(source));\n        }\n        else if (isReadableNodeStream(source)) {\n            this.source = new AsyncByteStreamSource(streamAdapters.fromNodeStream(source));\n        }\n        else if (isReadableDOMStream(source)) {\n            this.source = new AsyncByteStreamSource(streamAdapters.fromDOMStream(source));\n        }\n        else if (isFetchResponse(source)) {\n            this.source = new AsyncByteStreamSource(streamAdapters.fromDOMStream(source.body));\n        }\n        else if (isIterable(source)) {\n            this.source = new AsyncByteStreamSource(streamAdapters.fromIterable(source));\n        }\n        else if (isPromise(source)) {\n            this.source = new AsyncByteStreamSource(streamAdapters.fromAsyncIterable(source));\n        }\n        else if (isAsyncIterable(source)) {\n            this.source = new AsyncByteStreamSource(streamAdapters.fromAsyncIterable(source));\n        }\n    }\n    [Symbol.asyncIterator]() { return this; }\n    next(value) { return this.source.next(value); }\n    throw(value) { return this.source.throw(value); }\n    return(value) { return this.source.return(value); }\n    get closed() { return this.source.closed; }\n    cancel(reason) { return this.source.cancel(reason); }\n    peek(size) { return this.source.peek(size); }\n    read(size) { return this.source.read(size); }\n}\n/** @ignore */\nclass ByteStreamSource {\n    constructor(source) {\n        this.source = source;\n    }\n    cancel(reason) { this.return(reason); }\n    peek(size) { return this.next(size, 'peek').value; }\n    read(size) { return this.next(size, 'read').value; }\n    next(size, cmd = 'read') { return this.source.next({ cmd, size }); }\n    throw(value) { return Object.create((this.source.throw && this.source.throw(value)) || ITERATOR_DONE); }\n    return(value) { return Object.create((this.source.return && this.source.return(value)) || ITERATOR_DONE); }\n}\n/** @ignore */\nclass AsyncByteStreamSource {\n    constructor(source) {\n        this.source = source;\n        this._closedPromise = new Promise((r) => this._closedPromiseResolve = r);\n    }\n    cancel(reason) {\n        return __awaiter(this, void 0, void 0, function* () { yield this.return(reason); });\n    }\n    get closed() { return this._closedPromise; }\n    read(size) {\n        return __awaiter(this, void 0, void 0, function* () { return (yield this.next(size, 'read')).value; });\n    }\n    peek(size) {\n        return __awaiter(this, void 0, void 0, function* () { return (yield this.next(size, 'peek')).value; });\n    }\n    next(size, cmd = 'read') {\n        return __awaiter(this, void 0, void 0, function* () { return (yield this.source.next({ cmd, size })); });\n    }\n    throw(value) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const result = (this.source.throw && (yield this.source.throw(value))) || ITERATOR_DONE;\n            this._closedPromiseResolve && this._closedPromiseResolve();\n            this._closedPromiseResolve = undefined;\n            return Object.create(result);\n        });\n    }\n    return(value) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const result = (this.source.return && (yield this.source.return(value))) || ITERATOR_DONE;\n            this._closedPromiseResolve && this._closedPromiseResolve();\n            this._closedPromiseResolve = undefined;\n            return Object.create(result);\n        });\n    }\n}\n\n//# sourceMappingURL=stream.mjs.map\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nimport { __asyncGenerator, __await, __awaiter } from \"tslib\";\nimport { toUint8Array, joinUint8Arrays, toUint8ArrayIterator, toUint8ArrayAsyncIterator } from '../util/buffer.mjs';\n/** @ignore */\nexport default {\n    fromIterable(source) {\n        return pump(fromIterable(source));\n    },\n    fromAsyncIterable(source) {\n        return pump(fromAsyncIterable(source));\n    },\n    fromDOMStream(source) {\n        return pump(fromDOMStream(source));\n    },\n    fromNodeStream(stream) {\n        return pump(fromNodeStream(stream));\n    },\n    // @ts-ignore\n    toDOMStream(source, options) {\n        throw new Error(`\"toDOMStream\" not available in this environment`);\n    },\n    // @ts-ignore\n    toNodeStream(source, options) {\n        throw new Error(`\"toNodeStream\" not available in this environment`);\n    },\n};\n/** @ignore */\nconst pump = (iterator) => { iterator.next(); return iterator; };\n/** @ignore */\nfunction* fromIterable(source) {\n    let done, threw = false;\n    let buffers = [], buffer;\n    let cmd, size, bufferLength = 0;\n    function byteRange() {\n        if (cmd === 'peek') {\n            return joinUint8Arrays(buffers, size)[0];\n        }\n        [buffer, buffers, bufferLength] = joinUint8Arrays(buffers, size);\n        return buffer;\n    }\n    // Yield so the caller can inject the read command before creating the source Iterator\n    ({ cmd, size } = yield null);\n    // initialize the iterator\n    const it = toUint8ArrayIterator(source)[Symbol.iterator]();\n    try {\n        do {\n            // read the next value\n            ({ done, value: buffer } = Number.isNaN(size - bufferLength) ?\n                it.next() : it.next(size - bufferLength));\n            // if chunk is not null or empty, push it onto the queue\n            if (!done && buffer.byteLength > 0) {\n                buffers.push(buffer);\n                bufferLength += buffer.byteLength;\n            }\n            // If we have enough bytes in our buffer, yield chunks until we don't\n            if (done || size <= bufferLength) {\n                do {\n                    ({ cmd, size } = yield byteRange());\n                } while (size < bufferLength);\n            }\n        } while (!done);\n    }\n    catch (e) {\n        (threw = true) && (typeof it.throw === 'function') && (it.throw(e));\n    }\n    finally {\n        (threw === false) && (typeof it.return === 'function') && (it.return(null));\n    }\n    return null;\n}\n/** @ignore */\nfunction fromAsyncIterable(source) {\n    return __asyncGenerator(this, arguments, function* fromAsyncIterable_1() {\n        let done, threw = false;\n        let buffers = [], buffer;\n        let cmd, size, bufferLength = 0;\n        function byteRange() {\n            if (cmd === 'peek') {\n                return joinUint8Arrays(buffers, size)[0];\n            }\n            [buffer, buffers, bufferLength] = joinUint8Arrays(buffers, size);\n            return buffer;\n        }\n        // Yield so the caller can inject the read command before creating the source AsyncIterator\n        ({ cmd, size } = (yield yield __await(null)));\n        // initialize the iterator\n        const it = toUint8ArrayAsyncIterator(source)[Symbol.asyncIterator]();\n        try {\n            do {\n                // read the next value\n                ({ done, value: buffer } = Number.isNaN(size - bufferLength)\n                    ? yield __await(it.next())\n                    : yield __await(it.next(size - bufferLength)));\n                // if chunk is not null or empty, push it onto the queue\n                if (!done && buffer.byteLength > 0) {\n                    buffers.push(buffer);\n                    bufferLength += buffer.byteLength;\n                }\n                // If we have enough bytes in our buffer, yield chunks until we don't\n                if (done || size <= bufferLength) {\n                    do {\n                        ({ cmd, size } = yield yield __await(byteRange()));\n                    } while (size < bufferLength);\n                }\n            } while (!done);\n        }\n        catch (e) {\n            (threw = true) && (typeof it.throw === 'function') && (yield __await(it.throw(e)));\n        }\n        finally {\n            (threw === false) && (typeof it.return === 'function') && (yield __await(it.return(new Uint8Array(0))));\n        }\n        return yield __await(null);\n    });\n}\n// All this manual Uint8Array chunk management can be avoided if/when engines\n// add support for ArrayBuffer.transfer() or ArrayBuffer.prototype.realloc():\n// https://github.com/domenic/proposal-arraybuffer-transfer\n/** @ignore */\nfunction fromDOMStream(source) {\n    return __asyncGenerator(this, arguments, function* fromDOMStream_1() {\n        let done = false, threw = false;\n        let buffers = [], buffer;\n        let cmd, size, bufferLength = 0;\n        function byteRange() {\n            if (cmd === 'peek') {\n                return joinUint8Arrays(buffers, size)[0];\n            }\n            [buffer, buffers, bufferLength] = joinUint8Arrays(buffers, size);\n            return buffer;\n        }\n        // Yield so the caller can inject the read command before we establish the ReadableStream lock\n        ({ cmd, size } = yield yield __await(null));\n        // initialize the reader and lock the stream\n        const it = new AdaptiveByteReader(source);\n        try {\n            do {\n                // read the next value\n                ({ done, value: buffer } = Number.isNaN(size - bufferLength)\n                    ? yield __await(it['read']())\n                    : yield __await(it['read'](size - bufferLength)));\n                // if chunk is not null or empty, push it onto the queue\n                if (!done && buffer.byteLength > 0) {\n                    buffers.push(toUint8Array(buffer));\n                    bufferLength += buffer.byteLength;\n                }\n                // If we have enough bytes in our buffer, yield chunks until we don't\n                if (done || size <= bufferLength) {\n                    do {\n                        ({ cmd, size } = yield yield __await(byteRange()));\n                    } while (size < bufferLength);\n                }\n            } while (!done);\n        }\n        catch (e) {\n            (threw = true) && (yield __await(it['cancel'](e)));\n        }\n        finally {\n            (threw === false) ? (yield __await(it['cancel']()))\n                : source['locked'] && it.releaseLock();\n        }\n        return yield __await(null);\n    });\n}\n/** @ignore */\nclass AdaptiveByteReader {\n    constructor(source) {\n        this.source = source;\n        this.reader = null;\n        this.reader = this.source['getReader']();\n        // We have to catch and swallow errors here to avoid uncaught promise rejection exceptions\n        // that seem to be raised when we call `releaseLock()` on this reader. I'm still mystified\n        // about why these errors are raised, but I'm sure there's some important spec reason that\n        // I haven't considered. I hate to employ such an anti-pattern here, but it seems like the\n        // only solution in this case :/\n        this.reader['closed'].catch(() => { });\n    }\n    get closed() {\n        return this.reader ? this.reader['closed'].catch(() => { }) : Promise.resolve();\n    }\n    releaseLock() {\n        if (this.reader) {\n            this.reader.releaseLock();\n        }\n        this.reader = null;\n    }\n    cancel(reason) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { reader, source } = this;\n            reader && (yield reader['cancel'](reason).catch(() => { }));\n            source && (source['locked'] && this.releaseLock());\n        });\n    }\n    read(size) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (size === 0) {\n                return { done: this.reader == null, value: new Uint8Array(0) };\n            }\n            const result = yield this.reader.read();\n            !result.done && (result.value = toUint8Array(result));\n            return result;\n        });\n    }\n}\n/** @ignore */\nconst onEvent = (stream, event) => {\n    const handler = (_) => resolve([event, _]);\n    let resolve;\n    return [event, handler, new Promise((r) => (resolve = r) && stream['once'](event, handler))];\n};\n/** @ignore */\nfunction fromNodeStream(stream) {\n    return __asyncGenerator(this, arguments, function* fromNodeStream_1() {\n        const events = [];\n        let event = 'error';\n        let done = false, err = null;\n        let cmd, size, bufferLength = 0;\n        let buffers = [], buffer;\n        function byteRange() {\n            if (cmd === 'peek') {\n                return joinUint8Arrays(buffers, size)[0];\n            }\n            [buffer, buffers, bufferLength] = joinUint8Arrays(buffers, size);\n            return buffer;\n        }\n        // Yield so the caller can inject the read command before we\n        // add the listener for the source stream's 'readable' event.\n        ({ cmd, size } = yield yield __await(null));\n        // ignore stdin if it's a TTY\n        if (stream['isTTY']) {\n            yield yield __await(new Uint8Array(0));\n            return yield __await(null);\n        }\n        try {\n            // initialize the stream event handlers\n            events[0] = onEvent(stream, 'end');\n            events[1] = onEvent(stream, 'error');\n            do {\n                events[2] = onEvent(stream, 'readable');\n                // wait on the first message event from the stream\n                [event, err] = yield __await(Promise.race(events.map((x) => x[2])));\n                // if the stream emitted an Error, rethrow it\n                if (event === 'error') {\n                    break;\n                }\n                if (!(done = event === 'end')) {\n                    // If the size is NaN, request to read everything in the stream's internal buffer\n                    if (!Number.isFinite(size - bufferLength)) {\n                        buffer = toUint8Array(stream['read']());\n                    }\n                    else {\n                        buffer = toUint8Array(stream['read'](size - bufferLength));\n                        // If the byteLength is 0, then the requested amount is more than the stream has\n                        // in its internal buffer. In this case the stream needs a \"kick\" to tell it to\n                        // continue emitting readable events, so request to read everything the stream\n                        // has in its internal buffer right now.\n                        if (buffer.byteLength < (size - bufferLength)) {\n                            buffer = toUint8Array(stream['read']());\n                        }\n                    }\n                    // if chunk is not null or empty, push it onto the queue\n                    if (buffer.byteLength > 0) {\n                        buffers.push(buffer);\n                        bufferLength += buffer.byteLength;\n                    }\n                }\n                // If we have enough bytes in our buffer, yield chunks until we don't\n                if (done || size <= bufferLength) {\n                    do {\n                        ({ cmd, size } = yield yield __await(byteRange()));\n                    } while (size < bufferLength);\n                }\n            } while (!done);\n        }\n        finally {\n            yield __await(cleanup(events, event === 'error' ? err : null));\n        }\n        return yield __await(null);\n        function cleanup(events, err) {\n            buffer = buffers = null;\n            return new Promise((resolve, reject) => {\n                for (const [evt, fn] of events) {\n                    stream['off'](evt, fn);\n                }\n                try {\n                    // Some stream implementations don't call the destroy callback,\n                    // because it's really a node-internal API. Just calling `destroy`\n                    // here should be enough to conform to the ReadableStream contract\n                    const destroy = stream['destroy'];\n                    destroy && destroy.call(stream, err);\n                    err = undefined;\n                }\n                catch (e) {\n                    err = e || err;\n                }\n                finally {\n                    err != null ? reject(err) : resolve();\n                }\n            });\n        }\n    });\n}\n\n//# sourceMappingURL=adapters.mjs.map\n","// automatically generated by the FlatBuffers compiler, do not modify\nimport * as flatbuffers from 'flatbuffers';\nimport { Endianness } from './endianness.mjs';\nimport { Field } from './field.mjs';\nimport { KeyValue } from './key-value.mjs';\n/**\n * ----------------------------------------------------------------------\n * A Schema describes the columns in a row batch\n */\nexport class Schema {\n    constructor() {\n        this.bb = null;\n        this.bb_pos = 0;\n    }\n    __init(i, bb) {\n        this.bb_pos = i;\n        this.bb = bb;\n        return this;\n    }\n    static getRootAsSchema(bb, obj) {\n        return (obj || new Schema()).__init(bb.readInt32(bb.position()) + bb.position(), bb);\n    }\n    static getSizePrefixedRootAsSchema(bb, obj) {\n        bb.setPosition(bb.position() + flatbuffers.SIZE_PREFIX_LENGTH);\n        return (obj || new Schema()).__init(bb.readInt32(bb.position()) + bb.position(), bb);\n    }\n    /**\n     * endianness of the buffer\n     * it is Little Endian by default\n     * if endianness doesn't match the underlying system then the vectors need to be converted\n     */\n    endianness() {\n        const offset = this.bb.__offset(this.bb_pos, 4);\n        return offset ? this.bb.readInt16(this.bb_pos + offset) : Endianness.Little;\n    }\n    fields(index, obj) {\n        const offset = this.bb.__offset(this.bb_pos, 6);\n        return offset ? (obj || new Field()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos + offset) + index * 4), this.bb) : null;\n    }\n    fieldsLength() {\n        const offset = this.bb.__offset(this.bb_pos, 6);\n        return offset ? this.bb.__vector_len(this.bb_pos + offset) : 0;\n    }\n    customMetadata(index, obj) {\n        const offset = this.bb.__offset(this.bb_pos, 8);\n        return offset ? (obj || new KeyValue()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos + offset) + index * 4), this.bb) : null;\n    }\n    customMetadataLength() {\n        const offset = this.bb.__offset(this.bb_pos, 8);\n        return offset ? this.bb.__vector_len(this.bb_pos + offset) : 0;\n    }\n    /**\n     * Features used in the stream/file.\n     */\n    features(index) {\n        const offset = this.bb.__offset(this.bb_pos, 10);\n        return offset ? this.bb.readInt64(this.bb.__vector(this.bb_pos + offset) + index * 8) : BigInt(0);\n    }\n    featuresLength() {\n        const offset = this.bb.__offset(this.bb_pos, 10);\n        return offset ? this.bb.__vector_len(this.bb_pos + offset) : 0;\n    }\n    static startSchema(builder) {\n        builder.startObject(4);\n    }\n    static addEndianness(builder, endianness) {\n        builder.addFieldInt16(0, endianness, Endianness.Little);\n    }\n    static addFields(builder, fieldsOffset) {\n        builder.addFieldOffset(1, fieldsOffset, 0);\n    }\n    static createFieldsVector(builder, data) {\n        builder.startVector(4, data.length, 4);\n        for (let i = data.length - 1; i >= 0; i--) {\n            builder.addOffset(data[i]);\n        }\n        return builder.endVector();\n    }\n    static startFieldsVector(builder, numElems) {\n        builder.startVector(4, numElems, 4);\n    }\n    static addCustomMetadata(builder, customMetadataOffset) {\n        builder.addFieldOffset(2, customMetadataOffset, 0);\n    }\n    static createCustomMetadataVector(builder, data) {\n        builder.startVector(4, data.length, 4);\n        for (let i = data.length - 1; i >= 0; i--) {\n            builder.addOffset(data[i]);\n        }\n        return builder.endVector();\n    }\n    static startCustomMetadataVector(builder, numElems) {\n        builder.startVector(4, numElems, 4);\n    }\n    static addFeatures(builder, featuresOffset) {\n        builder.addFieldOffset(3, featuresOffset, 0);\n    }\n    static createFeaturesVector(builder, data) {\n        builder.startVector(8, data.length, 8);\n        for (let i = data.length - 1; i >= 0; i--) {\n            builder.addInt64(data[i]);\n        }\n        return builder.endVector();\n    }\n    static startFeaturesVector(builder, numElems) {\n        builder.startVector(8, numElems, 8);\n    }\n    static endSchema(builder) {\n        const offset = builder.endObject();\n        return offset;\n    }\n    static finishSchemaBuffer(builder, offset) {\n        builder.finish(offset);\n    }\n    static finishSizePrefixedSchemaBuffer(builder, offset) {\n        builder.finish(offset, undefined, true);\n    }\n    static createSchema(builder, endianness, fieldsOffset, customMetadataOffset, featuresOffset) {\n        Schema.startSchema(builder);\n        Schema.addEndianness(builder, endianness);\n        Schema.addFields(builder, fieldsOffset);\n        Schema.addCustomMetadata(builder, customMetadataOffset);\n        Schema.addFeatures(builder, featuresOffset);\n        return Schema.endSchema(builder);\n    }\n}\n\n//# sourceMappingURL=schema.mjs.map\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nimport { __awaiter } from \"tslib\";\nimport { MessageHeader } from '../enum.mjs';\nimport { ByteBuffer } from 'flatbuffers';\nimport { Message } from './metadata/message.mjs';\nimport { isFileHandle } from '../util/compat.mjs';\nimport { AsyncRandomAccessFile } from '../io/file.mjs';\nimport { toUint8Array } from '../util/buffer.mjs';\nimport { ByteStream, AsyncByteStream } from '../io/stream.mjs';\nimport { ArrowJSON, ITERATOR_DONE } from '../io/interfaces.mjs';\n/** @ignore */ const invalidMessageType = (type) => `Expected ${MessageHeader[type]} Message in stream, but was null or length 0.`;\n/** @ignore */ const nullMessage = (type) => `Header pointer of flatbuffer-encoded ${MessageHeader[type]} Message is null or length 0.`;\n/** @ignore */ const invalidMessageMetadata = (expected, actual) => `Expected to read ${expected} metadata bytes, but only read ${actual}.`;\n/** @ignore */ const invalidMessageBodyLength = (expected, actual) => `Expected to read ${expected} bytes for message body, but only read ${actual}.`;\n/** @ignore */\nexport class MessageReader {\n    constructor(source) {\n        this.source = source instanceof ByteStream ? source : new ByteStream(source);\n    }\n    [Symbol.iterator]() { return this; }\n    next() {\n        let r;\n        if ((r = this.readMetadataLength()).done) {\n            return ITERATOR_DONE;\n        }\n        // ARROW-6313: If the first 4 bytes are continuation indicator (-1), read\n        // the next 4 for the 32-bit metadata length. Otherwise, assume this is a\n        // pre-v0.15 message, where the first 4 bytes are the metadata length.\n        if ((r.value === -1) &&\n            (r = this.readMetadataLength()).done) {\n            return ITERATOR_DONE;\n        }\n        if ((r = this.readMetadata(r.value)).done) {\n            return ITERATOR_DONE;\n        }\n        return r;\n    }\n    throw(value) { return this.source.throw(value); }\n    return(value) { return this.source.return(value); }\n    readMessage(type) {\n        let r;\n        if ((r = this.next()).done) {\n            return null;\n        }\n        if ((type != null) && r.value.headerType !== type) {\n            throw new Error(invalidMessageType(type));\n        }\n        return r.value;\n    }\n    readMessageBody(bodyLength) {\n        if (bodyLength <= 0) {\n            return new Uint8Array(0);\n        }\n        const buf = toUint8Array(this.source.read(bodyLength));\n        if (buf.byteLength < bodyLength) {\n            throw new Error(invalidMessageBodyLength(bodyLength, buf.byteLength));\n        }\n        // 1. Work around bugs in fs.ReadStream's internal Buffer pooling, see: https://github.com/nodejs/node/issues/24817\n        // 2. Work around https://github.com/whatwg/streams/blob/0ebe4b042e467d9876d80ae045de3843092ad797/reference-implementation/lib/helpers.js#L126\n        return /* 1. */ (buf.byteOffset % 8 === 0) &&\n            /* 2. */ (buf.byteOffset + buf.byteLength) <= buf.buffer.byteLength ? buf : buf.slice();\n    }\n    readSchema(throwIfNull = false) {\n        const type = MessageHeader.Schema;\n        const message = this.readMessage(type);\n        const schema = message === null || message === void 0 ? void 0 : message.header();\n        if (throwIfNull && !schema) {\n            throw new Error(nullMessage(type));\n        }\n        return schema;\n    }\n    readMetadataLength() {\n        const buf = this.source.read(PADDING);\n        const bb = buf && new ByteBuffer(buf);\n        const len = (bb === null || bb === void 0 ? void 0 : bb.readInt32(0)) || 0;\n        return { done: len === 0, value: len };\n    }\n    readMetadata(metadataLength) {\n        const buf = this.source.read(metadataLength);\n        if (!buf) {\n            return ITERATOR_DONE;\n        }\n        if (buf.byteLength < metadataLength) {\n            throw new Error(invalidMessageMetadata(metadataLength, buf.byteLength));\n        }\n        return { done: false, value: Message.decode(buf) };\n    }\n}\n/** @ignore */\nexport class AsyncMessageReader {\n    constructor(source, byteLength) {\n        this.source = source instanceof AsyncByteStream ? source\n            : isFileHandle(source)\n                ? new AsyncRandomAccessFile(source, byteLength)\n                : new AsyncByteStream(source);\n    }\n    [Symbol.asyncIterator]() { return this; }\n    next() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let r;\n            if ((r = yield this.readMetadataLength()).done) {\n                return ITERATOR_DONE;\n            }\n            // ARROW-6313: If the first 4 bytes are continuation indicator (-1), read\n            // the next 4 for the 32-bit metadata length. Otherwise, assume this is a\n            // pre-v0.15 message, where the first 4 bytes are the metadata length.\n            if ((r.value === -1) &&\n                (r = yield this.readMetadataLength()).done) {\n                return ITERATOR_DONE;\n            }\n            if ((r = yield this.readMetadata(r.value)).done) {\n                return ITERATOR_DONE;\n            }\n            return r;\n        });\n    }\n    throw(value) {\n        return __awaiter(this, void 0, void 0, function* () { return yield this.source.throw(value); });\n    }\n    return(value) {\n        return __awaiter(this, void 0, void 0, function* () { return yield this.source.return(value); });\n    }\n    readMessage(type) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let r;\n            if ((r = yield this.next()).done) {\n                return null;\n            }\n            if ((type != null) && r.value.headerType !== type) {\n                throw new Error(invalidMessageType(type));\n            }\n            return r.value;\n        });\n    }\n    readMessageBody(bodyLength) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (bodyLength <= 0) {\n                return new Uint8Array(0);\n            }\n            const buf = toUint8Array(yield this.source.read(bodyLength));\n            if (buf.byteLength < bodyLength) {\n                throw new Error(invalidMessageBodyLength(bodyLength, buf.byteLength));\n            }\n            // 1. Work around bugs in fs.ReadStream's internal Buffer pooling, see: https://github.com/nodejs/node/issues/24817\n            // 2. Work around https://github.com/whatwg/streams/blob/0ebe4b042e467d9876d80ae045de3843092ad797/reference-implementation/lib/helpers.js#L126\n            return /* 1. */ (buf.byteOffset % 8 === 0) &&\n                /* 2. */ (buf.byteOffset + buf.byteLength) <= buf.buffer.byteLength ? buf : buf.slice();\n        });\n    }\n    readSchema(throwIfNull = false) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const type = MessageHeader.Schema;\n            const message = yield this.readMessage(type);\n            const schema = message === null || message === void 0 ? void 0 : message.header();\n            if (throwIfNull && !schema) {\n                throw new Error(nullMessage(type));\n            }\n            return schema;\n        });\n    }\n    readMetadataLength() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const buf = yield this.source.read(PADDING);\n            const bb = buf && new ByteBuffer(buf);\n            const len = (bb === null || bb === void 0 ? void 0 : bb.readInt32(0)) || 0;\n            return { done: len === 0, value: len };\n        });\n    }\n    readMetadata(metadataLength) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const buf = yield this.source.read(metadataLength);\n            if (!buf) {\n                return ITERATOR_DONE;\n            }\n            if (buf.byteLength < metadataLength) {\n                throw new Error(invalidMessageMetadata(metadataLength, buf.byteLength));\n            }\n            return { done: false, value: Message.decode(buf) };\n        });\n    }\n}\n/** @ignore */\nexport class JSONMessageReader extends MessageReader {\n    constructor(source) {\n        super(new Uint8Array(0));\n        this._schema = false;\n        this._body = [];\n        this._batchIndex = 0;\n        this._dictionaryIndex = 0;\n        this._json = source instanceof ArrowJSON ? source : new ArrowJSON(source);\n    }\n    next() {\n        const { _json } = this;\n        if (!this._schema) {\n            this._schema = true;\n            const message = Message.fromJSON(_json.schema, MessageHeader.Schema);\n            return { done: false, value: message };\n        }\n        if (this._dictionaryIndex < _json.dictionaries.length) {\n            const batch = _json.dictionaries[this._dictionaryIndex++];\n            this._body = batch['data']['columns'];\n            const message = Message.fromJSON(batch, MessageHeader.DictionaryBatch);\n            return { done: false, value: message };\n        }\n        if (this._batchIndex < _json.batches.length) {\n            const batch = _json.batches[this._batchIndex++];\n            this._body = batch['columns'];\n            const message = Message.fromJSON(batch, MessageHeader.RecordBatch);\n            return { done: false, value: message };\n        }\n        this._body = [];\n        return ITERATOR_DONE;\n    }\n    readMessageBody(_bodyLength) {\n        return flattenDataSources(this._body);\n        function flattenDataSources(xs) {\n            return (xs || []).reduce((buffers, column) => [\n                ...buffers,\n                ...(column['VALIDITY'] && [column['VALIDITY']] || []),\n                ...(column['TYPE'] && [column['TYPE']] || []),\n                ...(column['OFFSET'] && [column['OFFSET']] || []),\n                ...(column['DATA'] && [column['DATA']] || []),\n                ...flattenDataSources(column['children'])\n            ], []);\n        }\n    }\n    readMessage(type) {\n        let r;\n        if ((r = this.next()).done) {\n            return null;\n        }\n        if ((type != null) && r.value.headerType !== type) {\n            throw new Error(invalidMessageType(type));\n        }\n        return r.value;\n    }\n    readSchema() {\n        const type = MessageHeader.Schema;\n        const message = this.readMessage(type);\n        const schema = message === null || message === void 0 ? void 0 : message.header();\n        if (!message || !schema) {\n            throw new Error(nullMessage(type));\n        }\n        return schema;\n    }\n}\n/** @ignore */\nexport const PADDING = 4;\n/** @ignore */\nexport const MAGIC_STR = 'ARROW1';\n/** @ignore */\nexport const MAGIC = new Uint8Array(MAGIC_STR.length);\nfor (let i = 0; i < MAGIC_STR.length; i += 1) {\n    MAGIC[i] = MAGIC_STR.codePointAt(i);\n}\n/** @ignore */\nexport function checkForMagicArrowString(buffer, index = 0) {\n    for (let i = -1, n = MAGIC.length; ++i < n;) {\n        if (MAGIC[i] !== buffer[index + i]) {\n            return false;\n        }\n    }\n    return true;\n}\n/** @ignore */\nexport const magicLength = MAGIC.length;\n/** @ignore */\nexport const magicAndPadding = magicLength + PADDING;\n/** @ignore */\nexport const magicX2AndPadding = magicLength * 2 + PADDING;\n\n//# sourceMappingURL=message.mjs.map\n","import { degreesToRadians, radiansToDegrees } from \"@turf/helpers\";\nimport { getCoord } from \"@turf/invariant\";\n// http://en.wikipedia.org/wiki/Haversine_formula\n// http://www.movable-type.co.uk/scripts/latlong.html\n/**\n * Takes two {@link Point|points} and finds the geographic bearing between them,\n * i.e. the angle measured in degrees from the north line (0 degrees)\n *\n * @name bearing\n * @param {Coord} start starting Point\n * @param {Coord} end ending Point\n * @param {Object} [options={}] Optional parameters\n * @param {boolean} [options.final=false] calculates the final bearing if true\n * @returns {number} bearing in decimal degrees, between -180 and 180 degrees (positive clockwise)\n * @example\n * var point1 = turf.point([-75.343, 39.984]);\n * var point2 = turf.point([-75.534, 39.123]);\n *\n * var bearing = turf.bearing(point1, point2);\n *\n * //addToMap\n * var addToMap = [point1, point2]\n * point1.properties['marker-color'] = '#f00'\n * point2.properties['marker-color'] = '#0f0'\n * point1.properties.bearing = bearing\n */\nexport default function bearing(start, end, options) {\n    if (options === void 0) { options = {}; }\n    // Reverse calculation\n    if (options.final === true) {\n        return calculateFinalBearing(start, end);\n    }\n    var coordinates1 = getCoord(start);\n    var coordinates2 = getCoord(end);\n    var lon1 = degreesToRadians(coordinates1[0]);\n    var lon2 = degreesToRadians(coordinates2[0]);\n    var lat1 = degreesToRadians(coordinates1[1]);\n    var lat2 = degreesToRadians(coordinates2[1]);\n    var a = Math.sin(lon2 - lon1) * Math.cos(lat2);\n    var b = Math.cos(lat1) * Math.sin(lat2) -\n        Math.sin(lat1) * Math.cos(lat2) * Math.cos(lon2 - lon1);\n    return radiansToDegrees(Math.atan2(a, b));\n}\n/**\n * Calculates Final Bearing\n *\n * @private\n * @param {Coord} start starting Point\n * @param {Coord} end ending Point\n * @returns {number} bearing\n */\nfunction calculateFinalBearing(start, end) {\n    // Swap start & end\n    var bear = bearing(end, start);\n    bear = (bear + 180) % 360;\n    return bear;\n}\n","import { getCoords } from \"@turf/invariant\";\n/**\n * Takes a ring and return true or false whether or not the ring is clockwise or counter-clockwise.\n *\n * @name booleanClockwise\n * @param {Feature<LineString>|LineString|Array<Array<number>>} line to be evaluated\n * @returns {boolean} true/false\n * @example\n * var clockwiseRing = turf.lineString([[0,0],[1,1],[1,0],[0,0]]);\n * var counterClockwiseRing = turf.lineString([[0,0],[1,0],[1,1],[0,0]]);\n *\n * turf.booleanClockwise(clockwiseRing)\n * //=true\n * turf.booleanClockwise(counterClockwiseRing)\n * //=false\n */\nexport default function booleanClockwise(line) {\n    var ring = getCoords(line);\n    var sum = 0;\n    var i = 1;\n    var prev;\n    var cur;\n    while (i < ring.length) {\n        prev = cur || ring[0];\n        cur = ring[i];\n        sum += (cur[0] - prev[0]) * (cur[1] + prev[1]);\n        i++;\n    }\n    return sum > 0;\n}\n","import clone from '@turf/clone';\nimport booleanClockwise from '@turf/boolean-clockwise';\nimport { featureEach, geomEach } from '@turf/meta';\nimport { getCoords } from '@turf/invariant';\nimport { isObject, featureCollection } from '@turf/helpers';\n\n/**\n * Rewind {@link LineString|(Multi)LineString} or {@link Polygon|(Multi)Polygon} outer ring counterclockwise and inner rings clockwise (Uses {@link http://en.wikipedia.org/wiki/Shoelace_formula|Shoelace Formula}).\n *\n * @name rewind\n * @param {GeoJSON} geojson input GeoJSON Polygon\n * @param {Object} [options={}] Optional parameters\n * @param {boolean} [options.reverse=false] enable reverse winding\n * @param {boolean} [options.mutate=false] allows GeoJSON input to be mutated (significant performance increase if true)\n * @returns {GeoJSON} rewind Polygon\n * @example\n * var polygon = turf.polygon([[[121, -29], [138, -29], [138, -18], [121, -18], [121, -29]]]);\n *\n * var rewind = turf.rewind(polygon);\n *\n * //addToMap\n * var addToMap = [rewind];\n */\nfunction rewind(geojson, options) {\n  // Optional parameters\n  options = options || {};\n  if (!isObject(options)) throw new Error(\"options is invalid\");\n  var reverse = options.reverse || false;\n  var mutate = options.mutate || false;\n\n  // validation\n  if (!geojson) throw new Error(\"<geojson> is required\");\n  if (typeof reverse !== \"boolean\")\n    throw new Error(\"<reverse> must be a boolean\");\n  if (typeof mutate !== \"boolean\")\n    throw new Error(\"<mutate> must be a boolean\");\n\n  // prevent input mutation\n  if (mutate === false) geojson = clone(geojson);\n\n  // Support Feature Collection or Geometry Collection\n  var results = [];\n  switch (geojson.type) {\n    case \"GeometryCollection\":\n      geomEach(geojson, function (geometry) {\n        rewindFeature(geometry, reverse);\n      });\n      return geojson;\n    case \"FeatureCollection\":\n      featureEach(geojson, function (feature) {\n        featureEach(rewindFeature(feature, reverse), function (result) {\n          results.push(result);\n        });\n      });\n      return featureCollection(results);\n  }\n  // Support Feature or Geometry Objects\n  return rewindFeature(geojson, reverse);\n}\n\n/**\n * Rewind\n *\n * @private\n * @param {Geometry|Feature<any>} geojson Geometry or Feature\n * @param {Boolean} [reverse=false] enable reverse winding\n * @returns {Geometry|Feature<any>} rewind Geometry or Feature\n */\nfunction rewindFeature(geojson, reverse) {\n  var type = geojson.type === \"Feature\" ? geojson.geometry.type : geojson.type;\n\n  // Support all GeoJSON Geometry Objects\n  switch (type) {\n    case \"GeometryCollection\":\n      geomEach(geojson, function (geometry) {\n        rewindFeature(geometry, reverse);\n      });\n      return geojson;\n    case \"LineString\":\n      rewindLineString(getCoords(geojson), reverse);\n      return geojson;\n    case \"Polygon\":\n      rewindPolygon(getCoords(geojson), reverse);\n      return geojson;\n    case \"MultiLineString\":\n      getCoords(geojson).forEach(function (lineCoords) {\n        rewindLineString(lineCoords, reverse);\n      });\n      return geojson;\n    case \"MultiPolygon\":\n      getCoords(geojson).forEach(function (lineCoords) {\n        rewindPolygon(lineCoords, reverse);\n      });\n      return geojson;\n    case \"Point\":\n    case \"MultiPoint\":\n      return geojson;\n  }\n}\n\n/**\n * Rewind LineString - outer ring clockwise\n *\n * @private\n * @param {Array<Array<number>>} coords GeoJSON LineString geometry coordinates\n * @param {Boolean} [reverse=false] enable reverse winding\n * @returns {void} mutates coordinates\n */\nfunction rewindLineString(coords, reverse) {\n  if (booleanClockwise(coords) === reverse) coords.reverse();\n}\n\n/**\n * Rewind Polygon - outer ring counterclockwise and inner rings clockwise.\n *\n * @private\n * @param {Array<Array<Array<number>>>} coords GeoJSON Polygon geometry coordinates\n * @param {Boolean} [reverse=false] enable reverse winding\n * @returns {void} mutates coordinates\n */\nfunction rewindPolygon(coords, reverse) {\n  // outer ring\n  if (booleanClockwise(coords[0]) !== reverse) {\n    coords[0].reverse();\n  }\n  // inner rings\n  for (var i = 1; i < coords.length; i++) {\n    if (booleanClockwise(coords[i]) === reverse) {\n      coords[i].reverse();\n    }\n  }\n}\n\nexport default rewind;\n","import checkIfBrowser from '../lib/is-browser';\n\nexport {self, window, global, document, process, console} from '../lib/globals';\n\n// Extract injected version from package.json (injected by babel plugin)\n// @ts-expect-error\nexport const VERSION = typeof __VERSION__ !== 'undefined' ? __VERSION__ : 'untranspiled source';\n\nexport const isBrowser = checkIfBrowser();\n","// probe.gl, MIT license\n\nfunction getStorage(type): Storage {\n  try {\n    // @ts-expect-error\n    const storage: Storage = window[type];\n    const x = '__storage_test__';\n    storage.setItem(x, x);\n    storage.removeItem(x);\n    return storage;\n  } catch (e) {\n    return null;\n  }\n}\n\n// Store keys in local storage via simple interface\nexport default class LocalStorage {\n  storage: Storage;\n  id: string;\n  config: Record<string, any> = {};\n\n  constructor(id: string, defaultSettings: Record<string, any> = {}, type = 'sessionStorage') {\n    this.storage = getStorage(type);\n    this.id = id;\n    this.config = {};\n    Object.assign(this.config, defaultSettings);\n    this._loadConfiguration();\n  }\n\n  getConfiguration() {\n    return this.config;\n  }\n\n  setConfiguration(configuration) {\n    this.config = {};\n    return this.updateConfiguration(configuration);\n  }\n\n  updateConfiguration(configuration) {\n    Object.assign(this.config, configuration);\n    if (this.storage) {\n      const serialized = JSON.stringify(this.config);\n      this.storage.setItem(this.id, serialized);\n    }\n    return this;\n  }\n\n  // Get config from persistent store, if available\n  _loadConfiguration() {\n    let configuration = {};\n    if (this.storage) {\n      const serializedConfiguration = this.storage.getItem(this.id);\n      configuration = serializedConfiguration ? JSON.parse(serializedConfiguration) : {};\n    }\n    Object.assign(this.config, configuration);\n    return this;\n  }\n}\n","// TODO: Currently unused, keeping in case we want it later for log formatting\nexport function formatTime(ms: number): string {\n  let formatted;\n  if (ms < 10) {\n    formatted = `${ms.toFixed(2)}ms`;\n  } else if (ms < 100) {\n    formatted = `${ms.toFixed(1)}ms`;\n  } else if (ms < 1000) {\n    formatted = `${ms.toFixed(0)}ms`;\n  } else {\n    formatted = `${(ms / 1000).toFixed(2)}s`;\n  }\n  return formatted;\n}\n\nexport function leftPad(string: string, length: number = 8): string {\n  const padLength = Math.max(length - string.length, 0);\n  return `${' '.repeat(padLength)}${string}`;\n}\n\nexport function rightPad(string: string, length: number = 8): string {\n  const padLength = Math.max(length - string.length, 0);\n  return `${string}${' '.repeat(padLength)}`;\n}\n\nexport function formatValue(v: unknown, opts: {isInteger?: boolean} = {}): string {\n  const EPSILON = 1e-16;\n  const {isInteger = false} = opts;\n  if (Array.isArray(v) || ArrayBuffer.isView(v)) {\n    return formatArrayValue(v, opts);\n  }\n  if (!Number.isFinite(v)) {\n    return String(v);\n  }\n  // @ts-expect-error\n  if (Math.abs(v) < EPSILON) {\n    return isInteger ? '0' : '0.';\n  }\n  if (isInteger) {\n    // @ts-expect-error\n    return v.toFixed(0);\n  }\n  // @ts-expect-error\n  if (Math.abs(v) > 100 && Math.abs(v) < 10000) {\n    // @ts-expect-error\n    return v.toFixed(0);\n  }\n  // @ts-expect-error\n  const string = v.toPrecision(2);\n  const decimal = string.indexOf('.0');\n  return decimal === string.length - 2 ? string.slice(0, -1) : string;\n}\n\n/** Helper to formatValue */\nfunction formatArrayValue(v, opts) {\n  const {maxElts = 16, size = 1} = opts;\n  let string = '[';\n  for (let i = 0; i < v.length && i < maxElts; ++i) {\n    if (i > 0) {\n      string += `,${i % size === 0 ? ' ' : ''}`;\n    }\n    string += formatValue(v[i], opts);\n  }\n  const terminator = v.length > maxElts ? '...' : ']';\n  return `${string}${terminator}`;\n}\n\n/** Inspired by https://github.com/hughsk/console-image (MIT license) */\nexport function formatImage(image, message, scale, maxWidth = 600) {\n  const imageUrl = image.src.replace(/\\(/g, '%28').replace(/\\)/g, '%29');\n\n  if (image.width > maxWidth) {\n    scale = Math.min(scale, maxWidth / image.width);\n  }\n\n  const width = image.width * scale;\n  const height = image.height * scale;\n\n  const style = [\n    'font-size:1px;',\n    `padding:${Math.floor(height / 2)}px ${Math.floor(width / 2)}px;`,\n    `line-height:${height}px;`,\n    `background:url(${imageUrl});`,\n    `background-size:${width}px ${height}px;`,\n    'color:transparent;'\n  ].join('');\n\n  return [`${message} %c+`, style];\n}\n","import {isBrowser} from '@probe.gl/env';\n\nexport enum COLOR {\n  BLACK = 30,\n  RED = 31,\n  GREEN = 32,\n  YELLOW = 33,\n  BLUE = 34,\n  MAGENTA = 35,\n  CYAN = 36,\n  WHITE = 37,\n\n  BRIGHT_BLACK = 90,\n  BRIGHT_RED = 91,\n  BRIGHT_GREEN = 92,\n  BRIGHT_YELLOW = 93,\n  BRIGHT_BLUE = 94,\n  BRIGHT_MAGENTA = 95,\n  BRIGHT_CYAN = 96,\n  BRIGHT_WHITE = 97\n}\n\nfunction getColor(color): number {\n  return typeof color === 'string' ? COLOR[color.toUpperCase()] || COLOR.WHITE : color;\n}\n\nexport function addColor(string, color, background?): string {\n  if (!isBrowser && typeof string === 'string') {\n    if (color) {\n      color = getColor(color);\n      string = `\\u001b[${color}m${string}\\u001b[39m`;\n    }\n    if (background) {\n      // background colors values are +10\n      color = getColor(background);\n      string = `\\u001b[${background + 10}m${string}\\u001b[49m`;\n    }\n  }\n  return string;\n}\n","export default function assert(condition: unknown, message?: string): asserts condition {\n  if (!condition) {\n    throw new Error(message || 'Assertion failed');\n  }\n}\n","// probe.gl, MIT license\n\nimport {window, process, isBrowser} from '@probe.gl/env';\n\n/** Get best timer available. */\nexport function getHiResTimestamp() {\n  let timestamp;\n  if (isBrowser && 'performance' in window) {\n    timestamp = window?.performance?.now?.();\n  } else if ('hrtime' in process) {\n    // @ts-ignore\n    const timeParts = process?.hrtime?.();\n    timestamp = timeParts[0] * 1000 + timeParts[1] / 1e6;\n  } else {\n    timestamp = Date.now();\n  }\n\n  return timestamp;\n}\n","// probe.gl, MIT license\n\n/* eslint-disable no-console */\nimport {VERSION, isBrowser} from '@probe.gl/env';\nimport LocalStorage from './utils/local-storage';\nimport {formatImage, formatTime, leftPad} from './utils/formatters';\nimport {addColor} from './utils/color';\nimport {autobind} from './utils/autobind';\nimport assert from './utils/assert';\nimport {getHiResTimestamp} from './utils/hi-res-timestamp';\nimport {nodeAsciifyImage} from './node/node-asciify-image';\n\n// Instrumentation in other packages may override console methods, so preserve them here\nconst originalConsole = {\n  debug: isBrowser ? console.debug || console.log : console.log,\n  log: console.log,\n  info: console.info,\n  warn: console.warn,\n  error: console.error\n};\n\ntype Table = Record<string, any>;\n\ntype LogFunction = () => void;\n\ntype LogSettings = {\n  enabled?: boolean;\n  level?: number;\n  [key: string]: any;\n};\n\nconst DEFAULT_SETTINGS: Required<LogSettings> = {\n  enabled: true,\n  level: 0\n};\n\nfunction noop() {} // eslint-disable-line @typescript-eslint/no-empty-function\n\nconst cache = {};\nconst ONCE = {once: true};\n\n// A console wrapper\n\nexport default class Log {\n  static VERSION = VERSION;\n\n  id: string;\n  VERSION: string = VERSION;\n  _startTs: number = getHiResTimestamp();\n  _deltaTs: number = getHiResTimestamp();\n  _storage: LocalStorage;\n  userData = {};\n\n  // TODO - fix support from throttling groups\n  LOG_THROTTLE_TIMEOUT: number = 0; // Time before throttled messages are logged again\n\n  constructor({id} = {id: ''}) {\n    this.id = id;\n    this._storage = new LocalStorage(`__probe-${this.id}__`, DEFAULT_SETTINGS);\n    this.userData = {};\n\n    this.timeStamp(`${this.id} started`);\n\n    autobind(this);\n    Object.seal(this);\n  }\n\n  set level(newLevel: number) {\n    this.setLevel(newLevel);\n  }\n\n  get level(): number {\n    return this.getLevel();\n  }\n\n  isEnabled(): boolean {\n    return this._storage.config.enabled;\n  }\n\n  getLevel(): number {\n    return this._storage.config.level;\n  }\n\n  /** @return {Number} milliseconds, with fractions */\n  getTotal() {\n    return Number((getHiResTimestamp() - this._startTs).toPrecision(10));\n  }\n\n  /** @return {Number} milliseconds, with fractions */\n  getDelta() {\n    return Number((getHiResTimestamp() - this._deltaTs).toPrecision(10));\n  }\n\n  /** @deprecated use logLevel */\n  set priority(newPriority) {\n    this.level = newPriority;\n  }\n\n  /** @deprecated use logLevel */\n  get priority() {\n    return this.level;\n  }\n\n  /** @deprecated use logLevel */\n  getPriority() {\n    return this.level;\n  }\n\n  // Configure\n\n  enable(enabled: boolean = true): this {\n    this._storage.updateConfiguration({enabled});\n    return this;\n  }\n\n  setLevel(level: number): this {\n    this._storage.updateConfiguration({level});\n    return this;\n  }\n\n  /** return the current status of the setting */\n  get(setting: string): any {\n    return this._storage.config[setting];\n  }\n\n  // update the status of the setting\n  set(setting: string, value: any): void {\n    this._storage.updateConfiguration({[setting]: value});\n  }\n\n  /** Logs the current settings as a table */\n  settings(): void {\n    if (console.table) {\n      console.table(this._storage.config);\n    } else {\n      console.log(this._storage.config);\n    }\n  }\n\n  // Unconditional logging\n\n  assert(condition: unknown, message?: string): asserts condition {\n    assert(condition, message);\n  }\n\n  /** Warn, but only once, no console flooding */\n  warn(message: string, ...args): LogFunction;\n  warn(message: string): LogFunction {\n    return this._getLogFunction(0, message, originalConsole.warn, arguments, ONCE);\n  }\n\n  /** Print an error */\n  error(message: string, ...args): LogFunction;\n  error(message: string): LogFunction {\n    return this._getLogFunction(0, message, originalConsole.error, arguments);\n  }\n\n  /** Print a deprecation warning */\n  deprecated(oldUsage: string, newUsage: string): LogFunction {\n    return this.warn(`\\`${oldUsage}\\` is deprecated and will be removed \\\nin a later version. Use \\`${newUsage}\\` instead`);\n  }\n\n  /** Print a removal warning */\n  removed(oldUsage: string, newUsage: string): LogFunction {\n    return this.error(`\\`${oldUsage}\\` has been removed. Use \\`${newUsage}\\` instead`);\n  }\n\n  // Conditional logging\n\n  /** Log to a group */\n  probe(logLevel, message?, ...args): LogFunction;\n  probe(logLevel, message?): LogFunction {\n    return this._getLogFunction(logLevel, message, originalConsole.log, arguments, {\n      time: true,\n      once: true\n    });\n  }\n\n  /** Log a debug message */\n  log(logLevel, message?, ...args): LogFunction;\n  log(logLevel, message?): LogFunction {\n    return this._getLogFunction(logLevel, message, originalConsole.debug, arguments);\n  }\n\n  /** Log a normal message */\n  info(logLevel, message?, ...args): LogFunction;\n  info(logLevel, message?): LogFunction {\n    return this._getLogFunction(logLevel, message, console.info, arguments);\n  }\n\n  /** Log a normal message, but only once, no console flooding */\n  once(logLevel, message?, ...args): LogFunction;\n  once(logLevel, message?, ...args) {\n    return this._getLogFunction(\n      logLevel,\n      message,\n      originalConsole.debug || originalConsole.info,\n      arguments,\n      ONCE\n    );\n  }\n\n  /** Logs an object as a table */\n  table(logLevel, table?, columns?): LogFunction {\n    if (table) {\n      // @ts-expect-error Not clear how this works, columns being passed as arguments\n      return this._getLogFunction(logLevel, table, console.table || noop, columns && [columns], {\n        tag: getTableHeader(table)\n      });\n    }\n    return noop;\n  }\n\n  /** logs an image under Chrome */\n  image({logLevel, priority, image, message = '', scale = 1}): LogFunction {\n    if (!this._shouldLog(logLevel || priority)) {\n      return noop;\n    }\n    return isBrowser\n      ? logImageInBrowser({image, message, scale})\n      : logImageInNode({image, message, scale});\n  }\n\n  time(logLevel, message) {\n    return this._getLogFunction(logLevel, message, console.time ? console.time : console.info);\n  }\n\n  timeEnd(logLevel, message) {\n    return this._getLogFunction(\n      logLevel,\n      message,\n      console.timeEnd ? console.timeEnd : console.info\n    );\n  }\n\n  timeStamp(logLevel, message?) {\n    return this._getLogFunction(logLevel, message, console.timeStamp || noop);\n  }\n\n  group(logLevel, message, opts = {collapsed: false}) {\n    const options = normalizeArguments({logLevel, message, opts});\n    const {collapsed} = opts;\n    // @ts-expect-error\n    options.method = (collapsed ? console.groupCollapsed : console.group) || console.info;\n\n    return this._getLogFunction(options);\n  }\n\n  groupCollapsed(logLevel, message, opts = {}) {\n    return this.group(logLevel, message, Object.assign({}, opts, {collapsed: true}));\n  }\n\n  groupEnd(logLevel) {\n    return this._getLogFunction(logLevel, '', console.groupEnd || noop);\n  }\n\n  // EXPERIMENTAL\n\n  withGroup(logLevel: number, message: string, func: Function): void {\n    this.group(logLevel, message)();\n\n    try {\n      func();\n    } finally {\n      this.groupEnd(logLevel)();\n    }\n  }\n\n  trace(): void {\n    if (console.trace) {\n      console.trace();\n    }\n  }\n\n  // PRIVATE METHODS\n\n  /** Deduces log level from a variety of arguments */\n  _shouldLog(logLevel: unknown): boolean {\n    return this.isEnabled() && this.getLevel() >= normalizeLogLevel(logLevel);\n  }\n\n  _getLogFunction(\n    logLevel: unknown,\n    message?: unknown,\n    method?: Function,\n    args?: IArguments,\n    opts?: Record<string, any>\n  ): LogFunction {\n    if (this._shouldLog(logLevel)) {\n      // normalized opts + timings\n      opts = normalizeArguments({logLevel, message, args, opts});\n      method = method || opts.method;\n      assert(method);\n\n      opts.total = this.getTotal();\n      opts.delta = this.getDelta();\n      // reset delta timer\n      this._deltaTs = getHiResTimestamp();\n\n      const tag = opts.tag || opts.message;\n\n      if (opts.once) {\n        if (!cache[tag]) {\n          cache[tag] = getHiResTimestamp();\n        } else {\n          return noop;\n        }\n      }\n\n      // TODO - Make throttling work with groups\n      // if (opts.nothrottle || !throttle(tag, this.LOG_THROTTLE_TIMEOUT)) {\n      //   return noop;\n      // }\n\n      message = decorateMessage(this.id, opts.message, opts);\n\n      // Bind console function so that it can be called after being returned\n      return method.bind(console, message, ...opts.args);\n    }\n    return noop;\n  }\n}\n\n/**\n * Get logLevel from first argument:\n * - log(logLevel, message, args) => logLevel\n * - log(message, args) => 0\n * - log({logLevel, ...}, message, args) => logLevel\n * - log({logLevel, message, args}) => logLevel\n */\nfunction normalizeLogLevel(logLevel: unknown): number {\n  if (!logLevel) {\n    return 0;\n  }\n  let resolvedLevel;\n\n  switch (typeof logLevel) {\n    case 'number':\n      resolvedLevel = logLevel;\n      break;\n\n    case 'object':\n      // Backward compatibility\n      // TODO - deprecate `priority`\n      // @ts-expect-error\n      resolvedLevel = logLevel.logLevel || logLevel.priority || 0;\n      break;\n\n    default:\n      return 0;\n  }\n  // 'log level must be a number'\n  assert(Number.isFinite(resolvedLevel) && resolvedLevel >= 0);\n\n  return resolvedLevel;\n}\n\n/**\n * \"Normalizes\" the various argument patterns into an object with known types\n * - log(logLevel, message, args) => {logLevel, message, args}\n * - log(message, args) => {logLevel: 0, message, args}\n * - log({logLevel, ...}, message, args) => {logLevel, message, args}\n * - log({logLevel, message, args}) => {logLevel, message, args}\n */\nexport function normalizeArguments(opts: {\n  logLevel;\n  message;\n  collapsed?: boolean;\n  args?: IArguments;\n  opts?;\n}): {\n  logLevel: number;\n  message: string;\n  args: any[];\n} {\n  const {logLevel, message} = opts;\n  opts.logLevel = normalizeLogLevel(logLevel);\n\n  // We use `arguments` instead of rest parameters (...args) because IE\n  // does not support the syntax. Rest parameters is transpiled to code with\n  // perf impact. Doing it here instead avoids constructing args when logging is\n  // disabled.\n  // TODO - remove when/if IE support is dropped\n  const args: any[] = opts.args ? Array.from(opts.args) : [];\n  // args should only contain arguments that appear after `message`\n  // eslint-disable-next-line no-empty\n  while (args.length && args.shift() !== message) {}\n\n  switch (typeof logLevel) {\n    case 'string':\n    case 'function':\n      if (message !== undefined) {\n        args.unshift(message);\n      }\n      opts.message = logLevel;\n      break;\n\n    case 'object':\n      Object.assign(opts, logLevel);\n      break;\n\n    default:\n  }\n\n  // Resolve functions into strings by calling them\n  if (typeof opts.message === 'function') {\n    opts.message = opts.message();\n  }\n  const messageType = typeof opts.message;\n  // 'log message must be a string' or object\n  assert(messageType === 'string' || messageType === 'object');\n\n  // original opts + normalized opts + opts arg + fixed up message\n  return Object.assign(opts, {args}, opts.opts);\n}\n\nfunction decorateMessage(id, message, opts) {\n  if (typeof message === 'string') {\n    const time = opts.time ? leftPad(formatTime(opts.total)) : '';\n    message = opts.time ? `${id}: ${time}  ${message}` : `${id}: ${message}`;\n    message = addColor(message, opts.color, opts.background);\n  }\n  return message;\n}\n\n/** Use the asciify module to log an image under node.js */\nfunction logImageInNode({image, message = '', scale = 1}) {\n  nodeAsciifyImage({image, message, scale});\n  return noop;\n}\n\nfunction logImageInBrowser({image, message = '', scale = 1}) {\n  if (typeof image === 'string') {\n    const img = new Image();\n    img.onload = () => {\n      const args = formatImage(img, message, scale);\n      console.log(...args);\n    };\n    img.src = image;\n    return noop;\n  }\n  const element = image.nodeName || '';\n  if (element.toLowerCase() === 'img') {\n    console.log(...formatImage(image, message, scale));\n    return noop;\n  }\n  if (element.toLowerCase() === 'canvas') {\n    const img = new Image();\n    img.onload = () => console.log(...formatImage(img, message, scale));\n    img.src = image.toDataURL();\n    return noop;\n  }\n  return noop;\n}\n\nfunction getTableHeader(table: Table): string {\n  for (const key in table) {\n    for (const title in table[key]) {\n      return title || 'untitled';\n    }\n  }\n  return 'empty';\n}\n","// Copyright (c) 2015 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n/**\n * Binds the \"this\" argument of all functions on a class instance to the instance\n * @param obj - class instance (typically a react component)\n */\nexport function autobind(obj: object, predefined = ['constructor']): void {\n  const proto = Object.getPrototypeOf(obj);\n  const propNames = Object.getOwnPropertyNames(proto);\n  for (const key of propNames) {\n    if (typeof obj[key] === 'function') {\n      if (!predefined.find(name => key === name)) {\n        obj[key] = obj[key].bind(obj);\n      }\n    }\n  }\n}\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\n/**\n * Converts an integer as a number or bigint to a number, throwing an error if the input cannot safely be represented as a number.\n */\nexport function bigIntToNumber(number) {\n    if (typeof number === 'bigint' && (number < Number.MIN_SAFE_INTEGER || number > Number.MAX_SAFE_INTEGER)) {\n        throw new TypeError(`${number} is not safe to convert to a number.`);\n    }\n    return Number(number);\n}\n\n//# sourceMappingURL=bigint.mjs.map\n","// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n// This function is needed in initialization stages,\n// make sure it can be imported in isolation\n\nimport isBrowser from './is-browser';\nimport isElectron from './is-electron';\n\nconst window = globalThis;\n\nexport function isMobile(): boolean {\n  return typeof window.orientation !== 'undefined';\n}\n\n// Simple browser detection\n// `mockUserAgent` parameter allows user agent to be overridden for testing\n/* eslint-disable complexity */\nexport default function getBrowser(\n  mockUserAgent?: string\n): 'Node' | 'Electron' | 'Chrome' | 'Firefox' | 'Safari' | 'Edge' | 'IE' | 'Unknown' {\n  if (!mockUserAgent && !isBrowser()) {\n    return 'Node';\n  }\n\n  if (isElectron(mockUserAgent)) {\n    return 'Electron';\n  }\n\n  const navigator_ = typeof navigator !== 'undefined' ? navigator : {};\n  // @ts-expect-error\n  const userAgent = mockUserAgent || navigator_.userAgent || '';\n  // const appVersion = navigator_.appVersion || '';\n\n  // NOTE: Order of tests matter, as many agents list Chrome etc.\n  if (userAgent.indexOf('Edge') > -1) {\n    return 'Edge';\n  }\n  const isMSIE = userAgent.indexOf('MSIE ') !== -1;\n  const isTrident = userAgent.indexOf('Trident/') !== -1;\n  if (isMSIE || isTrident) {\n    return 'IE';\n  }\n  if (window.chrome) {\n    return 'Chrome';\n  }\n  if (window.safari) {\n    return 'Safari';\n  }\n  if (window.mozInnerScreenX) {\n    return 'Firefox';\n  }\n  return 'Unknown';\n}\n","// automatically generated by the FlatBuffers compiler, do not modify\nimport * as flatbuffers from 'flatbuffers';\nimport { DictionaryEncoding } from './dictionary-encoding.mjs';\nimport { KeyValue } from './key-value.mjs';\nimport { Type } from './type.mjs';\n/**\n * ----------------------------------------------------------------------\n * A field represents a named column in a record / row batch or child of a\n * nested type.\n */\nexport class Field {\n    constructor() {\n        this.bb = null;\n        this.bb_pos = 0;\n    }\n    __init(i, bb) {\n        this.bb_pos = i;\n        this.bb = bb;\n        return this;\n    }\n    static getRootAsField(bb, obj) {\n        return (obj || new Field()).__init(bb.readInt32(bb.position()) + bb.position(), bb);\n    }\n    static getSizePrefixedRootAsField(bb, obj) {\n        bb.setPosition(bb.position() + flatbuffers.SIZE_PREFIX_LENGTH);\n        return (obj || new Field()).__init(bb.readInt32(bb.position()) + bb.position(), bb);\n    }\n    name(optionalEncoding) {\n        const offset = this.bb.__offset(this.bb_pos, 4);\n        return offset ? this.bb.__string(this.bb_pos + offset, optionalEncoding) : null;\n    }\n    /**\n     * Whether or not this field can contain nulls. Should be true in general.\n     */\n    nullable() {\n        const offset = this.bb.__offset(this.bb_pos, 6);\n        return offset ? !!this.bb.readInt8(this.bb_pos + offset) : false;\n    }\n    typeType() {\n        const offset = this.bb.__offset(this.bb_pos, 8);\n        return offset ? this.bb.readUint8(this.bb_pos + offset) : Type.NONE;\n    }\n    /**\n     * This is the type of the decoded value if the field is dictionary encoded.\n     */\n    type(obj) {\n        const offset = this.bb.__offset(this.bb_pos, 10);\n        return offset ? this.bb.__union(obj, this.bb_pos + offset) : null;\n    }\n    /**\n     * Present only if the field is dictionary encoded.\n     */\n    dictionary(obj) {\n        const offset = this.bb.__offset(this.bb_pos, 12);\n        return offset ? (obj || new DictionaryEncoding()).__init(this.bb.__indirect(this.bb_pos + offset), this.bb) : null;\n    }\n    /**\n     * children apply only to nested data types like Struct, List and Union. For\n     * primitive types children will have length 0.\n     */\n    children(index, obj) {\n        const offset = this.bb.__offset(this.bb_pos, 14);\n        return offset ? (obj || new Field()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos + offset) + index * 4), this.bb) : null;\n    }\n    childrenLength() {\n        const offset = this.bb.__offset(this.bb_pos, 14);\n        return offset ? this.bb.__vector_len(this.bb_pos + offset) : 0;\n    }\n    /**\n     * User-defined metadata\n     */\n    customMetadata(index, obj) {\n        const offset = this.bb.__offset(this.bb_pos, 16);\n        return offset ? (obj || new KeyValue()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos + offset) + index * 4), this.bb) : null;\n    }\n    customMetadataLength() {\n        const offset = this.bb.__offset(this.bb_pos, 16);\n        return offset ? this.bb.__vector_len(this.bb_pos + offset) : 0;\n    }\n    static startField(builder) {\n        builder.startObject(7);\n    }\n    static addName(builder, nameOffset) {\n        builder.addFieldOffset(0, nameOffset, 0);\n    }\n    static addNullable(builder, nullable) {\n        builder.addFieldInt8(1, +nullable, +false);\n    }\n    static addTypeType(builder, typeType) {\n        builder.addFieldInt8(2, typeType, Type.NONE);\n    }\n    static addType(builder, typeOffset) {\n        builder.addFieldOffset(3, typeOffset, 0);\n    }\n    static addDictionary(builder, dictionaryOffset) {\n        builder.addFieldOffset(4, dictionaryOffset, 0);\n    }\n    static addChildren(builder, childrenOffset) {\n        builder.addFieldOffset(5, childrenOffset, 0);\n    }\n    static createChildrenVector(builder, data) {\n        builder.startVector(4, data.length, 4);\n        for (let i = data.length - 1; i >= 0; i--) {\n            builder.addOffset(data[i]);\n        }\n        return builder.endVector();\n    }\n    static startChildrenVector(builder, numElems) {\n        builder.startVector(4, numElems, 4);\n    }\n    static addCustomMetadata(builder, customMetadataOffset) {\n        builder.addFieldOffset(6, customMetadataOffset, 0);\n    }\n    static createCustomMetadataVector(builder, data) {\n        builder.startVector(4, data.length, 4);\n        for (let i = data.length - 1; i >= 0; i--) {\n            builder.addOffset(data[i]);\n        }\n        return builder.endVector();\n    }\n    static startCustomMetadataVector(builder, numElems) {\n        builder.startVector(4, numElems, 4);\n    }\n    static endField(builder) {\n        const offset = builder.endObject();\n        return offset;\n    }\n}\n\n//# sourceMappingURL=field.mjs.map\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nconst decoder = new TextDecoder('utf-8');\n/** @ignore */\nexport const decodeUtf8 = (buffer) => decoder.decode(buffer);\nconst encoder = new TextEncoder();\n/** @ignore */\nexport const encodeUtf8 = (value) => encoder.encode(value);\n\n//# sourceMappingURL=utf8.mjs.map\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nimport { Vector } from '../vector.mjs';\nimport { Visitor } from '../visitor.mjs';\nimport { UnionMode } from '../enum.mjs';\nimport { RecordBatch } from '../recordbatch.mjs';\nimport { rebaseValueOffsets } from '../util/buffer.mjs';\nimport { packBools, truncateBitmap } from '../util/bit.mjs';\nimport { BufferRegion, FieldNode } from '../ipc/metadata/message.mjs';\nimport { DataType, } from '../type.mjs';\n/** @ignore */\nexport class VectorAssembler extends Visitor {\n    /** @nocollapse */\n    static assemble(...args) {\n        const unwrap = (nodes) => nodes.flatMap((node) => Array.isArray(node) ? unwrap(node) :\n            (node instanceof RecordBatch) ? node.data.children : node.data);\n        const assembler = new VectorAssembler();\n        assembler.visitMany(unwrap(args));\n        return assembler;\n    }\n    constructor() {\n        super();\n        this._byteLength = 0;\n        this._nodes = [];\n        this._buffers = [];\n        this._bufferRegions = [];\n    }\n    visit(data) {\n        if (data instanceof Vector) {\n            this.visitMany(data.data);\n            return this;\n        }\n        const { type } = data;\n        if (!DataType.isDictionary(type)) {\n            const { length, nullCount } = data;\n            if (length > 2147483647) {\n                /* istanbul ignore next */\n                throw new RangeError('Cannot write arrays larger than 2^31 - 1 in length');\n            }\n            if (!DataType.isNull(type)) {\n                addBuffer.call(this, nullCount <= 0\n                    ? new Uint8Array(0) // placeholder validity buffer\n                    : truncateBitmap(data.offset, length, data.nullBitmap));\n            }\n            this.nodes.push(new FieldNode(length, nullCount));\n        }\n        return super.visit(data);\n    }\n    visitNull(_null) {\n        return this;\n    }\n    visitDictionary(data) {\n        // Assemble the indices here, Dictionary assembled separately.\n        return this.visit(data.clone(data.type.indices));\n    }\n    get nodes() { return this._nodes; }\n    get buffers() { return this._buffers; }\n    get byteLength() { return this._byteLength; }\n    get bufferRegions() { return this._bufferRegions; }\n}\n/** @ignore */\nfunction addBuffer(values) {\n    const byteLength = (values.byteLength + 7) & ~7; // Round up to a multiple of 8\n    this.buffers.push(values);\n    this.bufferRegions.push(new BufferRegion(this._byteLength, byteLength));\n    this._byteLength += byteLength;\n    return this;\n}\n/** @ignore */\nfunction assembleUnion(data) {\n    const { type, length, typeIds, valueOffsets } = data;\n    // All Union Vectors have a typeIds buffer\n    addBuffer.call(this, typeIds);\n    // If this is a Sparse Union, treat it like all other Nested types\n    if (type.mode === UnionMode.Sparse) {\n        return assembleNestedVector.call(this, data);\n    }\n    else if (type.mode === UnionMode.Dense) {\n        // If this is a Dense Union, add the valueOffsets buffer and potentially slice the children\n        if (data.offset <= 0) {\n            // If the Vector hasn't been sliced, write the existing valueOffsets\n            addBuffer.call(this, valueOffsets);\n            // We can treat this like all other Nested types\n            return assembleNestedVector.call(this, data);\n        }\n        else {\n            // A sliced Dense Union is an unpleasant case. Because the offsets are different for\n            // each child vector, we need to \"rebase\" the valueOffsets for each child\n            // Union typeIds are not necessary 0-indexed\n            const maxChildTypeId = typeIds.reduce((x, y) => Math.max(x, y), typeIds[0]);\n            const childLengths = new Int32Array(maxChildTypeId + 1);\n            // Set all to -1 to indicate that we haven't observed a first occurrence of a particular child yet\n            const childOffsets = new Int32Array(maxChildTypeId + 1).fill(-1);\n            const shiftedOffsets = new Int32Array(length);\n            // If we have a non-zero offset, then the value offsets do not start at\n            // zero. We must a) create a new offsets array with shifted offsets and\n            // b) slice the values array accordingly\n            const unshiftedOffsets = rebaseValueOffsets(-valueOffsets[0], length, valueOffsets);\n            for (let typeId, shift, index = -1; ++index < length;) {\n                if ((shift = childOffsets[typeId = typeIds[index]]) === -1) {\n                    shift = childOffsets[typeId] = unshiftedOffsets[typeId];\n                }\n                shiftedOffsets[index] = unshiftedOffsets[index] - shift;\n                ++childLengths[typeId];\n            }\n            addBuffer.call(this, shiftedOffsets);\n            // Slice and visit children accordingly\n            for (let child, childIndex = -1, numChildren = type.children.length; ++childIndex < numChildren;) {\n                if (child = data.children[childIndex]) {\n                    const typeId = type.typeIds[childIndex];\n                    const childLength = Math.min(length, childLengths[typeId]);\n                    this.visit(child.slice(childOffsets[typeId], childLength));\n                }\n            }\n        }\n    }\n    return this;\n}\n/** @ignore */\nfunction assembleBoolVector(data) {\n    // Bool vector is a special case of FlatVector, as its data buffer needs to stay packed\n    let values;\n    if (data.nullCount >= data.length) {\n        // If all values are null, just insert a placeholder empty data buffer (fastest path)\n        return addBuffer.call(this, new Uint8Array(0));\n    }\n    else if ((values = data.values) instanceof Uint8Array) {\n        // If values is already a Uint8Array, slice the bitmap (fast path)\n        return addBuffer.call(this, truncateBitmap(data.offset, data.length, values));\n    }\n    // Otherwise if the underlying data *isn't* a Uint8Array, enumerate the\n    // values as bools and re-pack them into a Uint8Array. This code isn't\n    // reachable unless you're trying to manipulate the Data internals,\n    // we're only doing this for safety.\n    /* istanbul ignore next */\n    return addBuffer.call(this, packBools(data.values));\n}\n/** @ignore */\nfunction assembleFlatVector(data) {\n    return addBuffer.call(this, data.values.subarray(0, data.length * data.stride));\n}\n/** @ignore */\nfunction assembleFlatListVector(data) {\n    const { length, values, valueOffsets } = data;\n    const firstOffset = valueOffsets[0];\n    const lastOffset = valueOffsets[length];\n    const byteLength = Math.min(lastOffset - firstOffset, values.byteLength - firstOffset);\n    // Push in the order FlatList types read their buffers\n    addBuffer.call(this, rebaseValueOffsets(-valueOffsets[0], length, valueOffsets)); // valueOffsets buffer first\n    addBuffer.call(this, values.subarray(firstOffset, firstOffset + byteLength)); // sliced values buffer second\n    return this;\n}\n/** @ignore */\nfunction assembleListVector(data) {\n    const { length, valueOffsets } = data;\n    // If we have valueOffsets (MapVector, ListVector), push that buffer first\n    if (valueOffsets) {\n        addBuffer.call(this, rebaseValueOffsets(valueOffsets[0], length, valueOffsets));\n    }\n    // Then insert the List's values child\n    return this.visit(data.children[0]);\n}\n/** @ignore */\nfunction assembleNestedVector(data) {\n    return this.visitMany(data.type.children.map((_, i) => data.children[i]).filter(Boolean))[0];\n}\nVectorAssembler.prototype.visitBool = assembleBoolVector;\nVectorAssembler.prototype.visitInt = assembleFlatVector;\nVectorAssembler.prototype.visitFloat = assembleFlatVector;\nVectorAssembler.prototype.visitUtf8 = assembleFlatListVector;\nVectorAssembler.prototype.visitBinary = assembleFlatListVector;\nVectorAssembler.prototype.visitFixedSizeBinary = assembleFlatVector;\nVectorAssembler.prototype.visitDate = assembleFlatVector;\nVectorAssembler.prototype.visitTimestamp = assembleFlatVector;\nVectorAssembler.prototype.visitTime = assembleFlatVector;\nVectorAssembler.prototype.visitDecimal = assembleFlatVector;\nVectorAssembler.prototype.visitList = assembleListVector;\nVectorAssembler.prototype.visitStruct = assembleNestedVector;\nVectorAssembler.prototype.visitUnion = assembleUnion;\nVectorAssembler.prototype.visitInterval = assembleFlatVector;\nVectorAssembler.prototype.visitFixedSizeList = assembleListVector;\nVectorAssembler.prototype.visitMap = assembleListVector;\n\n//# sourceMappingURL=vectorassembler.mjs.map\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nimport { Visitor } from '../visitor.mjs';\nimport { Type as ArrowType } from '../fb/type.mjs';\nimport { Precision, DateUnit, TimeUnit, IntervalUnit, UnionMode } from '../enum.mjs';\n/** @ignore */\nexport class JSONTypeAssembler extends Visitor {\n    visit(node) {\n        return node == null ? undefined : super.visit(node);\n    }\n    visitNull({ typeId }) {\n        return { 'name': ArrowType[typeId].toLowerCase() };\n    }\n    visitInt({ typeId, bitWidth, isSigned }) {\n        return { 'name': ArrowType[typeId].toLowerCase(), 'bitWidth': bitWidth, 'isSigned': isSigned };\n    }\n    visitFloat({ typeId, precision }) {\n        return { 'name': ArrowType[typeId].toLowerCase(), 'precision': Precision[precision] };\n    }\n    visitBinary({ typeId }) {\n        return { 'name': ArrowType[typeId].toLowerCase() };\n    }\n    visitBool({ typeId }) {\n        return { 'name': ArrowType[typeId].toLowerCase() };\n    }\n    visitUtf8({ typeId }) {\n        return { 'name': ArrowType[typeId].toLowerCase() };\n    }\n    visitDecimal({ typeId, scale, precision, bitWidth }) {\n        return { 'name': ArrowType[typeId].toLowerCase(), 'scale': scale, 'precision': precision, 'bitWidth': bitWidth };\n    }\n    visitDate({ typeId, unit }) {\n        return { 'name': ArrowType[typeId].toLowerCase(), 'unit': DateUnit[unit] };\n    }\n    visitTime({ typeId, unit, bitWidth }) {\n        return { 'name': ArrowType[typeId].toLowerCase(), 'unit': TimeUnit[unit], bitWidth };\n    }\n    visitTimestamp({ typeId, timezone, unit }) {\n        return { 'name': ArrowType[typeId].toLowerCase(), 'unit': TimeUnit[unit], timezone };\n    }\n    visitInterval({ typeId, unit }) {\n        return { 'name': ArrowType[typeId].toLowerCase(), 'unit': IntervalUnit[unit] };\n    }\n    visitList({ typeId }) {\n        return { 'name': ArrowType[typeId].toLowerCase() };\n    }\n    visitStruct({ typeId }) {\n        return { 'name': ArrowType[typeId].toLowerCase() };\n    }\n    visitUnion({ typeId, mode, typeIds }) {\n        return {\n            'name': ArrowType[typeId].toLowerCase(),\n            'mode': UnionMode[mode],\n            'typeIds': [...typeIds]\n        };\n    }\n    visitDictionary(node) {\n        return this.visit(node.dictionary);\n    }\n    visitFixedSizeBinary({ typeId, byteWidth }) {\n        return { 'name': ArrowType[typeId].toLowerCase(), 'byteWidth': byteWidth };\n    }\n    visitFixedSizeList({ typeId, listSize }) {\n        return { 'name': ArrowType[typeId].toLowerCase(), 'listSize': listSize };\n    }\n    visitMap({ typeId, keysSorted }) {\n        return { 'name': ArrowType[typeId].toLowerCase(), 'keysSorted': keysSorted };\n    }\n}\n\n//# sourceMappingURL=jsontypeassembler.mjs.map\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nimport { BN } from '../util/bn.mjs';\nimport { Vector } from '../vector.mjs';\nimport { Visitor } from '../visitor.mjs';\nimport { BufferType } from '../enum.mjs';\nimport { UnionMode, DateUnit, TimeUnit } from '../enum.mjs';\nimport { BitIterator, getBit, getBool } from '../util/bit.mjs';\nimport { DataType, } from '../type.mjs';\n/** @ignore */\nexport class JSONVectorAssembler extends Visitor {\n    /** @nocollapse */\n    static assemble(...batches) {\n        const assemlber = new JSONVectorAssembler();\n        return batches.map(({ schema, data }) => {\n            return assemlber.visitMany(schema.fields, data.children);\n        });\n    }\n    visit({ name }, data) {\n        const { length } = data;\n        const { offset, nullCount, nullBitmap } = data;\n        const type = DataType.isDictionary(data.type) ? data.type.indices : data.type;\n        const buffers = Object.assign([], data.buffers, { [BufferType.VALIDITY]: undefined });\n        return Object.assign({ 'name': name, 'count': length, 'VALIDITY': DataType.isNull(type) ? undefined\n                : nullCount <= 0 ? Array.from({ length }, () => 1)\n                    : [...new BitIterator(nullBitmap, offset, length, null, getBit)] }, super.visit(data.clone(type, offset, length, 0, buffers)));\n    }\n    visitNull() { return {}; }\n    visitBool({ values, offset, length }) {\n        return { 'DATA': [...new BitIterator(values, offset, length, null, getBool)] };\n    }\n    visitInt(data) {\n        return {\n            'DATA': data.type.bitWidth < 64\n                ? [...data.values]\n                : [...bigNumsToStrings(data.values, 2)]\n        };\n    }\n    visitFloat(data) {\n        return { 'DATA': [...data.values] };\n    }\n    visitUtf8(data) {\n        return { 'DATA': [...new Vector([data])], 'OFFSET': [...data.valueOffsets] };\n    }\n    visitBinary(data) {\n        return { 'DATA': [...binaryToString(new Vector([data]))], OFFSET: [...data.valueOffsets] };\n    }\n    visitFixedSizeBinary(data) {\n        return { 'DATA': [...binaryToString(new Vector([data]))] };\n    }\n    visitDate(data) {\n        return {\n            'DATA': data.type.unit === DateUnit.DAY\n                ? [...data.values]\n                : [...bigNumsToStrings(data.values, 2)]\n        };\n    }\n    visitTimestamp(data) {\n        return { 'DATA': [...bigNumsToStrings(data.values, 2)] };\n    }\n    visitTime(data) {\n        return {\n            'DATA': data.type.unit < TimeUnit.MICROSECOND\n                ? [...data.values]\n                : [...bigNumsToStrings(data.values, 2)]\n        };\n    }\n    visitDecimal(data) {\n        return { 'DATA': [...bigNumsToStrings(data.values, 4)] };\n    }\n    visitList(data) {\n        return {\n            'OFFSET': [...data.valueOffsets],\n            'children': this.visitMany(data.type.children, data.children)\n        };\n    }\n    visitStruct(data) {\n        return {\n            'children': this.visitMany(data.type.children, data.children)\n        };\n    }\n    visitUnion(data) {\n        return {\n            'TYPE': [...data.typeIds],\n            'OFFSET': data.type.mode === UnionMode.Dense ? [...data.valueOffsets] : undefined,\n            'children': this.visitMany(data.type.children, data.children)\n        };\n    }\n    visitInterval(data) {\n        return { 'DATA': [...data.values] };\n    }\n    visitFixedSizeList(data) {\n        return {\n            'children': this.visitMany(data.type.children, data.children)\n        };\n    }\n    visitMap(data) {\n        return {\n            'OFFSET': [...data.valueOffsets],\n            'children': this.visitMany(data.type.children, data.children)\n        };\n    }\n}\n/** @ignore */\nfunction* binaryToString(vector) {\n    for (const octets of vector) {\n        yield octets.reduce((str, byte) => {\n            return `${str}${('0' + (byte & 0xFF).toString(16)).slice(-2)}`;\n        }, '').toUpperCase();\n    }\n}\n/** @ignore */\nfunction* bigNumsToStrings(values, stride) {\n    const u32s = new Uint32Array(values.buffer);\n    for (let i = -1, n = u32s.length / stride; ++i < n;) {\n        yield `${BN.new(u32s.subarray((i + 0) * stride, (i + 1) * stride), false)}`;\n    }\n}\n\n//# sourceMappingURL=jsonvectorassembler.mjs.map\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nimport { __asyncValues, __awaiter } from \"tslib\";\nimport { Table } from '../table.mjs';\nimport { MAGIC } from './message.mjs';\nimport { Vector } from '../vector.mjs';\nimport { DataType } from '../type.mjs';\nimport { Message } from './metadata/message.mjs';\nimport * as metadata from './metadata/message.mjs';\nimport { FileBlock, Footer } from './metadata/file.mjs';\nimport { MessageHeader, MetadataVersion } from '../enum.mjs';\nimport { compareSchemas } from '../visitor/typecomparator.mjs';\nimport { AsyncByteQueue } from '../io/stream.mjs';\nimport { VectorAssembler } from '../visitor/vectorassembler.mjs';\nimport { JSONTypeAssembler } from '../visitor/jsontypeassembler.mjs';\nimport { JSONVectorAssembler } from '../visitor/jsonvectorassembler.mjs';\nimport { toUint8Array } from '../util/buffer.mjs';\nimport { RecordBatch, _InternalEmptyPlaceholderRecordBatch } from '../recordbatch.mjs';\nimport { ReadableInterop } from '../io/interfaces.mjs';\nimport { isPromise, isAsyncIterable, isWritableDOMStream, isWritableNodeStream, isIterable, isObject } from '../util/compat.mjs';\nexport class RecordBatchWriter extends ReadableInterop {\n    /** @nocollapse */\n    // @ts-ignore\n    static throughNode(options) {\n        throw new Error(`\"throughNode\" not available in this environment`);\n    }\n    /** @nocollapse */\n    static throughDOM(\n    // @ts-ignore\n    writableStrategy, \n    // @ts-ignore\n    readableStrategy) {\n        throw new Error(`\"throughDOM\" not available in this environment`);\n    }\n    constructor(options) {\n        super();\n        this._position = 0;\n        this._started = false;\n        // @ts-ignore\n        this._sink = new AsyncByteQueue();\n        this._schema = null;\n        this._dictionaryBlocks = [];\n        this._recordBatchBlocks = [];\n        this._dictionaryDeltaOffsets = new Map();\n        isObject(options) || (options = { autoDestroy: true, writeLegacyIpcFormat: false });\n        this._autoDestroy = (typeof options.autoDestroy === 'boolean') ? options.autoDestroy : true;\n        this._writeLegacyIpcFormat = (typeof options.writeLegacyIpcFormat === 'boolean') ? options.writeLegacyIpcFormat : false;\n    }\n    toString(sync = false) {\n        return this._sink.toString(sync);\n    }\n    toUint8Array(sync = false) {\n        return this._sink.toUint8Array(sync);\n    }\n    writeAll(input) {\n        if (isPromise(input)) {\n            return input.then((x) => this.writeAll(x));\n        }\n        else if (isAsyncIterable(input)) {\n            return writeAllAsync(this, input);\n        }\n        return writeAll(this, input);\n    }\n    get closed() { return this._sink.closed; }\n    [Symbol.asyncIterator]() { return this._sink[Symbol.asyncIterator](); }\n    toDOMStream(options) { return this._sink.toDOMStream(options); }\n    toNodeStream(options) { return this._sink.toNodeStream(options); }\n    close() {\n        return this.reset()._sink.close();\n    }\n    abort(reason) {\n        return this.reset()._sink.abort(reason);\n    }\n    finish() {\n        this._autoDestroy ? this.close() : this.reset(this._sink, this._schema);\n        return this;\n    }\n    reset(sink = this._sink, schema = null) {\n        if ((sink === this._sink) || (sink instanceof AsyncByteQueue)) {\n            this._sink = sink;\n        }\n        else {\n            this._sink = new AsyncByteQueue();\n            if (sink && isWritableDOMStream(sink)) {\n                this.toDOMStream({ type: 'bytes' }).pipeTo(sink);\n            }\n            else if (sink && isWritableNodeStream(sink)) {\n                this.toNodeStream({ objectMode: false }).pipe(sink);\n            }\n        }\n        if (this._started && this._schema) {\n            this._writeFooter(this._schema);\n        }\n        this._started = false;\n        this._dictionaryBlocks = [];\n        this._recordBatchBlocks = [];\n        this._dictionaryDeltaOffsets = new Map();\n        if (!schema || !(compareSchemas(schema, this._schema))) {\n            if (schema == null) {\n                this._position = 0;\n                this._schema = null;\n            }\n            else {\n                this._started = true;\n                this._schema = schema;\n                this._writeSchema(schema);\n            }\n        }\n        return this;\n    }\n    write(payload) {\n        let schema = null;\n        if (!this._sink) {\n            throw new Error(`RecordBatchWriter is closed`);\n        }\n        else if (payload == null) {\n            return this.finish() && undefined;\n        }\n        else if (payload instanceof Table && !(schema = payload.schema)) {\n            return this.finish() && undefined;\n        }\n        else if (payload instanceof RecordBatch && !(schema = payload.schema)) {\n            return this.finish() && undefined;\n        }\n        if (schema && !compareSchemas(schema, this._schema)) {\n            if (this._started && this._autoDestroy) {\n                return this.close();\n            }\n            this.reset(this._sink, schema);\n        }\n        if (payload instanceof RecordBatch) {\n            if (!(payload instanceof _InternalEmptyPlaceholderRecordBatch)) {\n                this._writeRecordBatch(payload);\n            }\n        }\n        else if (payload instanceof Table) {\n            this.writeAll(payload.batches);\n        }\n        else if (isIterable(payload)) {\n            this.writeAll(payload);\n        }\n    }\n    _writeMessage(message, alignment = 8) {\n        const a = alignment - 1;\n        const buffer = Message.encode(message);\n        const flatbufferSize = buffer.byteLength;\n        const prefixSize = !this._writeLegacyIpcFormat ? 8 : 4;\n        const alignedSize = (flatbufferSize + prefixSize + a) & ~a;\n        const nPaddingBytes = alignedSize - flatbufferSize - prefixSize;\n        if (message.headerType === MessageHeader.RecordBatch) {\n            this._recordBatchBlocks.push(new FileBlock(alignedSize, message.bodyLength, this._position));\n        }\n        else if (message.headerType === MessageHeader.DictionaryBatch) {\n            this._dictionaryBlocks.push(new FileBlock(alignedSize, message.bodyLength, this._position));\n        }\n        // If not in legacy pre-0.15.0 mode, write the stream continuation indicator\n        if (!this._writeLegacyIpcFormat) {\n            this._write(Int32Array.of(-1));\n        }\n        // Write the flatbuffer size prefix including padding\n        this._write(Int32Array.of(alignedSize - prefixSize));\n        // Write the flatbuffer\n        if (flatbufferSize > 0) {\n            this._write(buffer);\n        }\n        // Write any padding\n        return this._writePadding(nPaddingBytes);\n    }\n    _write(chunk) {\n        if (this._started) {\n            const buffer = toUint8Array(chunk);\n            if (buffer && buffer.byteLength > 0) {\n                this._sink.write(buffer);\n                this._position += buffer.byteLength;\n            }\n        }\n        return this;\n    }\n    _writeSchema(schema) {\n        return this._writeMessage(Message.from(schema));\n    }\n    // @ts-ignore\n    _writeFooter(schema) {\n        // eos bytes\n        return this._writeLegacyIpcFormat\n            ? this._write(Int32Array.of(0))\n            : this._write(Int32Array.of(-1, 0));\n    }\n    _writeMagic() {\n        return this._write(MAGIC);\n    }\n    _writePadding(nBytes) {\n        return nBytes > 0 ? this._write(new Uint8Array(nBytes)) : this;\n    }\n    _writeRecordBatch(batch) {\n        const { byteLength, nodes, bufferRegions, buffers } = VectorAssembler.assemble(batch);\n        const recordBatch = new metadata.RecordBatch(batch.numRows, nodes, bufferRegions);\n        const message = Message.from(recordBatch, byteLength);\n        return this\n            ._writeDictionaries(batch)\n            ._writeMessage(message)\n            ._writeBodyBuffers(buffers);\n    }\n    _writeDictionaryBatch(dictionary, id, isDelta = false) {\n        this._dictionaryDeltaOffsets.set(id, dictionary.length + (this._dictionaryDeltaOffsets.get(id) || 0));\n        const { byteLength, nodes, bufferRegions, buffers } = VectorAssembler.assemble(new Vector([dictionary]));\n        const recordBatch = new metadata.RecordBatch(dictionary.length, nodes, bufferRegions);\n        const dictionaryBatch = new metadata.DictionaryBatch(recordBatch, id, isDelta);\n        const message = Message.from(dictionaryBatch, byteLength);\n        return this\n            ._writeMessage(message)\n            ._writeBodyBuffers(buffers);\n    }\n    _writeBodyBuffers(buffers) {\n        let buffer;\n        let size, padding;\n        for (let i = -1, n = buffers.length; ++i < n;) {\n            if ((buffer = buffers[i]) && (size = buffer.byteLength) > 0) {\n                this._write(buffer);\n                if ((padding = ((size + 7) & ~7) - size) > 0) {\n                    this._writePadding(padding);\n                }\n            }\n        }\n        return this;\n    }\n    _writeDictionaries(batch) {\n        for (let [id, dictionary] of batch.dictionaries) {\n            let offset = this._dictionaryDeltaOffsets.get(id) || 0;\n            if (offset === 0 || (dictionary = dictionary === null || dictionary === void 0 ? void 0 : dictionary.slice(offset)).length > 0) {\n                for (const data of dictionary.data) {\n                    this._writeDictionaryBatch(data, id, offset > 0);\n                    offset += data.length;\n                }\n            }\n        }\n        return this;\n    }\n}\n/** @ignore */\nexport class RecordBatchStreamWriter extends RecordBatchWriter {\n    /** @nocollapse */\n    static writeAll(input, options) {\n        const writer = new RecordBatchStreamWriter(options);\n        if (isPromise(input)) {\n            return input.then((x) => writer.writeAll(x));\n        }\n        else if (isAsyncIterable(input)) {\n            return writeAllAsync(writer, input);\n        }\n        return writeAll(writer, input);\n    }\n}\n/** @ignore */\nexport class RecordBatchFileWriter extends RecordBatchWriter {\n    /** @nocollapse */\n    static writeAll(input) {\n        const writer = new RecordBatchFileWriter();\n        if (isPromise(input)) {\n            return input.then((x) => writer.writeAll(x));\n        }\n        else if (isAsyncIterable(input)) {\n            return writeAllAsync(writer, input);\n        }\n        return writeAll(writer, input);\n    }\n    constructor() {\n        super();\n        this._autoDestroy = true;\n    }\n    // @ts-ignore\n    _writeSchema(schema) {\n        return this._writeMagic()._writePadding(2);\n    }\n    _writeFooter(schema) {\n        const buffer = Footer.encode(new Footer(schema, MetadataVersion.V4, this._recordBatchBlocks, this._dictionaryBlocks));\n        return super\n            ._writeFooter(schema) // EOS bytes for sequential readers\n            ._write(buffer) // Write the flatbuffer\n            ._write(Int32Array.of(buffer.byteLength)) // then the footer size suffix\n            ._writeMagic(); // then the magic suffix\n    }\n}\n/** @ignore */\nexport class RecordBatchJSONWriter extends RecordBatchWriter {\n    /** @nocollapse */\n    static writeAll(input) {\n        return new RecordBatchJSONWriter().writeAll(input);\n    }\n    constructor() {\n        super();\n        this._autoDestroy = true;\n        this._recordBatches = [];\n        this._dictionaries = [];\n    }\n    _writeMessage() { return this; }\n    // @ts-ignore\n    _writeFooter(schema) { return this; }\n    _writeSchema(schema) {\n        return this._write(`{\\n  \"schema\": ${JSON.stringify({ fields: schema.fields.map(field => fieldToJSON(field)) }, null, 2)}`);\n    }\n    _writeDictionaries(batch) {\n        if (batch.dictionaries.size > 0) {\n            this._dictionaries.push(batch);\n        }\n        return this;\n    }\n    _writeDictionaryBatch(dictionary, id, isDelta = false) {\n        this._dictionaryDeltaOffsets.set(id, dictionary.length + (this._dictionaryDeltaOffsets.get(id) || 0));\n        this._write(this._dictionaryBlocks.length === 0 ? `    ` : `,\\n    `);\n        this._write(`${dictionaryBatchToJSON(dictionary, id, isDelta)}`);\n        this._dictionaryBlocks.push(new FileBlock(0, 0, 0));\n        return this;\n    }\n    _writeRecordBatch(batch) {\n        this._writeDictionaries(batch);\n        this._recordBatches.push(batch);\n        return this;\n    }\n    close() {\n        if (this._dictionaries.length > 0) {\n            this._write(`,\\n  \"dictionaries\": [\\n`);\n            for (const batch of this._dictionaries) {\n                super._writeDictionaries(batch);\n            }\n            this._write(`\\n  ]`);\n        }\n        if (this._recordBatches.length > 0) {\n            for (let i = -1, n = this._recordBatches.length; ++i < n;) {\n                this._write(i === 0 ? `,\\n  \"batches\": [\\n    ` : `,\\n    `);\n                this._write(`${recordBatchToJSON(this._recordBatches[i])}`);\n                this._recordBatchBlocks.push(new FileBlock(0, 0, 0));\n            }\n            this._write(`\\n  ]`);\n        }\n        if (this._schema) {\n            this._write(`\\n}`);\n        }\n        this._dictionaries = [];\n        this._recordBatches = [];\n        return super.close();\n    }\n}\n/** @ignore */\nfunction writeAll(writer, input) {\n    let chunks = input;\n    if (input instanceof Table) {\n        chunks = input.batches;\n        writer.reset(undefined, input.schema);\n    }\n    for (const batch of chunks) {\n        writer.write(batch);\n    }\n    return writer.finish();\n}\n/** @ignore */\nfunction writeAllAsync(writer, batches) {\n    var _a, batches_1, batches_1_1;\n    var _b, e_1, _c, _d;\n    return __awaiter(this, void 0, void 0, function* () {\n        try {\n            for (_a = true, batches_1 = __asyncValues(batches); batches_1_1 = yield batches_1.next(), _b = batches_1_1.done, !_b; _a = true) {\n                _d = batches_1_1.value;\n                _a = false;\n                const batch = _d;\n                writer.write(batch);\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (!_a && !_b && (_c = batches_1.return)) yield _c.call(batches_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return writer.finish();\n    });\n}\n/** @ignore */\nfunction fieldToJSON({ name, type, nullable }) {\n    const assembler = new JSONTypeAssembler();\n    return {\n        'name': name, 'nullable': nullable,\n        'type': assembler.visit(type),\n        'children': (type.children || []).map((field) => fieldToJSON(field)),\n        'dictionary': !DataType.isDictionary(type) ? undefined : {\n            'id': type.id,\n            'isOrdered': type.isOrdered,\n            'indexType': assembler.visit(type.indices)\n        }\n    };\n}\n/** @ignore */\nfunction dictionaryBatchToJSON(dictionary, id, isDelta = false) {\n    const [columns] = JSONVectorAssembler.assemble(new RecordBatch({ [id]: dictionary }));\n    return JSON.stringify({\n        'id': id,\n        'isDelta': isDelta,\n        'data': {\n            'count': dictionary.length,\n            'columns': columns\n        }\n    }, null, 2);\n}\n/** @ignore */\nfunction recordBatchToJSON(records) {\n    const [columns] = JSONVectorAssembler.assemble(records);\n    return JSON.stringify({\n        'count': records.numRows,\n        'columns': columns\n    }, null, 2);\n}\n\n//# sourceMappingURL=writer.mjs.map\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nimport { Table } from '../table.mjs';\nimport { isPromise } from '../util/compat.mjs';\nimport { RecordBatchReader } from './reader.mjs';\nimport { RecordBatchFileWriter, RecordBatchStreamWriter } from './writer.mjs';\nexport function tableFromIPC(input) {\n    const reader = RecordBatchReader.from(input);\n    if (isPromise(reader)) {\n        return reader.then((reader) => tableFromIPC(reader));\n    }\n    if (reader.isAsync()) {\n        return reader.readAll().then((xs) => new Table(xs));\n    }\n    return new Table(reader.readAll());\n}\n/**\n * Serialize a {@link Table} to the IPC format. This function is a convenience\n * wrapper for {@link RecordBatchStreamWriter} and {@link RecordBatchFileWriter}.\n * Opposite of {@link tableFromIPC}.\n *\n * @param table The Table to serialize.\n * @param type Whether to serialize the Table as a file or a stream.\n */\nexport function tableToIPC(table, type = 'stream') {\n    return (type === 'stream' ? RecordBatchStreamWriter : RecordBatchFileWriter)\n        .writeAll(table)\n        .toUint8Array(true);\n}\n\n//# sourceMappingURL=serialization.mjs.map\n","// automatically generated by the FlatBuffers compiler, do not modify\nexport var UnionMode;\n(function (UnionMode) {\n    UnionMode[UnionMode[\"Sparse\"] = 0] = \"Sparse\";\n    UnionMode[UnionMode[\"Dense\"] = 1] = \"Dense\";\n})(UnionMode || (UnionMode = {}));\n\n//# sourceMappingURL=union-mode.mjs.map\n","// automatically generated by the FlatBuffers compiler, do not modify\nimport * as flatbuffers from 'flatbuffers';\nimport { UnionMode } from './union-mode.mjs';\n/**\n * A union is a complex type with children in Field\n * By default ids in the type vector refer to the offsets in the children\n * optionally typeIds provides an indirection between the child offset and the type id\n * for each child `typeIds[offset]` is the id used in the type vector\n */\nexport class Union {\n    constructor() {\n        this.bb = null;\n        this.bb_pos = 0;\n    }\n    __init(i, bb) {\n        this.bb_pos = i;\n        this.bb = bb;\n        return this;\n    }\n    static getRootAsUnion(bb, obj) {\n        return (obj || new Union()).__init(bb.readInt32(bb.position()) + bb.position(), bb);\n    }\n    static getSizePrefixedRootAsUnion(bb, obj) {\n        bb.setPosition(bb.position() + flatbuffers.SIZE_PREFIX_LENGTH);\n        return (obj || new Union()).__init(bb.readInt32(bb.position()) + bb.position(), bb);\n    }\n    mode() {\n        const offset = this.bb.__offset(this.bb_pos, 4);\n        return offset ? this.bb.readInt16(this.bb_pos + offset) : UnionMode.Sparse;\n    }\n    typeIds(index) {\n        const offset = this.bb.__offset(this.bb_pos, 6);\n        return offset ? this.bb.readInt32(this.bb.__vector(this.bb_pos + offset) + index * 4) : 0;\n    }\n    typeIdsLength() {\n        const offset = this.bb.__offset(this.bb_pos, 6);\n        return offset ? this.bb.__vector_len(this.bb_pos + offset) : 0;\n    }\n    typeIdsArray() {\n        const offset = this.bb.__offset(this.bb_pos, 6);\n        return offset ? new Int32Array(this.bb.bytes().buffer, this.bb.bytes().byteOffset + this.bb.__vector(this.bb_pos + offset), this.bb.__vector_len(this.bb_pos + offset)) : null;\n    }\n    static startUnion(builder) {\n        builder.startObject(2);\n    }\n    static addMode(builder, mode) {\n        builder.addFieldInt16(0, mode, UnionMode.Sparse);\n    }\n    static addTypeIds(builder, typeIdsOffset) {\n        builder.addFieldOffset(1, typeIdsOffset, 0);\n    }\n    static createTypeIdsVector(builder, data) {\n        builder.startVector(4, data.length, 4);\n        for (let i = data.length - 1; i >= 0; i--) {\n            builder.addInt32(data[i]);\n        }\n        return builder.endVector();\n    }\n    static startTypeIdsVector(builder, numElems) {\n        builder.startVector(4, numElems, 4);\n    }\n    static endUnion(builder) {\n        const offset = builder.endObject();\n        return offset;\n    }\n    static createUnion(builder, mode, typeIdsOffset) {\n        Union.startUnion(builder);\n        Union.addMode(builder, mode);\n        Union.addTypeIds(builder, typeIdsOffset);\n        return Union.endUnion(builder);\n    }\n}\n\n//# sourceMappingURL=union.mjs.map\n","// http://en.wikipedia.org/wiki/Haversine_formula\n// http://www.movable-type.co.uk/scripts/latlong.html\nimport { degreesToRadians, lengthToRadians, point, radiansToDegrees, } from \"@turf/helpers\";\nimport { getCoord } from \"@turf/invariant\";\n/**\n * Takes a {@link Point} and calculates the location of a destination point given a distance in\n * degrees, radians, miles, or kilometers; and bearing in degrees.\n * This uses the [Haversine formula](http://en.wikipedia.org/wiki/Haversine_formula) to account for global curvature.\n *\n * @name destination\n * @param {Coord} origin starting point\n * @param {number} distance distance from the origin point\n * @param {number} bearing ranging from -180 to 180\n * @param {Object} [options={}] Optional parameters\n * @param {string} [options.units='kilometers'] miles, kilometers, degrees, or radians\n * @param {Object} [options.properties={}] Translate properties to Point\n * @returns {Feature<Point>} destination point\n * @example\n * var point = turf.point([-75.343, 39.984]);\n * var distance = 50;\n * var bearing = 90;\n * var options = {units: 'miles'};\n *\n * var destination = turf.destination(point, distance, bearing, options);\n *\n * //addToMap\n * var addToMap = [point, destination]\n * destination.properties['marker-color'] = '#f00';\n * point.properties['marker-color'] = '#0f0';\n */\nexport default function destination(origin, distance, bearing, options) {\n    if (options === void 0) { options = {}; }\n    // Handle input\n    var coordinates1 = getCoord(origin);\n    var longitude1 = degreesToRadians(coordinates1[0]);\n    var latitude1 = degreesToRadians(coordinates1[1]);\n    var bearingRad = degreesToRadians(bearing);\n    var radians = lengthToRadians(distance, options.units);\n    // Main\n    var latitude2 = Math.asin(Math.sin(latitude1) * Math.cos(radians) +\n        Math.cos(latitude1) * Math.sin(radians) * Math.cos(bearingRad));\n    var longitude2 = longitude1 +\n        Math.atan2(Math.sin(bearingRad) * Math.sin(radians) * Math.cos(latitude1), Math.cos(radians) - Math.sin(latitude1) * Math.sin(latitude2));\n    var lng = radiansToDegrees(longitude2);\n    var lat = radiansToDegrees(latitude2);\n    return point([lng, lat], options.properties);\n}\n","/**\n * Utils\n */\nfunction makeGetEdgeOfNeighbor(getPeriod, getEdgeOfPeriod, defaultOffset) {\n    return function makeGetEdgeOfNeighborInternal(date, offset) {\n        if (offset === void 0) { offset = defaultOffset; }\n        var previousPeriod = getPeriod(date) + offset;\n        return getEdgeOfPeriod(previousPeriod);\n    };\n}\nfunction makeGetEnd(getBeginOfNextPeriod) {\n    return function makeGetEndInternal(date) {\n        return new Date(getBeginOfNextPeriod(date).getTime() - 1);\n    };\n}\nfunction makeGetRange(getStart, getEnd) {\n    return function makeGetRangeInternal(date) {\n        return [getStart(date), getEnd(date)];\n    };\n}\n/**\n * Simple getters - getting a property of a given point in time\n */\n/**\n * Gets year from a given date.\n *\n * @param {DateLike} date Date to get year from\n * @returns {number} Year\n */\nexport function getYear(date) {\n    if (date instanceof Date) {\n        return date.getFullYear();\n    }\n    if (typeof date === 'number') {\n        return date;\n    }\n    var year = parseInt(date, 10);\n    if (typeof date === 'string' && !isNaN(year)) {\n        return year;\n    }\n    throw new Error(\"Failed to get year from date: \".concat(date, \".\"));\n}\n/**\n * Gets month from a given date.\n *\n * @param {Date} date Date to get month from\n * @returns {number} Month\n */\nexport function getMonth(date) {\n    if (date instanceof Date) {\n        return date.getMonth();\n    }\n    throw new Error(\"Failed to get month from date: \".concat(date, \".\"));\n}\n/**\n * Gets human-readable month from a given date.\n *\n * @param {Date} date Date to get human-readable month from\n * @returns {number} Human-readable month\n */\nexport function getMonthHuman(date) {\n    if (date instanceof Date) {\n        return date.getMonth() + 1;\n    }\n    throw new Error(\"Failed to get human-readable month from date: \".concat(date, \".\"));\n}\n/**\n * Gets day of the month from a given date.\n *\n * @param {Date} date Date to get day of the month from\n * @returns {number} Day of the month\n */\nexport function getDate(date) {\n    if (date instanceof Date) {\n        return date.getDate();\n    }\n    throw new Error(\"Failed to get year from date: \".concat(date, \".\"));\n}\n/**\n * Gets hours from a given date.\n *\n * @param {Date | string} date Date to get hours from\n * @returns {number} Hours\n */\nexport function getHours(date) {\n    if (date instanceof Date) {\n        return date.getHours();\n    }\n    if (typeof date === 'string') {\n        var datePieces = date.split(':');\n        if (datePieces.length >= 2) {\n            var hoursString = datePieces[0];\n            if (hoursString) {\n                var hours = parseInt(hoursString, 10);\n                if (!isNaN(hours)) {\n                    return hours;\n                }\n            }\n        }\n    }\n    throw new Error(\"Failed to get hours from date: \".concat(date, \".\"));\n}\n/**\n * Gets minutes from a given date.\n *\n * @param {Date | string} date Date to get minutes from\n * @returns {number} Minutes\n */\nexport function getMinutes(date) {\n    if (date instanceof Date) {\n        return date.getMinutes();\n    }\n    if (typeof date === 'string') {\n        var datePieces = date.split(':');\n        if (datePieces.length >= 2) {\n            var minutesString = datePieces[1] || '0';\n            var minutes = parseInt(minutesString, 10);\n            if (!isNaN(minutes)) {\n                return minutes;\n            }\n        }\n    }\n    throw new Error(\"Failed to get minutes from date: \".concat(date, \".\"));\n}\n/**\n * Gets seconds from a given date.\n *\n * @param {Date | string} date Date to get seconds from\n * @returns {number} Seconds\n */\nexport function getSeconds(date) {\n    if (date instanceof Date) {\n        return date.getSeconds();\n    }\n    if (typeof date === 'string') {\n        var datePieces = date.split(':');\n        if (datePieces.length >= 2) {\n            var secondsWithMillisecondsString = datePieces[2] || '0';\n            var seconds = parseInt(secondsWithMillisecondsString, 10);\n            if (!isNaN(seconds)) {\n                return seconds;\n            }\n        }\n    }\n    throw new Error(\"Failed to get seconds from date: \".concat(date, \".\"));\n}\n/**\n * Gets milliseconds from a given date.\n *\n * @param {Date | string} date Date to get milliseconds from\n * @returns {number} Milliseconds\n */\nexport function getMilliseconds(date) {\n    if (date instanceof Date) {\n        return date.getMilliseconds();\n    }\n    if (typeof date === 'string') {\n        var datePieces = date.split(':');\n        if (datePieces.length >= 2) {\n            var secondsWithMillisecondsString = datePieces[2] || '0';\n            var millisecondsString = secondsWithMillisecondsString.split('.')[1] || '0';\n            var milliseconds = parseInt(millisecondsString, 10);\n            if (!isNaN(milliseconds)) {\n                return milliseconds;\n            }\n        }\n    }\n    throw new Error(\"Failed to get seconds from date: \".concat(date, \".\"));\n}\n/**\n * Century\n */\n/**\n * Gets century start date from a given date.\n *\n * @param {DateLike} date Date to get century start from\n * @returns {Date} Century start date\n */\nexport function getCenturyStart(date) {\n    var year = getYear(date);\n    var centuryStartYear = year + ((-year + 1) % 100);\n    var centuryStartDate = new Date();\n    centuryStartDate.setFullYear(centuryStartYear, 0, 1);\n    centuryStartDate.setHours(0, 0, 0, 0);\n    return centuryStartDate;\n}\n/**\n * Gets previous century start date from a given date.\n *\n * @param {DateLike} date Date to get previous century start from\n * @returns {Date} Previous century start date\n */\nexport var getPreviousCenturyStart = makeGetEdgeOfNeighbor(getYear, getCenturyStart, -100);\n/**\n * Gets next century start date from a given date.\n *\n * @param {DateLike} date Date to get next century start from\n * @returns {Date} Next century start date\n */\nexport var getNextCenturyStart = makeGetEdgeOfNeighbor(getYear, getCenturyStart, 100);\n/**\n * Gets century end date from a given date.\n *\n * @param {DateLike} date Date to get century end from\n * @returns {Date} Century end date\n */\nexport var getCenturyEnd = makeGetEnd(getNextCenturyStart);\n/**\n * Gets previous century end date from a given date.\n *\n * @param {DateLike} date Date to get previous century end from\n * @returns {Date} Previous century end date\n */\nexport var getPreviousCenturyEnd = makeGetEdgeOfNeighbor(getYear, getCenturyEnd, -100);\n/**\n * Gets next century end date from a given date.\n *\n * @param {DateLike} date Date to get next century end from\n * @returns {Date} Next century end date\n */\nexport var getNextCenturyEnd = makeGetEdgeOfNeighbor(getYear, getCenturyEnd, 100);\n/**\n * Gets century start and end dates from a given date.\n *\n * @param {DateLike} date Date to get century start and end from\n * @returns {[Date, Date]} Century start and end dates\n */\nexport var getCenturyRange = makeGetRange(getCenturyStart, getCenturyEnd);\n/**\n * Decade\n */\n/**\n * Gets decade start date from a given date.\n *\n * @param {DateLike} date Date to get decade start from\n * @returns {Date} Decade start date\n */\nexport function getDecadeStart(date) {\n    var year = getYear(date);\n    var decadeStartYear = year + ((-year + 1) % 10);\n    var decadeStartDate = new Date();\n    decadeStartDate.setFullYear(decadeStartYear, 0, 1);\n    decadeStartDate.setHours(0, 0, 0, 0);\n    return decadeStartDate;\n}\n/**\n * Gets previous decade start date from a given date.\n *\n * @param {DateLike} date Date to get previous decade start from\n * @returns {Date} Previous decade start date\n */\nexport var getPreviousDecadeStart = makeGetEdgeOfNeighbor(getYear, getDecadeStart, -10);\n/**\n * Gets next decade start date from a given date.\n *\n * @param {DateLike} date Date to get next decade start from\n * @returns {Date} Next decade start date\n */\nexport var getNextDecadeStart = makeGetEdgeOfNeighbor(getYear, getDecadeStart, 10);\n/**\n * Gets decade end date from a given date.\n *\n * @param {DateLike} date Date to get decade end from\n * @returns {Date} Decade end date\n */\nexport var getDecadeEnd = makeGetEnd(getNextDecadeStart);\n/**\n * Gets previous decade end date from a given date.\n *\n * @param {DateLike} date Date to get previous decade end from\n * @returns {Date} Previous decade end date\n */\nexport var getPreviousDecadeEnd = makeGetEdgeOfNeighbor(getYear, getDecadeEnd, -10);\n/**\n * Gets next decade end date from a given date.\n *\n * @param {DateLike} date Date to get next decade end from\n * @returns {Date} Next decade end date\n */\nexport var getNextDecadeEnd = makeGetEdgeOfNeighbor(getYear, getDecadeEnd, 10);\n/**\n * Gets decade start and end dates from a given date.\n *\n * @param {DateLike} date Date to get decade start and end from\n * @returns {[Date, Date]} Decade start and end dates\n */\nexport var getDecadeRange = makeGetRange(getDecadeStart, getDecadeEnd);\n/**\n * Year\n */\n/**\n * Gets year start date from a given date.\n *\n * @param {DateLike} date Date to get year start from\n * @returns {Date} Year start date\n */\nexport function getYearStart(date) {\n    var year = getYear(date);\n    var yearStartDate = new Date();\n    yearStartDate.setFullYear(year, 0, 1);\n    yearStartDate.setHours(0, 0, 0, 0);\n    return yearStartDate;\n}\n/**\n * Gets previous year start date from a given date.\n *\n * @param {DateLike} date Date to get previous year start from\n * @returns {Date} Previous year start date\n */\nexport var getPreviousYearStart = makeGetEdgeOfNeighbor(getYear, getYearStart, -1);\n/**\n * Gets next year start date from a given date.\n *\n * @param {DateLike} date Date to get next year start from\n * @returns {Date} Next year start date\n */\nexport var getNextYearStart = makeGetEdgeOfNeighbor(getYear, getYearStart, 1);\n/**\n * Gets year end date from a given date.\n *\n * @param {DateLike} date Date to get year end from\n * @returns {Date} Year end date\n */\nexport var getYearEnd = makeGetEnd(getNextYearStart);\n/**\n * Gets previous year end date from a given date.\n *\n * @param {DateLike} date Date to get previous year end from\n * @returns {Date} Previous year end date\n */\nexport var getPreviousYearEnd = makeGetEdgeOfNeighbor(getYear, getYearEnd, -1);\n/**\n * Gets next year end date from a given date.\n *\n * @param {DateLike} date Date to get next year end from\n * @returns {Date} Next year end date\n */\nexport var getNextYearEnd = makeGetEdgeOfNeighbor(getYear, getYearEnd, 1);\n/**\n * Gets year start and end dates from a given date.\n *\n * @param {DateLike} date Date to get year start and end from\n * @returns {[Date, Date]} Year start and end dates\n */\nexport var getYearRange = makeGetRange(getYearStart, getYearEnd);\n/**\n * Month\n */\nfunction makeGetEdgeOfNeighborMonth(getEdgeOfPeriod, defaultOffset) {\n    return function makeGetEdgeOfNeighborMonthInternal(date, offset) {\n        if (offset === void 0) { offset = defaultOffset; }\n        var year = getYear(date);\n        var month = getMonth(date) + offset;\n        var previousPeriod = new Date();\n        previousPeriod.setFullYear(year, month, 1);\n        previousPeriod.setHours(0, 0, 0, 0);\n        return getEdgeOfPeriod(previousPeriod);\n    };\n}\n/**\n * Gets month start date from a given date.\n *\n * @param {DateLike} date Date to get month start from\n * @returns {Date} Month start date\n */\nexport function getMonthStart(date) {\n    var year = getYear(date);\n    var month = getMonth(date);\n    var monthStartDate = new Date();\n    monthStartDate.setFullYear(year, month, 1);\n    monthStartDate.setHours(0, 0, 0, 0);\n    return monthStartDate;\n}\n/**\n * Gets previous month start date from a given date.\n *\n * @param {DateLike} date Date to get previous month start from\n * @returns {Date} Previous month start date\n */\nexport var getPreviousMonthStart = makeGetEdgeOfNeighborMonth(getMonthStart, -1);\n/**\n * Gets next month start date from a given date.\n *\n * @param {DateLike} date Date to get next month start from\n * @returns {Date} Next month start date\n */\nexport var getNextMonthStart = makeGetEdgeOfNeighborMonth(getMonthStart, 1);\n/**\n * Gets month end date from a given date.\n *\n * @param {DateLike} date Date to get month end from\n * @returns {Date} Month end date\n */\nexport var getMonthEnd = makeGetEnd(getNextMonthStart);\n/**\n * Gets previous month end date from a given date.\n *\n * @param {DateLike} date Date to get previous month end from\n * @returns {Date} Previous month end date\n */\nexport var getPreviousMonthEnd = makeGetEdgeOfNeighborMonth(getMonthEnd, -1);\n/**\n * Gets next month end date from a given date.\n *\n * @param {DateLike} date Date to get next month end from\n * @returns {Date} Next month end date\n */\nexport var getNextMonthEnd = makeGetEdgeOfNeighborMonth(getMonthEnd, 1);\n/**\n * Gets month start and end dates from a given date.\n *\n * @param {DateLike} date Date to get month start and end from\n * @returns {[Date, Date]} Month start and end dates\n */\nexport var getMonthRange = makeGetRange(getMonthStart, getMonthEnd);\n/**\n * Day\n */\nfunction makeGetEdgeOfNeighborDay(getEdgeOfPeriod, defaultOffset) {\n    return function makeGetEdgeOfNeighborDayInternal(date, offset) {\n        if (offset === void 0) { offset = defaultOffset; }\n        var year = getYear(date);\n        var month = getMonth(date);\n        var day = getDate(date) + offset;\n        var previousPeriod = new Date();\n        previousPeriod.setFullYear(year, month, day);\n        previousPeriod.setHours(0, 0, 0, 0);\n        return getEdgeOfPeriod(previousPeriod);\n    };\n}\n/**\n * Gets day start date from a given date.\n *\n * @param {DateLike} date Date to get day start from\n * @returns {Date} Day start date\n */\nexport function getDayStart(date) {\n    var year = getYear(date);\n    var month = getMonth(date);\n    var day = getDate(date);\n    var dayStartDate = new Date();\n    dayStartDate.setFullYear(year, month, day);\n    dayStartDate.setHours(0, 0, 0, 0);\n    return dayStartDate;\n}\n/**\n * Gets previous day start date from a given date.\n *\n * @param {DateLike} date Date to get previous day start from\n * @returns {Date} Previous day start date\n */\nexport var getPreviousDayStart = makeGetEdgeOfNeighborDay(getDayStart, -1);\n/**\n * Gets next day start date from a given date.\n *\n * @param {DateLike} date Date to get next day start from\n * @returns {Date} Next day start date\n */\nexport var getNextDayStart = makeGetEdgeOfNeighborDay(getDayStart, 1);\n/**\n * Gets day end date from a given date.\n *\n * @param {DateLike} date Date to get day end from\n * @returns {Date} Day end date\n */\nexport var getDayEnd = makeGetEnd(getNextDayStart);\n/**\n * Gets previous day end date from a given date.\n *\n * @param {DateLike} date Date to get previous day end from\n * @returns {Date} Previous day end date\n */\nexport var getPreviousDayEnd = makeGetEdgeOfNeighborDay(getDayEnd, -1);\n/**\n * Gets next day end date from a given date.\n *\n * @param {DateLike} date Date to get next day end from\n * @returns {Date} Next day end date\n */\nexport var getNextDayEnd = makeGetEdgeOfNeighborDay(getDayEnd, 1);\n/**\n * Gets day start and end dates from a given date.\n *\n * @param {DateLike} date Date to get day start and end from\n * @returns {[Date, Date]} Day start and end dates\n */\nexport var getDayRange = makeGetRange(getDayStart, getDayEnd);\n/**\n * Other\n */\n/**\n * Returns a number of days in a month of a given date.\n *\n * @param {Date} date Date\n * @returns {number} Number of days in a month\n */\nexport function getDaysInMonth(date) {\n    return getDate(getMonthEnd(date));\n}\nfunction padStart(num, val) {\n    if (val === void 0) { val = 2; }\n    var numStr = \"\".concat(num);\n    if (numStr.length >= val) {\n        return num;\n    }\n    return \"0000\".concat(numStr).slice(-val);\n}\n/**\n * Returns local hours and minutes (hh:mm).\n *\n * @param {Date | string} date Date to get hours and minutes from\n * @returns {string} Local hours and minutes\n */\nexport function getHoursMinutes(date) {\n    var hours = padStart(getHours(date));\n    var minutes = padStart(getMinutes(date));\n    return \"\".concat(hours, \":\").concat(minutes);\n}\n/**\n * Returns local hours, minutes and seconds (hh:mm:ss).\n *\n * @param {Date | string} date Date to get hours, minutes and seconds from\n * @returns {string} Local hours, minutes and seconds\n */\nexport function getHoursMinutesSeconds(date) {\n    var hours = padStart(getHours(date));\n    var minutes = padStart(getMinutes(date));\n    var seconds = padStart(getSeconds(date));\n    return \"\".concat(hours, \":\").concat(minutes, \":\").concat(seconds);\n}\n/**\n * Returns local month in ISO-like format (YYYY-MM).\n *\n * @param {Date} date Date to get month in ISO-like format from\n * @returns {string} Local month in ISO-like format\n */\nexport function getISOLocalMonth(date) {\n    var year = padStart(getYear(date), 4);\n    var month = padStart(getMonthHuman(date));\n    return \"\".concat(year, \"-\").concat(month);\n}\n/**\n * Returns local date in ISO-like format (YYYY-MM-DD).\n *\n * @param {Date} date Date to get date in ISO-like format from\n * @returns {string} Local date in ISO-like format\n */\nexport function getISOLocalDate(date) {\n    var year = padStart(getYear(date), 4);\n    var month = padStart(getMonthHuman(date));\n    var day = padStart(getDate(date));\n    return \"\".concat(year, \"-\").concat(month, \"-\").concat(day);\n}\n/**\n * Returns local date & time in ISO-like format (YYYY-MM-DDThh:mm:ss).\n *\n * @param {Date} date Date to get date & time in ISO-like format from\n * @returns {string} Local date & time in ISO-like format\n */\nexport function getISOLocalDateTime(date) {\n    return \"\".concat(getISOLocalDate(date), \"T\").concat(getHoursMinutesSeconds(date));\n}\n","// automatically generated by the FlatBuffers compiler, do not modify\nimport * as flatbuffers from 'flatbuffers';\n/**\n * Exact decimal value represented as an integer value in two's\n * complement. Currently only 128-bit (16-byte) and 256-bit (32-byte) integers\n * are used. The representation uses the endianness indicated\n * in the Schema.\n */\nexport class Decimal {\n    constructor() {\n        this.bb = null;\n        this.bb_pos = 0;\n    }\n    __init(i, bb) {\n        this.bb_pos = i;\n        this.bb = bb;\n        return this;\n    }\n    static getRootAsDecimal(bb, obj) {\n        return (obj || new Decimal()).__init(bb.readInt32(bb.position()) + bb.position(), bb);\n    }\n    static getSizePrefixedRootAsDecimal(bb, obj) {\n        bb.setPosition(bb.position() + flatbuffers.SIZE_PREFIX_LENGTH);\n        return (obj || new Decimal()).__init(bb.readInt32(bb.position()) + bb.position(), bb);\n    }\n    /**\n     * Total number of decimal digits\n     */\n    precision() {\n        const offset = this.bb.__offset(this.bb_pos, 4);\n        return offset ? this.bb.readInt32(this.bb_pos + offset) : 0;\n    }\n    /**\n     * Number of digits after the decimal point \".\"\n     */\n    scale() {\n        const offset = this.bb.__offset(this.bb_pos, 6);\n        return offset ? this.bb.readInt32(this.bb_pos + offset) : 0;\n    }\n    /**\n     * Number of bits per value. The only accepted widths are 128 and 256.\n     * We use bitWidth for consistency with Int::bitWidth.\n     */\n    bitWidth() {\n        const offset = this.bb.__offset(this.bb_pos, 8);\n        return offset ? this.bb.readInt32(this.bb_pos + offset) : 128;\n    }\n    static startDecimal(builder) {\n        builder.startObject(3);\n    }\n    static addPrecision(builder, precision) {\n        builder.addFieldInt32(0, precision, 0);\n    }\n    static addScale(builder, scale) {\n        builder.addFieldInt32(1, scale, 0);\n    }\n    static addBitWidth(builder, bitWidth) {\n        builder.addFieldInt32(2, bitWidth, 128);\n    }\n    static endDecimal(builder) {\n        const offset = builder.endObject();\n        return offset;\n    }\n    static createDecimal(builder, precision, scale, bitWidth) {\n        Decimal.startDecimal(builder);\n        Decimal.addPrecision(builder, precision);\n        Decimal.addScale(builder, scale);\n        Decimal.addBitWidth(builder, bitWidth);\n        return Decimal.endDecimal(builder);\n    }\n}\n\n//# sourceMappingURL=decimal.mjs.map\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nvar _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u;\nimport { bigIntToNumber } from './util/bigint.mjs';\nimport { Type, Precision, UnionMode, DateUnit, TimeUnit, IntervalUnit } from './enum.mjs';\n/**\n * An abstract base class for classes that encapsulate metadata about each of\n * the logical types that Arrow can represent.\n */\nexport class DataType {\n    /** @nocollapse */ static isNull(x) { return (x === null || x === void 0 ? void 0 : x.typeId) === Type.Null; }\n    /** @nocollapse */ static isInt(x) { return (x === null || x === void 0 ? void 0 : x.typeId) === Type.Int; }\n    /** @nocollapse */ static isFloat(x) { return (x === null || x === void 0 ? void 0 : x.typeId) === Type.Float; }\n    /** @nocollapse */ static isBinary(x) { return (x === null || x === void 0 ? void 0 : x.typeId) === Type.Binary; }\n    /** @nocollapse */ static isUtf8(x) { return (x === null || x === void 0 ? void 0 : x.typeId) === Type.Utf8; }\n    /** @nocollapse */ static isBool(x) { return (x === null || x === void 0 ? void 0 : x.typeId) === Type.Bool; }\n    /** @nocollapse */ static isDecimal(x) { return (x === null || x === void 0 ? void 0 : x.typeId) === Type.Decimal; }\n    /** @nocollapse */ static isDate(x) { return (x === null || x === void 0 ? void 0 : x.typeId) === Type.Date; }\n    /** @nocollapse */ static isTime(x) { return (x === null || x === void 0 ? void 0 : x.typeId) === Type.Time; }\n    /** @nocollapse */ static isTimestamp(x) { return (x === null || x === void 0 ? void 0 : x.typeId) === Type.Timestamp; }\n    /** @nocollapse */ static isInterval(x) { return (x === null || x === void 0 ? void 0 : x.typeId) === Type.Interval; }\n    /** @nocollapse */ static isList(x) { return (x === null || x === void 0 ? void 0 : x.typeId) === Type.List; }\n    /** @nocollapse */ static isStruct(x) { return (x === null || x === void 0 ? void 0 : x.typeId) === Type.Struct; }\n    /** @nocollapse */ static isUnion(x) { return (x === null || x === void 0 ? void 0 : x.typeId) === Type.Union; }\n    /** @nocollapse */ static isFixedSizeBinary(x) { return (x === null || x === void 0 ? void 0 : x.typeId) === Type.FixedSizeBinary; }\n    /** @nocollapse */ static isFixedSizeList(x) { return (x === null || x === void 0 ? void 0 : x.typeId) === Type.FixedSizeList; }\n    /** @nocollapse */ static isMap(x) { return (x === null || x === void 0 ? void 0 : x.typeId) === Type.Map; }\n    /** @nocollapse */ static isDictionary(x) { return (x === null || x === void 0 ? void 0 : x.typeId) === Type.Dictionary; }\n    /** @nocollapse */ static isDenseUnion(x) { return DataType.isUnion(x) && x.mode === UnionMode.Dense; }\n    /** @nocollapse */ static isSparseUnion(x) { return DataType.isUnion(x) && x.mode === UnionMode.Sparse; }\n    get typeId() { return Type.NONE; }\n}\n_a = Symbol.toStringTag;\nDataType[_a] = ((proto) => {\n    proto.children = null;\n    proto.ArrayType = Array;\n    return proto[Symbol.toStringTag] = 'DataType';\n})(DataType.prototype);\n/** @ignore */\nexport class Null extends DataType {\n    toString() { return `Null`; }\n    get typeId() { return Type.Null; }\n}\n_b = Symbol.toStringTag;\nNull[_b] = ((proto) => proto[Symbol.toStringTag] = 'Null')(Null.prototype);\n/** @ignore */\nclass Int_ extends DataType {\n    constructor(isSigned, bitWidth) {\n        super();\n        this.isSigned = isSigned;\n        this.bitWidth = bitWidth;\n    }\n    get typeId() { return Type.Int; }\n    get ArrayType() {\n        switch (this.bitWidth) {\n            case 8: return this.isSigned ? Int8Array : Uint8Array;\n            case 16: return this.isSigned ? Int16Array : Uint16Array;\n            case 32: return this.isSigned ? Int32Array : Uint32Array;\n            case 64: return this.isSigned ? BigInt64Array : BigUint64Array;\n        }\n        throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`);\n    }\n    toString() { return `${this.isSigned ? `I` : `Ui`}nt${this.bitWidth}`; }\n}\n_c = Symbol.toStringTag;\nInt_[_c] = ((proto) => {\n    proto.isSigned = null;\n    proto.bitWidth = null;\n    return proto[Symbol.toStringTag] = 'Int';\n})(Int_.prototype);\nexport { Int_ as Int };\n/** @ignore */\nexport class Int8 extends Int_ {\n    constructor() { super(true, 8); }\n    get ArrayType() { return Int8Array; }\n}\n/** @ignore */\nexport class Int16 extends Int_ {\n    constructor() { super(true, 16); }\n    get ArrayType() { return Int16Array; }\n}\n/** @ignore */\nexport class Int32 extends Int_ {\n    constructor() { super(true, 32); }\n    get ArrayType() { return Int32Array; }\n}\n/** @ignore */\nexport class Int64 extends Int_ {\n    constructor() { super(true, 64); }\n    get ArrayType() { return BigInt64Array; }\n}\n/** @ignore */\nexport class Uint8 extends Int_ {\n    constructor() { super(false, 8); }\n    get ArrayType() { return Uint8Array; }\n}\n/** @ignore */\nexport class Uint16 extends Int_ {\n    constructor() { super(false, 16); }\n    get ArrayType() { return Uint16Array; }\n}\n/** @ignore */\nexport class Uint32 extends Int_ {\n    constructor() { super(false, 32); }\n    get ArrayType() { return Uint32Array; }\n}\n/** @ignore */\nexport class Uint64 extends Int_ {\n    constructor() { super(false, 64); }\n    get ArrayType() { return BigUint64Array; }\n}\nObject.defineProperty(Int8.prototype, 'ArrayType', { value: Int8Array });\nObject.defineProperty(Int16.prototype, 'ArrayType', { value: Int16Array });\nObject.defineProperty(Int32.prototype, 'ArrayType', { value: Int32Array });\nObject.defineProperty(Int64.prototype, 'ArrayType', { value: BigInt64Array });\nObject.defineProperty(Uint8.prototype, 'ArrayType', { value: Uint8Array });\nObject.defineProperty(Uint16.prototype, 'ArrayType', { value: Uint16Array });\nObject.defineProperty(Uint32.prototype, 'ArrayType', { value: Uint32Array });\nObject.defineProperty(Uint64.prototype, 'ArrayType', { value: BigUint64Array });\n/** @ignore */\nexport class Float extends DataType {\n    constructor(precision) {\n        super();\n        this.precision = precision;\n    }\n    get typeId() { return Type.Float; }\n    get ArrayType() {\n        switch (this.precision) {\n            case Precision.HALF: return Uint16Array;\n            case Precision.SINGLE: return Float32Array;\n            case Precision.DOUBLE: return Float64Array;\n        }\n        // @ts-ignore\n        throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`);\n    }\n    toString() { return `Float${(this.precision << 5) || 16}`; }\n}\n_d = Symbol.toStringTag;\nFloat[_d] = ((proto) => {\n    proto.precision = null;\n    return proto[Symbol.toStringTag] = 'Float';\n})(Float.prototype);\n/** @ignore */\nexport class Float16 extends Float {\n    constructor() { super(Precision.HALF); }\n}\n/** @ignore */\nexport class Float32 extends Float {\n    constructor() { super(Precision.SINGLE); }\n}\n/** @ignore */\nexport class Float64 extends Float {\n    constructor() { super(Precision.DOUBLE); }\n}\nObject.defineProperty(Float16.prototype, 'ArrayType', { value: Uint16Array });\nObject.defineProperty(Float32.prototype, 'ArrayType', { value: Float32Array });\nObject.defineProperty(Float64.prototype, 'ArrayType', { value: Float64Array });\n/** @ignore */\nexport class Binary extends DataType {\n    constructor() {\n        super();\n    }\n    get typeId() { return Type.Binary; }\n    toString() { return `Binary`; }\n}\n_e = Symbol.toStringTag;\nBinary[_e] = ((proto) => {\n    proto.ArrayType = Uint8Array;\n    return proto[Symbol.toStringTag] = 'Binary';\n})(Binary.prototype);\n/** @ignore */\nexport class Utf8 extends DataType {\n    constructor() {\n        super();\n    }\n    get typeId() { return Type.Utf8; }\n    toString() { return `Utf8`; }\n}\n_f = Symbol.toStringTag;\nUtf8[_f] = ((proto) => {\n    proto.ArrayType = Uint8Array;\n    return proto[Symbol.toStringTag] = 'Utf8';\n})(Utf8.prototype);\n/** @ignore */\nexport class Bool extends DataType {\n    constructor() {\n        super();\n    }\n    get typeId() { return Type.Bool; }\n    toString() { return `Bool`; }\n}\n_g = Symbol.toStringTag;\nBool[_g] = ((proto) => {\n    proto.ArrayType = Uint8Array;\n    return proto[Symbol.toStringTag] = 'Bool';\n})(Bool.prototype);\n/** @ignore */\nexport class Decimal extends DataType {\n    constructor(scale, precision, bitWidth = 128) {\n        super();\n        this.scale = scale;\n        this.precision = precision;\n        this.bitWidth = bitWidth;\n    }\n    get typeId() { return Type.Decimal; }\n    toString() { return `Decimal[${this.precision}e${this.scale > 0 ? `+` : ``}${this.scale}]`; }\n}\n_h = Symbol.toStringTag;\nDecimal[_h] = ((proto) => {\n    proto.scale = null;\n    proto.precision = null;\n    proto.ArrayType = Uint32Array;\n    return proto[Symbol.toStringTag] = 'Decimal';\n})(Decimal.prototype);\n/** @ignore */\nexport class Date_ extends DataType {\n    constructor(unit) {\n        super();\n        this.unit = unit;\n    }\n    get typeId() { return Type.Date; }\n    toString() { return `Date${(this.unit + 1) * 32}<${DateUnit[this.unit]}>`; }\n}\n_j = Symbol.toStringTag;\nDate_[_j] = ((proto) => {\n    proto.unit = null;\n    proto.ArrayType = Int32Array;\n    return proto[Symbol.toStringTag] = 'Date';\n})(Date_.prototype);\n/** @ignore */\nexport class DateDay extends Date_ {\n    constructor() { super(DateUnit.DAY); }\n}\n/** @ignore */\nexport class DateMillisecond extends Date_ {\n    constructor() { super(DateUnit.MILLISECOND); }\n}\n/** @ignore */\nclass Time_ extends DataType {\n    constructor(unit, bitWidth) {\n        super();\n        this.unit = unit;\n        this.bitWidth = bitWidth;\n    }\n    get typeId() { return Type.Time; }\n    toString() { return `Time${this.bitWidth}<${TimeUnit[this.unit]}>`; }\n    get ArrayType() {\n        switch (this.bitWidth) {\n            case 32: return Int32Array;\n            case 64: return BigInt64Array;\n        }\n        // @ts-ignore\n        throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`);\n    }\n}\n_k = Symbol.toStringTag;\nTime_[_k] = ((proto) => {\n    proto.unit = null;\n    proto.bitWidth = null;\n    return proto[Symbol.toStringTag] = 'Time';\n})(Time_.prototype);\nexport { Time_ as Time };\n/** @ignore */\nexport class TimeSecond extends Time_ {\n    constructor() { super(TimeUnit.SECOND, 32); }\n}\n/** @ignore */\nexport class TimeMillisecond extends Time_ {\n    constructor() { super(TimeUnit.MILLISECOND, 32); }\n}\n/** @ignore */\nexport class TimeMicrosecond extends Time_ {\n    constructor() { super(TimeUnit.MICROSECOND, 64); }\n}\n/** @ignore */\nexport class TimeNanosecond extends Time_ {\n    constructor() { super(TimeUnit.NANOSECOND, 64); }\n}\n/** @ignore */\nclass Timestamp_ extends DataType {\n    constructor(unit, timezone) {\n        super();\n        this.unit = unit;\n        this.timezone = timezone;\n    }\n    get typeId() { return Type.Timestamp; }\n    toString() { return `Timestamp<${TimeUnit[this.unit]}${this.timezone ? `, ${this.timezone}` : ``}>`; }\n}\n_l = Symbol.toStringTag;\nTimestamp_[_l] = ((proto) => {\n    proto.unit = null;\n    proto.timezone = null;\n    proto.ArrayType = Int32Array;\n    return proto[Symbol.toStringTag] = 'Timestamp';\n})(Timestamp_.prototype);\nexport { Timestamp_ as Timestamp };\n/** @ignore */\nexport class TimestampSecond extends Timestamp_ {\n    constructor(timezone) { super(TimeUnit.SECOND, timezone); }\n}\n/** @ignore */\nexport class TimestampMillisecond extends Timestamp_ {\n    constructor(timezone) { super(TimeUnit.MILLISECOND, timezone); }\n}\n/** @ignore */\nexport class TimestampMicrosecond extends Timestamp_ {\n    constructor(timezone) { super(TimeUnit.MICROSECOND, timezone); }\n}\n/** @ignore */\nexport class TimestampNanosecond extends Timestamp_ {\n    constructor(timezone) { super(TimeUnit.NANOSECOND, timezone); }\n}\n/** @ignore */\nclass Interval_ extends DataType {\n    constructor(unit) {\n        super();\n        this.unit = unit;\n    }\n    get typeId() { return Type.Interval; }\n    toString() { return `Interval<${IntervalUnit[this.unit]}>`; }\n}\n_m = Symbol.toStringTag;\nInterval_[_m] = ((proto) => {\n    proto.unit = null;\n    proto.ArrayType = Int32Array;\n    return proto[Symbol.toStringTag] = 'Interval';\n})(Interval_.prototype);\nexport { Interval_ as Interval };\n/** @ignore */\nexport class IntervalDayTime extends Interval_ {\n    constructor() { super(IntervalUnit.DAY_TIME); }\n}\n/** @ignore */\nexport class IntervalYearMonth extends Interval_ {\n    constructor() { super(IntervalUnit.YEAR_MONTH); }\n}\n/** @ignore */\nexport class List extends DataType {\n    constructor(child) {\n        super();\n        this.children = [child];\n    }\n    get typeId() { return Type.List; }\n    toString() { return `List<${this.valueType}>`; }\n    get valueType() { return this.children[0].type; }\n    get valueField() { return this.children[0]; }\n    get ArrayType() { return this.valueType.ArrayType; }\n}\n_o = Symbol.toStringTag;\nList[_o] = ((proto) => {\n    proto.children = null;\n    return proto[Symbol.toStringTag] = 'List';\n})(List.prototype);\n/** @ignore */\nexport class Struct extends DataType {\n    constructor(children) {\n        super();\n        this.children = children;\n    }\n    get typeId() { return Type.Struct; }\n    toString() { return `Struct<{${this.children.map((f) => `${f.name}:${f.type}`).join(`, `)}}>`; }\n}\n_p = Symbol.toStringTag;\nStruct[_p] = ((proto) => {\n    proto.children = null;\n    return proto[Symbol.toStringTag] = 'Struct';\n})(Struct.prototype);\n/** @ignore */\nclass Union_ extends DataType {\n    constructor(mode, typeIds, children) {\n        super();\n        this.mode = mode;\n        this.children = children;\n        this.typeIds = typeIds = Int32Array.from(typeIds);\n        this.typeIdToChildIndex = typeIds.reduce((typeIdToChildIndex, typeId, idx) => (typeIdToChildIndex[typeId] = idx) && typeIdToChildIndex || typeIdToChildIndex, Object.create(null));\n    }\n    get typeId() { return Type.Union; }\n    toString() {\n        return `${this[Symbol.toStringTag]}<${this.children.map((x) => `${x.type}`).join(` | `)}>`;\n    }\n}\n_q = Symbol.toStringTag;\nUnion_[_q] = ((proto) => {\n    proto.mode = null;\n    proto.typeIds = null;\n    proto.children = null;\n    proto.typeIdToChildIndex = null;\n    proto.ArrayType = Int8Array;\n    return proto[Symbol.toStringTag] = 'Union';\n})(Union_.prototype);\nexport { Union_ as Union };\n/** @ignore */\nexport class DenseUnion extends Union_ {\n    constructor(typeIds, children) {\n        super(UnionMode.Dense, typeIds, children);\n    }\n}\n/** @ignore */\nexport class SparseUnion extends Union_ {\n    constructor(typeIds, children) {\n        super(UnionMode.Sparse, typeIds, children);\n    }\n}\n/** @ignore */\nexport class FixedSizeBinary extends DataType {\n    constructor(byteWidth) {\n        super();\n        this.byteWidth = byteWidth;\n    }\n    get typeId() { return Type.FixedSizeBinary; }\n    toString() { return `FixedSizeBinary[${this.byteWidth}]`; }\n}\n_r = Symbol.toStringTag;\nFixedSizeBinary[_r] = ((proto) => {\n    proto.byteWidth = null;\n    proto.ArrayType = Uint8Array;\n    return proto[Symbol.toStringTag] = 'FixedSizeBinary';\n})(FixedSizeBinary.prototype);\n/** @ignore */\nexport class FixedSizeList extends DataType {\n    constructor(listSize, child) {\n        super();\n        this.listSize = listSize;\n        this.children = [child];\n    }\n    get typeId() { return Type.FixedSizeList; }\n    get valueType() { return this.children[0].type; }\n    get valueField() { return this.children[0]; }\n    get ArrayType() { return this.valueType.ArrayType; }\n    toString() { return `FixedSizeList[${this.listSize}]<${this.valueType}>`; }\n}\n_s = Symbol.toStringTag;\nFixedSizeList[_s] = ((proto) => {\n    proto.children = null;\n    proto.listSize = null;\n    return proto[Symbol.toStringTag] = 'FixedSizeList';\n})(FixedSizeList.prototype);\n/** @ignore */\nexport class Map_ extends DataType {\n    constructor(child, keysSorted = false) {\n        super();\n        this.children = [child];\n        this.keysSorted = keysSorted;\n    }\n    get typeId() { return Type.Map; }\n    get keyType() { return this.children[0].type.children[0].type; }\n    get valueType() { return this.children[0].type.children[1].type; }\n    get childType() { return this.children[0].type; }\n    toString() { return `Map<{${this.children[0].type.children.map((f) => `${f.name}:${f.type}`).join(`, `)}}>`; }\n}\n_t = Symbol.toStringTag;\nMap_[_t] = ((proto) => {\n    proto.children = null;\n    proto.keysSorted = null;\n    return proto[Symbol.toStringTag] = 'Map_';\n})(Map_.prototype);\n/** @ignore */\nconst getId = ((atomicDictionaryId) => () => ++atomicDictionaryId)(-1);\n/** @ignore */\nexport class Dictionary extends DataType {\n    constructor(dictionary, indices, id, isOrdered) {\n        super();\n        this.indices = indices;\n        this.dictionary = dictionary;\n        this.isOrdered = isOrdered || false;\n        this.id = id == null ? getId() : bigIntToNumber(id);\n    }\n    get typeId() { return Type.Dictionary; }\n    get children() { return this.dictionary.children; }\n    get valueType() { return this.dictionary; }\n    get ArrayType() { return this.dictionary.ArrayType; }\n    toString() { return `Dictionary<${this.indices}, ${this.dictionary}>`; }\n}\n_u = Symbol.toStringTag;\nDictionary[_u] = ((proto) => {\n    proto.id = null;\n    proto.indices = null;\n    proto.isOrdered = null;\n    proto.dictionary = null;\n    return proto[Symbol.toStringTag] = 'Dictionary';\n})(Dictionary.prototype);\n/** @ignore */\nexport function strideForType(type) {\n    const t = type;\n    switch (type.typeId) {\n        case Type.Decimal: return type.bitWidth / 32;\n        case Type.Timestamp: return 2;\n        case Type.Date: return 1 + t.unit;\n        case Type.Interval: return 1 + t.unit;\n        // case Type.Int: return 1 + +((t as Int_).bitWidth > 32);\n        // case Type.Time: return 1 + +((t as Time_).bitWidth > 32);\n        case Type.FixedSizeList: return t.listSize;\n        case Type.FixedSizeBinary: return t.byteWidth;\n        default: return 1;\n    }\n}\n\n//# sourceMappingURL=type.mjs.map\n","// automatically generated by the FlatBuffers compiler, do not modify\nimport * as flatbuffers from 'flatbuffers';\nimport { TimeUnit } from './time-unit.mjs';\n/**\n * Time is either a 32-bit or 64-bit signed integer type representing an\n * elapsed time since midnight, stored in either of four units: seconds,\n * milliseconds, microseconds or nanoseconds.\n *\n * The integer `bitWidth` depends on the `unit` and must be one of the following:\n * * SECOND and MILLISECOND: 32 bits\n * * MICROSECOND and NANOSECOND: 64 bits\n *\n * The allowed values are between 0 (inclusive) and 86400 (=24*60*60) seconds\n * (exclusive), adjusted for the time unit (for example, up to 86400000\n * exclusive for the MILLISECOND unit).\n * This definition doesn't allow for leap seconds. Time values from\n * measurements with leap seconds will need to be corrected when ingesting\n * into Arrow (for example by replacing the value 86400 with 86399).\n */\nexport class Time {\n    constructor() {\n        this.bb = null;\n        this.bb_pos = 0;\n    }\n    __init(i, bb) {\n        this.bb_pos = i;\n        this.bb = bb;\n        return this;\n    }\n    static getRootAsTime(bb, obj) {\n        return (obj || new Time()).__init(bb.readInt32(bb.position()) + bb.position(), bb);\n    }\n    static getSizePrefixedRootAsTime(bb, obj) {\n        bb.setPosition(bb.position() + flatbuffers.SIZE_PREFIX_LENGTH);\n        return (obj || new Time()).__init(bb.readInt32(bb.position()) + bb.position(), bb);\n    }\n    unit() {\n        const offset = this.bb.__offset(this.bb_pos, 4);\n        return offset ? this.bb.readInt16(this.bb_pos + offset) : TimeUnit.MILLISECOND;\n    }\n    bitWidth() {\n        const offset = this.bb.__offset(this.bb_pos, 6);\n        return offset ? this.bb.readInt32(this.bb_pos + offset) : 32;\n    }\n    static startTime(builder) {\n        builder.startObject(2);\n    }\n    static addUnit(builder, unit) {\n        builder.addFieldInt16(0, unit, TimeUnit.MILLISECOND);\n    }\n    static addBitWidth(builder, bitWidth) {\n        builder.addFieldInt32(1, bitWidth, 32);\n    }\n    static endTime(builder) {\n        const offset = builder.endObject();\n        return offset;\n    }\n    static createTime(builder, unit, bitWidth) {\n        Time.startTime(builder);\n        Time.addUnit(builder, unit);\n        Time.addBitWidth(builder, bitWidth);\n        return Time.endTime(builder);\n    }\n}\n\n//# sourceMappingURL=time.mjs.map\n","// automatically generated by the FlatBuffers compiler, do not modify\nimport * as flatbuffers from 'flatbuffers';\nimport { TimeUnit } from './time-unit.mjs';\n/**\n * Timestamp is a 64-bit signed integer representing an elapsed time since a\n * fixed epoch, stored in either of four units: seconds, milliseconds,\n * microseconds or nanoseconds, and is optionally annotated with a timezone.\n *\n * Timestamp values do not include any leap seconds (in other words, all\n * days are considered 86400 seconds long).\n *\n * Timestamps with a non-empty timezone\n * ------------------------------------\n *\n * If a Timestamp column has a non-empty timezone value, its epoch is\n * 1970-01-01 00:00:00 (January 1st 1970, midnight) in the *UTC* timezone\n * (the Unix epoch), regardless of the Timestamp's own timezone.\n *\n * Therefore, timestamp values with a non-empty timezone correspond to\n * physical points in time together with some additional information about\n * how the data was obtained and/or how to display it (the timezone).\n *\n *   For example, the timestamp value 0 with the timezone string \"Europe/Paris\"\n *   corresponds to \"January 1st 1970, 00h00\" in the UTC timezone, but the\n *   application may prefer to display it as \"January 1st 1970, 01h00\" in\n *   the Europe/Paris timezone (which is the same physical point in time).\n *\n * One consequence is that timestamp values with a non-empty timezone\n * can be compared and ordered directly, since they all share the same\n * well-known point of reference (the Unix epoch).\n *\n * Timestamps with an unset / empty timezone\n * -----------------------------------------\n *\n * If a Timestamp column has no timezone value, its epoch is\n * 1970-01-01 00:00:00 (January 1st 1970, midnight) in an *unknown* timezone.\n *\n * Therefore, timestamp values without a timezone cannot be meaningfully\n * interpreted as physical points in time, but only as calendar / clock\n * indications (\"wall clock time\") in an unspecified timezone.\n *\n *   For example, the timestamp value 0 with an empty timezone string\n *   corresponds to \"January 1st 1970, 00h00\" in an unknown timezone: there\n *   is not enough information to interpret it as a well-defined physical\n *   point in time.\n *\n * One consequence is that timestamp values without a timezone cannot\n * be reliably compared or ordered, since they may have different points of\n * reference.  In particular, it is *not* possible to interpret an unset\n * or empty timezone as the same as \"UTC\".\n *\n * Conversion between timezones\n * ----------------------------\n *\n * If a Timestamp column has a non-empty timezone, changing the timezone\n * to a different non-empty value is a metadata-only operation:\n * the timestamp values need not change as their point of reference remains\n * the same (the Unix epoch).\n *\n * However, if a Timestamp column has no timezone value, changing it to a\n * non-empty value requires to think about the desired semantics.\n * One possibility is to assume that the original timestamp values are\n * relative to the epoch of the timezone being set; timestamp values should\n * then adjusted to the Unix epoch (for example, changing the timezone from\n * empty to \"Europe/Paris\" would require converting the timestamp values\n * from \"Europe/Paris\" to \"UTC\", which seems counter-intuitive but is\n * nevertheless correct).\n *\n * Guidelines for encoding data from external libraries\n * ----------------------------------------------------\n *\n * Date & time libraries often have multiple different data types for temporal\n * data. In order to ease interoperability between different implementations the\n * Arrow project has some recommendations for encoding these types into a Timestamp\n * column.\n *\n * An \"instant\" represents a physical point in time that has no relevant timezone\n * (for example, astronomical data). To encode an instant, use a Timestamp with\n * the timezone string set to \"UTC\", and make sure the Timestamp values\n * are relative to the UTC epoch (January 1st 1970, midnight).\n *\n * A \"zoned date-time\" represents a physical point in time annotated with an\n * informative timezone (for example, the timezone in which the data was\n * recorded).  To encode a zoned date-time, use a Timestamp with the timezone\n * string set to the name of the timezone, and make sure the Timestamp values\n * are relative to the UTC epoch (January 1st 1970, midnight).\n *\n *  (There is some ambiguity between an instant and a zoned date-time with the\n *   UTC timezone.  Both of these are stored the same in Arrow.  Typically,\n *   this distinction does not matter.  If it does, then an application should\n *   use custom metadata or an extension type to distinguish between the two cases.)\n *\n * An \"offset date-time\" represents a physical point in time combined with an\n * explicit offset from UTC.  To encode an offset date-time, use a Timestamp\n * with the timezone string set to the numeric timezone offset string\n * (e.g. \"+03:00\"), and make sure the Timestamp values are relative to\n * the UTC epoch (January 1st 1970, midnight).\n *\n * A \"naive date-time\" (also called \"local date-time\" in some libraries)\n * represents a wall clock time combined with a calendar date, but with\n * no indication of how to map this information to a physical point in time.\n * Naive date-times must be handled with care because of this missing\n * information, and also because daylight saving time (DST) may make\n * some values ambiguous or non-existent. A naive date-time may be\n * stored as a struct with Date and Time fields. However, it may also be\n * encoded into a Timestamp column with an empty timezone. The timestamp\n * values should be computed \"as if\" the timezone of the date-time values\n * was UTC; for example, the naive date-time \"January 1st 1970, 00h00\" would\n * be encoded as timestamp value 0.\n */\nexport class Timestamp {\n    constructor() {\n        this.bb = null;\n        this.bb_pos = 0;\n    }\n    __init(i, bb) {\n        this.bb_pos = i;\n        this.bb = bb;\n        return this;\n    }\n    static getRootAsTimestamp(bb, obj) {\n        return (obj || new Timestamp()).__init(bb.readInt32(bb.position()) + bb.position(), bb);\n    }\n    static getSizePrefixedRootAsTimestamp(bb, obj) {\n        bb.setPosition(bb.position() + flatbuffers.SIZE_PREFIX_LENGTH);\n        return (obj || new Timestamp()).__init(bb.readInt32(bb.position()) + bb.position(), bb);\n    }\n    unit() {\n        const offset = this.bb.__offset(this.bb_pos, 4);\n        return offset ? this.bb.readInt16(this.bb_pos + offset) : TimeUnit.SECOND;\n    }\n    timezone(optionalEncoding) {\n        const offset = this.bb.__offset(this.bb_pos, 6);\n        return offset ? this.bb.__string(this.bb_pos + offset, optionalEncoding) : null;\n    }\n    static startTimestamp(builder) {\n        builder.startObject(2);\n    }\n    static addUnit(builder, unit) {\n        builder.addFieldInt16(0, unit, TimeUnit.SECOND);\n    }\n    static addTimezone(builder, timezoneOffset) {\n        builder.addFieldOffset(1, timezoneOffset, 0);\n    }\n    static endTimestamp(builder) {\n        const offset = builder.endObject();\n        return offset;\n    }\n    static createTimestamp(builder, unit, timezoneOffset) {\n        Timestamp.startTimestamp(builder);\n        Timestamp.addUnit(builder, unit);\n        Timestamp.addTimezone(builder, timezoneOffset);\n        return Timestamp.endTimestamp(builder);\n    }\n}\n\n//# sourceMappingURL=timestamp.mjs.map\n","// automatically generated by the FlatBuffers compiler, do not modify\nexport class Block {\n    constructor() {\n        this.bb = null;\n        this.bb_pos = 0;\n    }\n    __init(i, bb) {\n        this.bb_pos = i;\n        this.bb = bb;\n        return this;\n    }\n    /**\n     * Index to the start of the RecordBlock (note this is past the Message header)\n     */\n    offset() {\n        return this.bb.readInt64(this.bb_pos);\n    }\n    /**\n     * Length of the metadata\n     */\n    metaDataLength() {\n        return this.bb.readInt32(this.bb_pos + 8);\n    }\n    /**\n     * Length of the data (this is aligned so there can be a gap between this and\n     * the metadata).\n     */\n    bodyLength() {\n        return this.bb.readInt64(this.bb_pos + 16);\n    }\n    static sizeOf() {\n        return 24;\n    }\n    static createBlock(builder, offset, metaDataLength, bodyLength) {\n        builder.prep(8, 24);\n        builder.writeInt64(BigInt(bodyLength !== null && bodyLength !== void 0 ? bodyLength : 0));\n        builder.pad(4);\n        builder.writeInt32(metaDataLength);\n        builder.writeInt64(BigInt(offset !== null && offset !== void 0 ? offset : 0));\n        return builder.offset();\n    }\n}\n\n//# sourceMappingURL=block.mjs.map\n","// automatically generated by the FlatBuffers compiler, do not modify\nimport * as flatbuffers from 'flatbuffers';\nimport { Block } from './block.mjs';\nimport { KeyValue } from './key-value.mjs';\nimport { MetadataVersion } from './metadata-version.mjs';\nimport { Schema } from './schema.mjs';\n/**\n * ----------------------------------------------------------------------\n * Arrow File metadata\n *\n */\nexport class Footer {\n    constructor() {\n        this.bb = null;\n        this.bb_pos = 0;\n    }\n    __init(i, bb) {\n        this.bb_pos = i;\n        this.bb = bb;\n        return this;\n    }\n    static getRootAsFooter(bb, obj) {\n        return (obj || new Footer()).__init(bb.readInt32(bb.position()) + bb.position(), bb);\n    }\n    static getSizePrefixedRootAsFooter(bb, obj) {\n        bb.setPosition(bb.position() + flatbuffers.SIZE_PREFIX_LENGTH);\n        return (obj || new Footer()).__init(bb.readInt32(bb.position()) + bb.position(), bb);\n    }\n    version() {\n        const offset = this.bb.__offset(this.bb_pos, 4);\n        return offset ? this.bb.readInt16(this.bb_pos + offset) : MetadataVersion.V1;\n    }\n    schema(obj) {\n        const offset = this.bb.__offset(this.bb_pos, 6);\n        return offset ? (obj || new Schema()).__init(this.bb.__indirect(this.bb_pos + offset), this.bb) : null;\n    }\n    dictionaries(index, obj) {\n        const offset = this.bb.__offset(this.bb_pos, 8);\n        return offset ? (obj || new Block()).__init(this.bb.__vector(this.bb_pos + offset) + index * 24, this.bb) : null;\n    }\n    dictionariesLength() {\n        const offset = this.bb.__offset(this.bb_pos, 8);\n        return offset ? this.bb.__vector_len(this.bb_pos + offset) : 0;\n    }\n    recordBatches(index, obj) {\n        const offset = this.bb.__offset(this.bb_pos, 10);\n        return offset ? (obj || new Block()).__init(this.bb.__vector(this.bb_pos + offset) + index * 24, this.bb) : null;\n    }\n    recordBatchesLength() {\n        const offset = this.bb.__offset(this.bb_pos, 10);\n        return offset ? this.bb.__vector_len(this.bb_pos + offset) : 0;\n    }\n    /**\n     * User-defined metadata\n     */\n    customMetadata(index, obj) {\n        const offset = this.bb.__offset(this.bb_pos, 12);\n        return offset ? (obj || new KeyValue()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos + offset) + index * 4), this.bb) : null;\n    }\n    customMetadataLength() {\n        const offset = this.bb.__offset(this.bb_pos, 12);\n        return offset ? this.bb.__vector_len(this.bb_pos + offset) : 0;\n    }\n    static startFooter(builder) {\n        builder.startObject(5);\n    }\n    static addVersion(builder, version) {\n        builder.addFieldInt16(0, version, MetadataVersion.V1);\n    }\n    static addSchema(builder, schemaOffset) {\n        builder.addFieldOffset(1, schemaOffset, 0);\n    }\n    static addDictionaries(builder, dictionariesOffset) {\n        builder.addFieldOffset(2, dictionariesOffset, 0);\n    }\n    static startDictionariesVector(builder, numElems) {\n        builder.startVector(24, numElems, 8);\n    }\n    static addRecordBatches(builder, recordBatchesOffset) {\n        builder.addFieldOffset(3, recordBatchesOffset, 0);\n    }\n    static startRecordBatchesVector(builder, numElems) {\n        builder.startVector(24, numElems, 8);\n    }\n    static addCustomMetadata(builder, customMetadataOffset) {\n        builder.addFieldOffset(4, customMetadataOffset, 0);\n    }\n    static createCustomMetadataVector(builder, data) {\n        builder.startVector(4, data.length, 4);\n        for (let i = data.length - 1; i >= 0; i--) {\n            builder.addOffset(data[i]);\n        }\n        return builder.endVector();\n    }\n    static startCustomMetadataVector(builder, numElems) {\n        builder.startVector(4, numElems, 4);\n    }\n    static endFooter(builder) {\n        const offset = builder.endObject();\n        return offset;\n    }\n    static finishFooterBuffer(builder, offset) {\n        builder.finish(offset);\n    }\n    static finishSizePrefixedFooterBuffer(builder, offset) {\n        builder.finish(offset, undefined, true);\n    }\n}\n\n//# sourceMappingURL=footer.mjs.map\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\n/* eslint-disable @typescript-eslint/naming-convention */\nimport { Block as _Block } from '../../fb/block.mjs';\nimport { Footer as _Footer } from '../../fb/footer.mjs';\nimport * as flatbuffers from 'flatbuffers';\nvar Builder = flatbuffers.Builder;\nvar ByteBuffer = flatbuffers.ByteBuffer;\nimport { Schema } from '../../schema.mjs';\nimport { MetadataVersion } from '../../enum.mjs';\nimport { toUint8Array } from '../../util/buffer.mjs';\nimport { bigIntToNumber } from '../../util/bigint.mjs';\n/** @ignore */\nclass Footer_ {\n    /** @nocollapse */\n    static decode(buf) {\n        buf = new ByteBuffer(toUint8Array(buf));\n        const footer = _Footer.getRootAsFooter(buf);\n        const schema = Schema.decode(footer.schema());\n        return new OffHeapFooter(schema, footer);\n    }\n    /** @nocollapse */\n    static encode(footer) {\n        const b = new Builder();\n        const schemaOffset = Schema.encode(b, footer.schema);\n        _Footer.startRecordBatchesVector(b, footer.numRecordBatches);\n        for (const rb of [...footer.recordBatches()].slice().reverse()) {\n            FileBlock.encode(b, rb);\n        }\n        const recordBatchesOffset = b.endVector();\n        _Footer.startDictionariesVector(b, footer.numDictionaries);\n        for (const db of [...footer.dictionaryBatches()].slice().reverse()) {\n            FileBlock.encode(b, db);\n        }\n        const dictionaryBatchesOffset = b.endVector();\n        _Footer.startFooter(b);\n        _Footer.addSchema(b, schemaOffset);\n        _Footer.addVersion(b, MetadataVersion.V4);\n        _Footer.addRecordBatches(b, recordBatchesOffset);\n        _Footer.addDictionaries(b, dictionaryBatchesOffset);\n        _Footer.finishFooterBuffer(b, _Footer.endFooter(b));\n        return b.asUint8Array();\n    }\n    get numRecordBatches() { return this._recordBatches.length; }\n    get numDictionaries() { return this._dictionaryBatches.length; }\n    constructor(schema, version = MetadataVersion.V4, recordBatches, dictionaryBatches) {\n        this.schema = schema;\n        this.version = version;\n        recordBatches && (this._recordBatches = recordBatches);\n        dictionaryBatches && (this._dictionaryBatches = dictionaryBatches);\n    }\n    *recordBatches() {\n        for (let block, i = -1, n = this.numRecordBatches; ++i < n;) {\n            if (block = this.getRecordBatch(i)) {\n                yield block;\n            }\n        }\n    }\n    *dictionaryBatches() {\n        for (let block, i = -1, n = this.numDictionaries; ++i < n;) {\n            if (block = this.getDictionaryBatch(i)) {\n                yield block;\n            }\n        }\n    }\n    getRecordBatch(index) {\n        return index >= 0\n            && index < this.numRecordBatches\n            && this._recordBatches[index] || null;\n    }\n    getDictionaryBatch(index) {\n        return index >= 0\n            && index < this.numDictionaries\n            && this._dictionaryBatches[index] || null;\n    }\n}\nexport { Footer_ as Footer };\n/** @ignore */\nclass OffHeapFooter extends Footer_ {\n    get numRecordBatches() { return this._footer.recordBatchesLength(); }\n    get numDictionaries() { return this._footer.dictionariesLength(); }\n    constructor(schema, _footer) {\n        super(schema, _footer.version());\n        this._footer = _footer;\n    }\n    getRecordBatch(index) {\n        if (index >= 0 && index < this.numRecordBatches) {\n            const fileBlock = this._footer.recordBatches(index);\n            if (fileBlock) {\n                return FileBlock.decode(fileBlock);\n            }\n        }\n        return null;\n    }\n    getDictionaryBatch(index) {\n        if (index >= 0 && index < this.numDictionaries) {\n            const fileBlock = this._footer.dictionaries(index);\n            if (fileBlock) {\n                return FileBlock.decode(fileBlock);\n            }\n        }\n        return null;\n    }\n}\n/** @ignore */\nexport class FileBlock {\n    /** @nocollapse */\n    static decode(block) {\n        return new FileBlock(block.metaDataLength(), block.bodyLength(), block.offset());\n    }\n    /** @nocollapse */\n    static encode(b, fileBlock) {\n        const { metaDataLength } = fileBlock;\n        const offset = BigInt(fileBlock.offset);\n        const bodyLength = BigInt(fileBlock.bodyLength);\n        return _Block.createBlock(b, offset, metaDataLength, bodyLength);\n    }\n    constructor(metaDataLength, bodyLength, offset) {\n        this.metaDataLength = metaDataLength;\n        this.offset = bigIntToNumber(offset);\n        this.bodyLength = bigIntToNumber(bodyLength);\n    }\n}\n\n//# sourceMappingURL=file.mjs.map\n","/**\n * @module helpers\n */\n/**\n * Earth Radius used with the Harvesine formula and approximates using a spherical (non-ellipsoid) Earth.\n *\n * @memberof helpers\n * @type {number}\n */\nexport var earthRadius = 6371008.8;\n/**\n * Unit of measurement factors using a spherical (non-ellipsoid) earth radius.\n *\n * @memberof helpers\n * @type {Object}\n */\nexport var factors = {\n    centimeters: earthRadius * 100,\n    centimetres: earthRadius * 100,\n    degrees: earthRadius / 111325,\n    feet: earthRadius * 3.28084,\n    inches: earthRadius * 39.37,\n    kilometers: earthRadius / 1000,\n    kilometres: earthRadius / 1000,\n    meters: earthRadius,\n    metres: earthRadius,\n    miles: earthRadius / 1609.344,\n    millimeters: earthRadius * 1000,\n    millimetres: earthRadius * 1000,\n    nauticalmiles: earthRadius / 1852,\n    radians: 1,\n    yards: earthRadius * 1.0936,\n};\n/**\n * Units of measurement factors based on 1 meter.\n *\n * @memberof helpers\n * @type {Object}\n */\nexport var unitsFactors = {\n    centimeters: 100,\n    centimetres: 100,\n    degrees: 1 / 111325,\n    feet: 3.28084,\n    inches: 39.37,\n    kilometers: 1 / 1000,\n    kilometres: 1 / 1000,\n    meters: 1,\n    metres: 1,\n    miles: 1 / 1609.344,\n    millimeters: 1000,\n    millimetres: 1000,\n    nauticalmiles: 1 / 1852,\n    radians: 1 / earthRadius,\n    yards: 1.0936133,\n};\n/**\n * Area of measurement factors based on 1 square meter.\n *\n * @memberof helpers\n * @type {Object}\n */\nexport var areaFactors = {\n    acres: 0.000247105,\n    centimeters: 10000,\n    centimetres: 10000,\n    feet: 10.763910417,\n    hectares: 0.0001,\n    inches: 1550.003100006,\n    kilometers: 0.000001,\n    kilometres: 0.000001,\n    meters: 1,\n    metres: 1,\n    miles: 3.86e-7,\n    millimeters: 1000000,\n    millimetres: 1000000,\n    yards: 1.195990046,\n};\n/**\n * Wraps a GeoJSON {@link Geometry} in a GeoJSON {@link Feature}.\n *\n * @name feature\n * @param {Geometry} geometry input geometry\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature} a GeoJSON Feature\n * @example\n * var geometry = {\n *   \"type\": \"Point\",\n *   \"coordinates\": [110, 50]\n * };\n *\n * var feature = turf.feature(geometry);\n *\n * //=feature\n */\nexport function feature(geom, properties, options) {\n    if (options === void 0) { options = {}; }\n    var feat = { type: \"Feature\" };\n    if (options.id === 0 || options.id) {\n        feat.id = options.id;\n    }\n    if (options.bbox) {\n        feat.bbox = options.bbox;\n    }\n    feat.properties = properties || {};\n    feat.geometry = geom;\n    return feat;\n}\n/**\n * Creates a GeoJSON {@link Geometry} from a Geometry string type & coordinates.\n * For GeometryCollection type use `helpers.geometryCollection`\n *\n * @name geometry\n * @param {string} type Geometry Type\n * @param {Array<any>} coordinates Coordinates\n * @param {Object} [options={}] Optional Parameters\n * @returns {Geometry} a GeoJSON Geometry\n * @example\n * var type = \"Point\";\n * var coordinates = [110, 50];\n * var geometry = turf.geometry(type, coordinates);\n * // => geometry\n */\nexport function geometry(type, coordinates, _options) {\n    if (_options === void 0) { _options = {}; }\n    switch (type) {\n        case \"Point\":\n            return point(coordinates).geometry;\n        case \"LineString\":\n            return lineString(coordinates).geometry;\n        case \"Polygon\":\n            return polygon(coordinates).geometry;\n        case \"MultiPoint\":\n            return multiPoint(coordinates).geometry;\n        case \"MultiLineString\":\n            return multiLineString(coordinates).geometry;\n        case \"MultiPolygon\":\n            return multiPolygon(coordinates).geometry;\n        default:\n            throw new Error(type + \" is invalid\");\n    }\n}\n/**\n * Creates a {@link Point} {@link Feature} from a Position.\n *\n * @name point\n * @param {Array<number>} coordinates longitude, latitude position (each in decimal degrees)\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<Point>} a Point feature\n * @example\n * var point = turf.point([-75.343, 39.984]);\n *\n * //=point\n */\nexport function point(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    if (!coordinates) {\n        throw new Error(\"coordinates is required\");\n    }\n    if (!Array.isArray(coordinates)) {\n        throw new Error(\"coordinates must be an Array\");\n    }\n    if (coordinates.length < 2) {\n        throw new Error(\"coordinates must be at least 2 numbers long\");\n    }\n    if (!isNumber(coordinates[0]) || !isNumber(coordinates[1])) {\n        throw new Error(\"coordinates must contain numbers\");\n    }\n    var geom = {\n        type: \"Point\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\n/**\n * Creates a {@link Point} {@link FeatureCollection} from an Array of Point coordinates.\n *\n * @name points\n * @param {Array<Array<number>>} coordinates an array of Points\n * @param {Object} [properties={}] Translate these properties to each Feature\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north]\n * associated with the FeatureCollection\n * @param {string|number} [options.id] Identifier associated with the FeatureCollection\n * @returns {FeatureCollection<Point>} Point Feature\n * @example\n * var points = turf.points([\n *   [-75, 39],\n *   [-80, 45],\n *   [-78, 50]\n * ]);\n *\n * //=points\n */\nexport function points(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    return featureCollection(coordinates.map(function (coords) {\n        return point(coords, properties);\n    }), options);\n}\n/**\n * Creates a {@link Polygon} {@link Feature} from an Array of LinearRings.\n *\n * @name polygon\n * @param {Array<Array<Array<number>>>} coordinates an array of LinearRings\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<Polygon>} Polygon Feature\n * @example\n * var polygon = turf.polygon([[[-5, 52], [-4, 56], [-2, 51], [-7, 54], [-5, 52]]], { name: 'poly1' });\n *\n * //=polygon\n */\nexport function polygon(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    for (var _i = 0, coordinates_1 = coordinates; _i < coordinates_1.length; _i++) {\n        var ring = coordinates_1[_i];\n        if (ring.length < 4) {\n            throw new Error(\"Each LinearRing of a Polygon must have 4 or more Positions.\");\n        }\n        for (var j = 0; j < ring[ring.length - 1].length; j++) {\n            // Check if first point of Polygon contains two numbers\n            if (ring[ring.length - 1][j] !== ring[0][j]) {\n                throw new Error(\"First and last Position are not equivalent.\");\n            }\n        }\n    }\n    var geom = {\n        type: \"Polygon\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\n/**\n * Creates a {@link Polygon} {@link FeatureCollection} from an Array of Polygon coordinates.\n *\n * @name polygons\n * @param {Array<Array<Array<Array<number>>>>} coordinates an array of Polygon coordinates\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the FeatureCollection\n * @returns {FeatureCollection<Polygon>} Polygon FeatureCollection\n * @example\n * var polygons = turf.polygons([\n *   [[[-5, 52], [-4, 56], [-2, 51], [-7, 54], [-5, 52]]],\n *   [[[-15, 42], [-14, 46], [-12, 41], [-17, 44], [-15, 42]]],\n * ]);\n *\n * //=polygons\n */\nexport function polygons(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    return featureCollection(coordinates.map(function (coords) {\n        return polygon(coords, properties);\n    }), options);\n}\n/**\n * Creates a {@link LineString} {@link Feature} from an Array of Positions.\n *\n * @name lineString\n * @param {Array<Array<number>>} coordinates an array of Positions\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<LineString>} LineString Feature\n * @example\n * var linestring1 = turf.lineString([[-24, 63], [-23, 60], [-25, 65], [-20, 69]], {name: 'line 1'});\n * var linestring2 = turf.lineString([[-14, 43], [-13, 40], [-15, 45], [-10, 49]], {name: 'line 2'});\n *\n * //=linestring1\n * //=linestring2\n */\nexport function lineString(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    if (coordinates.length < 2) {\n        throw new Error(\"coordinates must be an array of two or more positions\");\n    }\n    var geom = {\n        type: \"LineString\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\n/**\n * Creates a {@link LineString} {@link FeatureCollection} from an Array of LineString coordinates.\n *\n * @name lineStrings\n * @param {Array<Array<Array<number>>>} coordinates an array of LinearRings\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north]\n * associated with the FeatureCollection\n * @param {string|number} [options.id] Identifier associated with the FeatureCollection\n * @returns {FeatureCollection<LineString>} LineString FeatureCollection\n * @example\n * var linestrings = turf.lineStrings([\n *   [[-24, 63], [-23, 60], [-25, 65], [-20, 69]],\n *   [[-14, 43], [-13, 40], [-15, 45], [-10, 49]]\n * ]);\n *\n * //=linestrings\n */\nexport function lineStrings(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    return featureCollection(coordinates.map(function (coords) {\n        return lineString(coords, properties);\n    }), options);\n}\n/**\n * Takes one or more {@link Feature|Features} and creates a {@link FeatureCollection}.\n *\n * @name featureCollection\n * @param {Feature[]} features input features\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {FeatureCollection} FeatureCollection of Features\n * @example\n * var locationA = turf.point([-75.343, 39.984], {name: 'Location A'});\n * var locationB = turf.point([-75.833, 39.284], {name: 'Location B'});\n * var locationC = turf.point([-75.534, 39.123], {name: 'Location C'});\n *\n * var collection = turf.featureCollection([\n *   locationA,\n *   locationB,\n *   locationC\n * ]);\n *\n * //=collection\n */\nexport function featureCollection(features, options) {\n    if (options === void 0) { options = {}; }\n    var fc = { type: \"FeatureCollection\" };\n    if (options.id) {\n        fc.id = options.id;\n    }\n    if (options.bbox) {\n        fc.bbox = options.bbox;\n    }\n    fc.features = features;\n    return fc;\n}\n/**\n * Creates a {@link Feature<MultiLineString>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name multiLineString\n * @param {Array<Array<Array<number>>>} coordinates an array of LineStrings\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<MultiLineString>} a MultiLineString feature\n * @throws {Error} if no coordinates are passed\n * @example\n * var multiLine = turf.multiLineString([[[0,0],[10,10]]]);\n *\n * //=multiLine\n */\nexport function multiLineString(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"MultiLineString\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\n/**\n * Creates a {@link Feature<MultiPoint>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name multiPoint\n * @param {Array<Array<number>>} coordinates an array of Positions\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<MultiPoint>} a MultiPoint feature\n * @throws {Error} if no coordinates are passed\n * @example\n * var multiPt = turf.multiPoint([[0,0],[10,10]]);\n *\n * //=multiPt\n */\nexport function multiPoint(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"MultiPoint\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\n/**\n * Creates a {@link Feature<MultiPolygon>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name multiPolygon\n * @param {Array<Array<Array<Array<number>>>>} coordinates an array of Polygons\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<MultiPolygon>} a multipolygon feature\n * @throws {Error} if no coordinates are passed\n * @example\n * var multiPoly = turf.multiPolygon([[[[0,0],[0,10],[10,10],[10,0],[0,0]]]]);\n *\n * //=multiPoly\n *\n */\nexport function multiPolygon(coordinates, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"MultiPolygon\",\n        coordinates: coordinates,\n    };\n    return feature(geom, properties, options);\n}\n/**\n * Creates a {@link Feature<GeometryCollection>} based on a\n * coordinate array. Properties can be added optionally.\n *\n * @name geometryCollection\n * @param {Array<Geometry>} geometries an array of GeoJSON Geometries\n * @param {Object} [properties={}] an Object of key-value pairs to add as properties\n * @param {Object} [options={}] Optional Parameters\n * @param {Array<number>} [options.bbox] Bounding Box Array [west, south, east, north] associated with the Feature\n * @param {string|number} [options.id] Identifier associated with the Feature\n * @returns {Feature<GeometryCollection>} a GeoJSON GeometryCollection Feature\n * @example\n * var pt = turf.geometry(\"Point\", [100, 0]);\n * var line = turf.geometry(\"LineString\", [[101, 0], [102, 1]]);\n * var collection = turf.geometryCollection([pt, line]);\n *\n * // => collection\n */\nexport function geometryCollection(geometries, properties, options) {\n    if (options === void 0) { options = {}; }\n    var geom = {\n        type: \"GeometryCollection\",\n        geometries: geometries,\n    };\n    return feature(geom, properties, options);\n}\n/**\n * Round number to precision\n *\n * @param {number} num Number\n * @param {number} [precision=0] Precision\n * @returns {number} rounded number\n * @example\n * turf.round(120.4321)\n * //=120\n *\n * turf.round(120.4321, 2)\n * //=120.43\n */\nexport function round(num, precision) {\n    if (precision === void 0) { precision = 0; }\n    if (precision && !(precision >= 0)) {\n        throw new Error(\"precision must be a positive number\");\n    }\n    var multiplier = Math.pow(10, precision || 0);\n    return Math.round(num * multiplier) / multiplier;\n}\n/**\n * Convert a distance measurement (assuming a spherical Earth) from radians to a more friendly unit.\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, kilometers, centimeters, feet\n *\n * @name radiansToLength\n * @param {number} radians in radians across the sphere\n * @param {string} [units=\"kilometers\"] can be degrees, radians, miles, inches, yards, metres,\n * meters, kilometres, kilometers.\n * @returns {number} distance\n */\nexport function radiansToLength(radians, units) {\n    if (units === void 0) { units = \"kilometers\"; }\n    var factor = factors[units];\n    if (!factor) {\n        throw new Error(units + \" units is invalid\");\n    }\n    return radians * factor;\n}\n/**\n * Convert a distance measurement (assuming a spherical Earth) from a real-world unit into radians\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, kilometers, centimeters, feet\n *\n * @name lengthToRadians\n * @param {number} distance in real units\n * @param {string} [units=\"kilometers\"] can be degrees, radians, miles, inches, yards, metres,\n * meters, kilometres, kilometers.\n * @returns {number} radians\n */\nexport function lengthToRadians(distance, units) {\n    if (units === void 0) { units = \"kilometers\"; }\n    var factor = factors[units];\n    if (!factor) {\n        throw new Error(units + \" units is invalid\");\n    }\n    return distance / factor;\n}\n/**\n * Convert a distance measurement (assuming a spherical Earth) from a real-world unit into degrees\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, centimeters, kilometres, feet\n *\n * @name lengthToDegrees\n * @param {number} distance in real units\n * @param {string} [units=\"kilometers\"] can be degrees, radians, miles, inches, yards, metres,\n * meters, kilometres, kilometers.\n * @returns {number} degrees\n */\nexport function lengthToDegrees(distance, units) {\n    return radiansToDegrees(lengthToRadians(distance, units));\n}\n/**\n * Converts any bearing angle from the north line direction (positive clockwise)\n * and returns an angle between 0-360 degrees (positive clockwise), 0 being the north line\n *\n * @name bearingToAzimuth\n * @param {number} bearing angle, between -180 and +180 degrees\n * @returns {number} angle between 0 and 360 degrees\n */\nexport function bearingToAzimuth(bearing) {\n    var angle = bearing % 360;\n    if (angle < 0) {\n        angle += 360;\n    }\n    return angle;\n}\n/**\n * Converts an angle in radians to degrees\n *\n * @name radiansToDegrees\n * @param {number} radians angle in radians\n * @returns {number} degrees between 0 and 360 degrees\n */\nexport function radiansToDegrees(radians) {\n    var degrees = radians % (2 * Math.PI);\n    return (degrees * 180) / Math.PI;\n}\n/**\n * Converts an angle in degrees to radians\n *\n * @name degreesToRadians\n * @param {number} degrees angle between 0 and 360 degrees\n * @returns {number} angle in radians\n */\nexport function degreesToRadians(degrees) {\n    var radians = degrees % 360;\n    return (radians * Math.PI) / 180;\n}\n/**\n * Converts a length to the requested unit.\n * Valid units: miles, nauticalmiles, inches, yards, meters, metres, kilometers, centimeters, feet\n *\n * @param {number} length to be converted\n * @param {Units} [originalUnit=\"kilometers\"] of the length\n * @param {Units} [finalUnit=\"kilometers\"] returned unit\n * @returns {number} the converted length\n */\nexport function convertLength(length, originalUnit, finalUnit) {\n    if (originalUnit === void 0) { originalUnit = \"kilometers\"; }\n    if (finalUnit === void 0) { finalUnit = \"kilometers\"; }\n    if (!(length >= 0)) {\n        throw new Error(\"length must be a positive number\");\n    }\n    return radiansToLength(lengthToRadians(length, originalUnit), finalUnit);\n}\n/**\n * Converts a area to the requested unit.\n * Valid units: kilometers, kilometres, meters, metres, centimetres, millimeters, acres, miles, yards, feet, inches, hectares\n * @param {number} area to be converted\n * @param {Units} [originalUnit=\"meters\"] of the distance\n * @param {Units} [finalUnit=\"kilometers\"] returned unit\n * @returns {number} the converted area\n */\nexport function convertArea(area, originalUnit, finalUnit) {\n    if (originalUnit === void 0) { originalUnit = \"meters\"; }\n    if (finalUnit === void 0) { finalUnit = \"kilometers\"; }\n    if (!(area >= 0)) {\n        throw new Error(\"area must be a positive number\");\n    }\n    var startFactor = areaFactors[originalUnit];\n    if (!startFactor) {\n        throw new Error(\"invalid original units\");\n    }\n    var finalFactor = areaFactors[finalUnit];\n    if (!finalFactor) {\n        throw new Error(\"invalid final units\");\n    }\n    return (area / startFactor) * finalFactor;\n}\n/**\n * isNumber\n *\n * @param {*} num Number to validate\n * @returns {boolean} true/false\n * @example\n * turf.isNumber(123)\n * //=true\n * turf.isNumber('foo')\n * //=false\n */\nexport function isNumber(num) {\n    return !isNaN(num) && num !== null && !Array.isArray(num);\n}\n/**\n * isObject\n *\n * @param {*} input variable to validate\n * @returns {boolean} true/false\n * @example\n * turf.isObject({elevation: 10})\n * //=true\n * turf.isObject('foo')\n * //=false\n */\nexport function isObject(input) {\n    return !!input && input.constructor === Object;\n}\n/**\n * Validate BBox\n *\n * @private\n * @param {Array<number>} bbox BBox to validate\n * @returns {void}\n * @throws Error if BBox is not valid\n * @example\n * validateBBox([-180, -40, 110, 50])\n * //=OK\n * validateBBox([-180, -40])\n * //=Error\n * validateBBox('Foo')\n * //=Error\n * validateBBox(5)\n * //=Error\n * validateBBox(null)\n * //=Error\n * validateBBox(undefined)\n * //=Error\n */\nexport function validateBBox(bbox) {\n    if (!bbox) {\n        throw new Error(\"bbox is required\");\n    }\n    if (!Array.isArray(bbox)) {\n        throw new Error(\"bbox must be an Array\");\n    }\n    if (bbox.length !== 4 && bbox.length !== 6) {\n        throw new Error(\"bbox must be an Array of 4 or 6 numbers\");\n    }\n    bbox.forEach(function (num) {\n        if (!isNumber(num)) {\n            throw new Error(\"bbox must only contain numbers\");\n        }\n    });\n}\n/**\n * Validate Id\n *\n * @private\n * @param {string|number} id Id to validate\n * @returns {void}\n * @throws Error if Id is not valid\n * @example\n * validateId([-180, -40, 110, 50])\n * //=Error\n * validateId([-180, -40])\n * //=Error\n * validateId('Foo')\n * //=OK\n * validateId(5)\n * //=OK\n * validateId(null)\n * //=Error\n * validateId(undefined)\n * //=Error\n */\nexport function validateId(id) {\n    if (!id) {\n        throw new Error(\"id is required\");\n    }\n    if ([\"string\", \"number\"].indexOf(typeof id) === -1) {\n        throw new Error(\"id must be a number or a string\");\n    }\n}\n","import { polygon } from \"@turf/helpers\";\n/**\n * Takes a bbox and returns an equivalent {@link Polygon|polygon}.\n *\n * @name bboxPolygon\n * @param {BBox} bbox extent in [minX, minY, maxX, maxY] order\n * @param {Object} [options={}] Optional parameters\n * @param {Properties} [options.properties={}] Translate properties to Polygon\n * @param {string|number} [options.id={}] Translate Id to Polygon\n * @returns {Feature<Polygon>} a Polygon representation of the bounding box\n * @example\n * var bbox = [0, 0, 10, 10];\n *\n * var poly = turf.bboxPolygon(bbox);\n *\n * //addToMap\n * var addToMap = [poly]\n */\nexport default function bboxPolygon(bbox, options) {\n    if (options === void 0) { options = {}; }\n    // Convert BBox positions to Numbers\n    // No performance loss for including Number()\n    // https://github.com/Turfjs/turf/issues/1119\n    var west = Number(bbox[0]);\n    var south = Number(bbox[1]);\n    var east = Number(bbox[2]);\n    var north = Number(bbox[3]);\n    if (bbox.length === 6) {\n        throw new Error(\"@turf/bbox-polygon does not support BBox with 6 positions\");\n    }\n    var lowLeft = [west, south];\n    var topLeft = [west, north];\n    var topRight = [east, north];\n    var lowRight = [east, south];\n    return polygon([[lowLeft, lowRight, topRight, topLeft, lowLeft]], options.properties, { bbox: bbox, id: options.id });\n}\n","// https://en.wikipedia.org/wiki/Rhumb_line\nimport { convertLength, degreesToRadians, earthRadius, point, } from \"@turf/helpers\";\nimport { getCoord } from \"@turf/invariant\";\n/**\n * Returns the destination {@link Point} having travelled the given distance along a Rhumb line from the\n * origin Point with the (varant) given bearing.\n *\n * @name rhumbDestination\n * @param {Coord} origin starting point\n * @param {number} distance distance from the starting point\n * @param {number} bearing varant bearing angle ranging from -180 to 180 degrees from north\n * @param {Object} [options={}] Optional parameters\n * @param {string} [options.units='kilometers'] can be degrees, radians, miles, or kilometers\n * @param {Object} [options.properties={}] translate properties to destination point\n * @returns {Feature<Point>} Destination point.\n * @example\n * var pt = turf.point([-75.343, 39.984], {\"marker-color\": \"F00\"});\n * var distance = 50;\n * var bearing = 90;\n * var options = {units: 'miles'};\n *\n * var destination = turf.rhumbDestination(pt, distance, bearing, options);\n *\n * //addToMap\n * var addToMap = [pt, destination]\n * destination.properties['marker-color'] = '#00F';\n */\nfunction rhumbDestination(origin, distance, bearing, options) {\n    if (options === void 0) { options = {}; }\n    var wasNegativeDistance = distance < 0;\n    var distanceInMeters = convertLength(Math.abs(distance), options.units, \"meters\");\n    if (wasNegativeDistance)\n        distanceInMeters = -Math.abs(distanceInMeters);\n    var coords = getCoord(origin);\n    var destination = calculateRhumbDestination(coords, distanceInMeters, bearing);\n    // compensate the crossing of the 180th meridian (https://macwright.org/2016/09/26/the-180th-meridian.html)\n    // solution from https://github.com/mapbox/mapbox-gl-js/issues/3250#issuecomment-294887678\n    destination[0] +=\n        destination[0] - coords[0] > 180\n            ? -360\n            : coords[0] - destination[0] > 180\n                ? 360\n                : 0;\n    return point(destination, options.properties);\n}\n/**\n * Returns the destination point having travelled along a rhumb line from origin point the given\n * distance on the  given bearing.\n * Adapted from Geodesy: http://www.movable-type.co.uk/scripts/latlong.html#rhumblines\n *\n * @private\n * @param   {Array<number>} origin - point\n * @param   {number} distance - Distance travelled, in same units as earth radius (default: metres).\n * @param   {number} bearing - Bearing in degrees from north.\n * @param   {number} [radius=6371e3] - (Mean) radius of earth (defaults to radius in metres).\n * @returns {Array<number>} Destination point.\n */\nfunction calculateRhumbDestination(origin, distance, bearing, radius) {\n    // φ => phi\n    // λ => lambda\n    // ψ => psi\n    // Δ => Delta\n    // δ => delta\n    // θ => theta\n    radius = radius === undefined ? earthRadius : Number(radius);\n    var delta = distance / radius; // angular distance in radians\n    var lambda1 = (origin[0] * Math.PI) / 180; // to radians, but without normalize to 𝜋\n    var phi1 = degreesToRadians(origin[1]);\n    var theta = degreesToRadians(bearing);\n    var DeltaPhi = delta * Math.cos(theta);\n    var phi2 = phi1 + DeltaPhi;\n    // check for some daft bugger going past the pole, normalise latitude if so\n    if (Math.abs(phi2) > Math.PI / 2) {\n        phi2 = phi2 > 0 ? Math.PI - phi2 : -Math.PI - phi2;\n    }\n    var DeltaPsi = Math.log(Math.tan(phi2 / 2 + Math.PI / 4) / Math.tan(phi1 / 2 + Math.PI / 4));\n    // E-W course becomes ill-conditioned with 0/0\n    var q = Math.abs(DeltaPsi) > 10e-12 ? DeltaPhi / DeltaPsi : Math.cos(phi1);\n    var DeltaLambda = (delta * Math.sin(theta)) / q;\n    var lambda2 = lambda1 + DeltaLambda;\n    return [\n        (((lambda2 * 180) / Math.PI + 540) % 360) - 180,\n        (phi2 * 180) / Math.PI,\n    ]; // normalise to −180..+180°\n}\nexport default rhumbDestination;\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\n/** @ignore */ const undf = void (0);\n/** @ignore */\nexport function valueToString(x) {\n    if (x === null) {\n        return 'null';\n    }\n    if (x === undf) {\n        return 'undefined';\n    }\n    switch (typeof x) {\n        case 'number': return `${x}`;\n        case 'bigint': return `${x}`;\n        case 'string': return `\"${x}\"`;\n    }\n    // If [Symbol.toPrimitive] is implemented (like in BN)\n    // use it instead of JSON.stringify(). This ensures we\n    // print BigInts, Decimals, and Binary in their native\n    // representation\n    if (typeof x[Symbol.toPrimitive] === 'function') {\n        return x[Symbol.toPrimitive]('string');\n    }\n    if (ArrayBuffer.isView(x)) {\n        if (x instanceof BigInt64Array || x instanceof BigUint64Array) {\n            return `[${[...x].map(x => valueToString(x))}]`;\n        }\n        return `[${x}]`;\n    }\n    return ArrayBuffer.isView(x) ? `[${x}]` : JSON.stringify(x, (_, y) => typeof y === 'bigint' ? `${y}` : y);\n}\n\n//# sourceMappingURL=pretty.mjs.map\n","// automatically generated by the FlatBuffers compiler, do not modify\nexport var TimeUnit;\n(function (TimeUnit) {\n    TimeUnit[TimeUnit[\"SECOND\"] = 0] = \"SECOND\";\n    TimeUnit[TimeUnit[\"MILLISECOND\"] = 1] = \"MILLISECOND\";\n    TimeUnit[TimeUnit[\"MICROSECOND\"] = 2] = \"MICROSECOND\";\n    TimeUnit[TimeUnit[\"NANOSECOND\"] = 3] = \"NANOSECOND\";\n})(TimeUnit || (TimeUnit = {}));\n\n//# sourceMappingURL=time-unit.mjs.map\n","// automatically generated by the FlatBuffers compiler, do not modify\nimport * as flatbuffers from 'flatbuffers';\nexport class FixedSizeBinary {\n    constructor() {\n        this.bb = null;\n        this.bb_pos = 0;\n    }\n    __init(i, bb) {\n        this.bb_pos = i;\n        this.bb = bb;\n        return this;\n    }\n    static getRootAsFixedSizeBinary(bb, obj) {\n        return (obj || new FixedSizeBinary()).__init(bb.readInt32(bb.position()) + bb.position(), bb);\n    }\n    static getSizePrefixedRootAsFixedSizeBinary(bb, obj) {\n        bb.setPosition(bb.position() + flatbuffers.SIZE_PREFIX_LENGTH);\n        return (obj || new FixedSizeBinary()).__init(bb.readInt32(bb.position()) + bb.position(), bb);\n    }\n    /**\n     * Number of bytes per value\n     */\n    byteWidth() {\n        const offset = this.bb.__offset(this.bb_pos, 4);\n        return offset ? this.bb.readInt32(this.bb_pos + offset) : 0;\n    }\n    static startFixedSizeBinary(builder) {\n        builder.startObject(1);\n    }\n    static addByteWidth(builder, byteWidth) {\n        builder.addFieldInt32(0, byteWidth, 0);\n    }\n    static endFixedSizeBinary(builder) {\n        const offset = builder.endObject();\n        return offset;\n    }\n    static createFixedSizeBinary(builder, byteWidth) {\n        FixedSizeBinary.startFixedSizeBinary(builder);\n        FixedSizeBinary.addByteWidth(builder, byteWidth);\n        return FixedSizeBinary.endFixedSizeBinary(builder);\n    }\n}\n\n//# sourceMappingURL=fixed-size-binary.mjs.map\n","// automatically generated by the FlatBuffers compiler, do not modify\nimport * as flatbuffers from 'flatbuffers';\nexport class FixedSizeList {\n    constructor() {\n        this.bb = null;\n        this.bb_pos = 0;\n    }\n    __init(i, bb) {\n        this.bb_pos = i;\n        this.bb = bb;\n        return this;\n    }\n    static getRootAsFixedSizeList(bb, obj) {\n        return (obj || new FixedSizeList()).__init(bb.readInt32(bb.position()) + bb.position(), bb);\n    }\n    static getSizePrefixedRootAsFixedSizeList(bb, obj) {\n        bb.setPosition(bb.position() + flatbuffers.SIZE_PREFIX_LENGTH);\n        return (obj || new FixedSizeList()).__init(bb.readInt32(bb.position()) + bb.position(), bb);\n    }\n    /**\n     * Number of list items per value\n     */\n    listSize() {\n        const offset = this.bb.__offset(this.bb_pos, 4);\n        return offset ? this.bb.readInt32(this.bb_pos + offset) : 0;\n    }\n    static startFixedSizeList(builder) {\n        builder.startObject(1);\n    }\n    static addListSize(builder, listSize) {\n        builder.addFieldInt32(0, listSize, 0);\n    }\n    static endFixedSizeList(builder) {\n        const offset = builder.endObject();\n        return offset;\n    }\n    static createFixedSizeList(builder, listSize) {\n        FixedSizeList.startFixedSizeList(builder);\n        FixedSizeList.addListSize(builder, listSize);\n        return FixedSizeList.endFixedSizeList(builder);\n    }\n}\n\n//# sourceMappingURL=fixed-size-list.mjs.map\n","// automatically generated by the FlatBuffers compiler, do not modify\nimport * as flatbuffers from 'flatbuffers';\n/**\n * A Map is a logical nested type that is represented as\n *\n * List<entries: Struct<key: K, value: V>>\n *\n * In this layout, the keys and values are each respectively contiguous. We do\n * not constrain the key and value types, so the application is responsible\n * for ensuring that the keys are hashable and unique. Whether the keys are sorted\n * may be set in the metadata for this field.\n *\n * In a field with Map type, the field has a child Struct field, which then\n * has two children: key type and the second the value type. The names of the\n * child fields may be respectively \"entries\", \"key\", and \"value\", but this is\n * not enforced.\n *\n * Map\n * ```text\n *   - child[0] entries: Struct\n *     - child[0] key: K\n *     - child[1] value: V\n * ```\n * Neither the \"entries\" field nor the \"key\" field may be nullable.\n *\n * The metadata is structured so that Arrow systems without special handling\n * for Map can make Map an alias for List. The \"layout\" attribute for the Map\n * field must have the same contents as a List.\n */\nexport class Map {\n    constructor() {\n        this.bb = null;\n        this.bb_pos = 0;\n    }\n    __init(i, bb) {\n        this.bb_pos = i;\n        this.bb = bb;\n        return this;\n    }\n    static getRootAsMap(bb, obj) {\n        return (obj || new Map()).__init(bb.readInt32(bb.position()) + bb.position(), bb);\n    }\n    static getSizePrefixedRootAsMap(bb, obj) {\n        bb.setPosition(bb.position() + flatbuffers.SIZE_PREFIX_LENGTH);\n        return (obj || new Map()).__init(bb.readInt32(bb.position()) + bb.position(), bb);\n    }\n    /**\n     * Set to true if the keys within each value are sorted\n     */\n    keysSorted() {\n        const offset = this.bb.__offset(this.bb_pos, 4);\n        return offset ? !!this.bb.readInt8(this.bb_pos + offset) : false;\n    }\n    static startMap(builder) {\n        builder.startObject(1);\n    }\n    static addKeysSorted(builder, keysSorted) {\n        builder.addFieldInt8(0, +keysSorted, +false);\n    }\n    static endMap(builder) {\n        const offset = builder.endObject();\n        return offset;\n    }\n    static createMap(builder, keysSorted) {\n        Map.startMap(builder);\n        Map.addKeysSorted(builder, keysSorted);\n        return Map.endMap(builder);\n    }\n}\n\n//# sourceMappingURL=map.mjs.map\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nimport { memcpy } from '../util/buffer.mjs';\n/** @ignore */\nconst roundLengthUpToNearest64Bytes = (len, BPE) => ((((Math.ceil(len) * BPE) + 63) & ~63) || 64) / BPE;\n/** @ignore */\nconst sliceOrExtendArray = (arr, len = 0) => (arr.length >= len ? arr.subarray(0, len) : memcpy(new arr.constructor(len), arr, 0));\n/** @ignore */\nexport class BufferBuilder {\n    constructor(buffer, stride = 1) {\n        this.buffer = buffer;\n        this.stride = stride;\n        this.BYTES_PER_ELEMENT = buffer.BYTES_PER_ELEMENT;\n        this.ArrayType = buffer.constructor;\n        this._resize(this.length = Math.ceil(buffer.length / stride));\n    }\n    get byteLength() {\n        return Math.ceil(this.length * this.stride) * this.BYTES_PER_ELEMENT;\n    }\n    get reservedLength() { return this.buffer.length / this.stride; }\n    get reservedByteLength() { return this.buffer.byteLength; }\n    // @ts-ignore\n    set(index, value) { return this; }\n    append(value) { return this.set(this.length, value); }\n    reserve(extra) {\n        if (extra > 0) {\n            this.length += extra;\n            const stride = this.stride;\n            const length = this.length * stride;\n            const reserved = this.buffer.length;\n            if (length >= reserved) {\n                this._resize(reserved === 0\n                    ? roundLengthUpToNearest64Bytes(length * 1, this.BYTES_PER_ELEMENT)\n                    : roundLengthUpToNearest64Bytes(length * 2, this.BYTES_PER_ELEMENT));\n            }\n        }\n        return this;\n    }\n    flush(length = this.length) {\n        length = roundLengthUpToNearest64Bytes(length * this.stride, this.BYTES_PER_ELEMENT);\n        const array = sliceOrExtendArray(this.buffer, length);\n        this.clear();\n        return array;\n    }\n    clear() {\n        this.length = 0;\n        this._resize(0);\n        return this;\n    }\n    _resize(newLength) {\n        return this.buffer = memcpy(new this.ArrayType(newLength), this.buffer);\n    }\n}\nBufferBuilder.prototype.offset = 0;\n/** @ignore */\nexport class DataBufferBuilder extends BufferBuilder {\n    last() { return this.get(this.length - 1); }\n    get(index) { return this.buffer[index]; }\n    set(index, value) {\n        this.reserve(index - this.length + 1);\n        this.buffer[index * this.stride] = value;\n        return this;\n    }\n}\n/** @ignore */\nexport class BitmapBufferBuilder extends DataBufferBuilder {\n    constructor(data = new Uint8Array(0)) {\n        super(data, 1 / 8);\n        this.numValid = 0;\n    }\n    get numInvalid() { return this.length - this.numValid; }\n    get(idx) { return this.buffer[idx >> 3] >> idx % 8 & 1; }\n    set(idx, val) {\n        const { buffer } = this.reserve(idx - this.length + 1);\n        const byte = idx >> 3, bit = idx % 8, cur = buffer[byte] >> bit & 1;\n        // If `val` is truthy and the current bit is 0, flip it to 1 and increment `numValid`.\n        // If `val` is falsey and the current bit is 1, flip it to 0 and decrement `numValid`.\n        val ? cur === 0 && ((buffer[byte] |= (1 << bit)), ++this.numValid)\n            : cur === 1 && ((buffer[byte] &= ~(1 << bit)), --this.numValid);\n        return this;\n    }\n    clear() {\n        this.numValid = 0;\n        return super.clear();\n    }\n}\n/** @ignore */\nexport class OffsetsBufferBuilder extends DataBufferBuilder {\n    constructor(data = new Int32Array(1)) { super(data, 1); }\n    append(value) {\n        return this.set(this.length - 1, value);\n    }\n    set(index, value) {\n        const offset = this.length - 1;\n        const buffer = this.reserve(index - offset + 1).buffer;\n        if (offset < index++) {\n            buffer.fill(buffer[offset], offset, index);\n        }\n        buffer[index] = buffer[index - 1] + value;\n        return this;\n    }\n    flush(length = this.length - 1) {\n        if (length > this.length) {\n            this.set(length - 1, 0);\n        }\n        return super.flush(length + 1);\n    }\n}\n\n//# sourceMappingURL=buffer.mjs.map\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nimport { valueToString } from '../util/pretty.mjs';\n/**\n * Dynamically compile the null values into an `isValid()` function whose\n * implementation is a switch statement. Microbenchmarks in v8 indicate\n * this approach is 25% faster than using an ES6 Map.\n *\n * @example\n * console.log(createIsValidFunction([null, 'N/A', NaN]));\n * `function (x) {\n *     if (x !== x) return false;\n *     switch (x) {\n *         case null:\n *         case \"N/A\":\n *             return false;\n *     }\n *     return true;\n * }`\n *\n * @ignore\n * @param nullValues\n */\nexport function createIsValidFunction(nullValues) {\n    if (!nullValues || nullValues.length <= 0) {\n        // @ts-ignore\n        return function isValid(value) { return true; };\n    }\n    let fnBody = '';\n    const noNaNs = nullValues.filter((x) => x === x);\n    if (noNaNs.length > 0) {\n        fnBody = `\n    switch (x) {${noNaNs.map((x) => `\n        case ${valueToCase(x)}:`).join('')}\n            return false;\n    }`;\n    }\n    // NaN doesn't equal anything including itself, so it doesn't work as a\n    // switch case. Instead we must explicitly check for NaN before the switch.\n    if (nullValues.length !== noNaNs.length) {\n        fnBody = `if (x !== x) return false;\\n${fnBody}`;\n    }\n    return new Function(`x`, `${fnBody}\\nreturn true;`);\n}\n/** @ignore */\nfunction valueToCase(x) {\n    if (typeof x !== 'bigint') {\n        return valueToString(x);\n    }\n    return `${valueToString(x)}n`;\n}\n\n//# sourceMappingURL=valid.mjs.map\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nimport { Vector } from './vector.mjs';\nimport { makeData } from './data.mjs';\nimport { MapRow, kKeys } from './row/map.mjs';\nimport { strideForType, } from './type.mjs';\nimport { createIsValidFunction } from './builder/valid.mjs';\nimport { BitmapBufferBuilder, DataBufferBuilder, OffsetsBufferBuilder } from './builder/buffer.mjs';\n/**\n * An abstract base class for types that construct Arrow Vectors from arbitrary JavaScript values.\n *\n * A `Builder` is responsible for writing arbitrary JavaScript values\n * to ArrayBuffers and/or child Builders according to the Arrow specification\n * for each DataType, creating or resizing the underlying ArrayBuffers as necessary.\n *\n * The `Builder` for each Arrow `DataType` handles converting and appending\n * values for a given `DataType`. The high-level {@link makeBuilder `makeBuilder()`} convenience\n * method creates the specific `Builder` subclass for the supplied `DataType`.\n *\n * Once created, `Builder` instances support both appending values to the end\n * of the `Builder`, and random-access writes to specific indices\n * (`Builder.prototype.append(value)` is a convenience method for\n * `builder.set(builder.length, value)`). Appending or setting values beyond the\n * Builder's current length may cause the builder to grow its underlying buffers\n * or child Builders (if applicable) to accommodate the new values.\n *\n * After enough values have been written to a `Builder`, `Builder.prototype.flush()`\n * will commit the values to the underlying ArrayBuffers (or child Builders). The\n * internal Builder state will be reset, and an instance of `Data<T>` is returned.\n * Alternatively, `Builder.prototype.toVector()` will flush the `Builder` and return\n * an instance of `Vector<T>` instead.\n *\n * When there are no more values to write, use `Builder.prototype.finish()` to\n * finalize the `Builder`. This does not reset the internal state, so it is\n * necessary to call `Builder.prototype.flush()` or `toVector()` one last time\n * if there are still values queued to be flushed.\n *\n * Note: calling `Builder.prototype.finish()` is required when using a `DictionaryBuilder`,\n * because this is when it flushes the values that have been enqueued in its internal\n * dictionary's `Builder`, and creates the `dictionaryVector` for the `Dictionary` `DataType`.\n *\n * @example\n * ```ts\n * import { Builder, Utf8 } from 'apache-arrow';\n *\n * const utf8Builder = makeBuilder({\n *     type: new Utf8(),\n *     nullValues: [null, 'n/a']\n * });\n *\n * utf8Builder\n *     .append('hello')\n *     .append('n/a')\n *     .append('world')\n *     .append(null);\n *\n * const utf8Vector = utf8Builder.finish().toVector();\n *\n * console.log(utf8Vector.toJSON());\n * // > [\"hello\", null, \"world\", null]\n * ```\n *\n * @typeparam T The `DataType` of this `Builder`.\n * @typeparam TNull The type(s) of values which will be considered null-value sentinels.\n */\nexport class Builder {\n    /** @nocollapse */\n    // @ts-ignore\n    static throughNode(options) {\n        throw new Error(`\"throughNode\" not available in this environment`);\n    }\n    /** @nocollapse */\n    // @ts-ignore\n    static throughDOM(options) {\n        throw new Error(`\"throughDOM\" not available in this environment`);\n    }\n    /**\n     * Construct a builder with the given Arrow DataType with optional null values,\n     * which will be interpreted as \"null\" when set or appended to the `Builder`.\n     * @param {{ type: T, nullValues?: any[] }} options A `BuilderOptions` object used to create this `Builder`.\n     */\n    constructor({ 'type': type, 'nullValues': nulls }) {\n        /**\n         * The number of values written to the `Builder` that haven't been flushed yet.\n         * @readonly\n         */\n        this.length = 0;\n        /**\n         * A boolean indicating whether `Builder.prototype.finish()` has been called on this `Builder`.\n         * @readonly\n         */\n        this.finished = false;\n        this.type = type;\n        this.children = [];\n        this.nullValues = nulls;\n        this.stride = strideForType(type);\n        this._nulls = new BitmapBufferBuilder();\n        if (nulls && nulls.length > 0) {\n            this._isValid = createIsValidFunction(nulls);\n        }\n    }\n    /**\n     * Flush the `Builder` and return a `Vector<T>`.\n     * @returns {Vector<T>} A `Vector<T>` of the flushed values.\n     */\n    toVector() { return new Vector([this.flush()]); }\n    get ArrayType() { return this.type.ArrayType; }\n    get nullCount() { return this._nulls.numInvalid; }\n    get numChildren() { return this.children.length; }\n    /**\n     * @returns The aggregate length (in bytes) of the values that have been written.\n     */\n    get byteLength() {\n        let size = 0;\n        const { _offsets, _values, _nulls, _typeIds, children } = this;\n        _offsets && (size += _offsets.byteLength);\n        _values && (size += _values.byteLength);\n        _nulls && (size += _nulls.byteLength);\n        _typeIds && (size += _typeIds.byteLength);\n        return children.reduce((size, child) => size + child.byteLength, size);\n    }\n    /**\n     * @returns The aggregate number of rows that have been reserved to write new values.\n     */\n    get reservedLength() {\n        return this._nulls.reservedLength;\n    }\n    /**\n     * @returns The aggregate length (in bytes) that has been reserved to write new values.\n     */\n    get reservedByteLength() {\n        let size = 0;\n        this._offsets && (size += this._offsets.reservedByteLength);\n        this._values && (size += this._values.reservedByteLength);\n        this._nulls && (size += this._nulls.reservedByteLength);\n        this._typeIds && (size += this._typeIds.reservedByteLength);\n        return this.children.reduce((size, child) => size + child.reservedByteLength, size);\n    }\n    get valueOffsets() { return this._offsets ? this._offsets.buffer : null; }\n    get values() { return this._values ? this._values.buffer : null; }\n    get nullBitmap() { return this._nulls ? this._nulls.buffer : null; }\n    get typeIds() { return this._typeIds ? this._typeIds.buffer : null; }\n    /**\n     * Appends a value (or null) to this `Builder`.\n     * This is equivalent to `builder.set(builder.length, value)`.\n     * @param {T['TValue'] | TNull } value The value to append.\n     */\n    append(value) { return this.set(this.length, value); }\n    /**\n     * Validates whether a value is valid (true), or null (false)\n     * @param {T['TValue'] | TNull } value The value to compare against null the value representations\n     */\n    isValid(value) { return this._isValid(value); }\n    /**\n     * Write a value (or null-value sentinel) at the supplied index.\n     * If the value matches one of the null-value representations, a 1-bit is\n     * written to the null `BitmapBufferBuilder`. Otherwise, a 0 is written to\n     * the null `BitmapBufferBuilder`, and the value is passed to\n     * `Builder.prototype.setValue()`.\n     * @param {number} index The index of the value to write.\n     * @param {T['TValue'] | TNull } value The value to write at the supplied index.\n     * @returns {this} The updated `Builder` instance.\n     */\n    set(index, value) {\n        if (this.setValid(index, this.isValid(value))) {\n            this.setValue(index, value);\n        }\n        return this;\n    }\n    /**\n     * Write a value to the underlying buffers at the supplied index, bypassing\n     * the null-value check. This is a low-level method that\n     * @param {number} index\n     * @param {T['TValue'] | TNull } value\n     */\n    setValue(index, value) { this._setValue(this, index, value); }\n    setValid(index, valid) {\n        this.length = this._nulls.set(index, +valid).length;\n        return valid;\n    }\n    // @ts-ignore\n    addChild(child, name = `${this.numChildren}`) {\n        throw new Error(`Cannot append children to non-nested type \"${this.type}\"`);\n    }\n    /**\n     * Retrieve the child `Builder` at the supplied `index`, or null if no child\n     * exists at that index.\n     * @param {number} index The index of the child `Builder` to retrieve.\n     * @returns {Builder | null} The child Builder at the supplied index or null.\n     */\n    getChildAt(index) {\n        return this.children[index] || null;\n    }\n    /**\n     * Commit all the values that have been written to their underlying\n     * ArrayBuffers, including any child Builders if applicable, and reset\n     * the internal `Builder` state.\n     * @returns A `Data<T>` of the buffers and children representing the values written.\n     */\n    flush() {\n        let data;\n        let typeIds;\n        let nullBitmap;\n        let valueOffsets;\n        const { type, length, nullCount, _typeIds, _offsets, _values, _nulls } = this;\n        if (typeIds = _typeIds === null || _typeIds === void 0 ? void 0 : _typeIds.flush(length)) { // Unions\n            // DenseUnions\n            valueOffsets = _offsets === null || _offsets === void 0 ? void 0 : _offsets.flush(length);\n        }\n        else if (valueOffsets = _offsets === null || _offsets === void 0 ? void 0 : _offsets.flush(length)) { // Variable-width primitives (Binary, Utf8), and Lists\n            // Binary, Utf8\n            data = _values === null || _values === void 0 ? void 0 : _values.flush(_offsets.last());\n        }\n        else { // Fixed-width primitives (Int, Float, Decimal, Time, Timestamp, and Interval)\n            data = _values === null || _values === void 0 ? void 0 : _values.flush(length);\n        }\n        if (nullCount > 0) {\n            nullBitmap = _nulls === null || _nulls === void 0 ? void 0 : _nulls.flush(length);\n        }\n        const children = this.children.map((child) => child.flush());\n        this.clear();\n        return makeData({\n            type, length, nullCount,\n            children, 'child': children[0],\n            data, typeIds, nullBitmap, valueOffsets,\n        });\n    }\n    /**\n     * Finalize this `Builder`, and child builders if applicable.\n     * @returns {this} The finalized `Builder` instance.\n     */\n    finish() {\n        this.finished = true;\n        for (const child of this.children)\n            child.finish();\n        return this;\n    }\n    /**\n     * Clear this Builder's internal state, including child Builders if applicable, and reset the length to 0.\n     * @returns {this} The cleared `Builder` instance.\n     */\n    clear() {\n        var _a, _b, _c, _d;\n        this.length = 0;\n        (_a = this._nulls) === null || _a === void 0 ? void 0 : _a.clear();\n        (_b = this._values) === null || _b === void 0 ? void 0 : _b.clear();\n        (_c = this._offsets) === null || _c === void 0 ? void 0 : _c.clear();\n        (_d = this._typeIds) === null || _d === void 0 ? void 0 : _d.clear();\n        for (const child of this.children)\n            child.clear();\n        return this;\n    }\n}\nBuilder.prototype.length = 1;\nBuilder.prototype.stride = 1;\nBuilder.prototype.children = null;\nBuilder.prototype.finished = false;\nBuilder.prototype.nullValues = null;\nBuilder.prototype._isValid = () => true;\n/** @ignore */\nexport class FixedWidthBuilder extends Builder {\n    constructor(opts) {\n        super(opts);\n        this._values = new DataBufferBuilder(new this.ArrayType(0), this.stride);\n    }\n    setValue(index, value) {\n        const values = this._values;\n        values.reserve(index - values.length + 1);\n        return super.setValue(index, value);\n    }\n}\n/** @ignore */\nexport class VariableWidthBuilder extends Builder {\n    constructor(opts) {\n        super(opts);\n        this._pendingLength = 0;\n        this._offsets = new OffsetsBufferBuilder();\n    }\n    setValue(index, value) {\n        const pending = this._pending || (this._pending = new Map());\n        const current = pending.get(index);\n        current && (this._pendingLength -= current.length);\n        this._pendingLength += (value instanceof MapRow) ? value[kKeys].length : value.length;\n        pending.set(index, value);\n    }\n    setValid(index, isValid) {\n        if (!super.setValid(index, isValid)) {\n            (this._pending || (this._pending = new Map())).set(index, undefined);\n            return false;\n        }\n        return true;\n    }\n    clear() {\n        this._pendingLength = 0;\n        this._pending = undefined;\n        return super.clear();\n    }\n    flush() {\n        this._flush();\n        return super.flush();\n    }\n    finish() {\n        this._flush();\n        return super.finish();\n    }\n    _flush() {\n        const pending = this._pending;\n        const pendingLength = this._pendingLength;\n        this._pendingLength = 0;\n        this._pending = undefined;\n        if (pending && pending.size > 0) {\n            this._flushPending(pending, pendingLength);\n        }\n        return this;\n    }\n}\n\n//# sourceMappingURL=builder.mjs.map\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nimport { toUint8Array } from '../util/buffer.mjs';\nimport { BufferBuilder } from './buffer.mjs';\nimport { VariableWidthBuilder } from '../builder.mjs';\n/** @ignore */\nexport class BinaryBuilder extends VariableWidthBuilder {\n    constructor(opts) {\n        super(opts);\n        this._values = new BufferBuilder(new Uint8Array(0));\n    }\n    get byteLength() {\n        let size = this._pendingLength + (this.length * 4);\n        this._offsets && (size += this._offsets.byteLength);\n        this._values && (size += this._values.byteLength);\n        this._nulls && (size += this._nulls.byteLength);\n        return size;\n    }\n    setValue(index, value) {\n        return super.setValue(index, toUint8Array(value));\n    }\n    _flushPending(pending, pendingLength) {\n        const offsets = this._offsets;\n        const data = this._values.reserve(pendingLength).buffer;\n        let offset = 0;\n        for (const [index, value] of pending) {\n            if (value === undefined) {\n                offsets.set(index, 0);\n            }\n            else {\n                const length = value.length;\n                data.set(value, offset);\n                offsets.set(index, length);\n                offset += length;\n            }\n        }\n    }\n}\n\n//# sourceMappingURL=binary.mjs.map\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nimport { BitmapBufferBuilder } from './buffer.mjs';\nimport { Builder } from '../builder.mjs';\n/** @ignore */\nexport class BoolBuilder extends Builder {\n    constructor(options) {\n        super(options);\n        this._values = new BitmapBufferBuilder();\n    }\n    setValue(index, value) {\n        this._values.set(index, +value);\n    }\n}\n\n//# sourceMappingURL=bool.mjs.map\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nimport { FixedWidthBuilder } from '../builder.mjs';\nimport { setDate, setDateDay, setDateMillisecond } from '../visitor/set.mjs';\n/** @ignore */\nexport class DateBuilder extends FixedWidthBuilder {\n}\nDateBuilder.prototype._setValue = setDate;\n/** @ignore */\nexport class DateDayBuilder extends DateBuilder {\n}\nDateDayBuilder.prototype._setValue = setDateDay;\n/** @ignore */\nexport class DateMillisecondBuilder extends DateBuilder {\n}\nDateMillisecondBuilder.prototype._setValue = setDateMillisecond;\n\n//# sourceMappingURL=date.mjs.map\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nimport { FixedWidthBuilder } from '../builder.mjs';\nimport { setDecimal } from '../visitor/set.mjs';\n/** @ignore */\nexport class DecimalBuilder extends FixedWidthBuilder {\n}\nDecimalBuilder.prototype._setValue = setDecimal;\n\n//# sourceMappingURL=decimal.mjs.map\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nimport { Dictionary } from '../type.mjs';\nimport { Builder } from '../builder.mjs';\nimport { makeBuilder } from '../factories.mjs';\n/** @ignore */\nexport class DictionaryBuilder extends Builder {\n    constructor({ 'type': type, 'nullValues': nulls, 'dictionaryHashFunction': hashFn }) {\n        super({ type: new Dictionary(type.dictionary, type.indices, type.id, type.isOrdered) });\n        this._nulls = null;\n        this._dictionaryOffset = 0;\n        this._keysToIndices = Object.create(null);\n        this.indices = makeBuilder({ 'type': this.type.indices, 'nullValues': nulls });\n        this.dictionary = makeBuilder({ 'type': this.type.dictionary, 'nullValues': null });\n        if (typeof hashFn === 'function') {\n            this.valueToKey = hashFn;\n        }\n    }\n    get values() { return this.indices.values; }\n    get nullCount() { return this.indices.nullCount; }\n    get nullBitmap() { return this.indices.nullBitmap; }\n    get byteLength() { return this.indices.byteLength + this.dictionary.byteLength; }\n    get reservedLength() { return this.indices.reservedLength + this.dictionary.reservedLength; }\n    get reservedByteLength() { return this.indices.reservedByteLength + this.dictionary.reservedByteLength; }\n    isValid(value) { return this.indices.isValid(value); }\n    setValid(index, valid) {\n        const indices = this.indices;\n        valid = indices.setValid(index, valid);\n        this.length = indices.length;\n        return valid;\n    }\n    setValue(index, value) {\n        const keysToIndices = this._keysToIndices;\n        const key = this.valueToKey(value);\n        let idx = keysToIndices[key];\n        if (idx === undefined) {\n            keysToIndices[key] = idx = this._dictionaryOffset + this.dictionary.append(value).length - 1;\n        }\n        return this.indices.setValue(index, idx);\n    }\n    flush() {\n        const type = this.type;\n        const prev = this._dictionary;\n        const curr = this.dictionary.toVector();\n        const data = this.indices.flush().clone(type);\n        data.dictionary = prev ? prev.concat(curr) : curr;\n        this.finished || (this._dictionaryOffset += curr.length);\n        this._dictionary = data.dictionary;\n        this.clear();\n        return data;\n    }\n    finish() {\n        this.indices.finish();\n        this.dictionary.finish();\n        this._dictionaryOffset = 0;\n        this._keysToIndices = Object.create(null);\n        return super.finish();\n    }\n    clear() {\n        this.indices.clear();\n        this.dictionary.clear();\n        return super.clear();\n    }\n    valueToKey(val) {\n        return typeof val === 'string' ? val : `${val}`;\n    }\n}\n\n//# sourceMappingURL=dictionary.mjs.map\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nimport { FixedWidthBuilder } from '../builder.mjs';\nimport { setFixedSizeBinary } from '../visitor/set.mjs';\n/** @ignore */\nexport class FixedSizeBinaryBuilder extends FixedWidthBuilder {\n}\nFixedSizeBinaryBuilder.prototype._setValue = setFixedSizeBinary;\n\n//# sourceMappingURL=fixedsizebinary.mjs.map\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nimport { Field } from '../schema.mjs';\nimport { Builder } from '../builder.mjs';\nimport { FixedSizeList } from '../type.mjs';\n/** @ignore */\nexport class FixedSizeListBuilder extends Builder {\n    setValue(index, value) {\n        const [child] = this.children;\n        const start = index * this.stride;\n        for (let i = -1, n = value.length; ++i < n;) {\n            child.set(start + i, value[i]);\n        }\n    }\n    addChild(child, name = '0') {\n        if (this.numChildren > 0) {\n            throw new Error('FixedSizeListBuilder can only have one child.');\n        }\n        const childIndex = this.children.push(child);\n        this.type = new FixedSizeList(this.type.listSize, new Field(name, child.type, true));\n        return childIndex;\n    }\n}\n\n//# sourceMappingURL=fixedsizelist.mjs.map\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nimport { float64ToUint16 } from '../util/math.mjs';\nimport { FixedWidthBuilder } from '../builder.mjs';\n/** @ignore */\nexport class FloatBuilder extends FixedWidthBuilder {\n    setValue(index, value) {\n        this._values.set(index, value);\n    }\n}\n/** @ignore */\nexport class Float16Builder extends FloatBuilder {\n    setValue(index, value) {\n        // convert JS float64 to a uint16\n        super.setValue(index, float64ToUint16(value));\n    }\n}\n/** @ignore */\nexport class Float32Builder extends FloatBuilder {\n}\n/** @ignore */\nexport class Float64Builder extends FloatBuilder {\n}\n\n//# sourceMappingURL=float.mjs.map\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nimport { FixedWidthBuilder } from '../builder.mjs';\nimport { setIntervalValue, setIntervalDayTime, setIntervalYearMonth } from '../visitor/set.mjs';\n/** @ignore */\nexport class IntervalBuilder extends FixedWidthBuilder {\n}\nIntervalBuilder.prototype._setValue = setIntervalValue;\n/** @ignore */\nexport class IntervalDayTimeBuilder extends IntervalBuilder {\n}\nIntervalDayTimeBuilder.prototype._setValue = setIntervalDayTime;\n/** @ignore */\nexport class IntervalYearMonthBuilder extends IntervalBuilder {\n}\nIntervalYearMonthBuilder.prototype._setValue = setIntervalYearMonth;\n\n//# sourceMappingURL=interval.mjs.map\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nimport { FixedWidthBuilder } from '../builder.mjs';\n/** @ignore */\nexport class IntBuilder extends FixedWidthBuilder {\n    setValue(index, value) {\n        this._values.set(index, value);\n    }\n}\n/** @ignore */\nexport class Int8Builder extends IntBuilder {\n}\n/** @ignore */\nexport class Int16Builder extends IntBuilder {\n}\n/** @ignore */\nexport class Int32Builder extends IntBuilder {\n}\n/** @ignore */\nexport class Int64Builder extends IntBuilder {\n}\n/** @ignore */\nexport class Uint8Builder extends IntBuilder {\n}\n/** @ignore */\nexport class Uint16Builder extends IntBuilder {\n}\n/** @ignore */\nexport class Uint32Builder extends IntBuilder {\n}\n/** @ignore */\nexport class Uint64Builder extends IntBuilder {\n}\n\n//# sourceMappingURL=int.mjs.map\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nimport { Field } from '../schema.mjs';\nimport { List } from '../type.mjs';\nimport { OffsetsBufferBuilder } from './buffer.mjs';\nimport { VariableWidthBuilder } from '../builder.mjs';\n/** @ignore */\nexport class ListBuilder extends VariableWidthBuilder {\n    constructor(opts) {\n        super(opts);\n        this._offsets = new OffsetsBufferBuilder();\n    }\n    addChild(child, name = '0') {\n        if (this.numChildren > 0) {\n            throw new Error('ListBuilder can only have one child.');\n        }\n        this.children[this.numChildren] = child;\n        this.type = new List(new Field(name, child.type, true));\n        return this.numChildren - 1;\n    }\n    _flushPending(pending) {\n        const offsets = this._offsets;\n        const [child] = this.children;\n        for (const [index, value] of pending) {\n            if (typeof value === 'undefined') {\n                offsets.set(index, 0);\n            }\n            else {\n                const v = value;\n                const n = v.length;\n                const start = offsets.set(index, n).buffer[index];\n                for (let i = -1; ++i < n;) {\n                    child.set(start + i, v[i]);\n                }\n            }\n        }\n    }\n}\n\n//# sourceMappingURL=list.mjs.map\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nimport { Field } from '../schema.mjs';\nimport { Map_ } from '../type.mjs';\nimport { VariableWidthBuilder } from '../builder.mjs';\n/** @ignore */\nexport class MapBuilder extends VariableWidthBuilder {\n    set(index, value) {\n        return super.set(index, value);\n    }\n    setValue(index, value) {\n        const row = (value instanceof Map ? value : new Map(Object.entries(value)));\n        const pending = this._pending || (this._pending = new Map());\n        const current = pending.get(index);\n        current && (this._pendingLength -= current.size);\n        this._pendingLength += row.size;\n        pending.set(index, row);\n    }\n    addChild(child, name = `${this.numChildren}`) {\n        if (this.numChildren > 0) {\n            throw new Error('ListBuilder can only have one child.');\n        }\n        this.children[this.numChildren] = child;\n        this.type = new Map_(new Field(name, child.type, true), this.type.keysSorted);\n        return this.numChildren - 1;\n    }\n    _flushPending(pending) {\n        const offsets = this._offsets;\n        const [child] = this.children;\n        for (const [index, value] of pending) {\n            if (value === undefined) {\n                offsets.set(index, 0);\n            }\n            else {\n                let { [index]: idx, [index + 1]: end } = offsets.set(index, value.size).buffer;\n                for (const val of value.entries()) {\n                    child.set(idx, val);\n                    if (++idx >= end)\n                        break;\n                }\n            }\n        }\n    }\n}\n\n//# sourceMappingURL=map.mjs.map\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nimport { Builder } from '../builder.mjs';\n/** @ignore */\nexport class NullBuilder extends Builder {\n    // @ts-ignore\n    setValue(index, value) { }\n    setValid(index, valid) {\n        this.length = Math.max(index + 1, this.length);\n        return valid;\n    }\n}\n\n//# sourceMappingURL=null.mjs.map\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\n/* eslint-disable unicorn/no-array-for-each */\nimport { Field } from '../schema.mjs';\nimport { Builder } from '../builder.mjs';\nimport { Struct } from '../type.mjs';\n/** @ignore */\nexport class StructBuilder extends Builder {\n    setValue(index, value) {\n        const { children, type } = this;\n        switch (Array.isArray(value) || value.constructor) {\n            case true: return type.children.forEach((_, i) => children[i].set(index, value[i]));\n            case Map: return type.children.forEach((f, i) => children[i].set(index, value.get(f.name)));\n            default: return type.children.forEach((f, i) => children[i].set(index, value[f.name]));\n        }\n    }\n    /** @inheritdoc */\n    setValid(index, valid) {\n        if (!super.setValid(index, valid)) {\n            this.children.forEach((child) => child.setValid(index, valid));\n        }\n        return valid;\n    }\n    addChild(child, name = `${this.numChildren}`) {\n        const childIndex = this.children.push(child);\n        this.type = new Struct([...this.type.children, new Field(name, child.type, true)]);\n        return childIndex;\n    }\n}\n\n//# sourceMappingURL=struct.mjs.map\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nimport { FixedWidthBuilder } from '../builder.mjs';\nimport { setTimestamp, setTimestampSecond, setTimestampMillisecond, setTimestampMicrosecond, setTimestampNanosecond } from '../visitor/set.mjs';\n/** @ignore */\nexport class TimestampBuilder extends FixedWidthBuilder {\n}\nTimestampBuilder.prototype._setValue = setTimestamp;\n/** @ignore */\nexport class TimestampSecondBuilder extends TimestampBuilder {\n}\nTimestampSecondBuilder.prototype._setValue = setTimestampSecond;\n/** @ignore */\nexport class TimestampMillisecondBuilder extends TimestampBuilder {\n}\nTimestampMillisecondBuilder.prototype._setValue = setTimestampMillisecond;\n/** @ignore */\nexport class TimestampMicrosecondBuilder extends TimestampBuilder {\n}\nTimestampMicrosecondBuilder.prototype._setValue = setTimestampMicrosecond;\n/** @ignore */\nexport class TimestampNanosecondBuilder extends TimestampBuilder {\n}\nTimestampNanosecondBuilder.prototype._setValue = setTimestampNanosecond;\n\n//# sourceMappingURL=timestamp.mjs.map\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nimport { FixedWidthBuilder } from '../builder.mjs';\nimport { setTime, setTimeSecond, setTimeMillisecond, setTimeMicrosecond, setTimeNanosecond } from '../visitor/set.mjs';\n/** @ignore */\nexport class TimeBuilder extends FixedWidthBuilder {\n}\nTimeBuilder.prototype._setValue = setTime;\n/** @ignore */\nexport class TimeSecondBuilder extends TimeBuilder {\n}\nTimeSecondBuilder.prototype._setValue = setTimeSecond;\n/** @ignore */\nexport class TimeMillisecondBuilder extends TimeBuilder {\n}\nTimeMillisecondBuilder.prototype._setValue = setTimeMillisecond;\n/** @ignore */\nexport class TimeMicrosecondBuilder extends TimeBuilder {\n}\nTimeMicrosecondBuilder.prototype._setValue = setTimeMicrosecond;\n/** @ignore */\nexport class TimeNanosecondBuilder extends TimeBuilder {\n}\nTimeNanosecondBuilder.prototype._setValue = setTimeNanosecond;\n\n//# sourceMappingURL=time.mjs.map\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nimport { Field } from '../schema.mjs';\nimport { DataBufferBuilder } from './buffer.mjs';\nimport { Builder } from '../builder.mjs';\nimport { Union } from '../type.mjs';\n/** @ignore */\nexport class UnionBuilder extends Builder {\n    constructor(options) {\n        super(options);\n        this._typeIds = new DataBufferBuilder(new Int8Array(0), 1);\n        if (typeof options['valueToChildTypeId'] === 'function') {\n            this._valueToChildTypeId = options['valueToChildTypeId'];\n        }\n    }\n    get typeIdToChildIndex() { return this.type.typeIdToChildIndex; }\n    append(value, childTypeId) {\n        return this.set(this.length, value, childTypeId);\n    }\n    set(index, value, childTypeId) {\n        if (childTypeId === undefined) {\n            childTypeId = this._valueToChildTypeId(this, value, index);\n        }\n        if (this.setValid(index, this.isValid(value))) {\n            this.setValue(index, value, childTypeId);\n        }\n        return this;\n    }\n    setValue(index, value, childTypeId) {\n        this._typeIds.set(index, childTypeId);\n        const childIndex = this.type.typeIdToChildIndex[childTypeId];\n        const child = this.children[childIndex];\n        child === null || child === void 0 ? void 0 : child.set(index, value);\n    }\n    addChild(child, name = `${this.children.length}`) {\n        const childTypeId = this.children.push(child);\n        const { type: { children, mode, typeIds } } = this;\n        const fields = [...children, new Field(name, child.type)];\n        this.type = new Union(mode, [...typeIds, childTypeId], fields);\n        return childTypeId;\n    }\n    /** @ignore */\n    // @ts-ignore\n    _valueToChildTypeId(builder, value, offset) {\n        throw new Error(`Cannot map UnionBuilder value to child typeId. \\\nPass the \\`childTypeId\\` as the second argument to unionBuilder.append(), \\\nor supply a \\`valueToChildTypeId\\` function as part of the UnionBuilder constructor options.`);\n    }\n}\n/** @ignore */\nexport class SparseUnionBuilder extends UnionBuilder {\n}\n/** @ignore */\nexport class DenseUnionBuilder extends UnionBuilder {\n    constructor(options) {\n        super(options);\n        this._offsets = new DataBufferBuilder(new Int32Array(0));\n    }\n    /** @ignore */\n    setValue(index, value, childTypeId) {\n        const id = this._typeIds.set(index, childTypeId).buffer[index];\n        const child = this.getChildAt(this.type.typeIdToChildIndex[id]);\n        const denseIndex = this._offsets.set(index, child.length).buffer[index];\n        child === null || child === void 0 ? void 0 : child.set(denseIndex, value);\n    }\n}\n\n//# sourceMappingURL=union.mjs.map\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nimport { encodeUtf8 } from '../util/utf8.mjs';\nimport { BinaryBuilder } from './binary.mjs';\nimport { BufferBuilder } from './buffer.mjs';\nimport { VariableWidthBuilder } from '../builder.mjs';\n/** @ignore */\nexport class Utf8Builder extends VariableWidthBuilder {\n    constructor(opts) {\n        super(opts);\n        this._values = new BufferBuilder(new Uint8Array(0));\n    }\n    get byteLength() {\n        let size = this._pendingLength + (this.length * 4);\n        this._offsets && (size += this._offsets.byteLength);\n        this._values && (size += this._values.byteLength);\n        this._nulls && (size += this._nulls.byteLength);\n        return size;\n    }\n    setValue(index, value) {\n        return super.setValue(index, encodeUtf8(value));\n    }\n    // @ts-ignore\n    _flushPending(pending, pendingLength) { }\n}\nUtf8Builder.prototype._flushPending = BinaryBuilder.prototype._flushPending;\n\n//# sourceMappingURL=utf8.mjs.map\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nimport { Visitor } from '../visitor.mjs';\nimport { BinaryBuilder } from '../builder/binary.mjs';\nimport { BoolBuilder } from '../builder/bool.mjs';\nimport { DateBuilder, DateDayBuilder, DateMillisecondBuilder } from '../builder/date.mjs';\nimport { DecimalBuilder } from '../builder/decimal.mjs';\nimport { DictionaryBuilder } from '../builder/dictionary.mjs';\nimport { FixedSizeBinaryBuilder } from '../builder/fixedsizebinary.mjs';\nimport { FixedSizeListBuilder } from '../builder/fixedsizelist.mjs';\nimport { FloatBuilder, Float16Builder, Float32Builder, Float64Builder } from '../builder/float.mjs';\nimport { IntervalBuilder, IntervalDayTimeBuilder, IntervalYearMonthBuilder } from '../builder/interval.mjs';\nimport { IntBuilder, Int8Builder, Int16Builder, Int32Builder, Int64Builder, Uint8Builder, Uint16Builder, Uint32Builder, Uint64Builder } from '../builder/int.mjs';\nimport { ListBuilder } from '../builder/list.mjs';\nimport { MapBuilder } from '../builder/map.mjs';\nimport { NullBuilder } from '../builder/null.mjs';\nimport { StructBuilder } from '../builder/struct.mjs';\nimport { TimestampBuilder, TimestampSecondBuilder, TimestampMillisecondBuilder, TimestampMicrosecondBuilder, TimestampNanosecondBuilder } from '../builder/timestamp.mjs';\nimport { TimeBuilder, TimeSecondBuilder, TimeMillisecondBuilder, TimeMicrosecondBuilder, TimeNanosecondBuilder } from '../builder/time.mjs';\nimport { UnionBuilder, DenseUnionBuilder, SparseUnionBuilder } from '../builder/union.mjs';\nimport { Utf8Builder } from '../builder/utf8.mjs';\n/** @ignore */\nexport class GetBuilderCtor extends Visitor {\n    visitNull() { return NullBuilder; }\n    visitBool() { return BoolBuilder; }\n    visitInt() { return IntBuilder; }\n    visitInt8() { return Int8Builder; }\n    visitInt16() { return Int16Builder; }\n    visitInt32() { return Int32Builder; }\n    visitInt64() { return Int64Builder; }\n    visitUint8() { return Uint8Builder; }\n    visitUint16() { return Uint16Builder; }\n    visitUint32() { return Uint32Builder; }\n    visitUint64() { return Uint64Builder; }\n    visitFloat() { return FloatBuilder; }\n    visitFloat16() { return Float16Builder; }\n    visitFloat32() { return Float32Builder; }\n    visitFloat64() { return Float64Builder; }\n    visitUtf8() { return Utf8Builder; }\n    visitBinary() { return BinaryBuilder; }\n    visitFixedSizeBinary() { return FixedSizeBinaryBuilder; }\n    visitDate() { return DateBuilder; }\n    visitDateDay() { return DateDayBuilder; }\n    visitDateMillisecond() { return DateMillisecondBuilder; }\n    visitTimestamp() { return TimestampBuilder; }\n    visitTimestampSecond() { return TimestampSecondBuilder; }\n    visitTimestampMillisecond() { return TimestampMillisecondBuilder; }\n    visitTimestampMicrosecond() { return TimestampMicrosecondBuilder; }\n    visitTimestampNanosecond() { return TimestampNanosecondBuilder; }\n    visitTime() { return TimeBuilder; }\n    visitTimeSecond() { return TimeSecondBuilder; }\n    visitTimeMillisecond() { return TimeMillisecondBuilder; }\n    visitTimeMicrosecond() { return TimeMicrosecondBuilder; }\n    visitTimeNanosecond() { return TimeNanosecondBuilder; }\n    visitDecimal() { return DecimalBuilder; }\n    visitList() { return ListBuilder; }\n    visitStruct() { return StructBuilder; }\n    visitUnion() { return UnionBuilder; }\n    visitDenseUnion() { return DenseUnionBuilder; }\n    visitSparseUnion() { return SparseUnionBuilder; }\n    visitDictionary() { return DictionaryBuilder; }\n    visitInterval() { return IntervalBuilder; }\n    visitIntervalDayTime() { return IntervalDayTimeBuilder; }\n    visitIntervalYearMonth() { return IntervalYearMonthBuilder; }\n    visitFixedSizeList() { return FixedSizeListBuilder; }\n    visitMap() { return MapBuilder; }\n}\n/** @ignore */\nexport const instance = new GetBuilderCtor();\n\n//# sourceMappingURL=builderctor.mjs.map\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nimport { __asyncGenerator, __asyncValues, __await } from \"tslib\";\nimport { Field, Schema } from './schema.mjs';\nimport * as dtypes from './type.mjs';\nimport { Data } from './data.mjs';\nimport { Vector, makeVector } from './vector.mjs';\nimport { instance as getBuilderConstructor } from './visitor/builderctor.mjs';\nimport { Table } from './table.mjs';\nimport { RecordBatch } from './recordbatch.mjs';\nimport { compareTypes } from './visitor/typecomparator.mjs';\nexport function makeBuilder(options) {\n    const type = options.type;\n    const builder = new (getBuilderConstructor.getVisitFn(type)())(options);\n    if (type.children && type.children.length > 0) {\n        const children = options['children'] || [];\n        const defaultOptions = { 'nullValues': options['nullValues'] };\n        const getChildOptions = Array.isArray(children)\n            ? ((_, i) => children[i] || defaultOptions)\n            : (({ name }) => children[name] || defaultOptions);\n        for (const [index, field] of type.children.entries()) {\n            const { type } = field;\n            const opts = getChildOptions(field, index);\n            builder.children.push(makeBuilder(Object.assign(Object.assign({}, opts), { type })));\n        }\n    }\n    return builder;\n}\nexport function vectorFromArray(init, type) {\n    if (init instanceof Data || init instanceof Vector || init.type instanceof dtypes.DataType || ArrayBuffer.isView(init)) {\n        return makeVector(init);\n    }\n    const options = { type: type !== null && type !== void 0 ? type : inferType(init), nullValues: [null] };\n    const chunks = [...builderThroughIterable(options)(init)];\n    const vector = chunks.length === 1 ? chunks[0] : chunks.reduce((a, b) => a.concat(b));\n    if (dtypes.DataType.isDictionary(vector.type)) {\n        return vector.memoize();\n    }\n    return vector;\n}\n/**\n * Creates a {@link Table} from an array of objects.\n *\n * @param array A table of objects.\n */\nexport function tableFromJSON(array) {\n    const vector = vectorFromArray(array);\n    const batch = new RecordBatch(new Schema(vector.type.children), vector.data[0]);\n    return new Table(batch);\n}\nfunction inferType(value) {\n    if (value.length === 0) {\n        return new dtypes.Null;\n    }\n    let nullsCount = 0;\n    let arraysCount = 0;\n    let objectsCount = 0;\n    let numbersCount = 0;\n    let stringsCount = 0;\n    let bigintsCount = 0;\n    let booleansCount = 0;\n    let datesCount = 0;\n    for (const val of value) {\n        if (val == null) {\n            ++nullsCount;\n            continue;\n        }\n        switch (typeof val) {\n            case 'bigint':\n                ++bigintsCount;\n                continue;\n            case 'boolean':\n                ++booleansCount;\n                continue;\n            case 'number':\n                ++numbersCount;\n                continue;\n            case 'string':\n                ++stringsCount;\n                continue;\n            case 'object':\n                if (Array.isArray(val)) {\n                    ++arraysCount;\n                }\n                else if (Object.prototype.toString.call(val) === '[object Date]') {\n                    ++datesCount;\n                }\n                else {\n                    ++objectsCount;\n                }\n                continue;\n        }\n        throw new TypeError('Unable to infer Vector type from input values, explicit type declaration expected.');\n    }\n    if (numbersCount + nullsCount === value.length) {\n        return new dtypes.Float64;\n    }\n    else if (stringsCount + nullsCount === value.length) {\n        return new dtypes.Dictionary(new dtypes.Utf8, new dtypes.Int32);\n    }\n    else if (bigintsCount + nullsCount === value.length) {\n        return new dtypes.Int64;\n    }\n    else if (booleansCount + nullsCount === value.length) {\n        return new dtypes.Bool;\n    }\n    else if (datesCount + nullsCount === value.length) {\n        return new dtypes.DateMillisecond;\n    }\n    else if (arraysCount + nullsCount === value.length) {\n        const array = value;\n        const childType = inferType(array[array.findIndex((ary) => ary != null)]);\n        if (array.every((ary) => ary == null || compareTypes(childType, inferType(ary)))) {\n            return new dtypes.List(new Field('', childType, true));\n        }\n    }\n    else if (objectsCount + nullsCount === value.length) {\n        const fields = new Map();\n        for (const row of value) {\n            for (const key of Object.keys(row)) {\n                if (!fields.has(key) && row[key] != null) {\n                    // use the type inferred for the first instance of a found key\n                    fields.set(key, new Field(key, inferType([row[key]]), true));\n                }\n            }\n        }\n        return new dtypes.Struct([...fields.values()]);\n    }\n    throw new TypeError('Unable to infer Vector type from input values, explicit type declaration expected.');\n}\n/**\n * Transform a synchronous `Iterable` of arbitrary JavaScript values into a\n * sequence of Arrow Vector<T> following the chunking semantics defined in\n * the supplied `options` argument.\n *\n * This function returns a function that accepts an `Iterable` of values to\n * transform. When called, this function returns an Iterator of `Vector<T>`.\n *\n * The resulting `Iterator<Vector<T>>` yields Vectors based on the\n * `queueingStrategy` and `highWaterMark` specified in the `options` argument.\n *\n * * If `queueingStrategy` is `\"count\"` (or omitted), The `Iterator<Vector<T>>`\n *   will flush the underlying `Builder` (and yield a new `Vector<T>`) once the\n *   Builder's `length` reaches or exceeds the supplied `highWaterMark`.\n * * If `queueingStrategy` is `\"bytes\"`, the `Iterator<Vector<T>>` will flush\n *   the underlying `Builder` (and yield a new `Vector<T>`) once its `byteLength`\n *   reaches or exceeds the supplied `highWaterMark`.\n *\n * @param {IterableBuilderOptions<T, TNull>} options An object of properties which determine the `Builder` to create and the chunking semantics to use.\n * @returns A function which accepts a JavaScript `Iterable` of values to\n *          write, and returns an `Iterator` that yields Vectors according\n *          to the chunking semantics defined in the `options` argument.\n * @nocollapse\n */\nexport function builderThroughIterable(options) {\n    const { ['queueingStrategy']: queueingStrategy = 'count' } = options;\n    const { ['highWaterMark']: highWaterMark = queueingStrategy !== 'bytes' ? Number.POSITIVE_INFINITY : Math.pow(2, 14) } = options;\n    const sizeProperty = queueingStrategy !== 'bytes' ? 'length' : 'byteLength';\n    return function* (source) {\n        let numChunks = 0;\n        const builder = makeBuilder(options);\n        for (const value of source) {\n            if (builder.append(value)[sizeProperty] >= highWaterMark) {\n                ++numChunks && (yield builder.toVector());\n            }\n        }\n        if (builder.finish().length > 0 || numChunks === 0) {\n            yield builder.toVector();\n        }\n    };\n}\n/**\n * Transform an `AsyncIterable` of arbitrary JavaScript values into a\n * sequence of Arrow Vector<T> following the chunking semantics defined in\n * the supplied `options` argument.\n *\n * This function returns a function that accepts an `AsyncIterable` of values to\n * transform. When called, this function returns an AsyncIterator of `Vector<T>`.\n *\n * The resulting `AsyncIterator<Vector<T>>` yields Vectors based on the\n * `queueingStrategy` and `highWaterMark` specified in the `options` argument.\n *\n * * If `queueingStrategy` is `\"count\"` (or omitted), The `AsyncIterator<Vector<T>>`\n *   will flush the underlying `Builder` (and yield a new `Vector<T>`) once the\n *   Builder's `length` reaches or exceeds the supplied `highWaterMark`.\n * * If `queueingStrategy` is `\"bytes\"`, the `AsyncIterator<Vector<T>>` will flush\n *   the underlying `Builder` (and yield a new `Vector<T>`) once its `byteLength`\n *   reaches or exceeds the supplied `highWaterMark`.\n *\n * @param {IterableBuilderOptions<T, TNull>} options An object of properties which determine the `Builder` to create and the chunking semantics to use.\n * @returns A function which accepts a JavaScript `AsyncIterable` of values\n *          to write, and returns an `AsyncIterator` that yields Vectors\n *          according to the chunking semantics defined in the `options`\n *          argument.\n * @nocollapse\n */\nexport function builderThroughAsyncIterable(options) {\n    const { ['queueingStrategy']: queueingStrategy = 'count' } = options;\n    const { ['highWaterMark']: highWaterMark = queueingStrategy !== 'bytes' ? Number.POSITIVE_INFINITY : Math.pow(2, 14) } = options;\n    const sizeProperty = queueingStrategy !== 'bytes' ? 'length' : 'byteLength';\n    return function (source) {\n        return __asyncGenerator(this, arguments, function* () {\n            var _a, e_1, _b, _c;\n            let numChunks = 0;\n            const builder = makeBuilder(options);\n            try {\n                for (var _d = true, source_1 = __asyncValues(source), source_1_1; source_1_1 = yield __await(source_1.next()), _a = source_1_1.done, !_a; _d = true) {\n                    _c = source_1_1.value;\n                    _d = false;\n                    const value = _c;\n                    if (builder.append(value)[sizeProperty] >= highWaterMark) {\n                        ++numChunks && (yield yield __await(builder.toVector()));\n                    }\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (!_d && !_a && (_b = source_1.return)) yield __await(_b.call(source_1));\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n            if (builder.finish().length > 0 || numChunks === 0) {\n                yield yield __await(builder.toVector());\n            }\n        });\n    };\n}\n\n//# sourceMappingURL=factories.mjs.map\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nimport { makeData } from '../data.mjs';\nimport { Struct } from '../type.mjs';\nimport { RecordBatch } from '../recordbatch.mjs';\n/** @ignore */\nexport function distributeVectorsIntoRecordBatches(schema, vecs) {\n    return uniformlyDistributeChunksAcrossRecordBatches(schema, vecs.map((v) => v.data.concat()));\n}\n/** @ignore */\nfunction uniformlyDistributeChunksAcrossRecordBatches(schema, cols) {\n    const fields = [...schema.fields];\n    const batches = [];\n    const memo = { numBatches: cols.reduce((n, c) => Math.max(n, c.length), 0) };\n    let numBatches = 0, batchLength = 0;\n    let i = -1;\n    const numColumns = cols.length;\n    let child, children = [];\n    while (memo.numBatches-- > 0) {\n        for (batchLength = Number.POSITIVE_INFINITY, i = -1; ++i < numColumns;) {\n            children[i] = child = cols[i].shift();\n            batchLength = Math.min(batchLength, child ? child.length : batchLength);\n        }\n        if (Number.isFinite(batchLength)) {\n            children = distributeChildren(fields, batchLength, children, cols, memo);\n            if (batchLength > 0) {\n                batches[numBatches++] = makeData({\n                    type: new Struct(fields),\n                    length: batchLength,\n                    nullCount: 0,\n                    children: children.slice()\n                });\n            }\n        }\n    }\n    return [\n        schema = schema.assign(fields),\n        batches.map((data) => new RecordBatch(schema, data))\n    ];\n}\n/** @ignore */\nfunction distributeChildren(fields, batchLength, children, columns, memo) {\n    var _a;\n    const nullBitmapSize = ((batchLength + 63) & ~63) >> 3;\n    for (let i = -1, n = columns.length; ++i < n;) {\n        const child = children[i];\n        const length = child === null || child === void 0 ? void 0 : child.length;\n        if (length >= batchLength) {\n            if (length === batchLength) {\n                children[i] = child;\n            }\n            else {\n                children[i] = child.slice(0, batchLength);\n                memo.numBatches = Math.max(memo.numBatches, columns[i].unshift(child.slice(batchLength, length - batchLength)));\n            }\n        }\n        else {\n            const field = fields[i];\n            fields[i] = field.clone({ nullable: true });\n            children[i] = (_a = child === null || child === void 0 ? void 0 : child._changeLengthAndBackfillNullBitmap(batchLength)) !== null && _a !== void 0 ? _a : makeData({\n                type: field.type,\n                length: batchLength,\n                nullCount: batchLength,\n                nullBitmap: new Uint8Array(nullBitmapSize)\n            });\n        }\n    }\n    return children;\n}\n\n//# sourceMappingURL=recordbatch.mjs.map\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nvar _a;\nimport { Type } from './enum.mjs';\nimport { Data, makeData } from './data.mjs';\nimport { vectorFromArray } from './factories.mjs';\nimport { makeVector, Vector } from './vector.mjs';\nimport { Field, Schema } from './schema.mjs';\nimport { Null, Struct } from './type.mjs';\nimport { compareSchemas } from './visitor/typecomparator.mjs';\nimport { distributeVectorsIntoRecordBatches } from './util/recordbatch.mjs';\nimport { isChunkedValid, computeChunkOffsets, computeChunkNullCounts, wrapChunkedCall1, wrapChunkedCall2, wrapChunkedIndexOf, sliceChunks, } from './util/chunk.mjs';\nimport { instance as getVisitor } from './visitor/get.mjs';\nimport { instance as setVisitor } from './visitor/set.mjs';\nimport { instance as indexOfVisitor } from './visitor/indexof.mjs';\nimport { instance as iteratorVisitor } from './visitor/iterator.mjs';\nimport { instance as byteLengthVisitor } from './visitor/bytelength.mjs';\nimport { clampRange } from './util/vector.mjs';\nimport { RecordBatch } from './recordbatch.mjs';\n/**\n * Tables are collections of {@link Vector}s and have a {@link Schema}. Use the convenience methods {@link makeTable}\n * or {@link tableFromArrays} to create a table in JavaScript. To create a table from the IPC format, use\n * {@link tableFromIPC}.\n */\nexport class Table {\n    constructor(...args) {\n        var _b, _c;\n        if (args.length === 0) {\n            this.batches = [];\n            this.schema = new Schema([]);\n            this._offsets = [0];\n            return this;\n        }\n        let schema;\n        let offsets;\n        if (args[0] instanceof Schema) {\n            schema = args.shift();\n        }\n        if (args.at(-1) instanceof Uint32Array) {\n            offsets = args.pop();\n        }\n        const unwrap = (x) => {\n            if (x) {\n                if (x instanceof RecordBatch) {\n                    return [x];\n                }\n                else if (x instanceof Table) {\n                    return x.batches;\n                }\n                else if (x instanceof Data) {\n                    if (x.type instanceof Struct) {\n                        return [new RecordBatch(new Schema(x.type.children), x)];\n                    }\n                }\n                else if (Array.isArray(x)) {\n                    return x.flatMap(v => unwrap(v));\n                }\n                else if (typeof x[Symbol.iterator] === 'function') {\n                    return [...x].flatMap(v => unwrap(v));\n                }\n                else if (typeof x === 'object') {\n                    const keys = Object.keys(x);\n                    const vecs = keys.map((k) => new Vector([x[k]]));\n                    const schema = new Schema(keys.map((k, i) => new Field(String(k), vecs[i].type)));\n                    const [, batches] = distributeVectorsIntoRecordBatches(schema, vecs);\n                    return batches.length === 0 ? [new RecordBatch(x)] : batches;\n                }\n            }\n            return [];\n        };\n        const batches = args.flatMap(v => unwrap(v));\n        schema = (_c = schema !== null && schema !== void 0 ? schema : (_b = batches[0]) === null || _b === void 0 ? void 0 : _b.schema) !== null && _c !== void 0 ? _c : new Schema([]);\n        if (!(schema instanceof Schema)) {\n            throw new TypeError('Table constructor expects a [Schema, RecordBatch[]] pair.');\n        }\n        for (const batch of batches) {\n            if (!(batch instanceof RecordBatch)) {\n                throw new TypeError('Table constructor expects a [Schema, RecordBatch[]] pair.');\n            }\n            if (!compareSchemas(schema, batch.schema)) {\n                throw new TypeError('Table and inner RecordBatch schemas must be equivalent.');\n            }\n        }\n        this.schema = schema;\n        this.batches = batches;\n        this._offsets = offsets !== null && offsets !== void 0 ? offsets : computeChunkOffsets(this.data);\n    }\n    /**\n     * The contiguous {@link RecordBatch `RecordBatch`} chunks of the Table rows.\n     */\n    get data() { return this.batches.map(({ data }) => data); }\n    /**\n     * The number of columns in this Table.\n     */\n    get numCols() { return this.schema.fields.length; }\n    /**\n     * The number of rows in this Table.\n     */\n    get numRows() {\n        return this.data.reduce((numRows, data) => numRows + data.length, 0);\n    }\n    /**\n     * The number of null rows in this Table.\n     */\n    get nullCount() {\n        if (this._nullCount === -1) {\n            this._nullCount = computeChunkNullCounts(this.data);\n        }\n        return this._nullCount;\n    }\n    /**\n     * Check whether an element is null.\n     *\n     * @param index The index at which to read the validity bitmap.\n     */\n    // @ts-ignore\n    isValid(index) { return false; }\n    /**\n     * Get an element value by position.\n     *\n     * @param index The index of the element to read.\n     */\n    // @ts-ignore\n    get(index) { return null; }\n    /**\n     * Set an element value by position.\n     *\n     * @param index The index of the element to write.\n     * @param value The value to set.\n     */\n    // @ts-ignore\n    set(index, value) { return; }\n    /**\n     * Retrieve the index of the first occurrence of a value in an Vector.\n     *\n     * @param element The value to locate in the Vector.\n     * @param offset The index at which to begin the search. If offset is omitted, the search starts at index 0.\n     */\n    // @ts-ignore\n    indexOf(element, offset) { return -1; }\n    /**\n     * Get the size in bytes of an element by index.\n     * @param index The index at which to get the byteLength.\n     */\n    // @ts-ignore\n    getByteLength(index) { return 0; }\n    /**\n     * Iterator for rows in this Table.\n     */\n    [Symbol.iterator]() {\n        if (this.batches.length > 0) {\n            return iteratorVisitor.visit(new Vector(this.data));\n        }\n        return (new Array(0))[Symbol.iterator]();\n    }\n    /**\n     * Return a JavaScript Array of the Table rows.\n     *\n     * @returns An Array of Table rows.\n     */\n    toArray() {\n        return [...this];\n    }\n    /**\n     * Returns a string representation of the Table rows.\n     *\n     * @returns A string representation of the Table rows.\n     */\n    toString() {\n        return `[\\n  ${this.toArray().join(',\\n  ')}\\n]`;\n    }\n    /**\n     * Combines two or more Tables of the same schema.\n     *\n     * @param others Additional Tables to add to the end of this Tables.\n     */\n    concat(...others) {\n        const schema = this.schema;\n        const data = this.data.concat(others.flatMap(({ data }) => data));\n        return new Table(schema, data.map((data) => new RecordBatch(schema, data)));\n    }\n    /**\n     * Return a zero-copy sub-section of this Table.\n     *\n     * @param begin The beginning of the specified portion of the Table.\n     * @param end The end of the specified portion of the Table. This is exclusive of the element at the index 'end'.\n     */\n    slice(begin, end) {\n        const schema = this.schema;\n        [begin, end] = clampRange({ length: this.numRows }, begin, end);\n        const data = sliceChunks(this.data, this._offsets, begin, end);\n        return new Table(schema, data.map((chunk) => new RecordBatch(schema, chunk)));\n    }\n    /**\n     * Returns a child Vector by name, or null if this Vector has no child with the given name.\n     *\n     * @param name The name of the child to retrieve.\n     */\n    getChild(name) {\n        return this.getChildAt(this.schema.fields.findIndex((f) => f.name === name));\n    }\n    /**\n     * Returns a child Vector by index, or null if this Vector has no child at the supplied index.\n     *\n     * @param index The index of the child to retrieve.\n     */\n    getChildAt(index) {\n        if (index > -1 && index < this.schema.fields.length) {\n            const data = this.data.map((data) => data.children[index]);\n            if (data.length === 0) {\n                const { type } = this.schema.fields[index];\n                const empty = makeData({ type, length: 0, nullCount: 0 });\n                data.push(empty._changeLengthAndBackfillNullBitmap(this.numRows));\n            }\n            return new Vector(data);\n        }\n        return null;\n    }\n    /**\n     * Sets a child Vector by name.\n     *\n     * @param name The name of the child to overwrite.\n     * @returns A new Table with the supplied child for the specified name.\n     */\n    setChild(name, child) {\n        var _b;\n        return this.setChildAt((_b = this.schema.fields) === null || _b === void 0 ? void 0 : _b.findIndex((f) => f.name === name), child);\n    }\n    setChildAt(index, child) {\n        let schema = this.schema;\n        let batches = [...this.batches];\n        if (index > -1 && index < this.numCols) {\n            if (!child) {\n                child = new Vector([makeData({ type: new Null, length: this.numRows })]);\n            }\n            const fields = schema.fields.slice();\n            const field = fields[index].clone({ type: child.type });\n            const children = this.schema.fields.map((_, i) => this.getChildAt(i));\n            [fields[index], children[index]] = [field, child];\n            [schema, batches] = distributeVectorsIntoRecordBatches(schema, children);\n        }\n        return new Table(schema, batches);\n    }\n    /**\n     * Construct a new Table containing only specified columns.\n     *\n     * @param columnNames Names of columns to keep.\n     * @returns A new Table of columns matching the specified names.\n     */\n    select(columnNames) {\n        const nameToIndex = this.schema.fields.reduce((m, f, i) => m.set(f.name, i), new Map());\n        return this.selectAt(columnNames.map((columnName) => nameToIndex.get(columnName)).filter((x) => x > -1));\n    }\n    /**\n     * Construct a new Table containing only columns at the specified indices.\n     *\n     * @param columnIndices Indices of columns to keep.\n     * @returns A new Table of columns at the specified indices.\n     */\n    selectAt(columnIndices) {\n        const schema = this.schema.selectAt(columnIndices);\n        const data = this.batches.map((batch) => batch.selectAt(columnIndices));\n        return new Table(schema, data);\n    }\n    assign(other) {\n        const fields = this.schema.fields;\n        const [indices, oldToNew] = other.schema.fields.reduce((memo, f2, newIdx) => {\n            const [indices, oldToNew] = memo;\n            const i = fields.findIndex((f) => f.name === f2.name);\n            ~i ? (oldToNew[i] = newIdx) : indices.push(newIdx);\n            return memo;\n        }, [[], []]);\n        const schema = this.schema.assign(other.schema);\n        const columns = [\n            ...fields.map((_, i) => [i, oldToNew[i]]).map(([i, j]) => (j === undefined ? this.getChildAt(i) : other.getChildAt(j))),\n            ...indices.map((i) => other.getChildAt(i))\n        ].filter(Boolean);\n        return new Table(...distributeVectorsIntoRecordBatches(schema, columns));\n    }\n}\n_a = Symbol.toStringTag;\n// Initialize this static property via an IIFE so bundlers don't tree-shake\n// out this logic, but also so we're still compliant with `\"sideEffects\": false`\nTable[_a] = ((proto) => {\n    proto.schema = null;\n    proto.batches = [];\n    proto._offsets = new Uint32Array([0]);\n    proto._nullCount = -1;\n    proto[Symbol.isConcatSpreadable] = true;\n    proto['isValid'] = wrapChunkedCall1(isChunkedValid);\n    proto['get'] = wrapChunkedCall1(getVisitor.getVisitFn(Type.Struct));\n    proto['set'] = wrapChunkedCall2(setVisitor.getVisitFn(Type.Struct));\n    proto['indexOf'] = wrapChunkedIndexOf(indexOfVisitor.getVisitFn(Type.Struct));\n    proto['getByteLength'] = wrapChunkedCall1(byteLengthVisitor.getVisitFn(Type.Struct));\n    return 'Table';\n})(Table.prototype);\n/**\n * Creates a new Table from an object of typed arrays.\n *\n*  @example\n * ```ts\n * const table = makeTable({\n *   a: new Int8Array([1, 2, 3]),\n * })\n * ```\n *\n * @param input Input an object of typed arrays.\n * @returns A new Table.\n */\nexport function makeTable(input) {\n    const vecs = {};\n    const inputs = Object.entries(input);\n    for (const [key, col] of inputs) {\n        vecs[key] = makeVector(col);\n    }\n    return new Table(vecs);\n}\n/**\n * Creates a new Table from an object of typed arrays or JavaScript arrays.\n *\n *  @example\n * ```ts\n * const table = tableFromArrays({\n *   a: [1, 2, 3],\n *   b: new Int8Array([1, 2, 3]),\n * })\n * ```\n *\n * @param input Input an object of typed arrays or JavaScript arrays.\n * @returns A new Table.\n */\nexport function tableFromArrays(input) {\n    const vecs = {};\n    const inputs = Object.entries(input);\n    for (const [key, col] of inputs) {\n        vecs[key] = vectorFromArray(col);\n    }\n    return new Table(vecs);\n}\n\n//# sourceMappingURL=table.mjs.map\n","// automatically generated by the FlatBuffers compiler, do not modify\nexport var Precision;\n(function (Precision) {\n    Precision[Precision[\"HALF\"] = 0] = \"HALF\";\n    Precision[Precision[\"SINGLE\"] = 1] = \"SINGLE\";\n    Precision[Precision[\"DOUBLE\"] = 2] = \"DOUBLE\";\n})(Precision || (Precision = {}));\n\n//# sourceMappingURL=precision.mjs.map\n","// automatically generated by the FlatBuffers compiler, do not modify\nimport * as flatbuffers from 'flatbuffers';\nimport { Precision } from './precision.mjs';\nexport class FloatingPoint {\n    constructor() {\n        this.bb = null;\n        this.bb_pos = 0;\n    }\n    __init(i, bb) {\n        this.bb_pos = i;\n        this.bb = bb;\n        return this;\n    }\n    static getRootAsFloatingPoint(bb, obj) {\n        return (obj || new FloatingPoint()).__init(bb.readInt32(bb.position()) + bb.position(), bb);\n    }\n    static getSizePrefixedRootAsFloatingPoint(bb, obj) {\n        bb.setPosition(bb.position() + flatbuffers.SIZE_PREFIX_LENGTH);\n        return (obj || new FloatingPoint()).__init(bb.readInt32(bb.position()) + bb.position(), bb);\n    }\n    precision() {\n        const offset = this.bb.__offset(this.bb_pos, 4);\n        return offset ? this.bb.readInt16(this.bb_pos + offset) : Precision.HALF;\n    }\n    static startFloatingPoint(builder) {\n        builder.startObject(1);\n    }\n    static addPrecision(builder, precision) {\n        builder.addFieldInt16(0, precision, Precision.HALF);\n    }\n    static endFloatingPoint(builder) {\n        const offset = builder.endObject();\n        return offset;\n    }\n    static createFloatingPoint(builder, precision) {\n        FloatingPoint.startFloatingPoint(builder);\n        FloatingPoint.addPrecision(builder, precision);\n        return FloatingPoint.endFloatingPoint(builder);\n    }\n}\n\n//# sourceMappingURL=floating-point.mjs.map\n","// automatically generated by the FlatBuffers compiler, do not modify\nexport var DateUnit;\n(function (DateUnit) {\n    DateUnit[DateUnit[\"DAY\"] = 0] = \"DAY\";\n    DateUnit[DateUnit[\"MILLISECOND\"] = 1] = \"MILLISECOND\";\n})(DateUnit || (DateUnit = {}));\n\n//# sourceMappingURL=date-unit.mjs.map\n","// automatically generated by the FlatBuffers compiler, do not modify\nimport * as flatbuffers from 'flatbuffers';\nimport { DateUnit } from './date-unit.mjs';\n/**\n * Date is either a 32-bit or 64-bit signed integer type representing an\n * elapsed time since UNIX epoch (1970-01-01), stored in either of two units:\n *\n * * Milliseconds (64 bits) indicating UNIX time elapsed since the epoch (no\n *   leap seconds), where the values are evenly divisible by 86400000\n * * Days (32 bits) since the UNIX epoch\n */\nexport class Date {\n    constructor() {\n        this.bb = null;\n        this.bb_pos = 0;\n    }\n    __init(i, bb) {\n        this.bb_pos = i;\n        this.bb = bb;\n        return this;\n    }\n    static getRootAsDate(bb, obj) {\n        return (obj || new Date()).__init(bb.readInt32(bb.position()) + bb.position(), bb);\n    }\n    static getSizePrefixedRootAsDate(bb, obj) {\n        bb.setPosition(bb.position() + flatbuffers.SIZE_PREFIX_LENGTH);\n        return (obj || new Date()).__init(bb.readInt32(bb.position()) + bb.position(), bb);\n    }\n    unit() {\n        const offset = this.bb.__offset(this.bb_pos, 4);\n        return offset ? this.bb.readInt16(this.bb_pos + offset) : DateUnit.MILLISECOND;\n    }\n    static startDate(builder) {\n        builder.startObject(1);\n    }\n    static addUnit(builder, unit) {\n        builder.addFieldInt16(0, unit, DateUnit.MILLISECOND);\n    }\n    static endDate(builder) {\n        const offset = builder.endObject();\n        return offset;\n    }\n    static createDate(builder, unit) {\n        Date.startDate(builder);\n        Date.addUnit(builder, unit);\n        return Date.endDate(builder);\n    }\n}\n\n//# sourceMappingURL=date.mjs.map\n","// automatically generated by the FlatBuffers compiler, do not modify\nexport var IntervalUnit;\n(function (IntervalUnit) {\n    IntervalUnit[IntervalUnit[\"YEAR_MONTH\"] = 0] = \"YEAR_MONTH\";\n    IntervalUnit[IntervalUnit[\"DAY_TIME\"] = 1] = \"DAY_TIME\";\n    IntervalUnit[IntervalUnit[\"MONTH_DAY_NANO\"] = 2] = \"MONTH_DAY_NANO\";\n})(IntervalUnit || (IntervalUnit = {}));\n\n//# sourceMappingURL=interval-unit.mjs.map\n","// automatically generated by the FlatBuffers compiler, do not modify\nimport * as flatbuffers from 'flatbuffers';\nimport { IntervalUnit } from './interval-unit.mjs';\nexport class Interval {\n    constructor() {\n        this.bb = null;\n        this.bb_pos = 0;\n    }\n    __init(i, bb) {\n        this.bb_pos = i;\n        this.bb = bb;\n        return this;\n    }\n    static getRootAsInterval(bb, obj) {\n        return (obj || new Interval()).__init(bb.readInt32(bb.position()) + bb.position(), bb);\n    }\n    static getSizePrefixedRootAsInterval(bb, obj) {\n        bb.setPosition(bb.position() + flatbuffers.SIZE_PREFIX_LENGTH);\n        return (obj || new Interval()).__init(bb.readInt32(bb.position()) + bb.position(), bb);\n    }\n    unit() {\n        const offset = this.bb.__offset(this.bb_pos, 4);\n        return offset ? this.bb.readInt16(this.bb_pos + offset) : IntervalUnit.YEAR_MONTH;\n    }\n    static startInterval(builder) {\n        builder.startObject(1);\n    }\n    static addUnit(builder, unit) {\n        builder.addFieldInt16(0, unit, IntervalUnit.YEAR_MONTH);\n    }\n    static endInterval(builder) {\n        const offset = builder.endObject();\n        return offset;\n    }\n    static createInterval(builder, unit) {\n        Interval.startInterval(builder);\n        Interval.addUnit(builder, unit);\n        return Interval.endInterval(builder);\n    }\n}\n\n//# sourceMappingURL=interval.mjs.map\n","import bbox from \"@turf/bbox\";\nimport { point, } from \"@turf/helpers\";\n/**\n * Takes a {@link Feature} or {@link FeatureCollection} and returns the absolute center point of all features.\n *\n * @name center\n * @param {GeoJSON} geojson GeoJSON to be centered\n * @param {Object} [options={}] Optional parameters\n * @param {Object} [options.properties={}] Translate GeoJSON Properties to Point\n * @param {Object} [options.bbox={}] Translate GeoJSON BBox to Point\n * @param {Object} [options.id={}] Translate GeoJSON Id to Point\n * @returns {Feature<Point>} a Point feature at the absolute center point of all input features\n * @example\n * var features = turf.points([\n *   [-97.522259, 35.4691],\n *   [-97.502754, 35.463455],\n *   [-97.508269, 35.463245]\n * ]);\n *\n * var center = turf.center(features);\n *\n * //addToMap\n * var addToMap = [features, center]\n * center.properties['marker-size'] = 'large';\n * center.properties['marker-color'] = '#000';\n */\nfunction center(geojson, options) {\n    if (options === void 0) { options = {}; }\n    var ext = bbox(geojson);\n    var x = (ext[0] + ext[2]) / 2;\n    var y = (ext[1] + ext[3]) / 2;\n    return point([x, y], options.properties, options);\n}\nexport default center;\n","/**\n * Returns a cloned copy of the passed GeoJSON Object, including possible 'Foreign Members'.\n * ~3-5x faster than the common JSON.parse + JSON.stringify combo method.\n *\n * @name clone\n * @param {GeoJSON} geojson GeoJSON Object\n * @returns {GeoJSON} cloned GeoJSON Object\n * @example\n * var line = turf.lineString([[-74, 40], [-78, 42], [-82, 35]], {color: 'red'});\n *\n * var lineCloned = turf.clone(line);\n */\nfunction clone(geojson) {\n    if (!geojson) {\n        throw new Error(\"geojson is required\");\n    }\n    switch (geojson.type) {\n        case \"Feature\":\n            return cloneFeature(geojson);\n        case \"FeatureCollection\":\n            return cloneFeatureCollection(geojson);\n        case \"Point\":\n        case \"LineString\":\n        case \"Polygon\":\n        case \"MultiPoint\":\n        case \"MultiLineString\":\n        case \"MultiPolygon\":\n        case \"GeometryCollection\":\n            return cloneGeometry(geojson);\n        default:\n            throw new Error(\"unknown GeoJSON type\");\n    }\n}\n/**\n * Clone Feature\n *\n * @private\n * @param {Feature<any>} geojson GeoJSON Feature\n * @returns {Feature<any>} cloned Feature\n */\nfunction cloneFeature(geojson) {\n    var cloned = { type: \"Feature\" };\n    // Preserve Foreign Members\n    Object.keys(geojson).forEach(function (key) {\n        switch (key) {\n            case \"type\":\n            case \"properties\":\n            case \"geometry\":\n                return;\n            default:\n                cloned[key] = geojson[key];\n        }\n    });\n    // Add properties & geometry last\n    cloned.properties = cloneProperties(geojson.properties);\n    cloned.geometry = cloneGeometry(geojson.geometry);\n    return cloned;\n}\n/**\n * Clone Properties\n *\n * @private\n * @param {Object} properties GeoJSON Properties\n * @returns {Object} cloned Properties\n */\nfunction cloneProperties(properties) {\n    var cloned = {};\n    if (!properties) {\n        return cloned;\n    }\n    Object.keys(properties).forEach(function (key) {\n        var value = properties[key];\n        if (typeof value === \"object\") {\n            if (value === null) {\n                // handle null\n                cloned[key] = null;\n            }\n            else if (Array.isArray(value)) {\n                // handle Array\n                cloned[key] = value.map(function (item) {\n                    return item;\n                });\n            }\n            else {\n                // handle generic Object\n                cloned[key] = cloneProperties(value);\n            }\n        }\n        else {\n            cloned[key] = value;\n        }\n    });\n    return cloned;\n}\n/**\n * Clone Feature Collection\n *\n * @private\n * @param {FeatureCollection<any>} geojson GeoJSON Feature Collection\n * @returns {FeatureCollection<any>} cloned Feature Collection\n */\nfunction cloneFeatureCollection(geojson) {\n    var cloned = { type: \"FeatureCollection\" };\n    // Preserve Foreign Members\n    Object.keys(geojson).forEach(function (key) {\n        switch (key) {\n            case \"type\":\n            case \"features\":\n                return;\n            default:\n                cloned[key] = geojson[key];\n        }\n    });\n    // Add features\n    cloned.features = geojson.features.map(function (feature) {\n        return cloneFeature(feature);\n    });\n    return cloned;\n}\n/**\n * Clone Geometry\n *\n * @private\n * @param {Geometry<any>} geometry GeoJSON Geometry\n * @returns {Geometry<any>} cloned Geometry\n */\nfunction cloneGeometry(geometry) {\n    var geom = { type: geometry.type };\n    if (geometry.bbox) {\n        geom.bbox = geometry.bbox;\n    }\n    if (geometry.type === \"GeometryCollection\") {\n        geom.geometries = geometry.geometries.map(function (g) {\n            return cloneGeometry(g);\n        });\n        return geom;\n    }\n    geom.coordinates = deepSlice(geometry.coordinates);\n    return geom;\n}\n/**\n * Deep Slice coordinates\n *\n * @private\n * @param {Coordinates} coords Coordinates\n * @returns {Coordinates} all coordinates sliced\n */\nfunction deepSlice(coords) {\n    var cloned = coords;\n    if (typeof cloned[0] !== \"object\") {\n        return cloned.slice();\n    }\n    return cloned.map(function (coord) {\n        return deepSlice(coord);\n    });\n}\nexport default clone;\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nimport { __awaiter } from \"tslib\";\nimport { ByteStream, AsyncByteStream } from './stream.mjs';\nimport { toUint8Array } from '../util/buffer.mjs';\n/** @ignore */\nexport class RandomAccessFile extends ByteStream {\n    constructor(buffer, byteLength) {\n        super();\n        this.position = 0;\n        this.buffer = toUint8Array(buffer);\n        this.size = byteLength === undefined ? this.buffer.byteLength : byteLength;\n    }\n    readInt32(position) {\n        const { buffer, byteOffset } = this.readAt(position, 4);\n        return new DataView(buffer, byteOffset).getInt32(0, true);\n    }\n    seek(position) {\n        this.position = Math.min(position, this.size);\n        return position < this.size;\n    }\n    read(nBytes) {\n        const { buffer, size, position } = this;\n        if (buffer && position < size) {\n            if (typeof nBytes !== 'number') {\n                nBytes = Number.POSITIVE_INFINITY;\n            }\n            this.position = Math.min(size, position + Math.min(size - position, nBytes));\n            return buffer.subarray(position, this.position);\n        }\n        return null;\n    }\n    readAt(position, nBytes) {\n        const buf = this.buffer;\n        const end = Math.min(this.size, position + nBytes);\n        return buf ? buf.subarray(position, end) : new Uint8Array(nBytes);\n    }\n    close() { this.buffer && (this.buffer = null); }\n    throw(value) { this.close(); return { done: true, value }; }\n    return(value) { this.close(); return { done: true, value }; }\n}\n/** @ignore */\nexport class AsyncRandomAccessFile extends AsyncByteStream {\n    constructor(file, byteLength) {\n        super();\n        this.position = 0;\n        this._handle = file;\n        if (typeof byteLength === 'number') {\n            this.size = byteLength;\n        }\n        else {\n            this._pending = (() => __awaiter(this, void 0, void 0, function* () {\n                this.size = (yield file.stat()).size;\n                delete this._pending;\n            }))();\n        }\n    }\n    readInt32(position) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { buffer, byteOffset } = yield this.readAt(position, 4);\n            return new DataView(buffer, byteOffset).getInt32(0, true);\n        });\n    }\n    seek(position) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this._pending && (yield this._pending);\n            this.position = Math.min(position, this.size);\n            return position < this.size;\n        });\n    }\n    read(nBytes) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this._pending && (yield this._pending);\n            const { _handle: file, size, position } = this;\n            if (file && position < size) {\n                if (typeof nBytes !== 'number') {\n                    nBytes = Number.POSITIVE_INFINITY;\n                }\n                let pos = position, offset = 0, bytesRead = 0;\n                const end = Math.min(size, pos + Math.min(size - pos, nBytes));\n                const buffer = new Uint8Array(Math.max(0, (this.position = end) - pos));\n                while ((pos += bytesRead) < end && (offset += bytesRead) < buffer.byteLength) {\n                    ({ bytesRead } = yield file.read(buffer, offset, buffer.byteLength - offset, pos));\n                }\n                return buffer;\n            }\n            return null;\n        });\n    }\n    readAt(position, nBytes) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this._pending && (yield this._pending);\n            const { _handle: file, size } = this;\n            if (file && (position + nBytes) < size) {\n                const end = Math.min(size, position + nBytes);\n                const buffer = new Uint8Array(end - position);\n                return (yield file.read(buffer, 0, nBytes, position)).buffer;\n            }\n            return new Uint8Array(nBytes);\n        });\n    }\n    close() {\n        return __awaiter(this, void 0, void 0, function* () { const f = this._handle; this._handle = null; f && (yield f.close()); });\n    }\n    throw(value) {\n        return __awaiter(this, void 0, void 0, function* () { yield this.close(); return { done: true, value }; });\n    }\n    return(value) {\n        return __awaiter(this, void 0, void 0, function* () { yield this.close(); return { done: true, value }; });\n    }\n}\n\n//# sourceMappingURL=file.mjs.map\n","// automatically generated by the FlatBuffers compiler, do not modify\n/**\n * ----------------------------------------------------------------------\n * Dictionary encoding metadata\n * Maintained for forwards compatibility, in the future\n * Dictionaries might be explicit maps between integers and values\n * allowing for non-contiguous index values\n */\nexport var DictionaryKind;\n(function (DictionaryKind) {\n    DictionaryKind[DictionaryKind[\"DenseArray\"] = 0] = \"DenseArray\";\n})(DictionaryKind || (DictionaryKind = {}));\n\n//# sourceMappingURL=dictionary-kind.mjs.map\n","// automatically generated by the FlatBuffers compiler, do not modify\nimport * as flatbuffers from 'flatbuffers';\nimport { DictionaryKind } from './dictionary-kind.mjs';\nimport { Int } from './int.mjs';\nexport class DictionaryEncoding {\n    constructor() {\n        this.bb = null;\n        this.bb_pos = 0;\n    }\n    __init(i, bb) {\n        this.bb_pos = i;\n        this.bb = bb;\n        return this;\n    }\n    static getRootAsDictionaryEncoding(bb, obj) {\n        return (obj || new DictionaryEncoding()).__init(bb.readInt32(bb.position()) + bb.position(), bb);\n    }\n    static getSizePrefixedRootAsDictionaryEncoding(bb, obj) {\n        bb.setPosition(bb.position() + flatbuffers.SIZE_PREFIX_LENGTH);\n        return (obj || new DictionaryEncoding()).__init(bb.readInt32(bb.position()) + bb.position(), bb);\n    }\n    /**\n     * The known dictionary id in the application where this data is used. In\n     * the file or streaming formats, the dictionary ids are found in the\n     * DictionaryBatch messages\n     */\n    id() {\n        const offset = this.bb.__offset(this.bb_pos, 4);\n        return offset ? this.bb.readInt64(this.bb_pos + offset) : BigInt('0');\n    }\n    /**\n     * The dictionary indices are constrained to be non-negative integers. If\n     * this field is null, the indices must be signed int32. To maximize\n     * cross-language compatibility and performance, implementations are\n     * recommended to prefer signed integer types over unsigned integer types\n     * and to avoid uint64 indices unless they are required by an application.\n     */\n    indexType(obj) {\n        const offset = this.bb.__offset(this.bb_pos, 6);\n        return offset ? (obj || new Int()).__init(this.bb.__indirect(this.bb_pos + offset), this.bb) : null;\n    }\n    /**\n     * By default, dictionaries are not ordered, or the order does not have\n     * semantic meaning. In some statistical, applications, dictionary-encoding\n     * is used to represent ordered categorical data, and we provide a way to\n     * preserve that metadata here\n     */\n    isOrdered() {\n        const offset = this.bb.__offset(this.bb_pos, 8);\n        return offset ? !!this.bb.readInt8(this.bb_pos + offset) : false;\n    }\n    dictionaryKind() {\n        const offset = this.bb.__offset(this.bb_pos, 10);\n        return offset ? this.bb.readInt16(this.bb_pos + offset) : DictionaryKind.DenseArray;\n    }\n    static startDictionaryEncoding(builder) {\n        builder.startObject(4);\n    }\n    static addId(builder, id) {\n        builder.addFieldInt64(0, id, BigInt('0'));\n    }\n    static addIndexType(builder, indexTypeOffset) {\n        builder.addFieldOffset(1, indexTypeOffset, 0);\n    }\n    static addIsOrdered(builder, isOrdered) {\n        builder.addFieldInt8(2, +isOrdered, +false);\n    }\n    static addDictionaryKind(builder, dictionaryKind) {\n        builder.addFieldInt16(3, dictionaryKind, DictionaryKind.DenseArray);\n    }\n    static endDictionaryEncoding(builder) {\n        const offset = builder.endObject();\n        return offset;\n    }\n}\n\n//# sourceMappingURL=dictionary-encoding.mjs.map\n","/* eslint-disable no-restricted-globals */\nconst globals = {\n  self: typeof self !== 'undefined' && self,\n  window: typeof window !== 'undefined' && window,\n  global: typeof global !== 'undefined' && global,\n  document: typeof document !== 'undefined' && document,\n  process: typeof process === 'object' && process\n};\n\nconst global_ = globalThis;\nconst self_ = globals.self || globals.window || globals.global;\nconst window_ = globals.window || globals.self || globals.global;\nconst document_ = globals.document || {};\nconst process_ = globals.process || {};\nconst console_ = console;\n\nexport {\n  self_ as self,\n  window_ as window,\n  global_ as global,\n  document_ as document,\n  process_ as process,\n  console_ as console\n};\n","import { coordEach } from \"@turf/meta\";\n/**\n * Takes a set of features, calculates the bbox of all input features, and returns a bounding box.\n *\n * @name bbox\n * @param {GeoJSON} geojson any GeoJSON object\n * @returns {BBox} bbox extent in [minX, minY, maxX, maxY] order\n * @example\n * var line = turf.lineString([[-74, 40], [-78, 42], [-82, 35]]);\n * var bbox = turf.bbox(line);\n * var bboxPolygon = turf.bboxPolygon(bbox);\n *\n * //addToMap\n * var addToMap = [line, bboxPolygon]\n */\nfunction bbox(geojson) {\n    var result = [Infinity, Infinity, -Infinity, -Infinity];\n    coordEach(geojson, function (coord) {\n        if (result[0] > coord[0]) {\n            result[0] = coord[0];\n        }\n        if (result[1] > coord[1]) {\n            result[1] = coord[1];\n        }\n        if (result[2] < coord[0]) {\n            result[2] = coord[0];\n        }\n        if (result[3] < coord[1]) {\n            result[3] = coord[1];\n        }\n    });\n    return result;\n}\nbbox[\"default\"] = bbox;\nexport default bbox;\n","import { coordEach } from \"@turf/meta\";\nimport { point } from \"@turf/helpers\";\n/**\n * Takes one or more features and calculates the centroid using the mean of all vertices.\n * This lessens the effect of small islands and artifacts when calculating the centroid of a set of polygons.\n *\n * @name centroid\n * @param {GeoJSON} geojson GeoJSON to be centered\n * @param {Object} [options={}] Optional Parameters\n * @param {Object} [options.properties={}] an Object that is used as the {@link Feature}'s properties\n * @returns {Feature<Point>} the centroid of the input features\n * @example\n * var polygon = turf.polygon([[[-81, 41], [-88, 36], [-84, 31], [-80, 33], [-77, 39], [-81, 41]]]);\n *\n * var centroid = turf.centroid(polygon);\n *\n * //addToMap\n * var addToMap = [polygon, centroid]\n */\nfunction centroid(geojson, options) {\n    if (options === void 0) { options = {}; }\n    var xSum = 0;\n    var ySum = 0;\n    var len = 0;\n    coordEach(geojson, function (coord) {\n        xSum += coord[0];\n        ySum += coord[1];\n        len++;\n    }, true);\n    return point([xSum / len, ySum / len], options.properties);\n}\nexport default centroid;\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nimport { __asyncDelegator, __asyncGenerator, __asyncValues, __await } from \"tslib\";\nimport { encodeUtf8 } from '../util/utf8.mjs';\nimport { isPromise, isIterable, isAsyncIterable, isIteratorResult, isFlatbuffersByteBuffer } from './compat.mjs';\n/** @ignore */\nconst SharedArrayBuf = (typeof SharedArrayBuffer !== 'undefined' ? SharedArrayBuffer : ArrayBuffer);\n/** @ignore */\nfunction collapseContiguousByteRanges(chunks) {\n    const result = chunks[0] ? [chunks[0]] : [];\n    let xOffset, yOffset, xLen, yLen;\n    for (let x, y, i = 0, j = 0, n = chunks.length; ++i < n;) {\n        x = result[j];\n        y = chunks[i];\n        // continue if x and y don't share the same underlying ArrayBuffer, or if x isn't before y\n        if (!x || !y || x.buffer !== y.buffer || y.byteOffset < x.byteOffset) {\n            y && (result[++j] = y);\n            continue;\n        }\n        ({ byteOffset: xOffset, byteLength: xLen } = x);\n        ({ byteOffset: yOffset, byteLength: yLen } = y);\n        // continue if the byte ranges of x and y aren't contiguous\n        if ((xOffset + xLen) < yOffset || (yOffset + yLen) < xOffset) {\n            y && (result[++j] = y);\n            continue;\n        }\n        result[j] = new Uint8Array(x.buffer, xOffset, yOffset - xOffset + yLen);\n    }\n    return result;\n}\n/** @ignore */\nexport function memcpy(target, source, targetByteOffset = 0, sourceByteLength = source.byteLength) {\n    const targetByteLength = target.byteLength;\n    const dst = new Uint8Array(target.buffer, target.byteOffset, targetByteLength);\n    const src = new Uint8Array(source.buffer, source.byteOffset, Math.min(sourceByteLength, targetByteLength));\n    dst.set(src, targetByteOffset);\n    return target;\n}\n/** @ignore */\nexport function joinUint8Arrays(chunks, size) {\n    // collapse chunks that share the same underlying ArrayBuffer and whose byte ranges overlap,\n    // to avoid unnecessarily copying the bytes to do this buffer join. This is a common case during\n    // streaming, where we may be reading partial byte ranges out of the same underlying ArrayBuffer\n    const result = collapseContiguousByteRanges(chunks);\n    const byteLength = result.reduce((x, b) => x + b.byteLength, 0);\n    let source, sliced, buffer;\n    let offset = 0, index = -1;\n    const length = Math.min(size || Number.POSITIVE_INFINITY, byteLength);\n    for (const n = result.length; ++index < n;) {\n        source = result[index];\n        sliced = source.subarray(0, Math.min(source.length, length - offset));\n        if (length <= (offset + sliced.length)) {\n            if (sliced.length < source.length) {\n                result[index] = source.subarray(sliced.length);\n            }\n            else if (sliced.length === source.length) {\n                index++;\n            }\n            buffer ? memcpy(buffer, sliced, offset) : (buffer = sliced);\n            break;\n        }\n        memcpy(buffer || (buffer = new Uint8Array(length)), sliced, offset);\n        offset += sliced.length;\n    }\n    return [buffer || new Uint8Array(0), result.slice(index), byteLength - (buffer ? buffer.byteLength : 0)];\n}\n/** @ignore */\nexport function toArrayBufferView(ArrayBufferViewCtor, input) {\n    let value = isIteratorResult(input) ? input.value : input;\n    if (value instanceof ArrayBufferViewCtor) {\n        if (ArrayBufferViewCtor === Uint8Array) {\n            // Node's `Buffer` class passes the `instanceof Uint8Array` check, but we need\n            // a real Uint8Array, since Buffer#slice isn't the same as Uint8Array#slice :/\n            return new ArrayBufferViewCtor(value.buffer, value.byteOffset, value.byteLength);\n        }\n        return value;\n    }\n    if (!value) {\n        return new ArrayBufferViewCtor(0);\n    }\n    if (typeof value === 'string') {\n        value = encodeUtf8(value);\n    }\n    if (value instanceof ArrayBuffer) {\n        return new ArrayBufferViewCtor(value);\n    }\n    if (value instanceof SharedArrayBuf) {\n        return new ArrayBufferViewCtor(value);\n    }\n    if (isFlatbuffersByteBuffer(value)) {\n        return toArrayBufferView(ArrayBufferViewCtor, value.bytes());\n    }\n    return !ArrayBuffer.isView(value) ? ArrayBufferViewCtor.from(value) : (value.byteLength <= 0 ? new ArrayBufferViewCtor(0)\n        : new ArrayBufferViewCtor(value.buffer, value.byteOffset, value.byteLength / ArrayBufferViewCtor.BYTES_PER_ELEMENT));\n}\n/** @ignore */ export const toInt8Array = (input) => toArrayBufferView(Int8Array, input);\n/** @ignore */ export const toInt16Array = (input) => toArrayBufferView(Int16Array, input);\n/** @ignore */ export const toInt32Array = (input) => toArrayBufferView(Int32Array, input);\n/** @ignore */ export const toBigInt64Array = (input) => toArrayBufferView(BigInt64Array, input);\n/** @ignore */ export const toUint8Array = (input) => toArrayBufferView(Uint8Array, input);\n/** @ignore */ export const toUint16Array = (input) => toArrayBufferView(Uint16Array, input);\n/** @ignore */ export const toUint32Array = (input) => toArrayBufferView(Uint32Array, input);\n/** @ignore */ export const toBigUint64Array = (input) => toArrayBufferView(BigUint64Array, input);\n/** @ignore */ export const toFloat32Array = (input) => toArrayBufferView(Float32Array, input);\n/** @ignore */ export const toFloat64Array = (input) => toArrayBufferView(Float64Array, input);\n/** @ignore */ export const toUint8ClampedArray = (input) => toArrayBufferView(Uint8ClampedArray, input);\n/** @ignore */\nconst pump = (iterator) => { iterator.next(); return iterator; };\n/** @ignore */\nexport function* toArrayBufferViewIterator(ArrayCtor, source) {\n    const wrap = function* (x) { yield x; };\n    const buffers = (typeof source === 'string') ? wrap(source)\n        : (ArrayBuffer.isView(source)) ? wrap(source)\n            : (source instanceof ArrayBuffer) ? wrap(source)\n                : (source instanceof SharedArrayBuf) ? wrap(source)\n                    : !isIterable(source) ? wrap(source) : source;\n    yield* pump((function* (it) {\n        let r = null;\n        do {\n            r = it.next(yield toArrayBufferView(ArrayCtor, r));\n        } while (!r.done);\n    })(buffers[Symbol.iterator]()));\n    return new ArrayCtor();\n}\n/** @ignore */ export const toInt8ArrayIterator = (input) => toArrayBufferViewIterator(Int8Array, input);\n/** @ignore */ export const toInt16ArrayIterator = (input) => toArrayBufferViewIterator(Int16Array, input);\n/** @ignore */ export const toInt32ArrayIterator = (input) => toArrayBufferViewIterator(Int32Array, input);\n/** @ignore */ export const toUint8ArrayIterator = (input) => toArrayBufferViewIterator(Uint8Array, input);\n/** @ignore */ export const toUint16ArrayIterator = (input) => toArrayBufferViewIterator(Uint16Array, input);\n/** @ignore */ export const toUint32ArrayIterator = (input) => toArrayBufferViewIterator(Uint32Array, input);\n/** @ignore */ export const toFloat32ArrayIterator = (input) => toArrayBufferViewIterator(Float32Array, input);\n/** @ignore */ export const toFloat64ArrayIterator = (input) => toArrayBufferViewIterator(Float64Array, input);\n/** @ignore */ export const toUint8ClampedArrayIterator = (input) => toArrayBufferViewIterator(Uint8ClampedArray, input);\n/** @ignore */\nexport function toArrayBufferViewAsyncIterator(ArrayCtor, source) {\n    return __asyncGenerator(this, arguments, function* toArrayBufferViewAsyncIterator_1() {\n        // if a Promise, unwrap the Promise and iterate the resolved value\n        if (isPromise(source)) {\n            return yield __await(yield __await(yield* __asyncDelegator(__asyncValues(toArrayBufferViewAsyncIterator(ArrayCtor, yield __await(source))))));\n        }\n        const wrap = function (x) { return __asyncGenerator(this, arguments, function* () { yield yield __await(yield __await(x)); }); };\n        const emit = function (source) {\n            return __asyncGenerator(this, arguments, function* () {\n                yield __await(yield* __asyncDelegator(__asyncValues(pump((function* (it) {\n                    let r = null;\n                    do {\n                        r = it.next(yield r === null || r === void 0 ? void 0 : r.value);\n                    } while (!r.done);\n                })(source[Symbol.iterator]())))));\n            });\n        };\n        const buffers = (typeof source === 'string') ? wrap(source) // if string, wrap in an AsyncIterableIterator\n            : (ArrayBuffer.isView(source)) ? wrap(source) // if TypedArray, wrap in an AsyncIterableIterator\n                : (source instanceof ArrayBuffer) ? wrap(source) // if ArrayBuffer, wrap in an AsyncIterableIterator\n                    : (source instanceof SharedArrayBuf) ? wrap(source) // if SharedArrayBuffer, wrap in an AsyncIterableIterator\n                        : isIterable(source) ? emit(source) // If Iterable, wrap in an AsyncIterableIterator and compose the `next` values\n                            : !isAsyncIterable(source) ? wrap(source) // If not an AsyncIterable, treat as a sentinel and wrap in an AsyncIterableIterator\n                                : source; // otherwise if AsyncIterable, use it\n        yield __await(// otherwise if AsyncIterable, use it\n        yield* __asyncDelegator(__asyncValues(pump((function (it) {\n            return __asyncGenerator(this, arguments, function* () {\n                let r = null;\n                do {\n                    r = yield __await(it.next(yield yield __await(toArrayBufferView(ArrayCtor, r))));\n                } while (!r.done);\n            });\n        })(buffers[Symbol.asyncIterator]())))));\n        return yield __await(new ArrayCtor());\n    });\n}\n/** @ignore */ export const toInt8ArrayAsyncIterator = (input) => toArrayBufferViewAsyncIterator(Int8Array, input);\n/** @ignore */ export const toInt16ArrayAsyncIterator = (input) => toArrayBufferViewAsyncIterator(Int16Array, input);\n/** @ignore */ export const toInt32ArrayAsyncIterator = (input) => toArrayBufferViewAsyncIterator(Int32Array, input);\n/** @ignore */ export const toUint8ArrayAsyncIterator = (input) => toArrayBufferViewAsyncIterator(Uint8Array, input);\n/** @ignore */ export const toUint16ArrayAsyncIterator = (input) => toArrayBufferViewAsyncIterator(Uint16Array, input);\n/** @ignore */ export const toUint32ArrayAsyncIterator = (input) => toArrayBufferViewAsyncIterator(Uint32Array, input);\n/** @ignore */ export const toFloat32ArrayAsyncIterator = (input) => toArrayBufferViewAsyncIterator(Float32Array, input);\n/** @ignore */ export const toFloat64ArrayAsyncIterator = (input) => toArrayBufferViewAsyncIterator(Float64Array, input);\n/** @ignore */ export const toUint8ClampedArrayAsyncIterator = (input) => toArrayBufferViewAsyncIterator(Uint8ClampedArray, input);\n/** @ignore */\nexport function rebaseValueOffsets(offset, length, valueOffsets) {\n    // If we have a non-zero offset, create a new offsets array with the values\n    // shifted by the start offset, such that the new start offset is 0\n    if (offset !== 0) {\n        valueOffsets = valueOffsets.slice(0, length + 1);\n        for (let i = -1; ++i <= length;) {\n            valueOffsets[i] += offset;\n        }\n    }\n    return valueOffsets;\n}\n/** @ignore */\nexport function compareArrayLike(a, b) {\n    let i = 0;\n    const n = a.length;\n    if (n !== b.length) {\n        return false;\n    }\n    if (n > 0) {\n        do {\n            if (a[i] !== b[i]) {\n                return false;\n            }\n        } while (++i < n);\n    }\n    return true;\n}\n\n//# sourceMappingURL=buffer.mjs.map\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nimport { Vector } from '../vector.mjs';\nimport { MapRow } from '../row/map.mjs';\nimport { StructRow } from '../row/struct.mjs';\nimport { compareArrayLike } from '../util/buffer.mjs';\n/** @ignore */\nexport function clampIndex(source, index, then) {\n    const length = source.length;\n    const adjust = index > -1 ? index : (length + (index % length));\n    return then ? then(source, adjust) : adjust;\n}\n/** @ignore */\nlet tmp;\n/** @ignore */\nexport function clampRange(source, begin, end, then) {\n    // Adjust args similar to Array.prototype.slice. Normalize begin/end to\n    // clamp between 0 and length, and wrap around on negative indices, e.g.\n    // slice(-1, 5) or slice(5, -1)\n    const { length: len = 0 } = source;\n    let lhs = typeof begin !== 'number' ? 0 : begin;\n    let rhs = typeof end !== 'number' ? len : end;\n    // wrap around on negative start/end positions\n    (lhs < 0) && (lhs = ((lhs % len) + len) % len);\n    (rhs < 0) && (rhs = ((rhs % len) + len) % len);\n    // ensure lhs <= rhs\n    (rhs < lhs) && (tmp = lhs, lhs = rhs, rhs = tmp);\n    // ensure rhs <= length\n    (rhs > len) && (rhs = len);\n    return then ? then(source, lhs, rhs) : [lhs, rhs];\n}\nconst isNaNFast = (value) => value !== value;\n/** @ignore */\nexport function createElementComparator(search) {\n    const typeofSearch = typeof search;\n    // Compare primitives\n    if (typeofSearch !== 'object' || search === null) {\n        // Compare NaN\n        if (isNaNFast(search)) {\n            return isNaNFast;\n        }\n        return (value) => value === search;\n    }\n    // Compare Dates\n    if (search instanceof Date) {\n        const valueOfSearch = search.valueOf();\n        return (value) => value instanceof Date ? (value.valueOf() === valueOfSearch) : false;\n    }\n    // Compare TypedArrays\n    if (ArrayBuffer.isView(search)) {\n        return (value) => value ? compareArrayLike(search, value) : false;\n    }\n    // Compare Maps and Rows\n    if (search instanceof Map) {\n        return createMapComparator(search);\n    }\n    // Compare Array-likes\n    if (Array.isArray(search)) {\n        return createArrayLikeComparator(search);\n    }\n    // Compare Vectors\n    if (search instanceof Vector) {\n        return createVectorComparator(search);\n    }\n    return createObjectComparator(search, true);\n    // Compare non-empty Objects\n    // return createObjectComparator(search, search instanceof Proxy);\n}\n/** @ignore */\nfunction createArrayLikeComparator(lhs) {\n    const comparators = [];\n    for (let i = -1, n = lhs.length; ++i < n;) {\n        comparators[i] = createElementComparator(lhs[i]);\n    }\n    return createSubElementsComparator(comparators);\n}\n/** @ignore */\nfunction createMapComparator(lhs) {\n    let i = -1;\n    const comparators = [];\n    for (const v of lhs.values())\n        comparators[++i] = createElementComparator(v);\n    return createSubElementsComparator(comparators);\n}\n/** @ignore */\nfunction createVectorComparator(lhs) {\n    const comparators = [];\n    for (let i = -1, n = lhs.length; ++i < n;) {\n        comparators[i] = createElementComparator(lhs.get(i));\n    }\n    return createSubElementsComparator(comparators);\n}\n/** @ignore */\nfunction createObjectComparator(lhs, allowEmpty = false) {\n    const keys = Object.keys(lhs);\n    // Only compare non-empty Objects\n    if (!allowEmpty && keys.length === 0) {\n        return () => false;\n    }\n    const comparators = [];\n    for (let i = -1, n = keys.length; ++i < n;) {\n        comparators[i] = createElementComparator(lhs[keys[i]]);\n    }\n    return createSubElementsComparator(comparators, keys);\n}\nfunction createSubElementsComparator(comparators, keys) {\n    return (rhs) => {\n        if (!rhs || typeof rhs !== 'object') {\n            return false;\n        }\n        switch (rhs.constructor) {\n            case Array: return compareArray(comparators, rhs);\n            case Map:\n                return compareObject(comparators, rhs, rhs.keys());\n            case MapRow:\n            case StructRow:\n            case Object:\n            case undefined: // support `Object.create(null)` objects\n                return compareObject(comparators, rhs, keys || Object.keys(rhs));\n        }\n        return rhs instanceof Vector ? compareVector(comparators, rhs) : false;\n    };\n}\nfunction compareArray(comparators, arr) {\n    const n = comparators.length;\n    if (arr.length !== n) {\n        return false;\n    }\n    for (let i = -1; ++i < n;) {\n        if (!(comparators[i](arr[i]))) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction compareVector(comparators, vec) {\n    const n = comparators.length;\n    if (vec.length !== n) {\n        return false;\n    }\n    for (let i = -1; ++i < n;) {\n        if (!(comparators[i](vec.get(i)))) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction compareObject(comparators, obj, keys) {\n    const lKeyItr = keys[Symbol.iterator]();\n    const rKeyItr = obj instanceof Map ? obj.keys() : Object.keys(obj)[Symbol.iterator]();\n    const rValItr = obj instanceof Map ? obj.values() : Object.values(obj)[Symbol.iterator]();\n    let i = 0;\n    const n = comparators.length;\n    let rVal = rValItr.next();\n    let lKey = lKeyItr.next();\n    let rKey = rKeyItr.next();\n    for (; i < n && !lKey.done && !rKey.done && !rVal.done; ++i, lKey = lKeyItr.next(), rKey = rKeyItr.next(), rVal = rValItr.next()) {\n        if (lKey.value !== rKey.value || !comparators[i](rVal.value)) {\n            break;\n        }\n    }\n    if (i === n && lKey.done && rKey.done && rVal.done) {\n        return true;\n    }\n    lKeyItr.return && lKeyItr.return();\n    rKeyItr.return && rKeyItr.return();\n    rValItr.return && rValItr.return();\n    return false;\n}\n\n//# sourceMappingURL=vector.mjs.map\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nimport { Vector } from '../vector.mjs';\nimport { valueToString } from '../util/pretty.mjs';\nimport { instance as getVisitor } from '../visitor/get.mjs';\nimport { instance as setVisitor } from '../visitor/set.mjs';\n/** @ignore */ export const kKeys = Symbol.for('keys');\n/** @ignore */ export const kVals = Symbol.for('vals');\nexport class MapRow {\n    constructor(slice) {\n        this[kKeys] = new Vector([slice.children[0]]).memoize();\n        this[kVals] = slice.children[1];\n        return new Proxy(this, new MapRowProxyHandler());\n    }\n    [Symbol.iterator]() {\n        return new MapRowIterator(this[kKeys], this[kVals]);\n    }\n    get size() { return this[kKeys].length; }\n    toArray() { return Object.values(this.toJSON()); }\n    toJSON() {\n        const keys = this[kKeys];\n        const vals = this[kVals];\n        const json = {};\n        for (let i = -1, n = keys.length; ++i < n;) {\n            json[keys.get(i)] = getVisitor.visit(vals, i);\n        }\n        return json;\n    }\n    toString() {\n        return `{${[...this].map(([key, val]) => `${valueToString(key)}: ${valueToString(val)}`).join(', ')}}`;\n    }\n    [Symbol.for('nodejs.util.inspect.custom')]() {\n        return this.toString();\n    }\n}\nclass MapRowIterator {\n    constructor(keys, vals) {\n        this.keys = keys;\n        this.vals = vals;\n        this.keyIndex = 0;\n        this.numKeys = keys.length;\n    }\n    [Symbol.iterator]() { return this; }\n    next() {\n        const i = this.keyIndex;\n        if (i === this.numKeys) {\n            return { done: true, value: null };\n        }\n        this.keyIndex++;\n        return {\n            done: false,\n            value: [\n                this.keys.get(i),\n                getVisitor.visit(this.vals, i),\n            ]\n        };\n    }\n}\n/** @ignore */\nclass MapRowProxyHandler {\n    isExtensible() { return false; }\n    deleteProperty() { return false; }\n    preventExtensions() { return true; }\n    ownKeys(row) {\n        return row[kKeys].toArray().map(String);\n    }\n    has(row, key) {\n        return row[kKeys].includes(key);\n    }\n    getOwnPropertyDescriptor(row, key) {\n        const idx = row[kKeys].indexOf(key);\n        if (idx !== -1) {\n            return { writable: true, enumerable: true, configurable: true };\n        }\n        return;\n    }\n    get(row, key) {\n        // Look up key in row first\n        if (Reflect.has(row, key)) {\n            return row[key];\n        }\n        const idx = row[kKeys].indexOf(key);\n        if (idx !== -1) {\n            const val = getVisitor.visit(Reflect.get(row, kVals), idx);\n            // Cache key/val lookups\n            Reflect.set(row, key, val);\n            return val;\n        }\n    }\n    set(row, key, val) {\n        const idx = row[kKeys].indexOf(key);\n        if (idx !== -1) {\n            setVisitor.visit(Reflect.get(row, kVals), idx, val);\n            // Cache key/val lookups\n            return Reflect.set(row, key, val);\n        }\n        else if (Reflect.has(row, key)) {\n            return Reflect.set(row, key, val);\n        }\n        return false;\n    }\n}\nObject.defineProperties(MapRow.prototype, {\n    [Symbol.toStringTag]: { enumerable: false, configurable: false, value: 'Row' },\n    [kKeys]: { writable: true, enumerable: false, configurable: false, value: null },\n    [kVals]: { writable: true, enumerable: false, configurable: false, value: null },\n});\n\n//# sourceMappingURL=map.mjs.map\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nconst f64 = new Float64Array(1);\nconst u32 = new Uint32Array(f64.buffer);\n/**\n * Convert uint16 (logically a float16) to a JS float64. Inspired by numpy's `npy_half_to_double`:\n * https://github.com/numpy/numpy/blob/5a5987291dc95376bb098be8d8e5391e89e77a2c/numpy/core/src/npymath/halffloat.c#L29\n * @param h {number} the uint16 to convert\n * @private\n * @ignore\n */\nexport function uint16ToFloat64(h) {\n    const expo = (h & 0x7C00) >> 10;\n    const sigf = (h & 0x03FF) / 1024;\n    const sign = Math.pow((-1), ((h & 0x8000) >> 15));\n    switch (expo) {\n        case 0x1F: return sign * (sigf ? Number.NaN : 1 / 0);\n        case 0x00: return sign * (sigf ? 6.103515625e-5 * sigf : 0);\n    }\n    return sign * (Math.pow(2, (expo - 15))) * (1 + sigf);\n}\n/**\n * Convert a float64 to uint16 (assuming the float64 is logically a float16). Inspired by numpy's `npy_double_to_half`:\n * https://github.com/numpy/numpy/blob/5a5987291dc95376bb098be8d8e5391e89e77a2c/numpy/core/src/npymath/halffloat.c#L43\n * @param d {number} The float64 to convert\n * @private\n * @ignore\n */\nexport function float64ToUint16(d) {\n    if (d !== d) {\n        return 0x7E00;\n    } // NaN\n    f64[0] = d;\n    // Magic numbers:\n    // 0x80000000 = 10000000 00000000 00000000 00000000 -- masks the 32nd bit\n    // 0x7ff00000 = 01111111 11110000 00000000 00000000 -- masks the 21st-31st bits\n    // 0x000fffff = 00000000 00001111 11111111 11111111 -- masks the 1st-20th bit\n    const sign = (u32[1] & 0x80000000) >> 16 & 0xFFFF;\n    let expo = (u32[1] & 0x7FF00000), sigf = 0x0000;\n    if (expo >= 0x40F00000) {\n        //\n        // If exponent overflowed, the float16 is either NaN or Infinity.\n        // Rules to propagate the sign bit: mantissa > 0 ? NaN : +/-Infinity\n        //\n        // Magic numbers:\n        // 0x40F00000 = 01000000 11110000 00000000 00000000 -- 6-bit exponent overflow\n        // 0x7C000000 = 01111100 00000000 00000000 00000000 -- masks the 27th-31st bits\n        //\n        // returns:\n        // qNaN, aka 32256 decimal, 0x7E00 hex, or 01111110 00000000 binary\n        // sNaN, aka 32000 decimal, 0x7D00 hex, or 01111101 00000000 binary\n        // +inf, aka 31744 decimal, 0x7C00 hex, or 01111100 00000000 binary\n        // -inf, aka 64512 decimal, 0xFC00 hex, or 11111100 00000000 binary\n        //\n        // If mantissa is greater than 23 bits, set to +Infinity like numpy\n        if (u32[0] > 0) {\n            expo = 0x7C00;\n        }\n        else {\n            expo = (expo & 0x7C000000) >> 16;\n            sigf = (u32[1] & 0x000FFFFF) >> 10;\n        }\n    }\n    else if (expo <= 0x3F000000) {\n        //\n        // If exponent underflowed, the float is either signed zero or subnormal.\n        //\n        // Magic numbers:\n        // 0x3F000000 = 00111111 00000000 00000000 00000000 -- 6-bit exponent underflow\n        //\n        sigf = 0x100000 + (u32[1] & 0x000FFFFF);\n        sigf = 0x100000 + (sigf << ((expo >> 20) - 998)) >> 21;\n        expo = 0;\n    }\n    else {\n        //\n        // No overflow or underflow, rebase the exponent and round the mantissa\n        // Magic numbers:\n        // 0x200 = 00000010 00000000 -- masks off the 10th bit\n        //\n        // Ensure the first mantissa bit (the 10th one) is 1 and round\n        expo = (expo - 0x3F000000) >> 10;\n        sigf = ((u32[1] & 0x000FFFFF) + 0x200) >> 10;\n    }\n    return sign | expo | sigf & 0xFFFF;\n}\n\n//# sourceMappingURL=math.mjs.map\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nimport { Visitor } from '../visitor.mjs';\nimport { instance as getVisitor } from './get.mjs';\nimport { getBool, BitIterator } from '../util/bit.mjs';\nimport { createElementComparator } from '../util/vector.mjs';\n/** @ignore */\nexport class IndexOfVisitor extends Visitor {\n}\n/** @ignore */\nfunction nullIndexOf(data, searchElement) {\n    // if you're looking for nulls and the vector isn't empty, we've got 'em!\n    return searchElement === null && data.length > 0 ? 0 : -1;\n}\n/** @ignore */\nfunction indexOfNull(data, fromIndex) {\n    const { nullBitmap } = data;\n    if (!nullBitmap || data.nullCount <= 0) {\n        return -1;\n    }\n    let i = 0;\n    for (const isValid of new BitIterator(nullBitmap, data.offset + (fromIndex || 0), data.length, nullBitmap, getBool)) {\n        if (!isValid) {\n            return i;\n        }\n        ++i;\n    }\n    return -1;\n}\n/** @ignore */\nfunction indexOfValue(data, searchElement, fromIndex) {\n    if (searchElement === undefined) {\n        return -1;\n    }\n    if (searchElement === null) {\n        return indexOfNull(data, fromIndex);\n    }\n    const get = getVisitor.getVisitFn(data);\n    const compare = createElementComparator(searchElement);\n    for (let i = (fromIndex || 0) - 1, n = data.length; ++i < n;) {\n        if (compare(get(data, i))) {\n            return i;\n        }\n    }\n    return -1;\n}\n/** @ignore */\nfunction indexOfUnion(data, searchElement, fromIndex) {\n    // Unions are special -- they do have a nullBitmap, but so can their children.\n    // If the searchElement is null, we don't know whether it came from the Union's\n    // bitmap or one of its childrens'. So we don't interrogate the Union's bitmap,\n    // since that will report the wrong index if a child has a null before the Union.\n    const get = getVisitor.getVisitFn(data);\n    const compare = createElementComparator(searchElement);\n    for (let i = (fromIndex || 0) - 1, n = data.length; ++i < n;) {\n        if (compare(get(data, i))) {\n            return i;\n        }\n    }\n    return -1;\n}\nIndexOfVisitor.prototype.visitNull = nullIndexOf;\nIndexOfVisitor.prototype.visitBool = indexOfValue;\nIndexOfVisitor.prototype.visitInt = indexOfValue;\nIndexOfVisitor.prototype.visitInt8 = indexOfValue;\nIndexOfVisitor.prototype.visitInt16 = indexOfValue;\nIndexOfVisitor.prototype.visitInt32 = indexOfValue;\nIndexOfVisitor.prototype.visitInt64 = indexOfValue;\nIndexOfVisitor.prototype.visitUint8 = indexOfValue;\nIndexOfVisitor.prototype.visitUint16 = indexOfValue;\nIndexOfVisitor.prototype.visitUint32 = indexOfValue;\nIndexOfVisitor.prototype.visitUint64 = indexOfValue;\nIndexOfVisitor.prototype.visitFloat = indexOfValue;\nIndexOfVisitor.prototype.visitFloat16 = indexOfValue;\nIndexOfVisitor.prototype.visitFloat32 = indexOfValue;\nIndexOfVisitor.prototype.visitFloat64 = indexOfValue;\nIndexOfVisitor.prototype.visitUtf8 = indexOfValue;\nIndexOfVisitor.prototype.visitBinary = indexOfValue;\nIndexOfVisitor.prototype.visitFixedSizeBinary = indexOfValue;\nIndexOfVisitor.prototype.visitDate = indexOfValue;\nIndexOfVisitor.prototype.visitDateDay = indexOfValue;\nIndexOfVisitor.prototype.visitDateMillisecond = indexOfValue;\nIndexOfVisitor.prototype.visitTimestamp = indexOfValue;\nIndexOfVisitor.prototype.visitTimestampSecond = indexOfValue;\nIndexOfVisitor.prototype.visitTimestampMillisecond = indexOfValue;\nIndexOfVisitor.prototype.visitTimestampMicrosecond = indexOfValue;\nIndexOfVisitor.prototype.visitTimestampNanosecond = indexOfValue;\nIndexOfVisitor.prototype.visitTime = indexOfValue;\nIndexOfVisitor.prototype.visitTimeSecond = indexOfValue;\nIndexOfVisitor.prototype.visitTimeMillisecond = indexOfValue;\nIndexOfVisitor.prototype.visitTimeMicrosecond = indexOfValue;\nIndexOfVisitor.prototype.visitTimeNanosecond = indexOfValue;\nIndexOfVisitor.prototype.visitDecimal = indexOfValue;\nIndexOfVisitor.prototype.visitList = indexOfValue;\nIndexOfVisitor.prototype.visitStruct = indexOfValue;\nIndexOfVisitor.prototype.visitUnion = indexOfValue;\nIndexOfVisitor.prototype.visitDenseUnion = indexOfUnion;\nIndexOfVisitor.prototype.visitSparseUnion = indexOfUnion;\nIndexOfVisitor.prototype.visitDictionary = indexOfValue;\nIndexOfVisitor.prototype.visitInterval = indexOfValue;\nIndexOfVisitor.prototype.visitIntervalDayTime = indexOfValue;\nIndexOfVisitor.prototype.visitIntervalYearMonth = indexOfValue;\nIndexOfVisitor.prototype.visitFixedSizeList = indexOfValue;\nIndexOfVisitor.prototype.visitMap = indexOfValue;\n/** @ignore */\nexport const instance = new IndexOfVisitor();\n\n//# sourceMappingURL=indexof.mjs.map\n","/* istanbul ignore file */\nimport { Visitor } from '../visitor.mjs';\nimport { TimeUnit, UnionMode } from '../enum.mjs';\n/** @ignore */ const sum = (x, y) => x + y;\n/** @ignore */\nexport class GetByteLengthVisitor extends Visitor {\n    visitNull(____, _) {\n        return 0;\n    }\n    visitInt(data, _) {\n        return data.type.bitWidth / 8;\n    }\n    visitFloat(data, _) {\n        return data.type.ArrayType.BYTES_PER_ELEMENT;\n    }\n    visitBool(____, _) {\n        return 1 / 8;\n    }\n    visitDecimal(data, _) {\n        return data.type.bitWidth / 8;\n    }\n    visitDate(data, _) {\n        return (data.type.unit + 1) * 4;\n    }\n    visitTime(data, _) {\n        return data.type.bitWidth / 8;\n    }\n    visitTimestamp(data, _) {\n        return data.type.unit === TimeUnit.SECOND ? 4 : 8;\n    }\n    visitInterval(data, _) {\n        return (data.type.unit + 1) * 4;\n    }\n    visitStruct(data, i) {\n        return data.children.reduce((total, child) => total + instance.visit(child, i), 0);\n    }\n    visitFixedSizeBinary(data, _) {\n        return data.type.byteWidth;\n    }\n    visitMap(data, i) {\n        // 4 + 4 for the indices\n        return 8 + data.children.reduce((total, child) => total + instance.visit(child, i), 0);\n    }\n    visitDictionary(data, i) {\n        var _a;\n        return (data.type.indices.bitWidth / 8) + (((_a = data.dictionary) === null || _a === void 0 ? void 0 : _a.getByteLength(data.values[i])) || 0);\n    }\n}\n/** @ignore */\nconst getUtf8ByteLength = ({ valueOffsets }, index) => {\n    // 4 + 4 for the indices, `end - start` for the data bytes\n    return 8 + (valueOffsets[index + 1] - valueOffsets[index]);\n};\n/** @ignore */\nconst getBinaryByteLength = ({ valueOffsets }, index) => {\n    // 4 + 4 for the indices, `end - start` for the data bytes\n    return 8 + (valueOffsets[index + 1] - valueOffsets[index]);\n};\n/** @ignore */\nconst getListByteLength = ({ valueOffsets, stride, children }, index) => {\n    const child = children[0];\n    const { [index * stride]: start } = valueOffsets;\n    const { [index * stride + 1]: end } = valueOffsets;\n    const visit = instance.getVisitFn(child.type);\n    const slice = child.slice(start, end - start);\n    let size = 8; // 4 + 4 for the indices\n    for (let idx = -1, len = end - start; ++idx < len;) {\n        size += visit(slice, idx);\n    }\n    return size;\n};\n/** @ignore */\nconst getFixedSizeListByteLength = ({ stride, children }, index) => {\n    const child = children[0];\n    const slice = child.slice(index * stride, stride);\n    const visit = instance.getVisitFn(child.type);\n    let size = 0;\n    for (let idx = -1, len = slice.length; ++idx < len;) {\n        size += visit(slice, idx);\n    }\n    return size;\n};\n/* istanbul ignore next */\n/** @ignore */\nconst getUnionByteLength = (data, index) => {\n    return data.type.mode === UnionMode.Dense ?\n        getDenseUnionByteLength(data, index) :\n        getSparseUnionByteLength(data, index);\n};\n/** @ignore */\nconst getDenseUnionByteLength = ({ type, children, typeIds, valueOffsets }, index) => {\n    const childIndex = type.typeIdToChildIndex[typeIds[index]];\n    // 4 for the typeId, 4 for the valueOffsets, then the child at the offset\n    return 8 + instance.visit(children[childIndex], valueOffsets[index]);\n};\n/** @ignore */\nconst getSparseUnionByteLength = ({ children }, index) => {\n    // 4 for the typeId, then once each for the children at this index\n    return 4 + instance.visitMany(children, children.map(() => index)).reduce(sum, 0);\n};\nGetByteLengthVisitor.prototype.visitUtf8 = getUtf8ByteLength;\nGetByteLengthVisitor.prototype.visitBinary = getBinaryByteLength;\nGetByteLengthVisitor.prototype.visitList = getListByteLength;\nGetByteLengthVisitor.prototype.visitFixedSizeList = getFixedSizeListByteLength;\nGetByteLengthVisitor.prototype.visitUnion = getUnionByteLength;\nGetByteLengthVisitor.prototype.visitDenseUnion = getDenseUnionByteLength;\nGetByteLengthVisitor.prototype.visitSparseUnion = getSparseUnionByteLength;\n/** @ignore */\nexport const instance = new GetByteLengthVisitor();\n\n//# sourceMappingURL=bytelength.mjs.map\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nimport { Visitor } from '../visitor.mjs';\n/** @ignore */\nexport class TypeComparator extends Visitor {\n    compareSchemas(schema, other) {\n        return (schema === other) || (other instanceof schema.constructor &&\n            this.compareManyFields(schema.fields, other.fields));\n    }\n    compareManyFields(fields, others) {\n        return (fields === others) || (Array.isArray(fields) &&\n            Array.isArray(others) &&\n            fields.length === others.length &&\n            fields.every((f, i) => this.compareFields(f, others[i])));\n    }\n    compareFields(field, other) {\n        return (field === other) || (other instanceof field.constructor &&\n            field.name === other.name &&\n            field.nullable === other.nullable &&\n            this.visit(field.type, other.type));\n    }\n}\nfunction compareConstructor(type, other) {\n    return other instanceof type.constructor;\n}\nfunction compareAny(type, other) {\n    return (type === other) || compareConstructor(type, other);\n}\nfunction compareInt(type, other) {\n    return (type === other) || (compareConstructor(type, other) &&\n        type.bitWidth === other.bitWidth &&\n        type.isSigned === other.isSigned);\n}\nfunction compareFloat(type, other) {\n    return (type === other) || (compareConstructor(type, other) &&\n        type.precision === other.precision);\n}\nfunction compareFixedSizeBinary(type, other) {\n    return (type === other) || (compareConstructor(type, other) &&\n        type.byteWidth === other.byteWidth);\n}\nfunction compareDate(type, other) {\n    return (type === other) || (compareConstructor(type, other) &&\n        type.unit === other.unit);\n}\nfunction compareTimestamp(type, other) {\n    return (type === other) || (compareConstructor(type, other) &&\n        type.unit === other.unit &&\n        type.timezone === other.timezone);\n}\nfunction compareTime(type, other) {\n    return (type === other) || (compareConstructor(type, other) &&\n        type.unit === other.unit &&\n        type.bitWidth === other.bitWidth);\n}\nfunction compareList(type, other) {\n    return (type === other) || (compareConstructor(type, other) &&\n        type.children.length === other.children.length &&\n        instance.compareManyFields(type.children, other.children));\n}\nfunction compareStruct(type, other) {\n    return (type === other) || (compareConstructor(type, other) &&\n        type.children.length === other.children.length &&\n        instance.compareManyFields(type.children, other.children));\n}\nfunction compareUnion(type, other) {\n    return (type === other) || (compareConstructor(type, other) &&\n        type.mode === other.mode &&\n        type.typeIds.every((x, i) => x === other.typeIds[i]) &&\n        instance.compareManyFields(type.children, other.children));\n}\nfunction compareDictionary(type, other) {\n    return (type === other) || (compareConstructor(type, other) &&\n        type.id === other.id &&\n        type.isOrdered === other.isOrdered &&\n        instance.visit(type.indices, other.indices) &&\n        instance.visit(type.dictionary, other.dictionary));\n}\nfunction compareInterval(type, other) {\n    return (type === other) || (compareConstructor(type, other) &&\n        type.unit === other.unit);\n}\nfunction compareFixedSizeList(type, other) {\n    return (type === other) || (compareConstructor(type, other) &&\n        type.listSize === other.listSize &&\n        type.children.length === other.children.length &&\n        instance.compareManyFields(type.children, other.children));\n}\nfunction compareMap(type, other) {\n    return (type === other) || (compareConstructor(type, other) &&\n        type.keysSorted === other.keysSorted &&\n        type.children.length === other.children.length &&\n        instance.compareManyFields(type.children, other.children));\n}\nTypeComparator.prototype.visitNull = compareAny;\nTypeComparator.prototype.visitBool = compareAny;\nTypeComparator.prototype.visitInt = compareInt;\nTypeComparator.prototype.visitInt8 = compareInt;\nTypeComparator.prototype.visitInt16 = compareInt;\nTypeComparator.prototype.visitInt32 = compareInt;\nTypeComparator.prototype.visitInt64 = compareInt;\nTypeComparator.prototype.visitUint8 = compareInt;\nTypeComparator.prototype.visitUint16 = compareInt;\nTypeComparator.prototype.visitUint32 = compareInt;\nTypeComparator.prototype.visitUint64 = compareInt;\nTypeComparator.prototype.visitFloat = compareFloat;\nTypeComparator.prototype.visitFloat16 = compareFloat;\nTypeComparator.prototype.visitFloat32 = compareFloat;\nTypeComparator.prototype.visitFloat64 = compareFloat;\nTypeComparator.prototype.visitUtf8 = compareAny;\nTypeComparator.prototype.visitBinary = compareAny;\nTypeComparator.prototype.visitFixedSizeBinary = compareFixedSizeBinary;\nTypeComparator.prototype.visitDate = compareDate;\nTypeComparator.prototype.visitDateDay = compareDate;\nTypeComparator.prototype.visitDateMillisecond = compareDate;\nTypeComparator.prototype.visitTimestamp = compareTimestamp;\nTypeComparator.prototype.visitTimestampSecond = compareTimestamp;\nTypeComparator.prototype.visitTimestampMillisecond = compareTimestamp;\nTypeComparator.prototype.visitTimestampMicrosecond = compareTimestamp;\nTypeComparator.prototype.visitTimestampNanosecond = compareTimestamp;\nTypeComparator.prototype.visitTime = compareTime;\nTypeComparator.prototype.visitTimeSecond = compareTime;\nTypeComparator.prototype.visitTimeMillisecond = compareTime;\nTypeComparator.prototype.visitTimeMicrosecond = compareTime;\nTypeComparator.prototype.visitTimeNanosecond = compareTime;\nTypeComparator.prototype.visitDecimal = compareAny;\nTypeComparator.prototype.visitList = compareList;\nTypeComparator.prototype.visitStruct = compareStruct;\nTypeComparator.prototype.visitUnion = compareUnion;\nTypeComparator.prototype.visitDenseUnion = compareUnion;\nTypeComparator.prototype.visitSparseUnion = compareUnion;\nTypeComparator.prototype.visitDictionary = compareDictionary;\nTypeComparator.prototype.visitInterval = compareInterval;\nTypeComparator.prototype.visitIntervalDayTime = compareInterval;\nTypeComparator.prototype.visitIntervalYearMonth = compareInterval;\nTypeComparator.prototype.visitFixedSizeList = compareFixedSizeList;\nTypeComparator.prototype.visitMap = compareMap;\n/** @ignore */\nexport const instance = new TypeComparator();\nexport function compareSchemas(schema, other) {\n    return instance.compareSchemas(schema, other);\n}\nexport function compareFields(field, other) {\n    return instance.compareFields(field, other);\n}\nexport function compareTypes(type, other) {\n    return instance.visit(type, other);\n}\n\n//# sourceMappingURL=typecomparator.mjs.map\n","import { feature, point, lineString, isObject } from '@turf/helpers';\n\n/**\n * Callback for coordEach\n *\n * @callback coordEachCallback\n * @param {Array<number>} currentCoord The current coordinate being processed.\n * @param {number} coordIndex The current index of the coordinate being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n * @param {number} geometryIndex The current index of the Geometry being processed.\n */\n\n/**\n * Iterate over coordinates in any GeoJSON object, similar to Array.forEach()\n *\n * @name coordEach\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentCoord, coordIndex, featureIndex, multiFeatureIndex)\n * @param {boolean} [excludeWrapCoord=false] whether or not to include the final coordinate of LinearRings that wraps the ring in its iteration.\n * @returns {void}\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {\"foo\": \"bar\"}),\n *   turf.point([36, 53], {\"hello\": \"world\"})\n * ]);\n *\n * turf.coordEach(features, function (currentCoord, coordIndex, featureIndex, multiFeatureIndex, geometryIndex) {\n *   //=currentCoord\n *   //=coordIndex\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n * });\n */\nfunction coordEach(geojson, callback, excludeWrapCoord) {\n  // Handles null Geometry -- Skips this GeoJSON\n  if (geojson === null) return;\n  var j,\n    k,\n    l,\n    geometry,\n    stopG,\n    coords,\n    geometryMaybeCollection,\n    wrapShrink = 0,\n    coordIndex = 0,\n    isGeometryCollection,\n    type = geojson.type,\n    isFeatureCollection = type === \"FeatureCollection\",\n    isFeature = type === \"Feature\",\n    stop = isFeatureCollection ? geojson.features.length : 1;\n\n  // This logic may look a little weird. The reason why it is that way\n  // is because it's trying to be fast. GeoJSON supports multiple kinds\n  // of objects at its root: FeatureCollection, Features, Geometries.\n  // This function has the responsibility of handling all of them, and that\n  // means that some of the `for` loops you see below actually just don't apply\n  // to certain inputs. For instance, if you give this just a\n  // Point geometry, then both loops are short-circuited and all we do\n  // is gradually rename the input until it's called 'geometry'.\n  //\n  // This also aims to allocate as few resources as possible: just a\n  // few numbers and booleans, rather than any temporary arrays as would\n  // be required with the normalization approach.\n  for (var featureIndex = 0; featureIndex < stop; featureIndex++) {\n    geometryMaybeCollection = isFeatureCollection\n      ? geojson.features[featureIndex].geometry\n      : isFeature\n      ? geojson.geometry\n      : geojson;\n    isGeometryCollection = geometryMaybeCollection\n      ? geometryMaybeCollection.type === \"GeometryCollection\"\n      : false;\n    stopG = isGeometryCollection\n      ? geometryMaybeCollection.geometries.length\n      : 1;\n\n    for (var geomIndex = 0; geomIndex < stopG; geomIndex++) {\n      var multiFeatureIndex = 0;\n      var geometryIndex = 0;\n      geometry = isGeometryCollection\n        ? geometryMaybeCollection.geometries[geomIndex]\n        : geometryMaybeCollection;\n\n      // Handles null Geometry -- Skips this geometry\n      if (geometry === null) continue;\n      coords = geometry.coordinates;\n      var geomType = geometry.type;\n\n      wrapShrink =\n        excludeWrapCoord &&\n        (geomType === \"Polygon\" || geomType === \"MultiPolygon\")\n          ? 1\n          : 0;\n\n      switch (geomType) {\n        case null:\n          break;\n        case \"Point\":\n          if (\n            callback(\n              coords,\n              coordIndex,\n              featureIndex,\n              multiFeatureIndex,\n              geometryIndex\n            ) === false\n          )\n            return false;\n          coordIndex++;\n          multiFeatureIndex++;\n          break;\n        case \"LineString\":\n        case \"MultiPoint\":\n          for (j = 0; j < coords.length; j++) {\n            if (\n              callback(\n                coords[j],\n                coordIndex,\n                featureIndex,\n                multiFeatureIndex,\n                geometryIndex\n              ) === false\n            )\n              return false;\n            coordIndex++;\n            if (geomType === \"MultiPoint\") multiFeatureIndex++;\n          }\n          if (geomType === \"LineString\") multiFeatureIndex++;\n          break;\n        case \"Polygon\":\n        case \"MultiLineString\":\n          for (j = 0; j < coords.length; j++) {\n            for (k = 0; k < coords[j].length - wrapShrink; k++) {\n              if (\n                callback(\n                  coords[j][k],\n                  coordIndex,\n                  featureIndex,\n                  multiFeatureIndex,\n                  geometryIndex\n                ) === false\n              )\n                return false;\n              coordIndex++;\n            }\n            if (geomType === \"MultiLineString\") multiFeatureIndex++;\n            if (geomType === \"Polygon\") geometryIndex++;\n          }\n          if (geomType === \"Polygon\") multiFeatureIndex++;\n          break;\n        case \"MultiPolygon\":\n          for (j = 0; j < coords.length; j++) {\n            geometryIndex = 0;\n            for (k = 0; k < coords[j].length; k++) {\n              for (l = 0; l < coords[j][k].length - wrapShrink; l++) {\n                if (\n                  callback(\n                    coords[j][k][l],\n                    coordIndex,\n                    featureIndex,\n                    multiFeatureIndex,\n                    geometryIndex\n                  ) === false\n                )\n                  return false;\n                coordIndex++;\n              }\n              geometryIndex++;\n            }\n            multiFeatureIndex++;\n          }\n          break;\n        case \"GeometryCollection\":\n          for (j = 0; j < geometry.geometries.length; j++)\n            if (\n              coordEach(geometry.geometries[j], callback, excludeWrapCoord) ===\n              false\n            )\n              return false;\n          break;\n        default:\n          throw new Error(\"Unknown Geometry Type\");\n      }\n    }\n  }\n}\n\n/**\n * Callback for coordReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback coordReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Array<number>} currentCoord The current coordinate being processed.\n * @param {number} coordIndex The current index of the coordinate being processed.\n * Starts at index 0, if an initialValue is provided, and at index 1 otherwise.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n * @param {number} geometryIndex The current index of the Geometry being processed.\n */\n\n/**\n * Reduce coordinates in any GeoJSON object, similar to Array.reduce()\n *\n * @name coordReduce\n * @param {FeatureCollection|Geometry|Feature} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentCoord, coordIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @param {boolean} [excludeWrapCoord=false] whether or not to include the final coordinate of LinearRings that wraps the ring in its iteration.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {\"foo\": \"bar\"}),\n *   turf.point([36, 53], {\"hello\": \"world\"})\n * ]);\n *\n * turf.coordReduce(features, function (previousValue, currentCoord, coordIndex, featureIndex, multiFeatureIndex, geometryIndex) {\n *   //=previousValue\n *   //=currentCoord\n *   //=coordIndex\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n *   return currentCoord;\n * });\n */\nfunction coordReduce(geojson, callback, initialValue, excludeWrapCoord) {\n  var previousValue = initialValue;\n  coordEach(\n    geojson,\n    function (\n      currentCoord,\n      coordIndex,\n      featureIndex,\n      multiFeatureIndex,\n      geometryIndex\n    ) {\n      if (coordIndex === 0 && initialValue === undefined)\n        previousValue = currentCoord;\n      else\n        previousValue = callback(\n          previousValue,\n          currentCoord,\n          coordIndex,\n          featureIndex,\n          multiFeatureIndex,\n          geometryIndex\n        );\n    },\n    excludeWrapCoord\n  );\n  return previousValue;\n}\n\n/**\n * Callback for propEach\n *\n * @callback propEachCallback\n * @param {Object} currentProperties The current Properties being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n */\n\n/**\n * Iterate over properties in any GeoJSON object, similar to Array.forEach()\n *\n * @name propEach\n * @param {FeatureCollection|Feature} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentProperties, featureIndex)\n * @returns {void}\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.propEach(features, function (currentProperties, featureIndex) {\n *   //=currentProperties\n *   //=featureIndex\n * });\n */\nfunction propEach(geojson, callback) {\n  var i;\n  switch (geojson.type) {\n    case \"FeatureCollection\":\n      for (i = 0; i < geojson.features.length; i++) {\n        if (callback(geojson.features[i].properties, i) === false) break;\n      }\n      break;\n    case \"Feature\":\n      callback(geojson.properties, 0);\n      break;\n  }\n}\n\n/**\n * Callback for propReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback propReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {*} currentProperties The current Properties being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n */\n\n/**\n * Reduce properties in any GeoJSON object into a single value,\n * similar to how Array.reduce works. However, in this case we lazily run\n * the reduction, so an array of all properties is unnecessary.\n *\n * @name propReduce\n * @param {FeatureCollection|Feature} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentProperties, featureIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.propReduce(features, function (previousValue, currentProperties, featureIndex) {\n *   //=previousValue\n *   //=currentProperties\n *   //=featureIndex\n *   return currentProperties\n * });\n */\nfunction propReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  propEach(geojson, function (currentProperties, featureIndex) {\n    if (featureIndex === 0 && initialValue === undefined)\n      previousValue = currentProperties;\n    else\n      previousValue = callback(previousValue, currentProperties, featureIndex);\n  });\n  return previousValue;\n}\n\n/**\n * Callback for featureEach\n *\n * @callback featureEachCallback\n * @param {Feature<any>} currentFeature The current Feature being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n */\n\n/**\n * Iterate over features in any GeoJSON object, similar to\n * Array.forEach.\n *\n * @name featureEach\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentFeature, featureIndex)\n * @returns {void}\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {foo: 'bar'}),\n *   turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.featureEach(features, function (currentFeature, featureIndex) {\n *   //=currentFeature\n *   //=featureIndex\n * });\n */\nfunction featureEach(geojson, callback) {\n  if (geojson.type === \"Feature\") {\n    callback(geojson, 0);\n  } else if (geojson.type === \"FeatureCollection\") {\n    for (var i = 0; i < geojson.features.length; i++) {\n      if (callback(geojson.features[i], i) === false) break;\n    }\n  }\n}\n\n/**\n * Callback for featureReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback featureReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature} currentFeature The current Feature being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n */\n\n/**\n * Reduce features in any GeoJSON object, similar to Array.reduce().\n *\n * @name featureReduce\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentFeature, featureIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {\"foo\": \"bar\"}),\n *   turf.point([36, 53], {\"hello\": \"world\"})\n * ]);\n *\n * turf.featureReduce(features, function (previousValue, currentFeature, featureIndex) {\n *   //=previousValue\n *   //=currentFeature\n *   //=featureIndex\n *   return currentFeature\n * });\n */\nfunction featureReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  featureEach(geojson, function (currentFeature, featureIndex) {\n    if (featureIndex === 0 && initialValue === undefined)\n      previousValue = currentFeature;\n    else previousValue = callback(previousValue, currentFeature, featureIndex);\n  });\n  return previousValue;\n}\n\n/**\n * Get all coordinates from any GeoJSON object.\n *\n * @name coordAll\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @returns {Array<Array<number>>} coordinate position array\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {foo: 'bar'}),\n *   turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * var coords = turf.coordAll(features);\n * //= [[26, 37], [36, 53]]\n */\nfunction coordAll(geojson) {\n  var coords = [];\n  coordEach(geojson, function (coord) {\n    coords.push(coord);\n  });\n  return coords;\n}\n\n/**\n * Callback for geomEach\n *\n * @callback geomEachCallback\n * @param {Geometry} currentGeometry The current Geometry being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {Object} featureProperties The current Feature Properties being processed.\n * @param {Array<number>} featureBBox The current Feature BBox being processed.\n * @param {number|string} featureId The current Feature Id being processed.\n */\n\n/**\n * Iterate over each geometry in any GeoJSON object, similar to Array.forEach()\n *\n * @name geomEach\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentGeometry, featureIndex, featureProperties, featureBBox, featureId)\n * @returns {void}\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.geomEach(features, function (currentGeometry, featureIndex, featureProperties, featureBBox, featureId) {\n *   //=currentGeometry\n *   //=featureIndex\n *   //=featureProperties\n *   //=featureBBox\n *   //=featureId\n * });\n */\nfunction geomEach(geojson, callback) {\n  var i,\n    j,\n    g,\n    geometry,\n    stopG,\n    geometryMaybeCollection,\n    isGeometryCollection,\n    featureProperties,\n    featureBBox,\n    featureId,\n    featureIndex = 0,\n    isFeatureCollection = geojson.type === \"FeatureCollection\",\n    isFeature = geojson.type === \"Feature\",\n    stop = isFeatureCollection ? geojson.features.length : 1;\n\n  // This logic may look a little weird. The reason why it is that way\n  // is because it's trying to be fast. GeoJSON supports multiple kinds\n  // of objects at its root: FeatureCollection, Features, Geometries.\n  // This function has the responsibility of handling all of them, and that\n  // means that some of the `for` loops you see below actually just don't apply\n  // to certain inputs. For instance, if you give this just a\n  // Point geometry, then both loops are short-circuited and all we do\n  // is gradually rename the input until it's called 'geometry'.\n  //\n  // This also aims to allocate as few resources as possible: just a\n  // few numbers and booleans, rather than any temporary arrays as would\n  // be required with the normalization approach.\n  for (i = 0; i < stop; i++) {\n    geometryMaybeCollection = isFeatureCollection\n      ? geojson.features[i].geometry\n      : isFeature\n      ? geojson.geometry\n      : geojson;\n    featureProperties = isFeatureCollection\n      ? geojson.features[i].properties\n      : isFeature\n      ? geojson.properties\n      : {};\n    featureBBox = isFeatureCollection\n      ? geojson.features[i].bbox\n      : isFeature\n      ? geojson.bbox\n      : undefined;\n    featureId = isFeatureCollection\n      ? geojson.features[i].id\n      : isFeature\n      ? geojson.id\n      : undefined;\n    isGeometryCollection = geometryMaybeCollection\n      ? geometryMaybeCollection.type === \"GeometryCollection\"\n      : false;\n    stopG = isGeometryCollection\n      ? geometryMaybeCollection.geometries.length\n      : 1;\n\n    for (g = 0; g < stopG; g++) {\n      geometry = isGeometryCollection\n        ? geometryMaybeCollection.geometries[g]\n        : geometryMaybeCollection;\n\n      // Handle null Geometry\n      if (geometry === null) {\n        if (\n          callback(\n            null,\n            featureIndex,\n            featureProperties,\n            featureBBox,\n            featureId\n          ) === false\n        )\n          return false;\n        continue;\n      }\n      switch (geometry.type) {\n        case \"Point\":\n        case \"LineString\":\n        case \"MultiPoint\":\n        case \"Polygon\":\n        case \"MultiLineString\":\n        case \"MultiPolygon\": {\n          if (\n            callback(\n              geometry,\n              featureIndex,\n              featureProperties,\n              featureBBox,\n              featureId\n            ) === false\n          )\n            return false;\n          break;\n        }\n        case \"GeometryCollection\": {\n          for (j = 0; j < geometry.geometries.length; j++) {\n            if (\n              callback(\n                geometry.geometries[j],\n                featureIndex,\n                featureProperties,\n                featureBBox,\n                featureId\n              ) === false\n            )\n              return false;\n          }\n          break;\n        }\n        default:\n          throw new Error(\"Unknown Geometry Type\");\n      }\n    }\n    // Only increase `featureIndex` per each feature\n    featureIndex++;\n  }\n}\n\n/**\n * Callback for geomReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback geomReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Geometry} currentGeometry The current Geometry being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {Object} featureProperties The current Feature Properties being processed.\n * @param {Array<number>} featureBBox The current Feature BBox being processed.\n * @param {number|string} featureId The current Feature Id being processed.\n */\n\n/**\n * Reduce geometry in any GeoJSON object, similar to Array.reduce().\n *\n * @name geomReduce\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentGeometry, featureIndex, featureProperties, featureBBox, featureId)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.geomReduce(features, function (previousValue, currentGeometry, featureIndex, featureProperties, featureBBox, featureId) {\n *   //=previousValue\n *   //=currentGeometry\n *   //=featureIndex\n *   //=featureProperties\n *   //=featureBBox\n *   //=featureId\n *   return currentGeometry\n * });\n */\nfunction geomReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  geomEach(\n    geojson,\n    function (\n      currentGeometry,\n      featureIndex,\n      featureProperties,\n      featureBBox,\n      featureId\n    ) {\n      if (featureIndex === 0 && initialValue === undefined)\n        previousValue = currentGeometry;\n      else\n        previousValue = callback(\n          previousValue,\n          currentGeometry,\n          featureIndex,\n          featureProperties,\n          featureBBox,\n          featureId\n        );\n    }\n  );\n  return previousValue;\n}\n\n/**\n * Callback for flattenEach\n *\n * @callback flattenEachCallback\n * @param {Feature} currentFeature The current flattened feature being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n */\n\n/**\n * Iterate over flattened features in any GeoJSON object, similar to\n * Array.forEach.\n *\n * @name flattenEach\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentFeature, featureIndex, multiFeatureIndex)\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.multiPoint([[40, 30], [36, 53]], {hello: 'world'})\n * ]);\n *\n * turf.flattenEach(features, function (currentFeature, featureIndex, multiFeatureIndex) {\n *   //=currentFeature\n *   //=featureIndex\n *   //=multiFeatureIndex\n * });\n */\nfunction flattenEach(geojson, callback) {\n  geomEach(geojson, function (geometry, featureIndex, properties, bbox, id) {\n    // Callback for single geometry\n    var type = geometry === null ? null : geometry.type;\n    switch (type) {\n      case null:\n      case \"Point\":\n      case \"LineString\":\n      case \"Polygon\":\n        if (\n          callback(\n            feature(geometry, properties, { bbox: bbox, id: id }),\n            featureIndex,\n            0\n          ) === false\n        )\n          return false;\n        return;\n    }\n\n    var geomType;\n\n    // Callback for multi-geometry\n    switch (type) {\n      case \"MultiPoint\":\n        geomType = \"Point\";\n        break;\n      case \"MultiLineString\":\n        geomType = \"LineString\";\n        break;\n      case \"MultiPolygon\":\n        geomType = \"Polygon\";\n        break;\n    }\n\n    for (\n      var multiFeatureIndex = 0;\n      multiFeatureIndex < geometry.coordinates.length;\n      multiFeatureIndex++\n    ) {\n      var coordinate = geometry.coordinates[multiFeatureIndex];\n      var geom = {\n        type: geomType,\n        coordinates: coordinate,\n      };\n      if (\n        callback(feature(geom, properties), featureIndex, multiFeatureIndex) ===\n        false\n      )\n        return false;\n    }\n  });\n}\n\n/**\n * Callback for flattenReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback flattenReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature} currentFeature The current Feature being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n */\n\n/**\n * Reduce flattened features in any GeoJSON object, similar to Array.reduce().\n *\n * @name flattenReduce\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentFeature, featureIndex, multiFeatureIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.multiPoint([[40, 30], [36, 53]], {hello: 'world'})\n * ]);\n *\n * turf.flattenReduce(features, function (previousValue, currentFeature, featureIndex, multiFeatureIndex) {\n *   //=previousValue\n *   //=currentFeature\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   return currentFeature\n * });\n */\nfunction flattenReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  flattenEach(\n    geojson,\n    function (currentFeature, featureIndex, multiFeatureIndex) {\n      if (\n        featureIndex === 0 &&\n        multiFeatureIndex === 0 &&\n        initialValue === undefined\n      )\n        previousValue = currentFeature;\n      else\n        previousValue = callback(\n          previousValue,\n          currentFeature,\n          featureIndex,\n          multiFeatureIndex\n        );\n    }\n  );\n  return previousValue;\n}\n\n/**\n * Callback for segmentEach\n *\n * @callback segmentEachCallback\n * @param {Feature<LineString>} currentSegment The current Segment being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n * @param {number} geometryIndex The current index of the Geometry being processed.\n * @param {number} segmentIndex The current index of the Segment being processed.\n * @returns {void}\n */\n\n/**\n * Iterate over 2-vertex line segment in any GeoJSON object, similar to Array.forEach()\n * (Multi)Point geometries do not contain segments therefore they are ignored during this operation.\n *\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON\n * @param {Function} callback a method that takes (currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex)\n * @returns {void}\n * @example\n * var polygon = turf.polygon([[[-50, 5], [-40, -10], [-50, -10], [-40, 5], [-50, 5]]]);\n *\n * // Iterate over GeoJSON by 2-vertex segments\n * turf.segmentEach(polygon, function (currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex) {\n *   //=currentSegment\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n *   //=segmentIndex\n * });\n *\n * // Calculate the total number of segments\n * var total = 0;\n * turf.segmentEach(polygon, function () {\n *     total++;\n * });\n */\nfunction segmentEach(geojson, callback) {\n  flattenEach(geojson, function (feature$$1, featureIndex, multiFeatureIndex) {\n    var segmentIndex = 0;\n\n    // Exclude null Geometries\n    if (!feature$$1.geometry) return;\n    // (Multi)Point geometries do not contain segments therefore they are ignored during this operation.\n    var type = feature$$1.geometry.type;\n    if (type === \"Point\" || type === \"MultiPoint\") return;\n\n    // Generate 2-vertex line segments\n    var previousCoords;\n    var previousFeatureIndex = 0;\n    var previousMultiIndex = 0;\n    var prevGeomIndex = 0;\n    if (\n      coordEach(\n        feature$$1,\n        function (\n          currentCoord,\n          coordIndex,\n          featureIndexCoord,\n          multiPartIndexCoord,\n          geometryIndex\n        ) {\n          // Simulating a meta.coordReduce() since `reduce` operations cannot be stopped by returning `false`\n          if (\n            previousCoords === undefined ||\n            featureIndex > previousFeatureIndex ||\n            multiPartIndexCoord > previousMultiIndex ||\n            geometryIndex > prevGeomIndex\n          ) {\n            previousCoords = currentCoord;\n            previousFeatureIndex = featureIndex;\n            previousMultiIndex = multiPartIndexCoord;\n            prevGeomIndex = geometryIndex;\n            segmentIndex = 0;\n            return;\n          }\n          var currentSegment = lineString(\n            [previousCoords, currentCoord],\n            feature$$1.properties\n          );\n          if (\n            callback(\n              currentSegment,\n              featureIndex,\n              multiFeatureIndex,\n              geometryIndex,\n              segmentIndex\n            ) === false\n          )\n            return false;\n          segmentIndex++;\n          previousCoords = currentCoord;\n        }\n      ) === false\n    )\n      return false;\n  });\n}\n\n/**\n * Callback for segmentReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback segmentReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature<LineString>} currentSegment The current Segment being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n * @param {number} geometryIndex The current index of the Geometry being processed.\n * @param {number} segmentIndex The current index of the Segment being processed.\n */\n\n/**\n * Reduce 2-vertex line segment in any GeoJSON object, similar to Array.reduce()\n * (Multi)Point geometries do not contain segments therefore they are ignored during this operation.\n *\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON\n * @param {Function} callback a method that takes (previousValue, currentSegment, currentIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {void}\n * @example\n * var polygon = turf.polygon([[[-50, 5], [-40, -10], [-50, -10], [-40, 5], [-50, 5]]]);\n *\n * // Iterate over GeoJSON by 2-vertex segments\n * turf.segmentReduce(polygon, function (previousSegment, currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex) {\n *   //= previousSegment\n *   //= currentSegment\n *   //= featureIndex\n *   //= multiFeatureIndex\n *   //= geometryIndex\n *   //= segmentIndex\n *   return currentSegment\n * });\n *\n * // Calculate the total number of segments\n * var initialValue = 0\n * var total = turf.segmentReduce(polygon, function (previousValue) {\n *     previousValue++;\n *     return previousValue;\n * }, initialValue);\n */\nfunction segmentReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  var started = false;\n  segmentEach(\n    geojson,\n    function (\n      currentSegment,\n      featureIndex,\n      multiFeatureIndex,\n      geometryIndex,\n      segmentIndex\n    ) {\n      if (started === false && initialValue === undefined)\n        previousValue = currentSegment;\n      else\n        previousValue = callback(\n          previousValue,\n          currentSegment,\n          featureIndex,\n          multiFeatureIndex,\n          geometryIndex,\n          segmentIndex\n        );\n      started = true;\n    }\n  );\n  return previousValue;\n}\n\n/**\n * Callback for lineEach\n *\n * @callback lineEachCallback\n * @param {Feature<LineString>} currentLine The current LineString|LinearRing being processed\n * @param {number} featureIndex The current index of the Feature being processed\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed\n * @param {number} geometryIndex The current index of the Geometry being processed\n */\n\n/**\n * Iterate over line or ring coordinates in LineString, Polygon, MultiLineString, MultiPolygon Features or Geometries,\n * similar to Array.forEach.\n *\n * @name lineEach\n * @param {Geometry|Feature<LineString|Polygon|MultiLineString|MultiPolygon>} geojson object\n * @param {Function} callback a method that takes (currentLine, featureIndex, multiFeatureIndex, geometryIndex)\n * @example\n * var multiLine = turf.multiLineString([\n *   [[26, 37], [35, 45]],\n *   [[36, 53], [38, 50], [41, 55]]\n * ]);\n *\n * turf.lineEach(multiLine, function (currentLine, featureIndex, multiFeatureIndex, geometryIndex) {\n *   //=currentLine\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n * });\n */\nfunction lineEach(geojson, callback) {\n  // validation\n  if (!geojson) throw new Error(\"geojson is required\");\n\n  flattenEach(geojson, function (feature$$1, featureIndex, multiFeatureIndex) {\n    if (feature$$1.geometry === null) return;\n    var type = feature$$1.geometry.type;\n    var coords = feature$$1.geometry.coordinates;\n    switch (type) {\n      case \"LineString\":\n        if (callback(feature$$1, featureIndex, multiFeatureIndex, 0, 0) === false)\n          return false;\n        break;\n      case \"Polygon\":\n        for (\n          var geometryIndex = 0;\n          geometryIndex < coords.length;\n          geometryIndex++\n        ) {\n          if (\n            callback(\n              lineString(coords[geometryIndex], feature$$1.properties),\n              featureIndex,\n              multiFeatureIndex,\n              geometryIndex\n            ) === false\n          )\n            return false;\n        }\n        break;\n    }\n  });\n}\n\n/**\n * Callback for lineReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback lineReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature<LineString>} currentLine The current LineString|LinearRing being processed.\n * @param {number} featureIndex The current index of the Feature being processed\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed\n * @param {number} geometryIndex The current index of the Geometry being processed\n */\n\n/**\n * Reduce features in any GeoJSON object, similar to Array.reduce().\n *\n * @name lineReduce\n * @param {Geometry|Feature<LineString|Polygon|MultiLineString|MultiPolygon>} geojson object\n * @param {Function} callback a method that takes (previousValue, currentLine, featureIndex, multiFeatureIndex, geometryIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var multiPoly = turf.multiPolygon([\n *   turf.polygon([[[12,48],[2,41],[24,38],[12,48]], [[9,44],[13,41],[13,45],[9,44]]]),\n *   turf.polygon([[[5, 5], [0, 0], [2, 2], [4, 4], [5, 5]]])\n * ]);\n *\n * turf.lineReduce(multiPoly, function (previousValue, currentLine, featureIndex, multiFeatureIndex, geometryIndex) {\n *   //=previousValue\n *   //=currentLine\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n *   return currentLine\n * });\n */\nfunction lineReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  lineEach(\n    geojson,\n    function (currentLine, featureIndex, multiFeatureIndex, geometryIndex) {\n      if (featureIndex === 0 && initialValue === undefined)\n        previousValue = currentLine;\n      else\n        previousValue = callback(\n          previousValue,\n          currentLine,\n          featureIndex,\n          multiFeatureIndex,\n          geometryIndex\n        );\n    }\n  );\n  return previousValue;\n}\n\n/**\n * Finds a particular 2-vertex LineString Segment from a GeoJSON using `@turf/meta` indexes.\n *\n * Negative indexes are permitted.\n * Point & MultiPoint will always return null.\n *\n * @param {FeatureCollection|Feature|Geometry} geojson Any GeoJSON Feature or Geometry\n * @param {Object} [options={}] Optional parameters\n * @param {number} [options.featureIndex=0] Feature Index\n * @param {number} [options.multiFeatureIndex=0] Multi-Feature Index\n * @param {number} [options.geometryIndex=0] Geometry Index\n * @param {number} [options.segmentIndex=0] Segment Index\n * @param {Object} [options.properties={}] Translate Properties to output LineString\n * @param {BBox} [options.bbox={}] Translate BBox to output LineString\n * @param {number|string} [options.id={}] Translate Id to output LineString\n * @returns {Feature<LineString>} 2-vertex GeoJSON Feature LineString\n * @example\n * var multiLine = turf.multiLineString([\n *     [[10, 10], [50, 30], [30, 40]],\n *     [[-10, -10], [-50, -30], [-30, -40]]\n * ]);\n *\n * // First Segment (defaults are 0)\n * turf.findSegment(multiLine);\n * // => Feature<LineString<[[10, 10], [50, 30]]>>\n *\n * // First Segment of 2nd Multi Feature\n * turf.findSegment(multiLine, {multiFeatureIndex: 1});\n * // => Feature<LineString<[[-10, -10], [-50, -30]]>>\n *\n * // Last Segment of Last Multi Feature\n * turf.findSegment(multiLine, {multiFeatureIndex: -1, segmentIndex: -1});\n * // => Feature<LineString<[[-50, -30], [-30, -40]]>>\n */\nfunction findSegment(geojson, options) {\n  // Optional Parameters\n  options = options || {};\n  if (!isObject(options)) throw new Error(\"options is invalid\");\n  var featureIndex = options.featureIndex || 0;\n  var multiFeatureIndex = options.multiFeatureIndex || 0;\n  var geometryIndex = options.geometryIndex || 0;\n  var segmentIndex = options.segmentIndex || 0;\n\n  // Find FeatureIndex\n  var properties = options.properties;\n  var geometry;\n\n  switch (geojson.type) {\n    case \"FeatureCollection\":\n      if (featureIndex < 0)\n        featureIndex = geojson.features.length + featureIndex;\n      properties = properties || geojson.features[featureIndex].properties;\n      geometry = geojson.features[featureIndex].geometry;\n      break;\n    case \"Feature\":\n      properties = properties || geojson.properties;\n      geometry = geojson.geometry;\n      break;\n    case \"Point\":\n    case \"MultiPoint\":\n      return null;\n    case \"LineString\":\n    case \"Polygon\":\n    case \"MultiLineString\":\n    case \"MultiPolygon\":\n      geometry = geojson;\n      break;\n    default:\n      throw new Error(\"geojson is invalid\");\n  }\n\n  // Find SegmentIndex\n  if (geometry === null) return null;\n  var coords = geometry.coordinates;\n  switch (geometry.type) {\n    case \"Point\":\n    case \"MultiPoint\":\n      return null;\n    case \"LineString\":\n      if (segmentIndex < 0) segmentIndex = coords.length + segmentIndex - 1;\n      return lineString(\n        [coords[segmentIndex], coords[segmentIndex + 1]],\n        properties,\n        options\n      );\n    case \"Polygon\":\n      if (geometryIndex < 0) geometryIndex = coords.length + geometryIndex;\n      if (segmentIndex < 0)\n        segmentIndex = coords[geometryIndex].length + segmentIndex - 1;\n      return lineString(\n        [\n          coords[geometryIndex][segmentIndex],\n          coords[geometryIndex][segmentIndex + 1],\n        ],\n        properties,\n        options\n      );\n    case \"MultiLineString\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (segmentIndex < 0)\n        segmentIndex = coords[multiFeatureIndex].length + segmentIndex - 1;\n      return lineString(\n        [\n          coords[multiFeatureIndex][segmentIndex],\n          coords[multiFeatureIndex][segmentIndex + 1],\n        ],\n        properties,\n        options\n      );\n    case \"MultiPolygon\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (geometryIndex < 0)\n        geometryIndex = coords[multiFeatureIndex].length + geometryIndex;\n      if (segmentIndex < 0)\n        segmentIndex =\n          coords[multiFeatureIndex][geometryIndex].length - segmentIndex - 1;\n      return lineString(\n        [\n          coords[multiFeatureIndex][geometryIndex][segmentIndex],\n          coords[multiFeatureIndex][geometryIndex][segmentIndex + 1],\n        ],\n        properties,\n        options\n      );\n  }\n  throw new Error(\"geojson is invalid\");\n}\n\n/**\n * Finds a particular Point from a GeoJSON using `@turf/meta` indexes.\n *\n * Negative indexes are permitted.\n *\n * @param {FeatureCollection|Feature|Geometry} geojson Any GeoJSON Feature or Geometry\n * @param {Object} [options={}] Optional parameters\n * @param {number} [options.featureIndex=0] Feature Index\n * @param {number} [options.multiFeatureIndex=0] Multi-Feature Index\n * @param {number} [options.geometryIndex=0] Geometry Index\n * @param {number} [options.coordIndex=0] Coord Index\n * @param {Object} [options.properties={}] Translate Properties to output Point\n * @param {BBox} [options.bbox={}] Translate BBox to output Point\n * @param {number|string} [options.id={}] Translate Id to output Point\n * @returns {Feature<Point>} 2-vertex GeoJSON Feature Point\n * @example\n * var multiLine = turf.multiLineString([\n *     [[10, 10], [50, 30], [30, 40]],\n *     [[-10, -10], [-50, -30], [-30, -40]]\n * ]);\n *\n * // First Segment (defaults are 0)\n * turf.findPoint(multiLine);\n * // => Feature<Point<[10, 10]>>\n *\n * // First Segment of the 2nd Multi-Feature\n * turf.findPoint(multiLine, {multiFeatureIndex: 1});\n * // => Feature<Point<[-10, -10]>>\n *\n * // Last Segment of last Multi-Feature\n * turf.findPoint(multiLine, {multiFeatureIndex: -1, coordIndex: -1});\n * // => Feature<Point<[-30, -40]>>\n */\nfunction findPoint(geojson, options) {\n  // Optional Parameters\n  options = options || {};\n  if (!isObject(options)) throw new Error(\"options is invalid\");\n  var featureIndex = options.featureIndex || 0;\n  var multiFeatureIndex = options.multiFeatureIndex || 0;\n  var geometryIndex = options.geometryIndex || 0;\n  var coordIndex = options.coordIndex || 0;\n\n  // Find FeatureIndex\n  var properties = options.properties;\n  var geometry;\n\n  switch (geojson.type) {\n    case \"FeatureCollection\":\n      if (featureIndex < 0)\n        featureIndex = geojson.features.length + featureIndex;\n      properties = properties || geojson.features[featureIndex].properties;\n      geometry = geojson.features[featureIndex].geometry;\n      break;\n    case \"Feature\":\n      properties = properties || geojson.properties;\n      geometry = geojson.geometry;\n      break;\n    case \"Point\":\n    case \"MultiPoint\":\n      return null;\n    case \"LineString\":\n    case \"Polygon\":\n    case \"MultiLineString\":\n    case \"MultiPolygon\":\n      geometry = geojson;\n      break;\n    default:\n      throw new Error(\"geojson is invalid\");\n  }\n\n  // Find Coord Index\n  if (geometry === null) return null;\n  var coords = geometry.coordinates;\n  switch (geometry.type) {\n    case \"Point\":\n      return point(coords, properties, options);\n    case \"MultiPoint\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      return point(coords[multiFeatureIndex], properties, options);\n    case \"LineString\":\n      if (coordIndex < 0) coordIndex = coords.length + coordIndex;\n      return point(coords[coordIndex], properties, options);\n    case \"Polygon\":\n      if (geometryIndex < 0) geometryIndex = coords.length + geometryIndex;\n      if (coordIndex < 0)\n        coordIndex = coords[geometryIndex].length + coordIndex;\n      return point(coords[geometryIndex][coordIndex], properties, options);\n    case \"MultiLineString\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (coordIndex < 0)\n        coordIndex = coords[multiFeatureIndex].length + coordIndex;\n      return point(coords[multiFeatureIndex][coordIndex], properties, options);\n    case \"MultiPolygon\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (geometryIndex < 0)\n        geometryIndex = coords[multiFeatureIndex].length + geometryIndex;\n      if (coordIndex < 0)\n        coordIndex =\n          coords[multiFeatureIndex][geometryIndex].length - coordIndex;\n      return point(\n        coords[multiFeatureIndex][geometryIndex][coordIndex],\n        properties,\n        options\n      );\n  }\n  throw new Error(\"geojson is invalid\");\n}\n\nexport { coordEach, coordReduce, propEach, propReduce, featureEach, featureReduce, coordAll, geomEach, geomReduce, flattenEach, flattenReduce, segmentEach, segmentReduce, lineEach, lineReduce, findSegment, findPoint };\n","import { coordEach } from \"@turf/meta\";\n/**\n * Takes a set of features, calculates the bbox of all input features, and returns a bounding box.\n *\n * @name bbox\n * @param {GeoJSON} geojson any GeoJSON object\n * @returns {BBox} bbox extent in [minX, minY, maxX, maxY] order\n * @example\n * var line = turf.lineString([[-74, 40], [-78, 42], [-82, 35]]);\n * var bbox = turf.bbox(line);\n * var bboxPolygon = turf.bboxPolygon(bbox);\n *\n * //addToMap\n * var addToMap = [line, bboxPolygon]\n */\nfunction bbox(geojson) {\n    var result = [Infinity, Infinity, -Infinity, -Infinity];\n    coordEach(geojson, function (coord) {\n        if (result[0] > coord[0]) {\n            result[0] = coord[0];\n        }\n        if (result[1] > coord[1]) {\n            result[1] = coord[1];\n        }\n        if (result[2] < coord[0]) {\n            result[2] = coord[0];\n        }\n        if (result[3] < coord[1]) {\n            result[3] = coord[1];\n        }\n    });\n    return result;\n}\nbbox[\"default\"] = bbox;\nexport default bbox;\n","import { getCoord, getCoords } from \"@turf/invariant\";\n/**\n * Returns true if a point is on a line. Accepts a optional parameter to ignore the\n * start and end vertices of the linestring.\n *\n * @name booleanPointOnLine\n * @param {Coord} pt GeoJSON Point\n * @param {Feature<LineString>} line GeoJSON LineString\n * @param {Object} [options={}] Optional parameters\n * @param {boolean} [options.ignoreEndVertices=false] whether to ignore the start and end vertices.\n * @returns {boolean} true/false\n * @example\n * var pt = turf.point([0, 0]);\n * var line = turf.lineString([[-1, -1],[1, 1],[1.5, 2.2]]);\n * var isPointOnLine = turf.booleanPointOnLine(pt, line);\n * //=true\n */\nfunction booleanPointOnLine(pt, line, options) {\n    if (options === void 0) { options = {}; }\n    // Normalize inputs\n    var ptCoords = getCoord(pt);\n    var lineCoords = getCoords(line);\n    // Main\n    for (var i = 0; i < lineCoords.length - 1; i++) {\n        var ignoreBoundary = false;\n        if (options.ignoreEndVertices) {\n            if (i === 0) {\n                ignoreBoundary = \"start\";\n            }\n            if (i === lineCoords.length - 2) {\n                ignoreBoundary = \"end\";\n            }\n            if (i === 0 && i + 1 === lineCoords.length - 1) {\n                ignoreBoundary = \"both\";\n            }\n        }\n        if (isPointOnLineSegment(lineCoords[i], lineCoords[i + 1], ptCoords, ignoreBoundary)) {\n            return true;\n        }\n    }\n    return false;\n}\n// See http://stackoverflow.com/a/4833823/1979085\n/**\n * @private\n * @param {Position} lineSegmentStart coord pair of start of line\n * @param {Position} lineSegmentEnd coord pair of end of line\n * @param {Position} pt coord pair of point to check\n * @param {boolean|string} excludeBoundary whether the point is allowed to fall on the line ends.\n * If true which end to ignore.\n * @returns {boolean} true/false\n */\nfunction isPointOnLineSegment(lineSegmentStart, lineSegmentEnd, pt, excludeBoundary) {\n    var x = pt[0];\n    var y = pt[1];\n    var x1 = lineSegmentStart[0];\n    var y1 = lineSegmentStart[1];\n    var x2 = lineSegmentEnd[0];\n    var y2 = lineSegmentEnd[1];\n    var dxc = pt[0] - x1;\n    var dyc = pt[1] - y1;\n    var dxl = x2 - x1;\n    var dyl = y2 - y1;\n    var cross = dxc * dyl - dyc * dxl;\n    if (cross !== 0) {\n        return false;\n    }\n    if (!excludeBoundary) {\n        if (Math.abs(dxl) >= Math.abs(dyl)) {\n            return dxl > 0 ? x1 <= x && x <= x2 : x2 <= x && x <= x1;\n        }\n        return dyl > 0 ? y1 <= y && y <= y2 : y2 <= y && y <= y1;\n    }\n    else if (excludeBoundary === \"start\") {\n        if (Math.abs(dxl) >= Math.abs(dyl)) {\n            return dxl > 0 ? x1 < x && x <= x2 : x2 <= x && x < x1;\n        }\n        return dyl > 0 ? y1 < y && y <= y2 : y2 <= y && y < y1;\n    }\n    else if (excludeBoundary === \"end\") {\n        if (Math.abs(dxl) >= Math.abs(dyl)) {\n            return dxl > 0 ? x1 <= x && x < x2 : x2 < x && x <= x1;\n        }\n        return dyl > 0 ? y1 <= y && y < y2 : y2 < y && y <= y1;\n    }\n    else if (excludeBoundary === \"both\") {\n        if (Math.abs(dxl) >= Math.abs(dyl)) {\n            return dxl > 0 ? x1 < x && x < x2 : x2 < x && x < x1;\n        }\n        return dyl > 0 ? y1 < y && y < y2 : y2 < y && y < y1;\n    }\n    return false;\n}\nexport default booleanPointOnLine;\n","import { isNumber, } from \"@turf/helpers\";\n/**\n * Unwrap a coordinate from a Point Feature, Geometry or a single coordinate.\n *\n * @name getCoord\n * @param {Array<number>|Geometry<Point>|Feature<Point>} coord GeoJSON Point or an Array of numbers\n * @returns {Array<number>} coordinates\n * @example\n * var pt = turf.point([10, 10]);\n *\n * var coord = turf.getCoord(pt);\n * //= [10, 10]\n */\nexport function getCoord(coord) {\n    if (!coord) {\n        throw new Error(\"coord is required\");\n    }\n    if (!Array.isArray(coord)) {\n        if (coord.type === \"Feature\" &&\n            coord.geometry !== null &&\n            coord.geometry.type === \"Point\") {\n            return coord.geometry.coordinates;\n        }\n        if (coord.type === \"Point\") {\n            return coord.coordinates;\n        }\n    }\n    if (Array.isArray(coord) &&\n        coord.length >= 2 &&\n        !Array.isArray(coord[0]) &&\n        !Array.isArray(coord[1])) {\n        return coord;\n    }\n    throw new Error(\"coord must be GeoJSON Point or an Array of numbers\");\n}\n/**\n * Unwrap coordinates from a Feature, Geometry Object or an Array\n *\n * @name getCoords\n * @param {Array<any>|Geometry|Feature} coords Feature, Geometry Object or an Array\n * @returns {Array<any>} coordinates\n * @example\n * var poly = turf.polygon([[[119.32, -8.7], [119.55, -8.69], [119.51, -8.54], [119.32, -8.7]]]);\n *\n * var coords = turf.getCoords(poly);\n * //= [[[119.32, -8.7], [119.55, -8.69], [119.51, -8.54], [119.32, -8.7]]]\n */\nexport function getCoords(coords) {\n    if (Array.isArray(coords)) {\n        return coords;\n    }\n    // Feature\n    if (coords.type === \"Feature\") {\n        if (coords.geometry !== null) {\n            return coords.geometry.coordinates;\n        }\n    }\n    else {\n        // Geometry\n        if (coords.coordinates) {\n            return coords.coordinates;\n        }\n    }\n    throw new Error(\"coords must be GeoJSON Feature, Geometry Object or an Array\");\n}\n/**\n * Checks if coordinates contains a number\n *\n * @name containsNumber\n * @param {Array<any>} coordinates GeoJSON Coordinates\n * @returns {boolean} true if Array contains a number\n */\nexport function containsNumber(coordinates) {\n    if (coordinates.length > 1 &&\n        isNumber(coordinates[0]) &&\n        isNumber(coordinates[1])) {\n        return true;\n    }\n    if (Array.isArray(coordinates[0]) && coordinates[0].length) {\n        return containsNumber(coordinates[0]);\n    }\n    throw new Error(\"coordinates must only contain numbers\");\n}\n/**\n * Enforce expectations about types of GeoJSON objects for Turf.\n *\n * @name geojsonType\n * @param {GeoJSON} value any GeoJSON object\n * @param {string} type expected GeoJSON type\n * @param {string} name name of calling function\n * @throws {Error} if value is not the expected type.\n */\nexport function geojsonType(value, type, name) {\n    if (!type || !name) {\n        throw new Error(\"type and name required\");\n    }\n    if (!value || value.type !== type) {\n        throw new Error(\"Invalid input to \" +\n            name +\n            \": must be a \" +\n            type +\n            \", given \" +\n            value.type);\n    }\n}\n/**\n * Enforce expectations about types of {@link Feature} inputs for Turf.\n * Internally this uses {@link geojsonType} to judge geometry types.\n *\n * @name featureOf\n * @param {Feature} feature a feature with an expected geometry type\n * @param {string} type expected GeoJSON type\n * @param {string} name name of calling function\n * @throws {Error} error if value is not the expected type.\n */\nexport function featureOf(feature, type, name) {\n    if (!feature) {\n        throw new Error(\"No feature passed\");\n    }\n    if (!name) {\n        throw new Error(\".featureOf() requires a name\");\n    }\n    if (!feature || feature.type !== \"Feature\" || !feature.geometry) {\n        throw new Error(\"Invalid input to \" + name + \", Feature with geometry required\");\n    }\n    if (!feature.geometry || feature.geometry.type !== type) {\n        throw new Error(\"Invalid input to \" +\n            name +\n            \": must be a \" +\n            type +\n            \", given \" +\n            feature.geometry.type);\n    }\n}\n/**\n * Enforce expectations about types of {@link FeatureCollection} inputs for Turf.\n * Internally this uses {@link geojsonType} to judge geometry types.\n *\n * @name collectionOf\n * @param {FeatureCollection} featureCollection a FeatureCollection for which features will be judged\n * @param {string} type expected GeoJSON type\n * @param {string} name name of calling function\n * @throws {Error} if value is not the expected type.\n */\nexport function collectionOf(featureCollection, type, name) {\n    if (!featureCollection) {\n        throw new Error(\"No featureCollection passed\");\n    }\n    if (!name) {\n        throw new Error(\".collectionOf() requires a name\");\n    }\n    if (!featureCollection || featureCollection.type !== \"FeatureCollection\") {\n        throw new Error(\"Invalid input to \" + name + \", FeatureCollection required\");\n    }\n    for (var _i = 0, _a = featureCollection.features; _i < _a.length; _i++) {\n        var feature = _a[_i];\n        if (!feature || feature.type !== \"Feature\" || !feature.geometry) {\n            throw new Error(\"Invalid input to \" + name + \", Feature with geometry required\");\n        }\n        if (!feature.geometry || feature.geometry.type !== type) {\n            throw new Error(\"Invalid input to \" +\n                name +\n                \": must be a \" +\n                type +\n                \", given \" +\n                feature.geometry.type);\n        }\n    }\n}\n/**\n * Get Geometry from Feature or Geometry Object\n *\n * @param {Feature|Geometry} geojson GeoJSON Feature or Geometry Object\n * @returns {Geometry|null} GeoJSON Geometry Object\n * @throws {Error} if geojson is not a Feature or Geometry Object\n * @example\n * var point = {\n *   \"type\": \"Feature\",\n *   \"properties\": {},\n *   \"geometry\": {\n *     \"type\": \"Point\",\n *     \"coordinates\": [110, 40]\n *   }\n * }\n * var geom = turf.getGeom(point)\n * //={\"type\": \"Point\", \"coordinates\": [110, 40]}\n */\nexport function getGeom(geojson) {\n    if (geojson.type === \"Feature\") {\n        return geojson.geometry;\n    }\n    return geojson;\n}\n/**\n * Get GeoJSON object's type, Geometry type is prioritize.\n *\n * @param {GeoJSON} geojson GeoJSON object\n * @param {string} [name=\"geojson\"] name of the variable to display in error message (unused)\n * @returns {string} GeoJSON type\n * @example\n * var point = {\n *   \"type\": \"Feature\",\n *   \"properties\": {},\n *   \"geometry\": {\n *     \"type\": \"Point\",\n *     \"coordinates\": [110, 40]\n *   }\n * }\n * var geom = turf.getType(point)\n * //=\"Point\"\n */\nexport function getType(geojson, _name) {\n    if (geojson.type === \"FeatureCollection\") {\n        return \"FeatureCollection\";\n    }\n    if (geojson.type === \"GeometryCollection\") {\n        return \"GeometryCollection\";\n    }\n    if (geojson.type === \"Feature\" && geojson.geometry !== null) {\n        return geojson.geometry.type;\n    }\n    return geojson.type;\n}\n","import { isNumber, } from \"@turf/helpers\";\n/**\n * Unwrap a coordinate from a Point Feature, Geometry or a single coordinate.\n *\n * @name getCoord\n * @param {Array<number>|Geometry<Point>|Feature<Point>} coord GeoJSON Point or an Array of numbers\n * @returns {Array<number>} coordinates\n * @example\n * var pt = turf.point([10, 10]);\n *\n * var coord = turf.getCoord(pt);\n * //= [10, 10]\n */\nexport function getCoord(coord) {\n    if (!coord) {\n        throw new Error(\"coord is required\");\n    }\n    if (!Array.isArray(coord)) {\n        if (coord.type === \"Feature\" &&\n            coord.geometry !== null &&\n            coord.geometry.type === \"Point\") {\n            return coord.geometry.coordinates;\n        }\n        if (coord.type === \"Point\") {\n            return coord.coordinates;\n        }\n    }\n    if (Array.isArray(coord) &&\n        coord.length >= 2 &&\n        !Array.isArray(coord[0]) &&\n        !Array.isArray(coord[1])) {\n        return coord;\n    }\n    throw new Error(\"coord must be GeoJSON Point or an Array of numbers\");\n}\n/**\n * Unwrap coordinates from a Feature, Geometry Object or an Array\n *\n * @name getCoords\n * @param {Array<any>|Geometry|Feature} coords Feature, Geometry Object or an Array\n * @returns {Array<any>} coordinates\n * @example\n * var poly = turf.polygon([[[119.32, -8.7], [119.55, -8.69], [119.51, -8.54], [119.32, -8.7]]]);\n *\n * var coords = turf.getCoords(poly);\n * //= [[[119.32, -8.7], [119.55, -8.69], [119.51, -8.54], [119.32, -8.7]]]\n */\nexport function getCoords(coords) {\n    if (Array.isArray(coords)) {\n        return coords;\n    }\n    // Feature\n    if (coords.type === \"Feature\") {\n        if (coords.geometry !== null) {\n            return coords.geometry.coordinates;\n        }\n    }\n    else {\n        // Geometry\n        if (coords.coordinates) {\n            return coords.coordinates;\n        }\n    }\n    throw new Error(\"coords must be GeoJSON Feature, Geometry Object or an Array\");\n}\n/**\n * Checks if coordinates contains a number\n *\n * @name containsNumber\n * @param {Array<any>} coordinates GeoJSON Coordinates\n * @returns {boolean} true if Array contains a number\n */\nexport function containsNumber(coordinates) {\n    if (coordinates.length > 1 &&\n        isNumber(coordinates[0]) &&\n        isNumber(coordinates[1])) {\n        return true;\n    }\n    if (Array.isArray(coordinates[0]) && coordinates[0].length) {\n        return containsNumber(coordinates[0]);\n    }\n    throw new Error(\"coordinates must only contain numbers\");\n}\n/**\n * Enforce expectations about types of GeoJSON objects for Turf.\n *\n * @name geojsonType\n * @param {GeoJSON} value any GeoJSON object\n * @param {string} type expected GeoJSON type\n * @param {string} name name of calling function\n * @throws {Error} if value is not the expected type.\n */\nexport function geojsonType(value, type, name) {\n    if (!type || !name) {\n        throw new Error(\"type and name required\");\n    }\n    if (!value || value.type !== type) {\n        throw new Error(\"Invalid input to \" +\n            name +\n            \": must be a \" +\n            type +\n            \", given \" +\n            value.type);\n    }\n}\n/**\n * Enforce expectations about types of {@link Feature} inputs for Turf.\n * Internally this uses {@link geojsonType} to judge geometry types.\n *\n * @name featureOf\n * @param {Feature} feature a feature with an expected geometry type\n * @param {string} type expected GeoJSON type\n * @param {string} name name of calling function\n * @throws {Error} error if value is not the expected type.\n */\nexport function featureOf(feature, type, name) {\n    if (!feature) {\n        throw new Error(\"No feature passed\");\n    }\n    if (!name) {\n        throw new Error(\".featureOf() requires a name\");\n    }\n    if (!feature || feature.type !== \"Feature\" || !feature.geometry) {\n        throw new Error(\"Invalid input to \" + name + \", Feature with geometry required\");\n    }\n    if (!feature.geometry || feature.geometry.type !== type) {\n        throw new Error(\"Invalid input to \" +\n            name +\n            \": must be a \" +\n            type +\n            \", given \" +\n            feature.geometry.type);\n    }\n}\n/**\n * Enforce expectations about types of {@link FeatureCollection} inputs for Turf.\n * Internally this uses {@link geojsonType} to judge geometry types.\n *\n * @name collectionOf\n * @param {FeatureCollection} featureCollection a FeatureCollection for which features will be judged\n * @param {string} type expected GeoJSON type\n * @param {string} name name of calling function\n * @throws {Error} if value is not the expected type.\n */\nexport function collectionOf(featureCollection, type, name) {\n    if (!featureCollection) {\n        throw new Error(\"No featureCollection passed\");\n    }\n    if (!name) {\n        throw new Error(\".collectionOf() requires a name\");\n    }\n    if (!featureCollection || featureCollection.type !== \"FeatureCollection\") {\n        throw new Error(\"Invalid input to \" + name + \", FeatureCollection required\");\n    }\n    for (var _i = 0, _a = featureCollection.features; _i < _a.length; _i++) {\n        var feature = _a[_i];\n        if (!feature || feature.type !== \"Feature\" || !feature.geometry) {\n            throw new Error(\"Invalid input to \" + name + \", Feature with geometry required\");\n        }\n        if (!feature.geometry || feature.geometry.type !== type) {\n            throw new Error(\"Invalid input to \" +\n                name +\n                \": must be a \" +\n                type +\n                \", given \" +\n                feature.geometry.type);\n        }\n    }\n}\n/**\n * Get Geometry from Feature or Geometry Object\n *\n * @param {Feature|Geometry} geojson GeoJSON Feature or Geometry Object\n * @returns {Geometry|null} GeoJSON Geometry Object\n * @throws {Error} if geojson is not a Feature or Geometry Object\n * @example\n * var point = {\n *   \"type\": \"Feature\",\n *   \"properties\": {},\n *   \"geometry\": {\n *     \"type\": \"Point\",\n *     \"coordinates\": [110, 40]\n *   }\n * }\n * var geom = turf.getGeom(point)\n * //={\"type\": \"Point\", \"coordinates\": [110, 40]}\n */\nexport function getGeom(geojson) {\n    if (geojson.type === \"Feature\") {\n        return geojson.geometry;\n    }\n    return geojson;\n}\n/**\n * Get GeoJSON object's type, Geometry type is prioritize.\n *\n * @param {GeoJSON} geojson GeoJSON object\n * @param {string} [name=\"geojson\"] name of the variable to display in error message (unused)\n * @returns {string} GeoJSON type\n * @example\n * var point = {\n *   \"type\": \"Feature\",\n *   \"properties\": {},\n *   \"geometry\": {\n *     \"type\": \"Point\",\n *     \"coordinates\": [110, 40]\n *   }\n * }\n * var geom = turf.getType(point)\n * //=\"Point\"\n */\nexport function getType(geojson, _name) {\n    if (geojson.type === \"FeatureCollection\") {\n        return \"FeatureCollection\";\n    }\n    if (geojson.type === \"GeometryCollection\") {\n        return \"GeometryCollection\";\n    }\n    if (geojson.type === \"Feature\" && geojson.geometry !== null) {\n        return geojson.geometry.type;\n    }\n    return geojson.type;\n}\n","import { getCoord, getGeom } from \"@turf/invariant\";\n// http://en.wikipedia.org/wiki/Even%E2%80%93odd_rule\n// modified from: https://github.com/substack/point-in-polygon/blob/master/index.js\n// which was modified from http://www.ecse.rpi.edu/Homepages/wrf/Research/Short_Notes/pnpoly.html\n/**\n * Takes a {@link Point} and a {@link Polygon} or {@link MultiPolygon} and determines if the point\n * resides inside the polygon. The polygon can be convex or concave. The function accounts for holes.\n *\n * @name booleanPointInPolygon\n * @param {Coord} point input point\n * @param {Feature<Polygon|MultiPolygon>} polygon input polygon or multipolygon\n * @param {Object} [options={}] Optional parameters\n * @param {boolean} [options.ignoreBoundary=false] True if polygon boundary should be ignored when determining if\n * the point is inside the polygon otherwise false.\n * @returns {boolean} `true` if the Point is inside the Polygon; `false` if the Point is not inside the Polygon\n * @example\n * var pt = turf.point([-77, 44]);\n * var poly = turf.polygon([[\n *   [-81, 41],\n *   [-81, 47],\n *   [-72, 47],\n *   [-72, 41],\n *   [-81, 41]\n * ]]);\n *\n * turf.booleanPointInPolygon(pt, poly);\n * //= true\n */\nexport default function booleanPointInPolygon(point, polygon, options) {\n    if (options === void 0) { options = {}; }\n    // validation\n    if (!point) {\n        throw new Error(\"point is required\");\n    }\n    if (!polygon) {\n        throw new Error(\"polygon is required\");\n    }\n    var pt = getCoord(point);\n    var geom = getGeom(polygon);\n    var type = geom.type;\n    var bbox = polygon.bbox;\n    var polys = geom.coordinates;\n    // Quick elimination if point is not inside bbox\n    if (bbox && inBBox(pt, bbox) === false) {\n        return false;\n    }\n    // normalize to multipolygon\n    if (type === \"Polygon\") {\n        polys = [polys];\n    }\n    var insidePoly = false;\n    for (var i = 0; i < polys.length && !insidePoly; i++) {\n        // check if it is in the outer ring first\n        if (inRing(pt, polys[i][0], options.ignoreBoundary)) {\n            var inHole = false;\n            var k = 1;\n            // check for the point in any of the holes\n            while (k < polys[i].length && !inHole) {\n                if (inRing(pt, polys[i][k], !options.ignoreBoundary)) {\n                    inHole = true;\n                }\n                k++;\n            }\n            if (!inHole) {\n                insidePoly = true;\n            }\n        }\n    }\n    return insidePoly;\n}\n/**\n * inRing\n *\n * @private\n * @param {Array<number>} pt [x,y]\n * @param {Array<Array<number>>} ring [[x,y], [x,y],..]\n * @param {boolean} ignoreBoundary ignoreBoundary\n * @returns {boolean} inRing\n */\nfunction inRing(pt, ring, ignoreBoundary) {\n    var isInside = false;\n    if (ring[0][0] === ring[ring.length - 1][0] &&\n        ring[0][1] === ring[ring.length - 1][1]) {\n        ring = ring.slice(0, ring.length - 1);\n    }\n    for (var i = 0, j = ring.length - 1; i < ring.length; j = i++) {\n        var xi = ring[i][0];\n        var yi = ring[i][1];\n        var xj = ring[j][0];\n        var yj = ring[j][1];\n        var onBoundary = pt[1] * (xi - xj) + yi * (xj - pt[0]) + yj * (pt[0] - xi) === 0 &&\n            (xi - pt[0]) * (xj - pt[0]) <= 0 &&\n            (yi - pt[1]) * (yj - pt[1]) <= 0;\n        if (onBoundary) {\n            return !ignoreBoundary;\n        }\n        var intersect = yi > pt[1] !== yj > pt[1] &&\n            pt[0] < ((xj - xi) * (pt[1] - yi)) / (yj - yi) + xi;\n        if (intersect) {\n            isInside = !isInside;\n        }\n    }\n    return isInside;\n}\n/**\n * inBBox\n *\n * @private\n * @param {Position} pt point [x,y]\n * @param {BBox} bbox BBox [west, south, east, north]\n * @returns {boolean} true/false if point is inside BBox\n */\nfunction inBBox(pt, bbox) {\n    return (bbox[0] <= pt[0] && bbox[1] <= pt[1] && bbox[2] >= pt[0] && bbox[3] >= pt[1]);\n}\n","import calcBbox from \"@turf/bbox\";\nimport booleanPointOnLine from \"@turf/boolean-point-on-line\";\nimport booleanPointInPolygon from \"@turf/boolean-point-in-polygon\";\nimport { getGeom } from \"@turf/invariant\";\n/**\n * Boolean-within returns true if the first geometry is completely within the second geometry.\n * The interiors of both geometries must intersect and, the interior and boundary of the primary (geometry a)\n * must not intersect the exterior of the secondary (geometry b).\n * Boolean-within returns the exact opposite result of the `@turf/boolean-contains`.\n *\n * @name booleanWithin\n * @param {Geometry|Feature<any>} feature1 GeoJSON Feature or Geometry\n * @param {Geometry|Feature<any>} feature2 GeoJSON Feature or Geometry\n * @returns {boolean} true/false\n * @example\n * var line = turf.lineString([[1, 1], [1, 2], [1, 3], [1, 4]]);\n * var point = turf.point([1, 2]);\n *\n * turf.booleanWithin(point, line);\n * //=true\n */\nfunction booleanWithin(feature1, feature2) {\n    var geom1 = getGeom(feature1);\n    var geom2 = getGeom(feature2);\n    var type1 = geom1.type;\n    var type2 = geom2.type;\n    switch (type1) {\n        case \"Point\":\n            switch (type2) {\n                case \"MultiPoint\":\n                    return isPointInMultiPoint(geom1, geom2);\n                case \"LineString\":\n                    return booleanPointOnLine(geom1, geom2, { ignoreEndVertices: true });\n                case \"Polygon\":\n                case \"MultiPolygon\":\n                    return booleanPointInPolygon(geom1, geom2, { ignoreBoundary: true });\n                default:\n                    throw new Error(\"feature2 \" + type2 + \" geometry not supported\");\n            }\n        case \"MultiPoint\":\n            switch (type2) {\n                case \"MultiPoint\":\n                    return isMultiPointInMultiPoint(geom1, geom2);\n                case \"LineString\":\n                    return isMultiPointOnLine(geom1, geom2);\n                case \"Polygon\":\n                case \"MultiPolygon\":\n                    return isMultiPointInPoly(geom1, geom2);\n                default:\n                    throw new Error(\"feature2 \" + type2 + \" geometry not supported\");\n            }\n        case \"LineString\":\n            switch (type2) {\n                case \"LineString\":\n                    return isLineOnLine(geom1, geom2);\n                case \"Polygon\":\n                case \"MultiPolygon\":\n                    return isLineInPoly(geom1, geom2);\n                default:\n                    throw new Error(\"feature2 \" + type2 + \" geometry not supported\");\n            }\n        case \"Polygon\":\n            switch (type2) {\n                case \"Polygon\":\n                case \"MultiPolygon\":\n                    return isPolyInPoly(geom1, geom2);\n                default:\n                    throw new Error(\"feature2 \" + type2 + \" geometry not supported\");\n            }\n        default:\n            throw new Error(\"feature1 \" + type1 + \" geometry not supported\");\n    }\n}\nfunction isPointInMultiPoint(point, multiPoint) {\n    var i;\n    var output = false;\n    for (i = 0; i < multiPoint.coordinates.length; i++) {\n        if (compareCoords(multiPoint.coordinates[i], point.coordinates)) {\n            output = true;\n            break;\n        }\n    }\n    return output;\n}\nfunction isMultiPointInMultiPoint(multiPoint1, multiPoint2) {\n    for (var i = 0; i < multiPoint1.coordinates.length; i++) {\n        var anyMatch = false;\n        for (var i2 = 0; i2 < multiPoint2.coordinates.length; i2++) {\n            if (compareCoords(multiPoint1.coordinates[i], multiPoint2.coordinates[i2])) {\n                anyMatch = true;\n            }\n        }\n        if (!anyMatch) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction isMultiPointOnLine(multiPoint, lineString) {\n    var foundInsidePoint = false;\n    for (var i = 0; i < multiPoint.coordinates.length; i++) {\n        if (!booleanPointOnLine(multiPoint.coordinates[i], lineString)) {\n            return false;\n        }\n        if (!foundInsidePoint) {\n            foundInsidePoint = booleanPointOnLine(multiPoint.coordinates[i], lineString, { ignoreEndVertices: true });\n        }\n    }\n    return foundInsidePoint;\n}\nfunction isMultiPointInPoly(multiPoint, polygon) {\n    var output = true;\n    var oneInside = false;\n    for (var i = 0; i < multiPoint.coordinates.length; i++) {\n        var isInside = booleanPointInPolygon(multiPoint.coordinates[1], polygon);\n        if (!isInside) {\n            output = false;\n            break;\n        }\n        if (!oneInside) {\n            isInside = booleanPointInPolygon(multiPoint.coordinates[1], polygon, {\n                ignoreBoundary: true,\n            });\n        }\n    }\n    return output && isInside;\n}\nfunction isLineOnLine(lineString1, lineString2) {\n    for (var i = 0; i < lineString1.coordinates.length; i++) {\n        if (!booleanPointOnLine(lineString1.coordinates[i], lineString2)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction isLineInPoly(linestring, polygon) {\n    var polyBbox = calcBbox(polygon);\n    var lineBbox = calcBbox(linestring);\n    if (!doBBoxOverlap(polyBbox, lineBbox)) {\n        return false;\n    }\n    var foundInsidePoint = false;\n    for (var i = 0; i < linestring.coordinates.length - 1; i++) {\n        if (!booleanPointInPolygon(linestring.coordinates[i], polygon)) {\n            return false;\n        }\n        if (!foundInsidePoint) {\n            foundInsidePoint = booleanPointInPolygon(linestring.coordinates[i], polygon, { ignoreBoundary: true });\n        }\n        if (!foundInsidePoint) {\n            var midpoint = getMidpoint(linestring.coordinates[i], linestring.coordinates[i + 1]);\n            foundInsidePoint = booleanPointInPolygon(midpoint, polygon, {\n                ignoreBoundary: true,\n            });\n        }\n    }\n    return foundInsidePoint;\n}\n/**\n * Is Polygon2 in Polygon1\n * Only takes into account outer rings\n *\n * @private\n * @param {Geometry|Feature<Polygon>} feature1 Polygon1\n * @param {Geometry|Feature<Polygon>} feature2 Polygon2\n * @returns {boolean} true/false\n */\nfunction isPolyInPoly(feature1, feature2) {\n    var poly1Bbox = calcBbox(feature1);\n    var poly2Bbox = calcBbox(feature2);\n    if (!doBBoxOverlap(poly2Bbox, poly1Bbox)) {\n        return false;\n    }\n    for (var i = 0; i < feature1.coordinates[0].length; i++) {\n        if (!booleanPointInPolygon(feature1.coordinates[0][i], feature2)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction doBBoxOverlap(bbox1, bbox2) {\n    if (bbox1[0] > bbox2[0])\n        return false;\n    if (bbox1[2] < bbox2[2])\n        return false;\n    if (bbox1[1] > bbox2[1])\n        return false;\n    if (bbox1[3] < bbox2[3])\n        return false;\n    return true;\n}\n/**\n * compareCoords\n *\n * @private\n * @param {Position} pair1 point [x,y]\n * @param {Position} pair2 point [x,y]\n * @returns {boolean} true/false if coord pairs match\n */\nfunction compareCoords(pair1, pair2) {\n    return pair1[0] === pair2[0] && pair1[1] === pair2[1];\n}\n/**\n * getMidpoint\n *\n * @private\n * @param {Position} pair1 point [x,y]\n * @param {Position} pair2 point [x,y]\n * @returns {Position} midpoint of pair1 and pair2\n */\nfunction getMidpoint(pair1, pair2) {\n    return [(pair1[0] + pair2[0]) / 2, (pair1[1] + pair2[1]) / 2];\n}\nexport default booleanWithin;\n","export const isBrowser =\n  typeof window !== 'undefined' && typeof document !== 'undefined';\n\nexport function preserveRef(ref, node) {\n  if (ref) {\n    if (typeof ref === 'function') {\n      ref(node);\n    }\n    if ({}.hasOwnProperty.call(ref, 'current')) {\n      ref.current = node;\n    }\n  }\n}\n\nexport function ssrSafeCreateDiv() {\n  return isBrowser && document.createElement('div');\n}\n\nexport function toDataAttributes(attrs) {\n  const dataAttrs = {\n    'data-placement': attrs.placement,\n  };\n\n  if (attrs.referenceHidden) {\n    dataAttrs['data-reference-hidden'] = '';\n  }\n\n  if (attrs.escaped) {\n    dataAttrs['data-escaped'] = '';\n  }\n\n  return dataAttrs;\n}\n\nfunction deepEqual(x, y) {\n  if (x === y) {\n    return true;\n  } else if (\n    typeof x === 'object' &&\n    x != null &&\n    typeof y === 'object' &&\n    y != null\n  ) {\n    if (Object.keys(x).length !== Object.keys(y).length) {\n      return false;\n    }\n\n    for (const prop in x) {\n      if (y.hasOwnProperty(prop)) {\n        if (!deepEqual(x[prop], y[prop])) {\n          return false;\n        }\n      } else {\n        return false;\n      }\n    }\n\n    return true;\n  } else {\n    return false;\n  }\n}\n\nexport function uniqueByShape(arr) {\n  const output = [];\n\n  arr.forEach(item => {\n    if (!output.find(outputItem => deepEqual(item, outputItem))) {\n      output.push(item);\n    }\n  });\n\n  return output;\n}\n\nexport function deepPreserveProps(instanceProps, componentProps) {\n  return {\n    ...componentProps,\n    popperOptions: {\n      ...instanceProps.popperOptions,\n      ...componentProps.popperOptions,\n      modifiers: uniqueByShape([\n        ...(instanceProps.popperOptions?.modifiers || []),\n        ...(componentProps.popperOptions?.modifiers || []),\n      ]),\n    },\n  };\n}\n","import {isBrowser} from './utils';\nimport {useLayoutEffect, useEffect, useRef} from 'react';\n\nexport const useIsomorphicLayoutEffect = isBrowser\n  ? useLayoutEffect\n  : useEffect;\n\nexport function useMutableBox(initialValue) {\n  // Using refs instead of state as it's recommended to not store imperative\n  // values in state due to memory problems in React(?)\n  const ref = useRef();\n\n  if (!ref.current) {\n    ref.current =\n      typeof initialValue === 'function' ? initialValue() : initialValue;\n  }\n\n  return ref.current;\n}\n","function updateClassName(box, action, classNames) {\n  classNames.split(/\\s+/).forEach(name => {\n    if (name) {\n      box.classList[action](name);\n    }\n  });\n}\n\nexport const classNamePlugin = {\n  name: 'className',\n  defaultValue: '',\n  fn(instance) {\n    const box = instance.popper.firstElementChild;\n    const isDefaultRenderFn = () => !!instance.props.render?.$$tippy;\n\n    function add() {\n      if (instance.props.className && !isDefaultRenderFn()) {\n        if (process.env.NODE_ENV !== 'production') {\n          console.warn(\n            [\n              '@tippyjs/react: Cannot use `className` prop in conjunction with',\n              '`render` prop. Place the className on the element you are',\n              'rendering.',\n            ].join(' '),\n          );\n        }\n\n        return;\n      }\n\n      updateClassName(box, 'add', instance.props.className);\n    }\n\n    function remove() {\n      if (isDefaultRenderFn()) {\n        updateClassName(box, 'remove', instance.props.className);\n      }\n    }\n\n    return {\n      onCreate: add,\n      onBeforeUpdate: remove,\n      onAfterUpdate: add,\n    };\n  },\n};\n","import React, {cloneElement, useState} from 'react';\nimport {createPortal} from 'react-dom';\nimport {\n  preserveRef,\n  ssrSafeCreateDiv,\n  toDataAttributes,\n  deepPreserveProps,\n} from './utils';\nimport {useMutableBox, useIsomorphicLayoutEffect} from './util-hooks';\nimport {classNamePlugin} from './className-plugin';\n\nexport default function TippyGenerator(tippy) {\n  function Tippy({\n    children,\n    content,\n    visible,\n    singleton,\n    render,\n    reference,\n    disabled = false,\n    ignoreAttributes = true,\n    // Filter React development reserved props\n    // added by babel-preset-react dev plugins:\n    // transform-react-jsx-self and transform-react-jsx-source\n    __source,\n    __self,\n    ...restOfNativeProps\n  }) {\n    const isControlledMode = visible !== undefined;\n    const isSingletonMode = singleton !== undefined;\n\n    const [mounted, setMounted] = useState(false);\n    const [attrs, setAttrs] = useState({});\n    const [singletonContent, setSingletonContent] = useState();\n    const mutableBox = useMutableBox(() => ({\n      container: ssrSafeCreateDiv(),\n      renders: 1,\n    }));\n\n    const props = {\n      ignoreAttributes,\n      ...restOfNativeProps,\n      content: mutableBox.container,\n    };\n\n    if (isControlledMode) {\n      if (process.env.NODE_ENV !== 'production') {\n        ['trigger', 'hideOnClick', 'showOnCreate'].forEach(nativeStateProp => {\n          if (props[nativeStateProp] !== undefined) {\n            console.warn(\n              [\n                `@tippyjs/react: Cannot specify \\`${nativeStateProp}\\` prop in`,\n                `controlled mode (\\`visible\\` prop)`,\n              ].join(' '),\n            );\n          }\n        });\n      }\n\n      props.trigger = 'manual';\n      props.hideOnClick = false;\n    }\n\n    if (isSingletonMode) {\n      disabled = true;\n    }\n\n    let computedProps = props;\n    const plugins = props.plugins || [];\n\n    if (render) {\n      computedProps = {\n        ...props,\n        plugins: isSingletonMode\n          ? [\n              ...plugins,\n              {\n                fn: () => ({\n                  onTrigger(_, event) {\n                    const {content} = singleton.data.children.find(\n                      ({instance}) =>\n                        instance.reference === event.currentTarget,\n                    );\n                    setSingletonContent(content);\n                  },\n                }),\n              },\n            ]\n          : plugins,\n        render: () => ({popper: mutableBox.container}),\n      };\n    }\n\n    const deps = [reference].concat(children ? [children.type] : []);\n\n    // CREATE\n    useIsomorphicLayoutEffect(() => {\n      let element = reference;\n      if (reference && reference.hasOwnProperty('current')) {\n        element = reference.current;\n      }\n\n      const instance = tippy(element || mutableBox.ref || ssrSafeCreateDiv(), {\n        ...computedProps,\n        plugins: [classNamePlugin, ...(props.plugins || [])],\n      });\n\n      mutableBox.instance = instance;\n\n      if (disabled) {\n        instance.disable();\n      }\n\n      if (visible) {\n        instance.show();\n      }\n\n      if (isSingletonMode) {\n        singleton.hook({\n          instance,\n          content,\n          props: computedProps,\n        });\n      }\n\n      setMounted(true);\n\n      return () => {\n        instance.destroy();\n        singleton?.cleanup(instance);\n      };\n    }, deps);\n\n    // UPDATE\n    useIsomorphicLayoutEffect(() => {\n      // Prevent this effect from running on 1st render\n      if (mutableBox.renders === 1) {\n        mutableBox.renders++;\n        return;\n      }\n\n      const {instance} = mutableBox;\n\n      instance.setProps(deepPreserveProps(instance.props, computedProps));\n\n      // Fixes #264\n      instance.popperInstance?.forceUpdate();\n\n      if (disabled) {\n        instance.disable();\n      } else {\n        instance.enable();\n      }\n\n      if (isControlledMode) {\n        if (visible) {\n          instance.show();\n        } else {\n          instance.hide();\n        }\n      }\n\n      if (isSingletonMode) {\n        singleton.hook({\n          instance,\n          content,\n          props: computedProps,\n        });\n      }\n    });\n\n    useIsomorphicLayoutEffect(() => {\n      if (!render) {\n        return;\n      }\n\n      const {instance} = mutableBox;\n\n      instance.setProps({\n        popperOptions: {\n          ...instance.props.popperOptions,\n          modifiers: [\n            ...(instance.props.popperOptions?.modifiers || []).filter(\n              ({name}) => name !== '$$tippyReact',\n            ),\n            {\n              name: '$$tippyReact',\n              enabled: true,\n              phase: 'beforeWrite',\n              requires: ['computeStyles'],\n              fn({state}) {\n                const hideData = state.modifiersData?.hide;\n\n                // WARNING: this is a high-risk path that can cause an infinite\n                // loop. This expression _must_ evaluate to false when required\n                if (\n                  attrs.placement !== state.placement ||\n                  attrs.referenceHidden !== hideData?.isReferenceHidden ||\n                  attrs.escaped !== hideData?.hasPopperEscaped\n                ) {\n                  setAttrs({\n                    placement: state.placement,\n                    referenceHidden: hideData?.isReferenceHidden,\n                    escaped: hideData?.hasPopperEscaped,\n                  });\n                }\n\n                state.attributes.popper = {};\n              },\n            },\n          ],\n        },\n      });\n    }, [attrs.placement, attrs.referenceHidden, attrs.escaped, ...deps]);\n\n    return (\n      <>\n        {children\n          ? cloneElement(children, {\n              ref(node) {\n                mutableBox.ref = node;\n                preserveRef(children.ref, node);\n              },\n            })\n          : null}\n        {mounted &&\n          createPortal(\n            render\n              ? render(\n                  toDataAttributes(attrs),\n                  singletonContent,\n                  mutableBox.instance,\n                )\n              : content,\n            mutableBox.container,\n          )}\n      </>\n    );\n  }\n\n  return Tippy;\n}\n","import {useMutableBox, useIsomorphicLayoutEffect} from './util-hooks';\nimport {deepPreserveProps} from './utils';\nimport {classNamePlugin} from './className-plugin';\nimport {useMemo, useState} from 'react';\n\nexport default function useSingletonGenerator(createSingleton) {\n  return function useSingleton({disabled = false, overrides = []} = {}) {\n    const [mounted, setMounted] = useState(false);\n    const mutableBox = useMutableBox({\n      children: [],\n      renders: 1,\n    });\n\n    useIsomorphicLayoutEffect(() => {\n      if (!mounted) {\n        setMounted(true);\n        return;\n      }\n\n      const {children, sourceData} = mutableBox;\n\n      if (!sourceData) {\n        if (process.env.NODE_ENV !== 'production') {\n          console.error(\n            [\n              '@tippyjs/react: The `source` variable from `useSingleton()` has',\n              'not been passed to a <Tippy /> component.',\n            ].join(' '),\n          );\n        }\n\n        return;\n      }\n\n      const instance = createSingleton(\n        children.map(child => child.instance),\n        {\n          ...sourceData.props,\n          popperOptions: sourceData.instance.props.popperOptions,\n          overrides,\n          plugins: [classNamePlugin, ...(sourceData.props.plugins || [])],\n        },\n      );\n\n      mutableBox.instance = instance;\n\n      if (disabled) {\n        instance.disable();\n      }\n\n      return () => {\n        instance.destroy();\n        mutableBox.children = children.filter(\n          ({instance}) => !instance.state.isDestroyed,\n        );\n      };\n    }, [mounted]);\n\n    useIsomorphicLayoutEffect(() => {\n      if (!mounted) {\n        return;\n      }\n\n      if (mutableBox.renders === 1) {\n        mutableBox.renders++;\n        return;\n      }\n\n      const {children, instance, sourceData} = mutableBox;\n\n      if (!(instance && sourceData)) {\n        return;\n      }\n\n      const {content, ...props} = sourceData.props;\n\n      instance.setProps(\n        deepPreserveProps(instance.props, {\n          ...props,\n          overrides,\n        }),\n      );\n\n      instance.setInstances(children.map(child => child.instance));\n\n      if (disabled) {\n        instance.disable();\n      } else {\n        instance.enable();\n      }\n    });\n\n    return useMemo(() => {\n      const source = {\n        data: mutableBox,\n        hook(data) {\n          mutableBox.sourceData = data;\n        },\n        cleanup() {\n          mutableBox.sourceData = null;\n        },\n      };\n\n      const target = {\n        hook(data) {\n          if (\n            !mutableBox.children.find(\n              ({instance}) => data.instance === instance,\n            )\n          ) {\n            mutableBox.children.push(data);\n\n            if (mutableBox.instance && !mutableBox.instance.state.isDestroyed) {\n              mutableBox.instance.setInstances(\n                mutableBox.children.map(child => child.instance),\n              );\n            }\n          }\n        },\n        cleanup(instance) {\n          mutableBox.children = mutableBox.children.filter(\n            data => data.instance !== instance,\n          );\n\n          if (mutableBox.instance && !mutableBox.instance.state.isDestroyed) {\n            mutableBox.instance.setInstances(\n              mutableBox.children.map(child => child.instance),\n            );\n          }\n        },\n      };\n\n      return [source, target];\n    }, []);\n  };\n}\n","import React, {cloneElement, forwardRef} from 'react';\nimport {preserveRef} from './utils';\n\nexport default (Tippy, defaultProps) =>\n  forwardRef(function TippyWrapper({children, ...props}, ref) {\n    return (\n      // If I spread them separately here, Babel adds the _extends ponyfill for\n      // some reason\n      <Tippy {...{...defaultProps, ...props}}>\n        {children\n          ? cloneElement(children, {\n              ref(node) {\n                preserveRef(ref, node);\n                preserveRef(children.ref, node);\n              },\n            })\n          : null}\n      </Tippy>\n    );\n  });\n","import tippy, {createSingleton} from 'tippy.js';\nimport TippyGenerator from './Tippy';\nimport useSingletonGenerator from './useSingleton';\nimport forwardRef from './forwardRef';\n\nconst useSingleton = useSingletonGenerator(createSingleton);\n\nexport default forwardRef(TippyGenerator(tippy));\nexport {useSingleton, tippy};\n","import tippy, {createSingleton} from 'tippy.js/headless';\nimport TippyGenerator from './Tippy';\nimport useSingletonGenerator from './useSingleton';\nimport forwardRef from './forwardRef';\n\nconst useSingleton = useSingletonGenerator(createSingleton);\n\nexport default forwardRef(TippyGenerator(tippy), {render: () => ''});\nexport {useSingleton, tippy};\n","import { isNumber, } from \"@turf/helpers\";\n/**\n * Unwrap a coordinate from a Point Feature, Geometry or a single coordinate.\n *\n * @name getCoord\n * @param {Array<number>|Geometry<Point>|Feature<Point>} coord GeoJSON Point or an Array of numbers\n * @returns {Array<number>} coordinates\n * @example\n * var pt = turf.point([10, 10]);\n *\n * var coord = turf.getCoord(pt);\n * //= [10, 10]\n */\nexport function getCoord(coord) {\n    if (!coord) {\n        throw new Error(\"coord is required\");\n    }\n    if (!Array.isArray(coord)) {\n        if (coord.type === \"Feature\" &&\n            coord.geometry !== null &&\n            coord.geometry.type === \"Point\") {\n            return coord.geometry.coordinates;\n        }\n        if (coord.type === \"Point\") {\n            return coord.coordinates;\n        }\n    }\n    if (Array.isArray(coord) &&\n        coord.length >= 2 &&\n        !Array.isArray(coord[0]) &&\n        !Array.isArray(coord[1])) {\n        return coord;\n    }\n    throw new Error(\"coord must be GeoJSON Point or an Array of numbers\");\n}\n/**\n * Unwrap coordinates from a Feature, Geometry Object or an Array\n *\n * @name getCoords\n * @param {Array<any>|Geometry|Feature} coords Feature, Geometry Object or an Array\n * @returns {Array<any>} coordinates\n * @example\n * var poly = turf.polygon([[[119.32, -8.7], [119.55, -8.69], [119.51, -8.54], [119.32, -8.7]]]);\n *\n * var coords = turf.getCoords(poly);\n * //= [[[119.32, -8.7], [119.55, -8.69], [119.51, -8.54], [119.32, -8.7]]]\n */\nexport function getCoords(coords) {\n    if (Array.isArray(coords)) {\n        return coords;\n    }\n    // Feature\n    if (coords.type === \"Feature\") {\n        if (coords.geometry !== null) {\n            return coords.geometry.coordinates;\n        }\n    }\n    else {\n        // Geometry\n        if (coords.coordinates) {\n            return coords.coordinates;\n        }\n    }\n    throw new Error(\"coords must be GeoJSON Feature, Geometry Object or an Array\");\n}\n/**\n * Checks if coordinates contains a number\n *\n * @name containsNumber\n * @param {Array<any>} coordinates GeoJSON Coordinates\n * @returns {boolean} true if Array contains a number\n */\nexport function containsNumber(coordinates) {\n    if (coordinates.length > 1 &&\n        isNumber(coordinates[0]) &&\n        isNumber(coordinates[1])) {\n        return true;\n    }\n    if (Array.isArray(coordinates[0]) && coordinates[0].length) {\n        return containsNumber(coordinates[0]);\n    }\n    throw new Error(\"coordinates must only contain numbers\");\n}\n/**\n * Enforce expectations about types of GeoJSON objects for Turf.\n *\n * @name geojsonType\n * @param {GeoJSON} value any GeoJSON object\n * @param {string} type expected GeoJSON type\n * @param {string} name name of calling function\n * @throws {Error} if value is not the expected type.\n */\nexport function geojsonType(value, type, name) {\n    if (!type || !name) {\n        throw new Error(\"type and name required\");\n    }\n    if (!value || value.type !== type) {\n        throw new Error(\"Invalid input to \" +\n            name +\n            \": must be a \" +\n            type +\n            \", given \" +\n            value.type);\n    }\n}\n/**\n * Enforce expectations about types of {@link Feature} inputs for Turf.\n * Internally this uses {@link geojsonType} to judge geometry types.\n *\n * @name featureOf\n * @param {Feature} feature a feature with an expected geometry type\n * @param {string} type expected GeoJSON type\n * @param {string} name name of calling function\n * @throws {Error} error if value is not the expected type.\n */\nexport function featureOf(feature, type, name) {\n    if (!feature) {\n        throw new Error(\"No feature passed\");\n    }\n    if (!name) {\n        throw new Error(\".featureOf() requires a name\");\n    }\n    if (!feature || feature.type !== \"Feature\" || !feature.geometry) {\n        throw new Error(\"Invalid input to \" + name + \", Feature with geometry required\");\n    }\n    if (!feature.geometry || feature.geometry.type !== type) {\n        throw new Error(\"Invalid input to \" +\n            name +\n            \": must be a \" +\n            type +\n            \", given \" +\n            feature.geometry.type);\n    }\n}\n/**\n * Enforce expectations about types of {@link FeatureCollection} inputs for Turf.\n * Internally this uses {@link geojsonType} to judge geometry types.\n *\n * @name collectionOf\n * @param {FeatureCollection} featureCollection a FeatureCollection for which features will be judged\n * @param {string} type expected GeoJSON type\n * @param {string} name name of calling function\n * @throws {Error} if value is not the expected type.\n */\nexport function collectionOf(featureCollection, type, name) {\n    if (!featureCollection) {\n        throw new Error(\"No featureCollection passed\");\n    }\n    if (!name) {\n        throw new Error(\".collectionOf() requires a name\");\n    }\n    if (!featureCollection || featureCollection.type !== \"FeatureCollection\") {\n        throw new Error(\"Invalid input to \" + name + \", FeatureCollection required\");\n    }\n    for (var _i = 0, _a = featureCollection.features; _i < _a.length; _i++) {\n        var feature = _a[_i];\n        if (!feature || feature.type !== \"Feature\" || !feature.geometry) {\n            throw new Error(\"Invalid input to \" + name + \", Feature with geometry required\");\n        }\n        if (!feature.geometry || feature.geometry.type !== type) {\n            throw new Error(\"Invalid input to \" +\n                name +\n                \": must be a \" +\n                type +\n                \", given \" +\n                feature.geometry.type);\n        }\n    }\n}\n/**\n * Get Geometry from Feature or Geometry Object\n *\n * @param {Feature|Geometry} geojson GeoJSON Feature or Geometry Object\n * @returns {Geometry|null} GeoJSON Geometry Object\n * @throws {Error} if geojson is not a Feature or Geometry Object\n * @example\n * var point = {\n *   \"type\": \"Feature\",\n *   \"properties\": {},\n *   \"geometry\": {\n *     \"type\": \"Point\",\n *     \"coordinates\": [110, 40]\n *   }\n * }\n * var geom = turf.getGeom(point)\n * //={\"type\": \"Point\", \"coordinates\": [110, 40]}\n */\nexport function getGeom(geojson) {\n    if (geojson.type === \"Feature\") {\n        return geojson.geometry;\n    }\n    return geojson;\n}\n/**\n * Get GeoJSON object's type, Geometry type is prioritize.\n *\n * @param {GeoJSON} geojson GeoJSON object\n * @param {string} [name=\"geojson\"] name of the variable to display in error message (unused)\n * @returns {string} GeoJSON type\n * @example\n * var point = {\n *   \"type\": \"Feature\",\n *   \"properties\": {},\n *   \"geometry\": {\n *     \"type\": \"Point\",\n *     \"coordinates\": [110, 40]\n *   }\n * }\n * var geom = turf.getType(point)\n * //=\"Point\"\n */\nexport function getType(geojson, _name) {\n    if (geojson.type === \"FeatureCollection\") {\n        return \"FeatureCollection\";\n    }\n    if (geojson.type === \"GeometryCollection\") {\n        return \"GeometryCollection\";\n    }\n    if (geojson.type === \"Feature\" && geojson.geometry !== null) {\n        return geojson.geometry.type;\n    }\n    return geojson.type;\n}\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nimport { Visitor } from '../visitor.mjs';\nimport { Type, Precision } from '../enum.mjs';\nimport { Float, Int, Time, } from '../type.mjs';\nimport { ChunkedIterator } from '../util/chunk.mjs';\n/** @ignore */\nexport class IteratorVisitor extends Visitor {\n}\n/** @ignore */\nfunction vectorIterator(vector) {\n    const { type } = vector;\n    // Fast case, defer to native iterators if possible\n    if (vector.nullCount === 0 && vector.stride === 1 && ((type.typeId === Type.Timestamp) ||\n        (type instanceof Int && type.bitWidth !== 64) ||\n        (type instanceof Time && type.bitWidth !== 64) ||\n        (type instanceof Float && type.precision !== Precision.HALF))) {\n        return new ChunkedIterator(vector.data.length, (chunkIndex) => {\n            const data = vector.data[chunkIndex];\n            return data.values.subarray(0, data.length)[Symbol.iterator]();\n        });\n    }\n    // Otherwise, iterate manually\n    let offset = 0;\n    return new ChunkedIterator(vector.data.length, (chunkIndex) => {\n        const data = vector.data[chunkIndex];\n        const length = data.length;\n        const inner = vector.slice(offset, offset + length);\n        offset += length;\n        return new VectorIterator(inner);\n    });\n}\n/** @ignore */\nclass VectorIterator {\n    constructor(vector) {\n        this.vector = vector;\n        this.index = 0;\n    }\n    next() {\n        if (this.index < this.vector.length) {\n            return {\n                value: this.vector.get(this.index++)\n            };\n        }\n        return { done: true, value: null };\n    }\n    [Symbol.iterator]() {\n        return this;\n    }\n}\nIteratorVisitor.prototype.visitNull = vectorIterator;\nIteratorVisitor.prototype.visitBool = vectorIterator;\nIteratorVisitor.prototype.visitInt = vectorIterator;\nIteratorVisitor.prototype.visitInt8 = vectorIterator;\nIteratorVisitor.prototype.visitInt16 = vectorIterator;\nIteratorVisitor.prototype.visitInt32 = vectorIterator;\nIteratorVisitor.prototype.visitInt64 = vectorIterator;\nIteratorVisitor.prototype.visitUint8 = vectorIterator;\nIteratorVisitor.prototype.visitUint16 = vectorIterator;\nIteratorVisitor.prototype.visitUint32 = vectorIterator;\nIteratorVisitor.prototype.visitUint64 = vectorIterator;\nIteratorVisitor.prototype.visitFloat = vectorIterator;\nIteratorVisitor.prototype.visitFloat16 = vectorIterator;\nIteratorVisitor.prototype.visitFloat32 = vectorIterator;\nIteratorVisitor.prototype.visitFloat64 = vectorIterator;\nIteratorVisitor.prototype.visitUtf8 = vectorIterator;\nIteratorVisitor.prototype.visitBinary = vectorIterator;\nIteratorVisitor.prototype.visitFixedSizeBinary = vectorIterator;\nIteratorVisitor.prototype.visitDate = vectorIterator;\nIteratorVisitor.prototype.visitDateDay = vectorIterator;\nIteratorVisitor.prototype.visitDateMillisecond = vectorIterator;\nIteratorVisitor.prototype.visitTimestamp = vectorIterator;\nIteratorVisitor.prototype.visitTimestampSecond = vectorIterator;\nIteratorVisitor.prototype.visitTimestampMillisecond = vectorIterator;\nIteratorVisitor.prototype.visitTimestampMicrosecond = vectorIterator;\nIteratorVisitor.prototype.visitTimestampNanosecond = vectorIterator;\nIteratorVisitor.prototype.visitTime = vectorIterator;\nIteratorVisitor.prototype.visitTimeSecond = vectorIterator;\nIteratorVisitor.prototype.visitTimeMillisecond = vectorIterator;\nIteratorVisitor.prototype.visitTimeMicrosecond = vectorIterator;\nIteratorVisitor.prototype.visitTimeNanosecond = vectorIterator;\nIteratorVisitor.prototype.visitDecimal = vectorIterator;\nIteratorVisitor.prototype.visitList = vectorIterator;\nIteratorVisitor.prototype.visitStruct = vectorIterator;\nIteratorVisitor.prototype.visitUnion = vectorIterator;\nIteratorVisitor.prototype.visitDenseUnion = vectorIterator;\nIteratorVisitor.prototype.visitSparseUnion = vectorIterator;\nIteratorVisitor.prototype.visitDictionary = vectorIterator;\nIteratorVisitor.prototype.visitInterval = vectorIterator;\nIteratorVisitor.prototype.visitIntervalDayTime = vectorIterator;\nIteratorVisitor.prototype.visitIntervalYearMonth = vectorIterator;\nIteratorVisitor.prototype.visitFixedSizeList = vectorIterator;\nIteratorVisitor.prototype.visitMap = vectorIterator;\n/** @ignore */\nexport const instance = new IteratorVisitor();\n\n//# sourceMappingURL=iterator.mjs.map\n","// https://en.wikipedia.org/wiki/Rhumb_line\nimport { convertLength, earthRadius } from \"@turf/helpers\";\nimport { getCoord } from \"@turf/invariant\";\n/**\n * Calculates the distance along a rhumb line between two {@link Point|points} in degrees, radians,\n * miles, or kilometers.\n *\n * @name rhumbDistance\n * @param {Coord} from origin point\n * @param {Coord} to destination point\n * @param {Object} [options] Optional parameters\n * @param {string} [options.units=\"kilometers\"] can be degrees, radians, miles, or kilometers\n * @returns {number} distance between the two points\n * @example\n * var from = turf.point([-75.343, 39.984]);\n * var to = turf.point([-75.534, 39.123]);\n * var options = {units: 'miles'};\n *\n * var distance = turf.rhumbDistance(from, to, options);\n *\n * //addToMap\n * var addToMap = [from, to];\n * from.properties.distance = distance;\n * to.properties.distance = distance;\n */\nfunction rhumbDistance(from, to, options) {\n    if (options === void 0) { options = {}; }\n    var origin = getCoord(from);\n    var destination = getCoord(to);\n    // compensate the crossing of the 180th meridian (https://macwright.org/2016/09/26/the-180th-meridian.html)\n    // solution from https://github.com/mapbox/mapbox-gl-js/issues/3250#issuecomment-294887678\n    destination[0] +=\n        destination[0] - origin[0] > 180\n            ? -360\n            : origin[0] - destination[0] > 180\n                ? 360\n                : 0;\n    var distanceInMeters = calculateRhumbDistance(origin, destination);\n    var distance = convertLength(distanceInMeters, \"meters\", options.units);\n    return distance;\n}\n/**\n * Returns the distance travelling from ‘this’ point to destination point along a rhumb line.\n * Adapted from Geodesy: https://github.com/chrisveness/geodesy/blob/master/latlon-spherical.js\n *\n * @private\n * @param   {Array<number>} origin point.\n * @param   {Array<number>} destination point.\n * @param   {number} [radius=6371e3] - (Mean) radius of earth (defaults to radius in metres).\n * @returns {number} Distance in km between this point and destination point (same units as radius).\n *\n * @example\n *     var p1 = new LatLon(51.127, 1.338);\n *     var p2 = new LatLon(50.964, 1.853);\n *     var d = p1.distanceTo(p2); // 40.31 km\n */\nfunction calculateRhumbDistance(origin, destination, radius) {\n    // φ => phi\n    // λ => lambda\n    // ψ => psi\n    // Δ => Delta\n    // δ => delta\n    // θ => theta\n    radius = radius === undefined ? earthRadius : Number(radius);\n    // see www.edwilliams.org/avform.htm#Rhumb\n    var R = radius;\n    var phi1 = (origin[1] * Math.PI) / 180;\n    var phi2 = (destination[1] * Math.PI) / 180;\n    var DeltaPhi = phi2 - phi1;\n    var DeltaLambda = (Math.abs(destination[0] - origin[0]) * Math.PI) / 180;\n    // if dLon over 180° take shorter rhumb line across the anti-meridian:\n    if (DeltaLambda > Math.PI) {\n        DeltaLambda -= 2 * Math.PI;\n    }\n    // on Mercator projection, longitude distances shrink by latitude; q is the 'stretch factor'\n    // q becomes ill-conditioned along E-W line (0/0); use empirical tolerance to avoid it\n    var DeltaPsi = Math.log(Math.tan(phi2 / 2 + Math.PI / 4) / Math.tan(phi1 / 2 + Math.PI / 4));\n    var q = Math.abs(DeltaPsi) > 10e-12 ? DeltaPhi / DeltaPsi : Math.cos(phi1);\n    // distance is pythagoras on 'stretched' Mercator projection\n    var delta = Math.sqrt(DeltaPhi * DeltaPhi + q * q * DeltaLambda * DeltaLambda); // angular distance in radians\n    var dist = delta * R;\n    return dist;\n}\nexport default rhumbDistance;\n","import _objectSpread from '@babel/runtime/helpers/esm/objectSpread2';\n\n/**\n * Adapted from React: https://github.com/facebook/react/blob/master/packages/shared/formatProdErrorMessage.js\n *\n * Do not require this module directly! Use normal throw error calls. These messages will be replaced with error codes\n * during build.\n * @param {number} code\n */\nfunction formatProdErrorMessage(code) {\n  return \"Minified Redux error #\" + code + \"; visit https://redux.js.org/Errors?code=\" + code + \" for the full message or \" + 'use the non-minified dev environment for full errors. ';\n}\n\n// Inlined version of the `symbol-observable` polyfill\nvar $$observable = (function () {\n  return typeof Symbol === 'function' && Symbol.observable || '@@observable';\n})();\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\n// Inlined / shortened version of `kindOf` from https://github.com/jonschlinkert/kind-of\nfunction miniKindOf(val) {\n  if (val === void 0) return 'undefined';\n  if (val === null) return 'null';\n  var type = typeof val;\n\n  switch (type) {\n    case 'boolean':\n    case 'string':\n    case 'number':\n    case 'symbol':\n    case 'function':\n      {\n        return type;\n      }\n  }\n\n  if (Array.isArray(val)) return 'array';\n  if (isDate(val)) return 'date';\n  if (isError(val)) return 'error';\n  var constructorName = ctorName(val);\n\n  switch (constructorName) {\n    case 'Symbol':\n    case 'Promise':\n    case 'WeakMap':\n    case 'WeakSet':\n    case 'Map':\n    case 'Set':\n      return constructorName;\n  } // other\n\n\n  return type.slice(8, -1).toLowerCase().replace(/\\s/g, '');\n}\n\nfunction ctorName(val) {\n  return typeof val.constructor === 'function' ? val.constructor.name : null;\n}\n\nfunction isError(val) {\n  return val instanceof Error || typeof val.message === 'string' && val.constructor && typeof val.constructor.stackTraceLimit === 'number';\n}\n\nfunction isDate(val) {\n  if (val instanceof Date) return true;\n  return typeof val.toDateString === 'function' && typeof val.getDate === 'function' && typeof val.setDate === 'function';\n}\n\nfunction kindOf(val) {\n  var typeOfVal = typeof val;\n\n  if (process.env.NODE_ENV !== 'production') {\n    typeOfVal = miniKindOf(val);\n  }\n\n  return typeOfVal;\n}\n\n/**\n * Creates a Redux store that holds the state tree.\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(0) : 'It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function. See https://redux.js.org/tutorials/fundamentals/part-4-store#creating-a-store-with-enhancers for an example.');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(1) : \"Expected the enhancer to be a function. Instead, received: '\" + kindOf(enhancer) + \"'\");\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(2) : \"Expected the root reducer to be a function. Instead, received: '\" + kindOf(reducer) + \"'\");\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(3) : 'You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(4) : \"Expected the listener to be a function. Instead, received: '\" + kindOf(listener) + \"'\");\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(5) : 'You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(6) : 'You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n      currentListeners = null;\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing “what changed”. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(7) : \"Actions must be plain objects. Instead, the actual type was: '\" + kindOf(action) + \"'. You may need to add middleware to your store setup to handle dispatching other values, such as 'redux-thunk' to handle dispatching functions. See https://redux.js.org/tutorials/fundamentals/part-4-store#middleware and https://redux.js.org/tutorials/fundamentals/part-6-async-logic#using-the-redux-thunk-middleware for examples.\");\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(8) : 'Actions may not have an undefined \"type\" property. You may have misspelled an action type string constant.');\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(9) : 'Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(10) : \"Expected the nextReducer to be a function. Instead, received: '\" + kindOf(nextReducer));\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(11) : \"Expected the observer to be an object. Instead, received: '\" + kindOf(observer) + \"'\");\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + kindOf(inputState) + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(12) : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined during initialization. \" + \"If the state passed to the reducer is undefined, you must \" + \"explicitly return the initial state. The initial state may \" + \"not be undefined. If you don't want to set a value for this reducer, \" + \"you can use null instead of undefined.\");\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(13) : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined when probed with a random type. \" + (\"Don't try to handle '\" + ActionTypes.INIT + \"' or other actions in \\\"redux/*\\\" \") + \"namespace. They are considered private. Instead, you must return the \" + \"current state for any unknown actions, unless it is undefined, \" + \"in which case you must return the initial state, regardless of the \" + \"action type. The initial state may not be undefined, but can be null.\");\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning(\"No reducer provided for key \\\"\" + key + \"\\\"\");\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers); // This is used to make sure we don't warn about the same\n  // keys multiple times.\n\n  var unexpectedKeyCache;\n\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var actionType = action && action.type;\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(14) : \"When called with an action of type \" + (actionType ? \"\\\"\" + String(actionType) + \"\\\"\" : '(unknown type)') + \", the slice reducer for key \\\"\" + _key + \"\\\" returned undefined. \" + \"To ignore an action, you must explicitly return the previous state. \" + \"If you want this reducer to hold no value, you can return null instead of undefined.\");\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass an action creator as the first argument,\n * and get a dispatch wrapped function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(16) : \"bindActionCreators expected an object or a function, but instead received: '\" + kindOf(actionCreators) + \"'. \" + \"Did you write \\\"import ActionCreators from\\\" instead of \\\"import * as ActionCreators from\\\"?\");\n  }\n\n  var boundActionCreators = {};\n\n  for (var key in actionCreators) {\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(15) : 'Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread(_objectSpread({}, store), {}, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\n/*\n * This is a dummy function to check if the function name has been altered by minification.\n * If the function has been minified and NODE_ENV !== 'production', warn the user.\n */\n\nfunction isCrushed() {}\n\nif (process.env.NODE_ENV !== 'production' && typeof isCrushed.name === 'string' && isCrushed.name !== 'isCrushed') {\n  warning('You are currently using minified code outside of NODE_ENV === \"production\". ' + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or setting mode to production in webpack (https://webpack.js.org/concepts/mode/) ' + 'to ensure you have the correct code for your production build.');\n}\n\nexport { ActionTypes as __DO_NOT_USE__ActionTypes, applyMiddleware, bindActionCreators, combineReducers, compose, createStore };\n","/** A function that accepts a potential \"extra argument\" value to be injected later,\r\n * and returns an instance of the thunk middleware that uses that value\r\n */\nfunction createThunkMiddleware(extraArgument) {\n  // Standard Redux middleware definition pattern:\n  // See: https://redux.js.org/tutorials/fundamentals/part-4-store#writing-custom-middleware\n  var middleware = function middleware(_ref) {\n    var dispatch = _ref.dispatch,\n        getState = _ref.getState;\n    return function (next) {\n      return function (action) {\n        // The thunk middleware looks for any functions that were passed to `store.dispatch`.\n        // If this \"action\" is really a function, call it and return the result.\n        if (typeof action === 'function') {\n          // Inject the store's `dispatch` and `getState` methods, as well as any \"extra arg\"\n          return action(dispatch, getState, extraArgument);\n        } // Otherwise, pass the action down the middleware chain as usual\n\n\n        return next(action);\n      };\n    };\n  };\n\n  return middleware;\n}\n\nvar thunk = createThunkMiddleware(); // Attach the factory function so users can create a customized version\n// with whatever \"extra arg\" they want to inject into their thunks\n\nthunk.withExtraArgument = createThunkMiddleware;\nexport default thunk;","import type { Action, ActionCreator, StoreEnhancer } from 'redux'\r\nimport { compose } from 'redux'\r\n\r\n/**\r\n * @public\r\n */\r\nexport interface EnhancerOptions {\r\n  /**\r\n   * the instance name to be showed on the monitor page. Default value is `document.title`.\r\n   * If not specified and there's no document title, it will consist of `tabId` and `instanceId`.\r\n   */\r\n  name?: string\r\n  /**\r\n   * action creators functions to be available in the Dispatcher.\r\n   */\r\n  actionCreators?: ActionCreator<any>[] | { [key: string]: ActionCreator<any> }\r\n  /**\r\n   * if more than one action is dispatched in the indicated interval, all new actions will be collected and sent at once.\r\n   * It is the joint between performance and speed. When set to `0`, all actions will be sent instantly.\r\n   * Set it to a higher value when experiencing perf issues (also `maxAge` to a lower value).\r\n   *\r\n   * @default 500 ms.\r\n   */\r\n  latency?: number\r\n  /**\r\n   * (> 1) - maximum allowed actions to be stored in the history tree. The oldest actions are removed once maxAge is reached. It's critical for performance.\r\n   *\r\n   * @default 50\r\n   */\r\n  maxAge?: number\r\n  /**\r\n   * See detailed documentation at https://github.com/reduxjs/redux-devtools/blob/%40redux-devtools/extension%403.2.1/extension/docs/API/Arguments.md#serialize\r\n   */\r\n  serialize?:\r\n    | boolean\r\n    | {\r\n        options?:\r\n          | boolean\r\n          | {\r\n              date?: boolean\r\n              regex?: boolean\r\n              undefined?: boolean\r\n              error?: boolean\r\n              symbol?: boolean\r\n              map?: boolean\r\n              set?: boolean\r\n              function?: boolean | Function\r\n            }\r\n        replacer?: (key: string, value: unknown) => unknown\r\n        reviver?: (key: string, value: unknown) => unknown\r\n        immutable?: unknown\r\n        refs?: unknown[]\r\n      }\r\n  /**\r\n   * function which takes `action` object and id number as arguments, and should return `action` object back.\r\n   */\r\n  actionSanitizer?: <A extends Action>(action: A, id: number) => A\r\n  /**\r\n   * function which takes `state` object and index as arguments, and should return `state` object back.\r\n   */\r\n  stateSanitizer?: <S>(state: S, index: number) => S\r\n  /**\r\n   * *string or array of strings as regex* - actions types to be hidden / shown in the monitors (while passed to the reducers).\r\n   * If `actionsWhitelist` specified, `actionsBlacklist` is ignored.\r\n   */\r\n  actionsBlacklist?: string | string[]\r\n  /**\r\n   * *string or array of strings as regex* - actions types to be hidden / shown in the monitors (while passed to the reducers).\r\n   * If `actionsWhitelist` specified, `actionsBlacklist` is ignored.\r\n   */\r\n  actionsWhitelist?: string | string[]\r\n  /**\r\n   * called for every action before sending, takes `state` and `action` object, and returns `true` in case it allows sending the current data to the monitor.\r\n   * Use it as a more advanced version of `actionsBlacklist`/`actionsWhitelist` parameters.\r\n   */\r\n  predicate?: <S, A extends Action>(state: S, action: A) => boolean\r\n  /**\r\n   * if specified as `false`, it will not record the changes till clicking on `Start recording` button.\r\n   * Available only for Redux enhancer, for others use `autoPause`.\r\n   *\r\n   * @default true\r\n   */\r\n  shouldRecordChanges?: boolean\r\n  /**\r\n   * if specified, whenever clicking on `Pause recording` button and there are actions in the history log, will add this action type.\r\n   * If not specified, will commit when paused. Available only for Redux enhancer.\r\n   *\r\n   * @default \"@@PAUSED\"\"\r\n   */\r\n  pauseActionType?: string\r\n  /**\r\n   * auto pauses when the extension’s window is not opened, and so has zero impact on your app when not in use.\r\n   * Not available for Redux enhancer (as it already does it but storing the data to be sent).\r\n   *\r\n   * @default false\r\n   */\r\n  autoPause?: boolean\r\n  /**\r\n   * if specified as `true`, it will not allow any non-monitor actions to be dispatched till clicking on `Unlock changes` button.\r\n   * Available only for Redux enhancer.\r\n   *\r\n   * @default false\r\n   */\r\n  shouldStartLocked?: boolean\r\n  /**\r\n   * if set to `false`, will not recompute the states on hot reloading (or on replacing the reducers). Available only for Redux enhancer.\r\n   *\r\n   * @default true\r\n   */\r\n  shouldHotReload?: boolean\r\n  /**\r\n   * if specified as `true`, whenever there's an exception in reducers, the monitors will show the error message, and next actions will not be dispatched.\r\n   *\r\n   * @default false\r\n   */\r\n  shouldCatchErrors?: boolean\r\n  /**\r\n   * If you want to restrict the extension, specify the features you allow.\r\n   * If not specified, all of the features are enabled. When set as an object, only those included as `true` will be allowed.\r\n   * Note that except `true`/`false`, `import` and `export` can be set as `custom` (which is by default for Redux enhancer), meaning that the importing/exporting occurs on the client side.\r\n   * Otherwise, you'll get/set the data right from the monitor part.\r\n   */\r\n  features?: {\r\n    /**\r\n     * start/pause recording of dispatched actions\r\n     */\r\n    pause?: boolean\r\n    /**\r\n     * lock/unlock dispatching actions and side effects\r\n     */\r\n    lock?: boolean\r\n    /**\r\n     * persist states on page reloading\r\n     */\r\n    persist?: boolean\r\n    /**\r\n     * export history of actions in a file\r\n     */\r\n    export?: boolean | 'custom'\r\n    /**\r\n     * import history of actions from a file\r\n     */\r\n    import?: boolean | 'custom'\r\n    /**\r\n     * jump back and forth (time travelling)\r\n     */\r\n    jump?: boolean\r\n    /**\r\n     * skip (cancel) actions\r\n     */\r\n    skip?: boolean\r\n    /**\r\n     * drag and drop actions in the history list\r\n     */\r\n    reorder?: boolean\r\n    /**\r\n     * dispatch custom actions or action creators\r\n     */\r\n    dispatch?: boolean\r\n    /**\r\n     * generate tests for the selected actions\r\n     */\r\n    test?: boolean\r\n  }\r\n  /**\r\n   * Set to true or a stacktrace-returning function to record call stack traces for dispatched actions.\r\n   * Defaults to false.\r\n   */\r\n  trace?: boolean | (<A extends Action>(action: A) => string)\r\n  /**\r\n   * The maximum number of stack trace entries to record per action. Defaults to 10.\r\n   */\r\n  traceLimit?: number\r\n}\r\n\r\n/**\r\n * @public\r\n */\r\nexport const composeWithDevTools: {\r\n  (options: EnhancerOptions): typeof compose\r\n  <StoreExt>(...funcs: Array<StoreEnhancer<StoreExt>>): StoreEnhancer<StoreExt>\r\n} =\r\n  typeof window !== 'undefined' &&\r\n  (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\r\n    ? (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\r\n    : function () {\r\n        if (arguments.length === 0) return undefined\r\n        if (typeof arguments[0] === 'object') return compose\r\n        return compose.apply(null, arguments as any as Function[])\r\n      }\r\n\r\n/**\r\n * @public\r\n */\r\nexport const devToolsEnhancer: {\r\n  (options: EnhancerOptions): StoreEnhancer<any>\r\n} =\r\n  typeof window !== 'undefined' && (window as any).__REDUX_DEVTOOLS_EXTENSION__\r\n    ? (window as any).__REDUX_DEVTOOLS_EXTENSION__\r\n    : function () {\r\n        return function (noop) {\r\n          return noop\r\n        }\r\n      }\r\n","import type { Middleware } from 'redux'\r\n\r\nexport function getTimeMeasureUtils(maxDelay: number, fnName: string) {\r\n  let elapsed = 0\r\n  return {\r\n    measureTime<T>(fn: () => T): T {\r\n      const started = Date.now()\r\n      try {\r\n        return fn()\r\n      } finally {\r\n        const finished = Date.now()\r\n        elapsed += finished - started\r\n      }\r\n    },\r\n    warnIfExceeded() {\r\n      if (elapsed > maxDelay) {\r\n        console.warn(`${fnName} took ${elapsed}ms, which is more than the warning threshold of ${maxDelay}ms. \r\nIf your state or actions are very large, you may want to disable the middleware as it might cause too much of a slowdown in development mode. See https://redux-toolkit.js.org/api/getDefaultMiddleware for instructions.\r\nIt is disabled in production builds, so you don't need to worry about that.`)\r\n      }\r\n    },\r\n  }\r\n}\r\n\r\n/**\r\n * @public\r\n */\r\nexport class MiddlewareArray<\r\n  Middlewares extends Middleware<any, any>\r\n> extends Array<Middlewares> {\r\n  constructor(arrayLength?: number)\r\n  constructor(...items: Middlewares[])\r\n  constructor(...args: any[]) {\r\n    super(...args)\r\n    Object.setPrototypeOf(this, MiddlewareArray.prototype)\r\n  }\r\n\r\n  static get [Symbol.species]() {\r\n    return MiddlewareArray as any\r\n  }\r\n\r\n  concat<AdditionalMiddlewares extends ReadonlyArray<Middleware<any, any>>>(\r\n    items: AdditionalMiddlewares\r\n  ): MiddlewareArray<Middlewares | AdditionalMiddlewares[number]>\r\n\r\n  concat<AdditionalMiddlewares extends ReadonlyArray<Middleware<any, any>>>(\r\n    ...items: AdditionalMiddlewares\r\n  ): MiddlewareArray<Middlewares | AdditionalMiddlewares[number]>\r\n  concat(...arr: any[]) {\r\n    return super.concat.apply(this, arr)\r\n  }\r\n\r\n  prepend<AdditionalMiddlewares extends ReadonlyArray<Middleware<any, any>>>(\r\n    items: AdditionalMiddlewares\r\n  ): MiddlewareArray<AdditionalMiddlewares[number] | Middlewares>\r\n\r\n  prepend<AdditionalMiddlewares extends ReadonlyArray<Middleware<any, any>>>(\r\n    ...items: AdditionalMiddlewares\r\n  ): MiddlewareArray<AdditionalMiddlewares[number] | Middlewares>\r\n\r\n  prepend(...arr: any[]) {\r\n    if (arr.length === 1 && Array.isArray(arr[0])) {\r\n      return new MiddlewareArray(...arr[0].concat(this))\r\n    }\r\n    return new MiddlewareArray(...arr.concat(this))\r\n  }\r\n}\r\n","import type { Action } from 'redux'\r\nimport type {\r\n  IsUnknownOrNonInferrable,\r\n  IfMaybeUndefined,\r\n  IfVoid,\r\n  IsAny,\r\n} from './tsHelpers'\r\nimport isPlainObject from './isPlainObject'\r\n\r\n/**\r\n * An action with a string type and an associated payload. This is the\r\n * type of action returned by `createAction()` action creators.\r\n *\r\n * @template P The type of the action's payload.\r\n * @template T the type used for the action type.\r\n * @template M The type of the action's meta (optional)\r\n * @template E The type of the action's error (optional)\r\n *\r\n * @public\r\n */\r\nexport type PayloadAction<\r\n  P = void,\r\n  T extends string = string,\r\n  M = never,\r\n  E = never\r\n> = {\r\n  payload: P\r\n  type: T\r\n} & ([M] extends [never]\r\n  ? {}\r\n  : {\r\n      meta: M\r\n    }) &\r\n  ([E] extends [never]\r\n    ? {}\r\n    : {\r\n        error: E\r\n      })\r\n\r\n/**\r\n * A \"prepare\" method to be used as the second parameter of `createAction`.\r\n * Takes any number of arguments and returns a Flux Standard Action without\r\n * type (will be added later) that *must* contain a payload (might be undefined).\r\n *\r\n * @public\r\n */\r\nexport type PrepareAction<P> =\r\n  | ((...args: any[]) => { payload: P })\r\n  | ((...args: any[]) => { payload: P; meta: any })\r\n  | ((...args: any[]) => { payload: P; error: any })\r\n  | ((...args: any[]) => { payload: P; meta: any; error: any })\r\n\r\n/**\r\n * Internal version of `ActionCreatorWithPreparedPayload`. Not to be used externally.\r\n *\r\n * @internal\r\n */\r\nexport type _ActionCreatorWithPreparedPayload<\r\n  PA extends PrepareAction<any> | void,\r\n  T extends string = string\r\n> = PA extends PrepareAction<infer P>\r\n  ? ActionCreatorWithPreparedPayload<\r\n      Parameters<PA>,\r\n      P,\r\n      T,\r\n      ReturnType<PA> extends {\r\n        error: infer E\r\n      }\r\n        ? E\r\n        : never,\r\n      ReturnType<PA> extends {\r\n        meta: infer M\r\n      }\r\n        ? M\r\n        : never\r\n    >\r\n  : void\r\n\r\n/**\r\n * Basic type for all action creators.\r\n *\r\n * @inheritdoc {redux#ActionCreator}\r\n */\r\ninterface BaseActionCreator<P, T extends string, M = never, E = never> {\r\n  type: T\r\n  match: (action: Action<unknown>) => action is PayloadAction<P, T, M, E>\r\n}\r\n\r\n/**\r\n * An action creator that takes multiple arguments that are passed\r\n * to a `PrepareAction` method to create the final Action.\r\n * @typeParam Args arguments for the action creator function\r\n * @typeParam P `payload` type\r\n * @typeParam T `type` name\r\n * @typeParam E optional `error` type\r\n * @typeParam M optional `meta` type\r\n *\r\n * @inheritdoc {redux#ActionCreator}\r\n *\r\n * @public\r\n */\r\nexport interface ActionCreatorWithPreparedPayload<\r\n  Args extends unknown[],\r\n  P,\r\n  T extends string = string,\r\n  E = never,\r\n  M = never\r\n> extends BaseActionCreator<P, T, M, E> {\r\n  /**\r\n   * Calling this {@link redux#ActionCreator} with `Args` will return\r\n   * an Action with a payload of type `P` and (depending on the `PrepareAction`\r\n   * method used) a `meta`- and `error` property of types `M` and `E` respectively.\r\n   */\r\n  (...args: Args): PayloadAction<P, T, M, E>\r\n}\r\n\r\n/**\r\n * An action creator of type `T` that takes an optional payload of type `P`.\r\n *\r\n * @inheritdoc {redux#ActionCreator}\r\n *\r\n * @public\r\n */\r\nexport interface ActionCreatorWithOptionalPayload<P, T extends string = string>\r\n  extends BaseActionCreator<P, T> {\r\n  /**\r\n   * Calling this {@link redux#ActionCreator} with an argument will\r\n   * return a {@link PayloadAction} of type `T` with a payload of `P`.\r\n   * Calling it without an argument will return a PayloadAction with a payload of `undefined`.\r\n   */\r\n  (payload?: P): PayloadAction<P, T>\r\n}\r\n\r\n/**\r\n * An action creator of type `T` that takes no payload.\r\n *\r\n * @inheritdoc {redux#ActionCreator}\r\n *\r\n * @public\r\n */\r\nexport interface ActionCreatorWithoutPayload<T extends string = string>\r\n  extends BaseActionCreator<undefined, T> {\r\n  /**\r\n   * Calling this {@link redux#ActionCreator} will\r\n   * return a {@link PayloadAction} of type `T` with a payload of `undefined`\r\n   */\r\n  (): PayloadAction<undefined, T>\r\n}\r\n\r\n/**\r\n * An action creator of type `T` that requires a payload of type P.\r\n *\r\n * @inheritdoc {redux#ActionCreator}\r\n *\r\n * @public\r\n */\r\nexport interface ActionCreatorWithPayload<P, T extends string = string>\r\n  extends BaseActionCreator<P, T> {\r\n  /**\r\n   * Calling this {@link redux#ActionCreator} with an argument will\r\n   * return a {@link PayloadAction} of type `T` with a payload of `P`\r\n   */\r\n  (payload: P): PayloadAction<P, T>\r\n}\r\n\r\n/**\r\n * An action creator of type `T` whose `payload` type could not be inferred. Accepts everything as `payload`.\r\n *\r\n * @inheritdoc {redux#ActionCreator}\r\n *\r\n * @public\r\n */\r\nexport interface ActionCreatorWithNonInferrablePayload<\r\n  T extends string = string\r\n> extends BaseActionCreator<unknown, T> {\r\n  /**\r\n   * Calling this {@link redux#ActionCreator} with an argument will\r\n   * return a {@link PayloadAction} of type `T` with a payload\r\n   * of exactly the type of the argument.\r\n   */\r\n  <PT extends unknown>(payload: PT): PayloadAction<PT, T>\r\n}\r\n\r\n/**\r\n * An action creator that produces actions with a `payload` attribute.\r\n *\r\n * @typeParam P the `payload` type\r\n * @typeParam T the `type` of the resulting action\r\n * @typeParam PA if the resulting action is preprocessed by a `prepare` method, the signature of said method.\r\n *\r\n * @public\r\n */\r\nexport type PayloadActionCreator<\r\n  P = void,\r\n  T extends string = string,\r\n  PA extends PrepareAction<P> | void = void\r\n> = IfPrepareActionMethodProvided<\r\n  PA,\r\n  _ActionCreatorWithPreparedPayload<PA, T>,\r\n  // else\r\n  IsAny<\r\n    P,\r\n    ActionCreatorWithPayload<any, T>,\r\n    IsUnknownOrNonInferrable<\r\n      P,\r\n      ActionCreatorWithNonInferrablePayload<T>,\r\n      // else\r\n      IfVoid<\r\n        P,\r\n        ActionCreatorWithoutPayload<T>,\r\n        // else\r\n        IfMaybeUndefined<\r\n          P,\r\n          ActionCreatorWithOptionalPayload<P, T>,\r\n          // else\r\n          ActionCreatorWithPayload<P, T>\r\n        >\r\n      >\r\n    >\r\n  >\r\n>\r\n\r\n/**\r\n * A utility function to create an action creator for the given action type\r\n * string. The action creator accepts a single argument, which will be included\r\n * in the action object as a field called payload. The action creator function\r\n * will also have its toString() overriden so that it returns the action type,\r\n * allowing it to be used in reducer logic that is looking for that action type.\r\n *\r\n * @param type The action type to use for created actions.\r\n * @param prepare (optional) a method that takes any number of arguments and returns { payload } or { payload, meta }.\r\n *                If this is given, the resulting action creator will pass its arguments to this method to calculate payload & meta.\r\n *\r\n * @public\r\n */\r\nexport function createAction<P = void, T extends string = string>(\r\n  type: T\r\n): PayloadActionCreator<P, T>\r\n\r\n/**\r\n * A utility function to create an action creator for the given action type\r\n * string. The action creator accepts a single argument, which will be included\r\n * in the action object as a field called payload. The action creator function\r\n * will also have its toString() overriden so that it returns the action type,\r\n * allowing it to be used in reducer logic that is looking for that action type.\r\n *\r\n * @param type The action type to use for created actions.\r\n * @param prepare (optional) a method that takes any number of arguments and returns { payload } or { payload, meta }.\r\n *                If this is given, the resulting action creator will pass its arguments to this method to calculate payload & meta.\r\n *\r\n * @public\r\n */\r\nexport function createAction<\r\n  PA extends PrepareAction<any>,\r\n  T extends string = string\r\n>(\r\n  type: T,\r\n  prepareAction: PA\r\n): PayloadActionCreator<ReturnType<PA>['payload'], T, PA>\r\n\r\nexport function createAction(type: string, prepareAction?: Function): any {\r\n  function actionCreator(...args: any[]) {\r\n    if (prepareAction) {\r\n      let prepared = prepareAction(...args)\r\n      if (!prepared) {\r\n        throw new Error('prepareAction did not return an object')\r\n      }\r\n\r\n      return {\r\n        type,\r\n        payload: prepared.payload,\r\n        ...('meta' in prepared && { meta: prepared.meta }),\r\n        ...('error' in prepared && { error: prepared.error }),\r\n      }\r\n    }\r\n    return { type, payload: args[0] }\r\n  }\r\n\r\n  actionCreator.toString = () => `${type}`\r\n\r\n  actionCreator.type = type\r\n\r\n  actionCreator.match = (action: Action<unknown>): action is PayloadAction =>\r\n    action.type === type\r\n\r\n  return actionCreator\r\n}\r\n\r\nexport function isFSA(action: unknown): action is {\r\n  type: string\r\n  payload?: unknown\r\n  error?: unknown\r\n  meta?: unknown\r\n} {\r\n  return (\r\n    isPlainObject(action) &&\r\n    typeof (action as any).type === 'string' &&\r\n    Object.keys(action).every(isValidKey)\r\n  )\r\n}\r\n\r\nfunction isValidKey(key: string) {\r\n  return ['type', 'payload', 'error', 'meta'].indexOf(key) > -1\r\n}\r\n\r\n/**\r\n * Returns the action type of the actions created by the passed\r\n * `createAction()`-generated action creator (arbitrary action creators\r\n * are not supported).\r\n *\r\n * @param action The action creator whose action type to get.\r\n * @returns The action type used by the action creator.\r\n *\r\n * @public\r\n */\r\nexport function getType<T extends string>(\r\n  actionCreator: PayloadActionCreator<any, T>\r\n): T {\r\n  return `${actionCreator}` as T\r\n}\r\n\r\n// helper types for more readable typings\r\n\r\ntype IfPrepareActionMethodProvided<\r\n  PA extends PrepareAction<any> | void,\r\n  True,\r\n  False\r\n> = PA extends (...args: any[]) => any ? True : False\r\n","import { enableES5 } from 'immer'\r\nexport * from 'redux'\r\nexport {\r\n  default as createNextState,\r\n  current,\r\n  freeze,\r\n  original,\r\n  isDraft,\r\n} from 'immer'\r\nexport type { Draft } from 'immer'\r\nexport { createSelector } from 'reselect'\r\nexport type {\r\n  Selector,\r\n  OutputParametricSelector,\r\n  OutputSelector,\r\n  ParametricSelector,\r\n} from 'reselect'\r\nexport { createDraftSafeSelector } from './createDraftSafeSelector'\r\nexport type { ThunkAction, ThunkDispatch } from 'redux-thunk'\r\n\r\n// We deliberately enable Immer's ES5 support, on the grounds that\r\n// we assume RTK will be used with React Native and other Proxy-less\r\n// environments.  In addition, that's how Immer 4 behaved, and since\r\n// we want to ship this in an RTK minor, we should keep the same behavior.\r\nenableES5()\r\n\r\nexport {\r\n  // js\r\n  configureStore,\r\n} from './configureStore'\r\nexport type {\r\n  // types\r\n  ConfigureEnhancersCallback,\r\n  ConfigureStoreOptions,\r\n  EnhancedStore,\r\n} from './configureStore'\r\nexport {\r\n  // js\r\n  createAction,\r\n  getType,\r\n} from './createAction'\r\nexport type {\r\n  // types\r\n  PayloadAction,\r\n  PayloadActionCreator,\r\n  ActionCreatorWithNonInferrablePayload,\r\n  ActionCreatorWithOptionalPayload,\r\n  ActionCreatorWithPayload,\r\n  ActionCreatorWithoutPayload,\r\n  ActionCreatorWithPreparedPayload,\r\n  PrepareAction,\r\n} from './createAction'\r\nexport {\r\n  // js\r\n  createReducer,\r\n} from './createReducer'\r\nexport type {\r\n  // types\r\n  Actions,\r\n  CaseReducer,\r\n  CaseReducers,\r\n} from './createReducer'\r\nexport {\r\n  // js\r\n  createSlice,\r\n} from './createSlice'\r\n\r\nexport type {\r\n  // types\r\n  CreateSliceOptions,\r\n  Slice,\r\n  CaseReducerActions,\r\n  SliceCaseReducers,\r\n  ValidateSliceCaseReducers,\r\n  CaseReducerWithPrepare,\r\n  SliceActionCreator,\r\n} from './createSlice'\r\nexport {\r\n  // js\r\n  createImmutableStateInvariantMiddleware,\r\n  isImmutableDefault,\r\n} from './immutableStateInvariantMiddleware'\r\nexport type {\r\n  // types\r\n  ImmutableStateInvariantMiddlewareOptions,\r\n} from './immutableStateInvariantMiddleware'\r\nexport {\r\n  // js\r\n  createSerializableStateInvariantMiddleware,\r\n  findNonSerializableValue,\r\n  isPlain,\r\n} from './serializableStateInvariantMiddleware'\r\nexport type {\r\n  // types\r\n  SerializableStateInvariantMiddlewareOptions,\r\n} from './serializableStateInvariantMiddleware'\r\nexport {\r\n  // js\r\n  getDefaultMiddleware,\r\n} from './getDefaultMiddleware'\r\nexport type {\r\n  // types\r\n  ActionReducerMapBuilder,\r\n} from './mapBuilders'\r\nexport { MiddlewareArray } from './utils'\r\n\r\nexport { createEntityAdapter } from './entities/create_adapter'\r\nexport type {\r\n  Dictionary,\r\n  EntityState,\r\n  EntityAdapter,\r\n  EntitySelectors,\r\n  EntityStateAdapter,\r\n  EntityId,\r\n  Update,\r\n  IdSelector,\r\n  Comparer,\r\n} from './entities/models'\r\n\r\nexport {\r\n  createAsyncThunk,\r\n  unwrapResult,\r\n  miniSerializeError,\r\n} from './createAsyncThunk'\r\nexport type {\r\n  AsyncThunk,\r\n  AsyncThunkOptions,\r\n  AsyncThunkAction,\r\n  AsyncThunkPayloadCreatorReturnValue,\r\n  AsyncThunkPayloadCreator,\r\n  SerializedError,\r\n} from './createAsyncThunk'\r\n\r\nexport {\r\n  // js\r\n  isAllOf,\r\n  isAnyOf,\r\n  isPending,\r\n  isRejected,\r\n  isFulfilled,\r\n  isAsyncThunkAction,\r\n  isRejectedWithValue,\r\n} from './matchers'\r\nexport type {\r\n  // types\r\n  ActionMatchingAllOf,\r\n  ActionMatchingAnyOf,\r\n} from './matchers'\r\n\r\nexport { nanoid } from './nanoid'\r\n\r\nexport { default as isPlainObject } from './isPlainObject'\r\n","import getHiResTimestamp from '../utils/hi-res-timestamp';\n\nexport default class Stat {\n  readonly name: string;\n  readonly type: string;\n  sampleSize: number = 1;\n  time: number;\n  count: number;\n  samples: number;\n  lastTiming: number;\n  lastSampleTime: number;\n  lastSampleCount: number;\n\n  _count: number = 0;\n  _time: number = 0;\n  _samples: number = 0;\n  _startTime: number = 0;\n  _timerPending: boolean = false;\n\n  constructor(name: string, type?: string) {\n    this.name = name;\n    this.type = type;\n    this.reset();\n  }\n\n  setSampleSize(samples: number): this {\n    this.sampleSize = samples;\n    return this;\n  }\n\n  /** Call to increment count (+1) */\n  incrementCount(): this {\n    this.addCount(1);\n\n    return this;\n  }\n\n  /** Call to decrement count (-1) */\n  decrementCount(): this {\n    this.subtractCount(1);\n\n    return this;\n  }\n\n  /** Increase count */\n  addCount(value: number): this {\n    this._count += value;\n    this._samples++;\n    this._checkSampling();\n\n    return this;\n  }\n\n  /** Decrease count */\n  subtractCount(value: number): this {\n    this._count -= value;\n    this._samples++;\n    this._checkSampling();\n\n    return this;\n  }\n\n  /** Add an arbitrary timing and bump the count */\n  addTime(time: number): this {\n    this._time += time;\n    this.lastTiming = time;\n    this._samples++;\n    this._checkSampling();\n\n    return this;\n  }\n\n  /** Start a timer */\n  timeStart(): this {\n    this._startTime = getHiResTimestamp();\n    this._timerPending = true;\n\n    return this;\n  }\n\n  /** End a timer. Adds to time and bumps the timing count. */\n  timeEnd(): this {\n    if (!this._timerPending) {\n      return this;\n    }\n    this.addTime(getHiResTimestamp() - this._startTime);\n    this._timerPending = false;\n    this._checkSampling();\n\n    return this;\n  }\n\n  getSampleAverageCount(): number {\n    return this.sampleSize > 0 ? this.lastSampleCount / this.sampleSize : 0;\n  }\n\n  /** Calculate average time / count for the previous window */\n  getSampleAverageTime(): number {\n    return this.sampleSize > 0 ? this.lastSampleTime / this.sampleSize : 0;\n  }\n\n  /** Calculate counts per second for the previous window */\n  getSampleHz(): number {\n    return this.lastSampleTime > 0 ? this.sampleSize / (this.lastSampleTime / 1000) : 0;\n  }\n\n  getAverageCount(): number {\n    return this.samples > 0 ? this.count / this.samples : 0;\n  }\n\n  /** Calculate average time / count */\n  getAverageTime(): number {\n    return this.samples > 0 ? this.time / this.samples : 0;\n  }\n\n  /** Calculate counts per second */\n  getHz(): number {\n    return this.time > 0 ? this.samples / (this.time / 1000) : 0;\n  }\n\n  reset(): this {\n    this.time = 0;\n    this.count = 0;\n    this.samples = 0;\n    this.lastTiming = 0;\n    this.lastSampleTime = 0;\n    this.lastSampleCount = 0;\n    this._count = 0;\n    this._time = 0;\n    this._samples = 0;\n    this._startTime = 0;\n    this._timerPending = false;\n\n    return this;\n  }\n\n  _checkSampling(): void {\n    if (this._samples === this.sampleSize) {\n      this.lastSampleTime = this._time;\n      this.lastSampleCount = this._count;\n      this.count += this._count;\n      this.time += this._time;\n      this.samples += this._samples;\n      this._time = 0;\n      this._count = 0;\n      this._samples = 0;\n    }\n  }\n}\n","import Stat from './stat';\n\n/** A \"bag\" of `Stat` objects, can be visualized using `StatsWidget` */\nexport default class Stats {\n  readonly id: string;\n  readonly stats: Record<string, Stat> = {};\n\n  constructor(options: {id: string; stats?: Stats | Stat[] | {name: string; type?: string}[]}) {\n    this.id = options.id;\n    this.stats = {};\n\n    this._initializeStats(options.stats);\n\n    Object.seal(this);\n  }\n\n  /** Acquire a stat. Create if it doesn't exist. */\n  get(name: string, type: string = 'count'): Stat {\n    return this._getOrCreate({name, type});\n  }\n\n  get size(): number {\n    return Object.keys(this.stats).length;\n  }\n\n  /** Reset all stats */\n  reset(): this {\n    for (const key in this.stats) {\n      this.stats[key].reset();\n    }\n\n    return this;\n  }\n\n  forEach(fn: (stat: Stat) => void): void {\n    for (const key in this.stats) {\n      fn(this.stats[key]);\n    }\n  }\n\n  getTable(): Record<\n    string,\n    {\n      time: number;\n      count: number;\n      average: number;\n      hz: number;\n    }\n    > {\n    const table = {};\n    this.forEach(stat => {\n      table[stat.name] = {\n        time: stat.time || 0,\n        count: stat.count || 0,\n        average: stat.getAverageTime() || 0,\n        hz: stat.getHz() || 0\n      };\n    });\n\n    return table;\n  }\n\n  _initializeStats(stats: Stats | Stat[] | {name: string; type?: string}[] = []): void {\n    stats.forEach(stat => this._getOrCreate(stat));\n  }\n\n  _getOrCreate(stat): Stat {\n    if (!stat || !stat.name) {\n      return null;\n    }\n\n    const {name, type} = stat;\n    if (!this.stats[name]) {\n      if (stat instanceof Stat) {\n        this.stats[name] = stat;\n      } else {\n        this.stats[name] = new Stat(name, type);\n      }\n    }\n    return this.stats[name];\n  }\n}\n","// automatically generated by the FlatBuffers compiler, do not modify\n/**\n * Logical types, vector layouts, and schemas\n * Format Version History.\n * Version 1.0 - Forward and backwards compatibility guaranteed.\n * Version 1.1 - Add Decimal256.\n * Version 1.2 - Add Interval MONTH_DAY_NANO.\n * Version 1.3 - Add Run-End Encoded.\n */\nexport var MetadataVersion;\n(function (MetadataVersion) {\n    /**\n     * 0.1.0 (October 2016).\n     */\n    MetadataVersion[MetadataVersion[\"V1\"] = 0] = \"V1\";\n    /**\n     * 0.2.0 (February 2017). Non-backwards compatible with V1.\n     */\n    MetadataVersion[MetadataVersion[\"V2\"] = 1] = \"V2\";\n    /**\n     * 0.3.0 -> 0.7.1 (May - December 2017). Non-backwards compatible with V2.\n     */\n    MetadataVersion[MetadataVersion[\"V3\"] = 2] = \"V3\";\n    /**\n     * >= 0.8.0 (December 2017). Non-backwards compatible with V3.\n     */\n    MetadataVersion[MetadataVersion[\"V4\"] = 3] = \"V4\";\n    /**\n     * >= 1.0.0 (July 2020. Backwards compatible with V4 (V5 readers can read V4\n     * metadata and IPC messages). Implementations are recommended to provide a\n     * V4 compatibility mode with V5 format changes disabled.\n     *\n     * Incompatible changes between V4 and V5:\n     * - Union buffer layout has changed. In V5, Unions don't have a validity\n     *   bitmap buffer.\n     */\n    MetadataVersion[MetadataVersion[\"V5\"] = 4] = \"V5\";\n})(MetadataVersion || (MetadataVersion = {}));\n\n//# sourceMappingURL=metadata-version.mjs.map\n","// automatically generated by the FlatBuffers compiler, do not modify\n/**\n * ----------------------------------------------------------------------\n * Endianness of the platform producing the data\n */\nexport var Endianness;\n(function (Endianness) {\n    Endianness[Endianness[\"Little\"] = 0] = \"Little\";\n    Endianness[Endianness[\"Big\"] = 1] = \"Big\";\n})(Endianness || (Endianness = {}));\n\n//# sourceMappingURL=endianness.mjs.map\n","// automatically generated by the FlatBuffers compiler, do not modify\nimport * as flatbuffers from 'flatbuffers';\n/**\n * These are stored in the flatbuffer in the Type union below\n */\nexport class Null {\n    constructor() {\n        this.bb = null;\n        this.bb_pos = 0;\n    }\n    __init(i, bb) {\n        this.bb_pos = i;\n        this.bb = bb;\n        return this;\n    }\n    static getRootAsNull(bb, obj) {\n        return (obj || new Null()).__init(bb.readInt32(bb.position()) + bb.position(), bb);\n    }\n    static getSizePrefixedRootAsNull(bb, obj) {\n        bb.setPosition(bb.position() + flatbuffers.SIZE_PREFIX_LENGTH);\n        return (obj || new Null()).__init(bb.readInt32(bb.position()) + bb.position(), bb);\n    }\n    static startNull(builder) {\n        builder.startObject(0);\n    }\n    static endNull(builder) {\n        const offset = builder.endObject();\n        return offset;\n    }\n    static createNull(builder) {\n        Null.startNull(builder);\n        return Null.endNull(builder);\n    }\n}\n\n//# sourceMappingURL=null.mjs.map\n","// automatically generated by the FlatBuffers compiler, do not modify\nimport * as flatbuffers from 'flatbuffers';\n/**\n * Opaque binary data\n */\nexport class Binary {\n    constructor() {\n        this.bb = null;\n        this.bb_pos = 0;\n    }\n    __init(i, bb) {\n        this.bb_pos = i;\n        this.bb = bb;\n        return this;\n    }\n    static getRootAsBinary(bb, obj) {\n        return (obj || new Binary()).__init(bb.readInt32(bb.position()) + bb.position(), bb);\n    }\n    static getSizePrefixedRootAsBinary(bb, obj) {\n        bb.setPosition(bb.position() + flatbuffers.SIZE_PREFIX_LENGTH);\n        return (obj || new Binary()).__init(bb.readInt32(bb.position()) + bb.position(), bb);\n    }\n    static startBinary(builder) {\n        builder.startObject(0);\n    }\n    static endBinary(builder) {\n        const offset = builder.endObject();\n        return offset;\n    }\n    static createBinary(builder) {\n        Binary.startBinary(builder);\n        return Binary.endBinary(builder);\n    }\n}\n\n//# sourceMappingURL=binary.mjs.map\n","// automatically generated by the FlatBuffers compiler, do not modify\nimport * as flatbuffers from 'flatbuffers';\n/**\n * Unicode with UTF-8 encoding\n */\nexport class Utf8 {\n    constructor() {\n        this.bb = null;\n        this.bb_pos = 0;\n    }\n    __init(i, bb) {\n        this.bb_pos = i;\n        this.bb = bb;\n        return this;\n    }\n    static getRootAsUtf8(bb, obj) {\n        return (obj || new Utf8()).__init(bb.readInt32(bb.position()) + bb.position(), bb);\n    }\n    static getSizePrefixedRootAsUtf8(bb, obj) {\n        bb.setPosition(bb.position() + flatbuffers.SIZE_PREFIX_LENGTH);\n        return (obj || new Utf8()).__init(bb.readInt32(bb.position()) + bb.position(), bb);\n    }\n    static startUtf8(builder) {\n        builder.startObject(0);\n    }\n    static endUtf8(builder) {\n        const offset = builder.endObject();\n        return offset;\n    }\n    static createUtf8(builder) {\n        Utf8.startUtf8(builder);\n        return Utf8.endUtf8(builder);\n    }\n}\n\n//# sourceMappingURL=utf8.mjs.map\n","// automatically generated by the FlatBuffers compiler, do not modify\nimport * as flatbuffers from 'flatbuffers';\nexport class Bool {\n    constructor() {\n        this.bb = null;\n        this.bb_pos = 0;\n    }\n    __init(i, bb) {\n        this.bb_pos = i;\n        this.bb = bb;\n        return this;\n    }\n    static getRootAsBool(bb, obj) {\n        return (obj || new Bool()).__init(bb.readInt32(bb.position()) + bb.position(), bb);\n    }\n    static getSizePrefixedRootAsBool(bb, obj) {\n        bb.setPosition(bb.position() + flatbuffers.SIZE_PREFIX_LENGTH);\n        return (obj || new Bool()).__init(bb.readInt32(bb.position()) + bb.position(), bb);\n    }\n    static startBool(builder) {\n        builder.startObject(0);\n    }\n    static endBool(builder) {\n        const offset = builder.endObject();\n        return offset;\n    }\n    static createBool(builder) {\n        Bool.startBool(builder);\n        return Bool.endBool(builder);\n    }\n}\n\n//# sourceMappingURL=bool.mjs.map\n","// automatically generated by the FlatBuffers compiler, do not modify\nimport * as flatbuffers from 'flatbuffers';\nexport class List {\n    constructor() {\n        this.bb = null;\n        this.bb_pos = 0;\n    }\n    __init(i, bb) {\n        this.bb_pos = i;\n        this.bb = bb;\n        return this;\n    }\n    static getRootAsList(bb, obj) {\n        return (obj || new List()).__init(bb.readInt32(bb.position()) + bb.position(), bb);\n    }\n    static getSizePrefixedRootAsList(bb, obj) {\n        bb.setPosition(bb.position() + flatbuffers.SIZE_PREFIX_LENGTH);\n        return (obj || new List()).__init(bb.readInt32(bb.position()) + bb.position(), bb);\n    }\n    static startList(builder) {\n        builder.startObject(0);\n    }\n    static endList(builder) {\n        const offset = builder.endObject();\n        return offset;\n    }\n    static createList(builder) {\n        List.startList(builder);\n        return List.endList(builder);\n    }\n}\n\n//# sourceMappingURL=list.mjs.map\n","// automatically generated by the FlatBuffers compiler, do not modify\nimport * as flatbuffers from 'flatbuffers';\n/**\n * A Struct_ in the flatbuffer metadata is the same as an Arrow Struct\n * (according to the physical memory layout). We used Struct_ here as\n * Struct is a reserved word in Flatbuffers\n */\nexport class Struct_ {\n    constructor() {\n        this.bb = null;\n        this.bb_pos = 0;\n    }\n    __init(i, bb) {\n        this.bb_pos = i;\n        this.bb = bb;\n        return this;\n    }\n    static getRootAsStruct_(bb, obj) {\n        return (obj || new Struct_()).__init(bb.readInt32(bb.position()) + bb.position(), bb);\n    }\n    static getSizePrefixedRootAsStruct_(bb, obj) {\n        bb.setPosition(bb.position() + flatbuffers.SIZE_PREFIX_LENGTH);\n        return (obj || new Struct_()).__init(bb.readInt32(bb.position()) + bb.position(), bb);\n    }\n    static startStruct_(builder) {\n        builder.startObject(0);\n    }\n    static endStruct_(builder) {\n        const offset = builder.endObject();\n        return offset;\n    }\n    static createStruct_(builder) {\n        Struct_.startStruct_(builder);\n        return Struct_.endStruct_(builder);\n    }\n}\n\n//# sourceMappingURL=struct-.mjs.map\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nimport { Vector } from './vector.mjs';\nimport { BufferType, Type } from './enum.mjs';\nimport { DataType, strideForType } from './type.mjs';\nimport { popcnt_bit_range, truncateBitmap } from './util/bit.mjs';\n/** @ignore */ export const kUnknownNullCount = -1;\n/**\n * Data structure underlying {@link Vector}s. Use the convenience method {@link makeData}.\n */\nexport class Data {\n    get typeId() { return this.type.typeId; }\n    get ArrayType() { return this.type.ArrayType; }\n    get buffers() {\n        return [this.valueOffsets, this.values, this.nullBitmap, this.typeIds];\n    }\n    get byteLength() {\n        let byteLength = 0;\n        const { valueOffsets, values, nullBitmap, typeIds } = this;\n        valueOffsets && (byteLength += valueOffsets.byteLength);\n        values && (byteLength += values.byteLength);\n        nullBitmap && (byteLength += nullBitmap.byteLength);\n        typeIds && (byteLength += typeIds.byteLength);\n        return this.children.reduce((byteLength, child) => byteLength + child.byteLength, byteLength);\n    }\n    get nullCount() {\n        let nullCount = this._nullCount;\n        let nullBitmap;\n        if (nullCount <= kUnknownNullCount && (nullBitmap = this.nullBitmap)) {\n            this._nullCount = nullCount = this.length - popcnt_bit_range(nullBitmap, this.offset, this.offset + this.length);\n        }\n        return nullCount;\n    }\n    constructor(type, offset, length, nullCount, buffers, children = [], dictionary) {\n        this.type = type;\n        this.children = children;\n        this.dictionary = dictionary;\n        this.offset = Math.floor(Math.max(offset || 0, 0));\n        this.length = Math.floor(Math.max(length || 0, 0));\n        this._nullCount = Math.floor(Math.max(nullCount || 0, -1));\n        let buffer;\n        if (buffers instanceof Data) {\n            this.stride = buffers.stride;\n            this.values = buffers.values;\n            this.typeIds = buffers.typeIds;\n            this.nullBitmap = buffers.nullBitmap;\n            this.valueOffsets = buffers.valueOffsets;\n        }\n        else {\n            this.stride = strideForType(type);\n            if (buffers) {\n                (buffer = buffers[0]) && (this.valueOffsets = buffer);\n                (buffer = buffers[1]) && (this.values = buffer);\n                (buffer = buffers[2]) && (this.nullBitmap = buffer);\n                (buffer = buffers[3]) && (this.typeIds = buffer);\n            }\n        }\n        this.nullable = this._nullCount !== 0 && this.nullBitmap && this.nullBitmap.byteLength > 0;\n    }\n    getValid(index) {\n        if (this.nullable && this.nullCount > 0) {\n            const pos = this.offset + index;\n            const val = this.nullBitmap[pos >> 3];\n            return (val & (1 << (pos % 8))) !== 0;\n        }\n        return true;\n    }\n    setValid(index, value) {\n        // Don't interact w/ nullBitmap if not nullable\n        if (!this.nullable) {\n            return value;\n        }\n        // If no null bitmap, initialize one on the fly\n        if (!this.nullBitmap || this.nullBitmap.byteLength <= (index >> 3)) {\n            const { nullBitmap } = this._changeLengthAndBackfillNullBitmap(this.length);\n            Object.assign(this, { nullBitmap, _nullCount: 0 });\n        }\n        const { nullBitmap, offset } = this;\n        const pos = (offset + index) >> 3;\n        const bit = (offset + index) % 8;\n        const val = (nullBitmap[pos] >> bit) & 1;\n        // If `val` is truthy and the current bit is 0, flip it to 1 and increment `_nullCount`.\n        // If `val` is falsey and the current bit is 1, flip it to 0 and decrement `_nullCount`.\n        value ? val === 0 && ((nullBitmap[pos] |= (1 << bit)), (this._nullCount = this.nullCount + 1))\n            : val === 1 && ((nullBitmap[pos] &= ~(1 << bit)), (this._nullCount = this.nullCount - 1));\n        return value;\n    }\n    clone(type = this.type, offset = this.offset, length = this.length, nullCount = this._nullCount, buffers = this, children = this.children) {\n        return new Data(type, offset, length, nullCount, buffers, children, this.dictionary);\n    }\n    slice(offset, length) {\n        const { stride, typeId, children } = this;\n        // +true === 1, +false === 0, so this means\n        // we keep nullCount at 0 if it's already 0,\n        // otherwise set to the invalidated flag -1\n        const nullCount = +(this._nullCount === 0) - 1;\n        const childStride = typeId === 16 /* FixedSizeList */ ? stride : 1;\n        const buffers = this._sliceBuffers(offset, length, stride, typeId);\n        return this.clone(this.type, this.offset + offset, length, nullCount, buffers, \n        // Don't slice children if we have value offsets (the variable-width types)\n        (children.length === 0 || this.valueOffsets) ? children : this._sliceChildren(children, childStride * offset, childStride * length));\n    }\n    _changeLengthAndBackfillNullBitmap(newLength) {\n        if (this.typeId === Type.Null) {\n            return this.clone(this.type, 0, newLength, 0);\n        }\n        const { length, nullCount } = this;\n        // start initialized with 0s (nulls), then fill from 0 to length with 1s (not null)\n        const bitmap = new Uint8Array(((newLength + 63) & ~63) >> 3).fill(255, 0, length >> 3);\n        // set all the bits in the last byte (up to bit `length - length % 8`) to 1 (not null)\n        bitmap[length >> 3] = (1 << (length - (length & ~7))) - 1;\n        // if we have a nullBitmap, truncate + slice and set it over the pre-filled 1s\n        if (nullCount > 0) {\n            bitmap.set(truncateBitmap(this.offset, length, this.nullBitmap), 0);\n        }\n        const buffers = this.buffers;\n        buffers[BufferType.VALIDITY] = bitmap;\n        return this.clone(this.type, 0, newLength, nullCount + (newLength - length), buffers);\n    }\n    _sliceBuffers(offset, length, stride, typeId) {\n        let arr;\n        const { buffers } = this;\n        // If typeIds exist, slice the typeIds buffer\n        (arr = buffers[BufferType.TYPE]) && (buffers[BufferType.TYPE] = arr.subarray(offset, offset + length));\n        // If offsets exist, only slice the offsets buffer\n        (arr = buffers[BufferType.OFFSET]) && (buffers[BufferType.OFFSET] = arr.subarray(offset, offset + length + 1)) ||\n            // Otherwise if no offsets, slice the data buffer. Don't slice the data vector for Booleans, since the offset goes by bits not bytes\n            (arr = buffers[BufferType.DATA]) && (buffers[BufferType.DATA] = typeId === 6 ? arr : arr.subarray(stride * offset, stride * (offset + length)));\n        return buffers;\n    }\n    _sliceChildren(children, offset, length) {\n        return children.map((child) => child.slice(offset, length));\n    }\n}\nData.prototype.children = Object.freeze([]);\nimport { Visitor } from './visitor.mjs';\nimport { toArrayBufferView, toInt32Array, toUint8Array } from './util/buffer.mjs';\nclass MakeDataVisitor extends Visitor {\n    visit(props) {\n        return this.getVisitFn(props['type']).call(this, props);\n    }\n    visitNull(props) {\n        const { ['type']: type, ['offset']: offset = 0, ['length']: length = 0, } = props;\n        return new Data(type, offset, length, 0);\n    }\n    visitBool(props) {\n        const { ['type']: type, ['offset']: offset = 0 } = props;\n        const nullBitmap = toUint8Array(props['nullBitmap']);\n        const data = toArrayBufferView(type.ArrayType, props['data']);\n        const { ['length']: length = data.length >> 3, ['nullCount']: nullCount = props['nullBitmap'] ? -1 : 0, } = props;\n        return new Data(type, offset, length, nullCount, [undefined, data, nullBitmap]);\n    }\n    visitInt(props) {\n        const { ['type']: type, ['offset']: offset = 0 } = props;\n        const nullBitmap = toUint8Array(props['nullBitmap']);\n        const data = toArrayBufferView(type.ArrayType, props['data']);\n        const { ['length']: length = data.length, ['nullCount']: nullCount = props['nullBitmap'] ? -1 : 0, } = props;\n        return new Data(type, offset, length, nullCount, [undefined, data, nullBitmap]);\n    }\n    visitFloat(props) {\n        const { ['type']: type, ['offset']: offset = 0 } = props;\n        const nullBitmap = toUint8Array(props['nullBitmap']);\n        const data = toArrayBufferView(type.ArrayType, props['data']);\n        const { ['length']: length = data.length, ['nullCount']: nullCount = props['nullBitmap'] ? -1 : 0, } = props;\n        return new Data(type, offset, length, nullCount, [undefined, data, nullBitmap]);\n    }\n    visitUtf8(props) {\n        const { ['type']: type, ['offset']: offset = 0 } = props;\n        const data = toUint8Array(props['data']);\n        const nullBitmap = toUint8Array(props['nullBitmap']);\n        const valueOffsets = toInt32Array(props['valueOffsets']);\n        const { ['length']: length = valueOffsets.length - 1, ['nullCount']: nullCount = props['nullBitmap'] ? -1 : 0 } = props;\n        return new Data(type, offset, length, nullCount, [valueOffsets, data, nullBitmap]);\n    }\n    visitBinary(props) {\n        const { ['type']: type, ['offset']: offset = 0 } = props;\n        const data = toUint8Array(props['data']);\n        const nullBitmap = toUint8Array(props['nullBitmap']);\n        const valueOffsets = toInt32Array(props['valueOffsets']);\n        const { ['length']: length = valueOffsets.length - 1, ['nullCount']: nullCount = props['nullBitmap'] ? -1 : 0 } = props;\n        return new Data(type, offset, length, nullCount, [valueOffsets, data, nullBitmap]);\n    }\n    visitFixedSizeBinary(props) {\n        const { ['type']: type, ['offset']: offset = 0 } = props;\n        const nullBitmap = toUint8Array(props['nullBitmap']);\n        const data = toArrayBufferView(type.ArrayType, props['data']);\n        const { ['length']: length = data.length / strideForType(type), ['nullCount']: nullCount = props['nullBitmap'] ? -1 : 0, } = props;\n        return new Data(type, offset, length, nullCount, [undefined, data, nullBitmap]);\n    }\n    visitDate(props) {\n        const { ['type']: type, ['offset']: offset = 0 } = props;\n        const nullBitmap = toUint8Array(props['nullBitmap']);\n        const data = toArrayBufferView(type.ArrayType, props['data']);\n        const { ['length']: length = data.length / strideForType(type), ['nullCount']: nullCount = props['nullBitmap'] ? -1 : 0, } = props;\n        return new Data(type, offset, length, nullCount, [undefined, data, nullBitmap]);\n    }\n    visitTimestamp(props) {\n        const { ['type']: type, ['offset']: offset = 0 } = props;\n        const nullBitmap = toUint8Array(props['nullBitmap']);\n        const data = toArrayBufferView(type.ArrayType, props['data']);\n        const { ['length']: length = data.length / strideForType(type), ['nullCount']: nullCount = props['nullBitmap'] ? -1 : 0, } = props;\n        return new Data(type, offset, length, nullCount, [undefined, data, nullBitmap]);\n    }\n    visitTime(props) {\n        const { ['type']: type, ['offset']: offset = 0 } = props;\n        const nullBitmap = toUint8Array(props['nullBitmap']);\n        const data = toArrayBufferView(type.ArrayType, props['data']);\n        const { ['length']: length = data.length / strideForType(type), ['nullCount']: nullCount = props['nullBitmap'] ? -1 : 0, } = props;\n        return new Data(type, offset, length, nullCount, [undefined, data, nullBitmap]);\n    }\n    visitDecimal(props) {\n        const { ['type']: type, ['offset']: offset = 0 } = props;\n        const nullBitmap = toUint8Array(props['nullBitmap']);\n        const data = toArrayBufferView(type.ArrayType, props['data']);\n        const { ['length']: length = data.length / strideForType(type), ['nullCount']: nullCount = props['nullBitmap'] ? -1 : 0, } = props;\n        return new Data(type, offset, length, nullCount, [undefined, data, nullBitmap]);\n    }\n    visitList(props) {\n        const { ['type']: type, ['offset']: offset = 0, ['child']: child } = props;\n        const nullBitmap = toUint8Array(props['nullBitmap']);\n        const valueOffsets = toInt32Array(props['valueOffsets']);\n        const { ['length']: length = valueOffsets.length - 1, ['nullCount']: nullCount = props['nullBitmap'] ? -1 : 0 } = props;\n        return new Data(type, offset, length, nullCount, [valueOffsets, undefined, nullBitmap], [child]);\n    }\n    visitStruct(props) {\n        const { ['type']: type, ['offset']: offset = 0, ['children']: children = [] } = props;\n        const nullBitmap = toUint8Array(props['nullBitmap']);\n        const { length = children.reduce((len, { length }) => Math.max(len, length), 0), nullCount = props['nullBitmap'] ? -1 : 0 } = props;\n        return new Data(type, offset, length, nullCount, [undefined, undefined, nullBitmap], children);\n    }\n    visitUnion(props) {\n        const { ['type']: type, ['offset']: offset = 0, ['children']: children = [] } = props;\n        const nullBitmap = toUint8Array(props['nullBitmap']);\n        const typeIds = toArrayBufferView(type.ArrayType, props['typeIds']);\n        const { ['length']: length = typeIds.length, ['nullCount']: nullCount = props['nullBitmap'] ? -1 : 0, } = props;\n        if (DataType.isSparseUnion(type)) {\n            return new Data(type, offset, length, nullCount, [undefined, undefined, nullBitmap, typeIds], children);\n        }\n        const valueOffsets = toInt32Array(props['valueOffsets']);\n        return new Data(type, offset, length, nullCount, [valueOffsets, undefined, nullBitmap, typeIds], children);\n    }\n    visitDictionary(props) {\n        const { ['type']: type, ['offset']: offset = 0 } = props;\n        const nullBitmap = toUint8Array(props['nullBitmap']);\n        const data = toArrayBufferView(type.indices.ArrayType, props['data']);\n        const { ['dictionary']: dictionary = new Vector([new MakeDataVisitor().visit({ type: type.dictionary })]) } = props;\n        const { ['length']: length = data.length, ['nullCount']: nullCount = props['nullBitmap'] ? -1 : 0 } = props;\n        return new Data(type, offset, length, nullCount, [undefined, data, nullBitmap], [], dictionary);\n    }\n    visitInterval(props) {\n        const { ['type']: type, ['offset']: offset = 0 } = props;\n        const nullBitmap = toUint8Array(props['nullBitmap']);\n        const data = toArrayBufferView(type.ArrayType, props['data']);\n        const { ['length']: length = data.length / strideForType(type), ['nullCount']: nullCount = props['nullBitmap'] ? -1 : 0, } = props;\n        return new Data(type, offset, length, nullCount, [undefined, data, nullBitmap]);\n    }\n    visitFixedSizeList(props) {\n        const { ['type']: type, ['offset']: offset = 0, ['child']: child = new MakeDataVisitor().visit({ type: type.valueType }) } = props;\n        const nullBitmap = toUint8Array(props['nullBitmap']);\n        const { ['length']: length = child.length / strideForType(type), ['nullCount']: nullCount = props['nullBitmap'] ? -1 : 0 } = props;\n        return new Data(type, offset, length, nullCount, [undefined, undefined, nullBitmap], [child]);\n    }\n    visitMap(props) {\n        const { ['type']: type, ['offset']: offset = 0, ['child']: child = new MakeDataVisitor().visit({ type: type.childType }) } = props;\n        const nullBitmap = toUint8Array(props['nullBitmap']);\n        const valueOffsets = toInt32Array(props['valueOffsets']);\n        const { ['length']: length = valueOffsets.length - 1, ['nullCount']: nullCount = props['nullBitmap'] ? -1 : 0, } = props;\n        return new Data(type, offset, length, nullCount, [valueOffsets, undefined, nullBitmap], [child]);\n    }\n}\nexport function makeData(props) {\n    return new MakeDataVisitor().visit(props);\n}\n\n//# sourceMappingURL=data.mjs.map\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nimport { DataType } from './type.mjs';\nexport class Schema {\n    constructor(fields = [], metadata, dictionaries) {\n        this.fields = (fields || []);\n        this.metadata = metadata || new Map();\n        if (!dictionaries) {\n            dictionaries = generateDictionaryMap(fields);\n        }\n        this.dictionaries = dictionaries;\n    }\n    get [Symbol.toStringTag]() { return 'Schema'; }\n    get names() { return this.fields.map((f) => f.name); }\n    toString() {\n        return `Schema<{ ${this.fields.map((f, i) => `${i}: ${f}`).join(', ')} }>`;\n    }\n    /**\n     * Construct a new Schema containing only specified fields.\n     *\n     * @param fieldNames Names of fields to keep.\n     * @returns A new Schema of fields matching the specified names.\n     */\n    select(fieldNames) {\n        const names = new Set(fieldNames);\n        const fields = this.fields.filter((f) => names.has(f.name));\n        return new Schema(fields, this.metadata);\n    }\n    /**\n     * Construct a new Schema containing only fields at the specified indices.\n     *\n     * @param fieldIndices Indices of fields to keep.\n     * @returns A new Schema of fields at the specified indices.\n     */\n    selectAt(fieldIndices) {\n        const fields = fieldIndices.map((i) => this.fields[i]).filter(Boolean);\n        return new Schema(fields, this.metadata);\n    }\n    assign(...args) {\n        const other = (args[0] instanceof Schema\n            ? args[0]\n            : Array.isArray(args[0])\n                ? new Schema(args[0])\n                : new Schema(args));\n        const curFields = [...this.fields];\n        const metadata = mergeMaps(mergeMaps(new Map(), this.metadata), other.metadata);\n        const newFields = other.fields.filter((f2) => {\n            const i = curFields.findIndex((f) => f.name === f2.name);\n            return ~i ? (curFields[i] = f2.clone({\n                metadata: mergeMaps(mergeMaps(new Map(), curFields[i].metadata), f2.metadata)\n            })) && false : true;\n        });\n        const newDictionaries = generateDictionaryMap(newFields, new Map());\n        return new Schema([...curFields, ...newFields], metadata, new Map([...this.dictionaries, ...newDictionaries]));\n    }\n}\n// Add these here so they're picked up by the externs creator\n// in the build, and closure-compiler doesn't minify them away\nSchema.prototype.fields = null;\nSchema.prototype.metadata = null;\nSchema.prototype.dictionaries = null;\nexport class Field {\n    /** @nocollapse */\n    static new(...args) {\n        let [name, type, nullable, metadata] = args;\n        if (args[0] && typeof args[0] === 'object') {\n            ({ name } = args[0]);\n            (type === undefined) && (type = args[0].type);\n            (nullable === undefined) && (nullable = args[0].nullable);\n            (metadata === undefined) && (metadata = args[0].metadata);\n        }\n        return new Field(`${name}`, type, nullable, metadata);\n    }\n    constructor(name, type, nullable = false, metadata) {\n        this.name = name;\n        this.type = type;\n        this.nullable = nullable;\n        this.metadata = metadata || new Map();\n    }\n    get typeId() { return this.type.typeId; }\n    get [Symbol.toStringTag]() { return 'Field'; }\n    toString() { return `${this.name}: ${this.type}`; }\n    clone(...args) {\n        let [name, type, nullable, metadata] = args;\n        (!args[0] || typeof args[0] !== 'object')\n            ? ([name = this.name, type = this.type, nullable = this.nullable, metadata = this.metadata] = args)\n            : ({ name = this.name, type = this.type, nullable = this.nullable, metadata = this.metadata } = args[0]);\n        return Field.new(name, type, nullable, metadata);\n    }\n}\n// Add these here so they're picked up by the externs creator\n// in the build, and closure-compiler doesn't minify them away\nField.prototype.type = null;\nField.prototype.name = null;\nField.prototype.nullable = null;\nField.prototype.metadata = null;\n/** @ignore */\nfunction mergeMaps(m1, m2) {\n    return new Map([...(m1 || new Map()), ...(m2 || new Map())]);\n}\n/** @ignore */\nfunction generateDictionaryMap(fields, dictionaries = new Map()) {\n    for (let i = -1, n = fields.length; ++i < n;) {\n        const field = fields[i];\n        const type = field.type;\n        if (DataType.isDictionary(type)) {\n            if (!dictionaries.has(type.id)) {\n                dictionaries.set(type.id, type.dictionary);\n            }\n            else if (dictionaries.get(type.id) !== type.dictionary) {\n                throw new Error(`Cannot create Schema containing two different dictionaries with the same Id`);\n            }\n        }\n        if (type.children && type.children.length > 0) {\n            generateDictionaryMap(type.children, dictionaries);\n        }\n    }\n    return dictionaries;\n}\n\n//# sourceMappingURL=schema.mjs.map\n","// Copyright (c) 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nexport default function getHiResTimestamp(): number {\n  let timestamp;\n  // Get best timer available.\n  if (typeof window !== 'undefined' && window.performance) {\n    timestamp = window.performance.now();\n  } else if (typeof process !== 'undefined' && process.hrtime) {\n    const timeParts = process.hrtime();\n    timestamp = timeParts[0] * 1000 + timeParts[1] / 1e6;\n  } else {\n    timestamp = Date.now();\n  }\n\n  return timestamp;\n}\n","// This function is needed in initialization stages,\n// make sure it can be imported in isolation\n\nimport isElectron from './is-electron';\n\nexport default function isBrowser(): boolean {\n  // Check if in browser by duck-typing Node context\n  const isNode =\n    // @ts-expect-error\n    typeof process === 'object' && String(process) === '[object process]' && !process.browser;\n\n  return !isNode || isElectron();\n}\n\n// document does not exist on worker thread\nexport function isBrowserMainThread(): boolean {\n  return isBrowser() && typeof document !== 'undefined';\n}\n","// automatically generated by the FlatBuffers compiler, do not modify\nimport { Binary } from './binary.mjs';\nimport { Bool } from './bool.mjs';\nimport { Date } from './date.mjs';\nimport { Decimal } from './decimal.mjs';\nimport { Duration } from './duration.mjs';\nimport { FixedSizeBinary } from './fixed-size-binary.mjs';\nimport { FixedSizeList } from './fixed-size-list.mjs';\nimport { FloatingPoint } from './floating-point.mjs';\nimport { Int } from './int.mjs';\nimport { Interval } from './interval.mjs';\nimport { LargeBinary } from './large-binary.mjs';\nimport { LargeList } from './large-list.mjs';\nimport { LargeUtf8 } from './large-utf8.mjs';\nimport { List } from './list.mjs';\nimport { Map } from './map.mjs';\nimport { Null } from './null.mjs';\nimport { RunEndEncoded } from './run-end-encoded.mjs';\nimport { Struct_ } from './struct-.mjs';\nimport { Time } from './time.mjs';\nimport { Timestamp } from './timestamp.mjs';\nimport { Union } from './union.mjs';\nimport { Utf8 } from './utf8.mjs';\n/**\n * ----------------------------------------------------------------------\n * Top-level Type value, enabling extensible type-specific metadata. We can\n * add new logical types to Type without breaking backwards compatibility\n */\nexport var Type;\n(function (Type) {\n    Type[Type[\"NONE\"] = 0] = \"NONE\";\n    Type[Type[\"Null\"] = 1] = \"Null\";\n    Type[Type[\"Int\"] = 2] = \"Int\";\n    Type[Type[\"FloatingPoint\"] = 3] = \"FloatingPoint\";\n    Type[Type[\"Binary\"] = 4] = \"Binary\";\n    Type[Type[\"Utf8\"] = 5] = \"Utf8\";\n    Type[Type[\"Bool\"] = 6] = \"Bool\";\n    Type[Type[\"Decimal\"] = 7] = \"Decimal\";\n    Type[Type[\"Date\"] = 8] = \"Date\";\n    Type[Type[\"Time\"] = 9] = \"Time\";\n    Type[Type[\"Timestamp\"] = 10] = \"Timestamp\";\n    Type[Type[\"Interval\"] = 11] = \"Interval\";\n    Type[Type[\"List\"] = 12] = \"List\";\n    Type[Type[\"Struct_\"] = 13] = \"Struct_\";\n    Type[Type[\"Union\"] = 14] = \"Union\";\n    Type[Type[\"FixedSizeBinary\"] = 15] = \"FixedSizeBinary\";\n    Type[Type[\"FixedSizeList\"] = 16] = \"FixedSizeList\";\n    Type[Type[\"Map\"] = 17] = \"Map\";\n    Type[Type[\"Duration\"] = 18] = \"Duration\";\n    Type[Type[\"LargeBinary\"] = 19] = \"LargeBinary\";\n    Type[Type[\"LargeUtf8\"] = 20] = \"LargeUtf8\";\n    Type[Type[\"LargeList\"] = 21] = \"LargeList\";\n    Type[Type[\"RunEndEncoded\"] = 22] = \"RunEndEncoded\";\n})(Type || (Type = {}));\nexport function unionToType(type, accessor) {\n    switch (Type[type]) {\n        case 'NONE': return null;\n        case 'Null': return accessor(new Null());\n        case 'Int': return accessor(new Int());\n        case 'FloatingPoint': return accessor(new FloatingPoint());\n        case 'Binary': return accessor(new Binary());\n        case 'Utf8': return accessor(new Utf8());\n        case 'Bool': return accessor(new Bool());\n        case 'Decimal': return accessor(new Decimal());\n        case 'Date': return accessor(new Date());\n        case 'Time': return accessor(new Time());\n        case 'Timestamp': return accessor(new Timestamp());\n        case 'Interval': return accessor(new Interval());\n        case 'List': return accessor(new List());\n        case 'Struct_': return accessor(new Struct_());\n        case 'Union': return accessor(new Union());\n        case 'FixedSizeBinary': return accessor(new FixedSizeBinary());\n        case 'FixedSizeList': return accessor(new FixedSizeList());\n        case 'Map': return accessor(new Map());\n        case 'Duration': return accessor(new Duration());\n        case 'LargeBinary': return accessor(new LargeBinary());\n        case 'LargeUtf8': return accessor(new LargeUtf8());\n        case 'LargeList': return accessor(new LargeList());\n        case 'RunEndEncoded': return accessor(new RunEndEncoded());\n        default: return null;\n    }\n}\nexport function unionListToType(type, accessor, index) {\n    switch (Type[type]) {\n        case 'NONE': return null;\n        case 'Null': return accessor(index, new Null());\n        case 'Int': return accessor(index, new Int());\n        case 'FloatingPoint': return accessor(index, new FloatingPoint());\n        case 'Binary': return accessor(index, new Binary());\n        case 'Utf8': return accessor(index, new Utf8());\n        case 'Bool': return accessor(index, new Bool());\n        case 'Decimal': return accessor(index, new Decimal());\n        case 'Date': return accessor(index, new Date());\n        case 'Time': return accessor(index, new Time());\n        case 'Timestamp': return accessor(index, new Timestamp());\n        case 'Interval': return accessor(index, new Interval());\n        case 'List': return accessor(index, new List());\n        case 'Struct_': return accessor(index, new Struct_());\n        case 'Union': return accessor(index, new Union());\n        case 'FixedSizeBinary': return accessor(index, new FixedSizeBinary());\n        case 'FixedSizeList': return accessor(index, new FixedSizeList());\n        case 'Map': return accessor(index, new Map());\n        case 'Duration': return accessor(index, new Duration());\n        case 'LargeBinary': return accessor(index, new LargeBinary());\n        case 'LargeUtf8': return accessor(index, new LargeUtf8());\n        case 'LargeList': return accessor(index, new LargeList());\n        case 'RunEndEncoded': return accessor(index, new RunEndEncoded());\n        default: return null;\n    }\n}\n\n//# sourceMappingURL=type.mjs.map\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\n/** @ignore */ const isNumber = (x) => typeof x === 'number';\n/** @ignore */ const isBoolean = (x) => typeof x === 'boolean';\n/** @ignore */ const isFunction = (x) => typeof x === 'function';\n/** @ignore */\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport const isObject = (x) => x != null && Object(x) === x;\n/** @ignore */\nexport const isPromise = (x) => {\n    return isObject(x) && isFunction(x.then);\n};\n/** @ignore */\nexport const isObservable = (x) => {\n    return isObject(x) && isFunction(x.subscribe);\n};\n/** @ignore */\nexport const isIterable = (x) => {\n    return isObject(x) && isFunction(x[Symbol.iterator]);\n};\n/** @ignore */\nexport const isAsyncIterable = (x) => {\n    return isObject(x) && isFunction(x[Symbol.asyncIterator]);\n};\n/** @ignore */\nexport const isArrowJSON = (x) => {\n    return isObject(x) && isObject(x['schema']);\n};\n/** @ignore */\nexport const isArrayLike = (x) => {\n    return isObject(x) && isNumber(x['length']);\n};\n/** @ignore */\nexport const isIteratorResult = (x) => {\n    return isObject(x) && ('done' in x) && ('value' in x);\n};\n/** @ignore */\nexport const isUnderlyingSink = (x) => {\n    return isObject(x) &&\n        isFunction(x['abort']) &&\n        isFunction(x['close']) &&\n        isFunction(x['start']) &&\n        isFunction(x['write']);\n};\n/** @ignore */\nexport const isFileHandle = (x) => {\n    return isObject(x) && isFunction(x['stat']) && isNumber(x['fd']);\n};\n/** @ignore */\nexport const isFSReadStream = (x) => {\n    return isReadableNodeStream(x) && isNumber(x['bytesRead']);\n};\n/** @ignore */\nexport const isFetchResponse = (x) => {\n    return isObject(x) && isReadableDOMStream(x['body']);\n};\nconst isReadableInterop = (x) => ('_getDOMStream' in x && '_getNodeStream' in x);\n/** @ignore */\nexport const isWritableDOMStream = (x) => {\n    return isObject(x) &&\n        isFunction(x['abort']) &&\n        isFunction(x['getWriter']) &&\n        !isReadableInterop(x);\n};\n/** @ignore */\nexport const isReadableDOMStream = (x) => {\n    return isObject(x) &&\n        isFunction(x['cancel']) &&\n        isFunction(x['getReader']) &&\n        !isReadableInterop(x);\n};\n/** @ignore */\nexport const isWritableNodeStream = (x) => {\n    return isObject(x) &&\n        isFunction(x['end']) &&\n        isFunction(x['write']) &&\n        isBoolean(x['writable']) &&\n        !isReadableInterop(x);\n};\n/** @ignore */\nexport const isReadableNodeStream = (x) => {\n    return isObject(x) &&\n        isFunction(x['read']) &&\n        isFunction(x['pipe']) &&\n        isBoolean(x['readable']) &&\n        !isReadableInterop(x);\n};\n/** @ignore */\nexport const isFlatbuffersByteBuffer = (x) => {\n    return isObject(x) &&\n        isFunction(x['clear']) &&\n        isFunction(x['bytes']) &&\n        isFunction(x['position']) &&\n        isFunction(x['setPosition']) &&\n        isFunction(x['capacity']) &&\n        isFunction(x['getBufferIdentifier']) &&\n        isFunction(x['createLong']);\n};\n\n//# sourceMappingURL=compat.mjs.map\n","import { featureCollection, lineString, } from \"@turf/helpers\";\nimport { getCoords } from \"@turf/invariant\";\nimport { flattenEach } from \"@turf/meta\";\n/**\n * Creates a {@link FeatureCollection} of 2-vertex {@link LineString} segments from a\n * {@link LineString|(Multi)LineString} or {@link Polygon|(Multi)Polygon}.\n *\n * @name lineSegment\n * @param {GeoJSON} geojson GeoJSON Polygon or LineString\n * @returns {FeatureCollection<LineString>} 2-vertex line segments\n * @example\n * var polygon = turf.polygon([[[-50, 5], [-40, -10], [-50, -10], [-40, 5], [-50, 5]]]);\n * var segments = turf.lineSegment(polygon);\n *\n * //addToMap\n * var addToMap = [polygon, segments]\n */\nfunction lineSegment(geojson) {\n    if (!geojson) {\n        throw new Error(\"geojson is required\");\n    }\n    var results = [];\n    flattenEach(geojson, function (feature) {\n        lineSegmentFeature(feature, results);\n    });\n    return featureCollection(results);\n}\n/**\n * Line Segment\n *\n * @private\n * @param {Feature<LineString|Polygon>} geojson Line or polygon feature\n * @param {Array} results push to results\n * @returns {void}\n */\nfunction lineSegmentFeature(geojson, results) {\n    var coords = [];\n    var geometry = geojson.geometry;\n    if (geometry !== null) {\n        switch (geometry.type) {\n            case \"Polygon\":\n                coords = getCoords(geometry);\n                break;\n            case \"LineString\":\n                coords = [getCoords(geometry)];\n        }\n        coords.forEach(function (coord) {\n            var segments = createSegments(coord, geojson.properties);\n            segments.forEach(function (segment) {\n                segment.id = results.length;\n                results.push(segment);\n            });\n        });\n    }\n}\n/**\n * Create Segments from LineString coordinates\n *\n * @private\n * @param {Array<Array<number>>} coords LineString coordinates\n * @param {*} properties GeoJSON properties\n * @returns {Array<Feature<LineString>>} line segments\n */\nfunction createSegments(coords, properties) {\n    var segments = [];\n    coords.reduce(function (previousCoords, currentCoords) {\n        var segment = lineString([previousCoords, currentCoords], properties);\n        segment.bbox = bbox(previousCoords, currentCoords);\n        segments.push(segment);\n        return currentCoords;\n    });\n    return segments;\n}\n/**\n * Create BBox between two coordinates (faster than @turf/bbox)\n *\n * @private\n * @param {Array<number>} coords1 Point coordinate\n * @param {Array<number>} coords2 Point coordinate\n * @returns {BBox} [west, south, east, north]\n */\nfunction bbox(coords1, coords2) {\n    var x1 = coords1[0];\n    var y1 = coords1[1];\n    var x2 = coords2[0];\n    var y2 = coords2[1];\n    var west = x1 < x2 ? x1 : x2;\n    var south = y1 < y2 ? y1 : y2;\n    var east = x1 > x2 ? x1 : x2;\n    var north = y1 > y2 ? y1 : y2;\n    return [west, south, east, north];\n}\nexport default lineSegment;\n","import { feature, featureCollection, point, } from \"@turf/helpers\";\nimport { getCoords } from \"@turf/invariant\";\nimport lineSegment from \"@turf/line-segment\";\nimport { featureEach } from \"@turf/meta\";\nimport rbush from \"geojson-rbush\";\n/**\n * Takes any LineString or Polygon GeoJSON and returns the intersecting point(s).\n *\n * @name lineIntersect\n * @param {GeoJSON} line1 any LineString or Polygon\n * @param {GeoJSON} line2 any LineString or Polygon\n * @returns {FeatureCollection<Point>} point(s) that intersect both\n * @example\n * var line1 = turf.lineString([[126, -11], [129, -21]]);\n * var line2 = turf.lineString([[123, -18], [131, -14]]);\n * var intersects = turf.lineIntersect(line1, line2);\n *\n * //addToMap\n * var addToMap = [line1, line2, intersects]\n */\nfunction lineIntersect(line1, line2) {\n    var unique = {};\n    var results = [];\n    // First, normalize geometries to features\n    // Then, handle simple 2-vertex segments\n    if (line1.type === \"LineString\") {\n        line1 = feature(line1);\n    }\n    if (line2.type === \"LineString\") {\n        line2 = feature(line2);\n    }\n    if (line1.type === \"Feature\" &&\n        line2.type === \"Feature\" &&\n        line1.geometry !== null &&\n        line2.geometry !== null &&\n        line1.geometry.type === \"LineString\" &&\n        line2.geometry.type === \"LineString\" &&\n        line1.geometry.coordinates.length === 2 &&\n        line2.geometry.coordinates.length === 2) {\n        var intersect = intersects(line1, line2);\n        if (intersect) {\n            results.push(intersect);\n        }\n        return featureCollection(results);\n    }\n    // Handles complex GeoJSON Geometries\n    var tree = rbush();\n    tree.load(lineSegment(line2));\n    featureEach(lineSegment(line1), function (segment) {\n        featureEach(tree.search(segment), function (match) {\n            var intersect = intersects(segment, match);\n            if (intersect) {\n                // prevent duplicate points https://github.com/Turfjs/turf/issues/688\n                var key = getCoords(intersect).join(\",\");\n                if (!unique[key]) {\n                    unique[key] = true;\n                    results.push(intersect);\n                }\n            }\n        });\n    });\n    return featureCollection(results);\n}\n/**\n * Find a point that intersects LineStrings with two coordinates each\n *\n * @private\n * @param {Feature<LineString>} line1 GeoJSON LineString (Must only contain 2 coordinates)\n * @param {Feature<LineString>} line2 GeoJSON LineString (Must only contain 2 coordinates)\n * @returns {Feature<Point>} intersecting GeoJSON Point\n */\nfunction intersects(line1, line2) {\n    var coords1 = getCoords(line1);\n    var coords2 = getCoords(line2);\n    if (coords1.length !== 2) {\n        throw new Error(\"<intersects> line1 must only contain 2 coordinates\");\n    }\n    if (coords2.length !== 2) {\n        throw new Error(\"<intersects> line2 must only contain 2 coordinates\");\n    }\n    var x1 = coords1[0][0];\n    var y1 = coords1[0][1];\n    var x2 = coords1[1][0];\n    var y2 = coords1[1][1];\n    var x3 = coords2[0][0];\n    var y3 = coords2[0][1];\n    var x4 = coords2[1][0];\n    var y4 = coords2[1][1];\n    var denom = (y4 - y3) * (x2 - x1) - (x4 - x3) * (y2 - y1);\n    var numeA = (x4 - x3) * (y1 - y3) - (y4 - y3) * (x1 - x3);\n    var numeB = (x2 - x1) * (y1 - y3) - (y2 - y1) * (x1 - x3);\n    if (denom === 0) {\n        if (numeA === 0 && numeB === 0) {\n            return null;\n        }\n        return null;\n    }\n    var uA = numeA / denom;\n    var uB = numeB / denom;\n    if (uA >= 0 && uA <= 1 && uB >= 0 && uB <= 1) {\n        var x = x1 + uA * (x2 - x1);\n        var y = y1 + uA * (y2 - y1);\n        return point([x, y]);\n    }\n    return null;\n}\nexport default lineIntersect;\n","// based on https://github.com/cheton/is-electron\n// https://github.com/electron/electron/issues/2288\n/* eslint-disable complexity */\nexport default function isElectron(mockUserAgent?: string): boolean {\n  // Renderer process\n  if (\n    typeof window !== 'undefined' &&\n    typeof window.process === 'object' &&\n    // @ts-expect-error\n    window.process.type === 'renderer'\n  ) {\n    return true;\n  }\n  // Main process\n  if (\n    typeof process !== 'undefined' &&\n    typeof process.versions === 'object' &&\n    Boolean(process.versions.electron)\n  ) {\n    return true;\n  }\n  // Detect the user agent when the `nodeIntegration` option is set to true\n  const realUserAgent =\n    typeof navigator === 'object' && typeof navigator.userAgent === 'string' && navigator.userAgent;\n  const userAgent = mockUserAgent || realUserAgent;\n  if (userAgent && userAgent.indexOf('Electron') >= 0) {\n    return true;\n  }\n  return false;\n}\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nimport { toArrayBufferView } from './buffer.mjs';\n/** @ignore */\nexport const isArrowBigNumSymbol = Symbol.for('isArrowBigNum');\n/** @ignore */\nfunction BigNum(x, ...xs) {\n    if (xs.length === 0) {\n        return Object.setPrototypeOf(toArrayBufferView(this['TypedArray'], x), this.constructor.prototype);\n    }\n    return Object.setPrototypeOf(new this['TypedArray'](x, ...xs), this.constructor.prototype);\n}\nBigNum.prototype[isArrowBigNumSymbol] = true;\nBigNum.prototype.toJSON = function () { return `\"${bigNumToString(this)}\"`; };\nBigNum.prototype.valueOf = function () { return bigNumToNumber(this); };\nBigNum.prototype.toString = function () { return bigNumToString(this); };\nBigNum.prototype[Symbol.toPrimitive] = function (hint = 'default') {\n    switch (hint) {\n        case 'number': return bigNumToNumber(this);\n        case 'string': return bigNumToString(this);\n        case 'default': return bigNumToBigInt(this);\n    }\n    // @ts-ignore\n    return bigNumToString(this);\n};\n/** @ignore */\nfunction SignedBigNum(...args) { return BigNum.apply(this, args); }\n/** @ignore */\nfunction UnsignedBigNum(...args) { return BigNum.apply(this, args); }\n/** @ignore */\nfunction DecimalBigNum(...args) { return BigNum.apply(this, args); }\nObject.setPrototypeOf(SignedBigNum.prototype, Object.create(Int32Array.prototype));\nObject.setPrototypeOf(UnsignedBigNum.prototype, Object.create(Uint32Array.prototype));\nObject.setPrototypeOf(DecimalBigNum.prototype, Object.create(Uint32Array.prototype));\nObject.assign(SignedBigNum.prototype, BigNum.prototype, { 'constructor': SignedBigNum, 'signed': true, 'TypedArray': Int32Array, 'BigIntArray': BigInt64Array });\nObject.assign(UnsignedBigNum.prototype, BigNum.prototype, { 'constructor': UnsignedBigNum, 'signed': false, 'TypedArray': Uint32Array, 'BigIntArray': BigUint64Array });\nObject.assign(DecimalBigNum.prototype, BigNum.prototype, { 'constructor': DecimalBigNum, 'signed': true, 'TypedArray': Uint32Array, 'BigIntArray': BigUint64Array });\n/** @ignore */\nfunction bigNumToNumber(bn) {\n    const { buffer, byteOffset, length, 'signed': signed } = bn;\n    const words = new BigUint64Array(buffer, byteOffset, length);\n    const negative = signed && words.at(-1) & (BigInt(1) << BigInt(63));\n    let number = negative ? BigInt(1) : BigInt(0);\n    let i = BigInt(0);\n    if (!negative) {\n        for (const word of words) {\n            number += word * (BigInt(1) << (BigInt(32) * i++));\n        }\n    }\n    else {\n        for (const word of words) {\n            number += ~word * (BigInt(1) << (BigInt(32) * i++));\n        }\n        number *= BigInt(-1);\n    }\n    return number;\n}\n/** @ignore */\nexport const bigNumToString = ((a) => {\n    // use BigInt native implementation\n    if (a.byteLength === 8) {\n        const bigIntArray = new a['BigIntArray'](a.buffer, a.byteOffset, 1);\n        return `${bigIntArray[0]}`;\n    }\n    // unsigned numbers\n    if (!a['signed']) {\n        return unsignedBigNumToString(a);\n    }\n    let array = new Uint16Array(a.buffer, a.byteOffset, a.byteLength / 2);\n    // detect positive numbers\n    const highOrderWord = new Int16Array([array.at(-1)])[0];\n    if (highOrderWord >= 0) {\n        return unsignedBigNumToString(a);\n    }\n    // flip the negative value\n    array = array.slice();\n    let carry = 1;\n    for (let i = 0; i < array.length; i++) {\n        const elem = array[i];\n        const updated = ~elem + carry;\n        array[i] = updated;\n        carry &= elem === 0 ? 1 : 0;\n    }\n    const negated = unsignedBigNumToString(array);\n    return `-${negated}`;\n});\n/** @ignore */\nexport const bigNumToBigInt = ((a) => {\n    if (a.byteLength === 8) {\n        const bigIntArray = new a['BigIntArray'](a.buffer, a.byteOffset, 1);\n        return bigIntArray[0];\n    }\n    else {\n        return bigNumToString(a);\n    }\n});\n/** @ignore */\nfunction unsignedBigNumToString(a) {\n    let digits = '';\n    const base64 = new Uint32Array(2);\n    let base32 = new Uint16Array(a.buffer, a.byteOffset, a.byteLength / 2);\n    const checks = new Uint32Array((base32 = new Uint16Array(base32).reverse()).buffer);\n    let i = -1;\n    const n = base32.length - 1;\n    do {\n        for (base64[0] = base32[i = 0]; i < n;) {\n            base32[i++] = base64[1] = base64[0] / 10;\n            base64[0] = ((base64[0] - base64[1] * 10) << 16) + base32[i];\n        }\n        base32[i] = base64[1] = base64[0] / 10;\n        base64[0] = base64[0] - base64[1] * 10;\n        digits = `${base64[0]}${digits}`;\n    } while (checks[0] || checks[1] || checks[2] || checks[3]);\n    return digits !== null && digits !== void 0 ? digits : `0`;\n}\n/** @ignore */\nexport class BN {\n    /** @nocollapse */\n    static new(num, isSigned) {\n        switch (isSigned) {\n            case true: return new SignedBigNum(num);\n            case false: return new UnsignedBigNum(num);\n        }\n        switch (num.constructor) {\n            case Int8Array:\n            case Int16Array:\n            case Int32Array:\n            case BigInt64Array:\n                return new SignedBigNum(num);\n        }\n        if (num.byteLength === 16) {\n            return new DecimalBigNum(num);\n        }\n        return new UnsignedBigNum(num);\n    }\n    /** @nocollapse */\n    static signed(num) {\n        return new SignedBigNum(num);\n    }\n    /** @nocollapse */\n    static unsigned(num) {\n        return new UnsignedBigNum(num);\n    }\n    /** @nocollapse */\n    static decimal(num) {\n        return new DecimalBigNum(num);\n    }\n    constructor(num, isSigned) {\n        return BN.new(num, isSigned);\n    }\n}\n\n//# sourceMappingURL=bn.mjs.map\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nimport { valueToString } from '../util/pretty.mjs';\nimport { instance as getVisitor } from '../visitor/get.mjs';\nimport { instance as setVisitor } from '../visitor/set.mjs';\n/** @ignore */ const kParent = Symbol.for('parent');\n/** @ignore */ const kRowIndex = Symbol.for('rowIndex');\nexport class StructRow {\n    constructor(parent, rowIndex) {\n        this[kParent] = parent;\n        this[kRowIndex] = rowIndex;\n        return new Proxy(this, new StructRowProxyHandler());\n    }\n    toArray() { return Object.values(this.toJSON()); }\n    toJSON() {\n        const i = this[kRowIndex];\n        const parent = this[kParent];\n        const keys = parent.type.children;\n        const json = {};\n        for (let j = -1, n = keys.length; ++j < n;) {\n            json[keys[j].name] = getVisitor.visit(parent.children[j], i);\n        }\n        return json;\n    }\n    toString() {\n        return `{${[...this].map(([key, val]) => `${valueToString(key)}: ${valueToString(val)}`).join(', ')}}`;\n    }\n    [Symbol.for('nodejs.util.inspect.custom')]() {\n        return this.toString();\n    }\n    [Symbol.iterator]() {\n        return new StructRowIterator(this[kParent], this[kRowIndex]);\n    }\n}\nclass StructRowIterator {\n    constructor(data, rowIndex) {\n        this.childIndex = 0;\n        this.children = data.children;\n        this.rowIndex = rowIndex;\n        this.childFields = data.type.children;\n        this.numChildren = this.childFields.length;\n    }\n    [Symbol.iterator]() { return this; }\n    next() {\n        const i = this.childIndex;\n        if (i < this.numChildren) {\n            this.childIndex = i + 1;\n            return {\n                done: false,\n                value: [\n                    this.childFields[i].name,\n                    getVisitor.visit(this.children[i], this.rowIndex)\n                ]\n            };\n        }\n        return { done: true, value: null };\n    }\n}\nObject.defineProperties(StructRow.prototype, {\n    [Symbol.toStringTag]: { enumerable: false, configurable: false, value: 'Row' },\n    [kParent]: { writable: true, enumerable: false, configurable: false, value: null },\n    [kRowIndex]: { writable: true, enumerable: false, configurable: false, value: -1 },\n});\nclass StructRowProxyHandler {\n    isExtensible() { return false; }\n    deleteProperty() { return false; }\n    preventExtensions() { return true; }\n    ownKeys(row) {\n        return row[kParent].type.children.map((f) => f.name);\n    }\n    has(row, key) {\n        return row[kParent].type.children.findIndex((f) => f.name === key) !== -1;\n    }\n    getOwnPropertyDescriptor(row, key) {\n        if (row[kParent].type.children.findIndex((f) => f.name === key) !== -1) {\n            return { writable: true, enumerable: true, configurable: true };\n        }\n        return;\n    }\n    get(row, key) {\n        // Look up key in row first\n        if (Reflect.has(row, key)) {\n            return row[key];\n        }\n        const idx = row[kParent].type.children.findIndex((f) => f.name === key);\n        if (idx !== -1) {\n            const val = getVisitor.visit(row[kParent].children[idx], row[kRowIndex]);\n            // Cache key/val lookups\n            Reflect.set(row, key, val);\n            return val;\n        }\n    }\n    set(row, key, val) {\n        const idx = row[kParent].type.children.findIndex((f) => f.name === key);\n        if (idx !== -1) {\n            setVisitor.visit(row[kParent].children[idx], row[kRowIndex], val);\n            // Cache key/val lookups\n            return Reflect.set(row, key, val);\n        }\n        else if (Reflect.has(row, key) || typeof key === 'symbol') {\n            return Reflect.set(row, key, val);\n        }\n        return false;\n    }\n}\n\n//# sourceMappingURL=struct.mjs.map\n","// https://en.wikipedia.org/wiki/Rhumb_line\nimport { degreesToRadians, radiansToDegrees } from \"@turf/helpers\";\nimport { getCoord } from \"@turf/invariant\";\n/**\n * Takes two {@link Point|points} and finds the bearing angle between them along a Rhumb line\n * i.e. the angle measured in degrees start the north line (0 degrees)\n *\n * @name rhumbBearing\n * @param {Coord} start starting Point\n * @param {Coord} end ending Point\n * @param {Object} [options] Optional parameters\n * @param {boolean} [options.final=false] calculates the final bearing if true\n * @returns {number} bearing from north in decimal degrees, between -180 and 180 degrees (positive clockwise)\n * @example\n * var point1 = turf.point([-75.343, 39.984], {\"marker-color\": \"#F00\"});\n * var point2 = turf.point([-75.534, 39.123], {\"marker-color\": \"#00F\"});\n *\n * var bearing = turf.rhumbBearing(point1, point2);\n *\n * //addToMap\n * var addToMap = [point1, point2];\n * point1.properties.bearing = bearing;\n * point2.properties.bearing = bearing;\n */\nfunction rhumbBearing(start, end, options) {\n    if (options === void 0) { options = {}; }\n    var bear360;\n    if (options.final) {\n        bear360 = calculateRhumbBearing(getCoord(end), getCoord(start));\n    }\n    else {\n        bear360 = calculateRhumbBearing(getCoord(start), getCoord(end));\n    }\n    var bear180 = bear360 > 180 ? -(360 - bear360) : bear360;\n    return bear180;\n}\n/**\n * Returns the bearing from ‘this’ point to destination point along a rhumb line.\n * Adapted from Geodesy: https://github.com/chrisveness/geodesy/blob/master/latlon-spherical.js\n *\n * @private\n * @param   {Array<number>} from - origin point.\n * @param   {Array<number>} to - destination point.\n * @returns {number} Bearing in degrees from north.\n * @example\n * var p1 = new LatLon(51.127, 1.338);\n * var p2 = new LatLon(50.964, 1.853);\n * var d = p1.rhumbBearingTo(p2); // 116.7 m\n */\nfunction calculateRhumbBearing(from, to) {\n    // φ => phi\n    // Δλ => deltaLambda\n    // Δψ => deltaPsi\n    // θ => theta\n    var phi1 = degreesToRadians(from[1]);\n    var phi2 = degreesToRadians(to[1]);\n    var deltaLambda = degreesToRadians(to[0] - from[0]);\n    // if deltaLambdaon over 180° take shorter rhumb line across the anti-meridian:\n    if (deltaLambda > Math.PI) {\n        deltaLambda -= 2 * Math.PI;\n    }\n    if (deltaLambda < -Math.PI) {\n        deltaLambda += 2 * Math.PI;\n    }\n    var deltaPsi = Math.log(Math.tan(phi2 / 2 + Math.PI / 4) / Math.tan(phi1 / 2 + Math.PI / 4));\n    var theta = Math.atan2(deltaLambda, deltaPsi);\n    return (radiansToDegrees(theta) + 360) % 360;\n}\nexport default rhumbBearing;\n","import getNodeName from \"../dom-utils/getNodeName.js\";\nimport { isHTMLElement } from \"../dom-utils/instanceOf.js\"; // This modifier takes the styles prepared by the `computeStyles` modifier\n// and applies them to the HTMLElements such as popper and arrow\n\nfunction applyStyles(_ref) {\n  var state = _ref.state;\n  Object.keys(state.elements).forEach(function (name) {\n    var style = state.styles[name] || {};\n    var attributes = state.attributes[name] || {};\n    var element = state.elements[name]; // arrow is optional + virtual elements\n\n    if (!isHTMLElement(element) || !getNodeName(element)) {\n      return;\n    } // Flow doesn't support to extend this property, but it's the most\n    // effective way to apply styles to an HTMLElement\n    // $FlowFixMe[cannot-write]\n\n\n    Object.assign(element.style, style);\n    Object.keys(attributes).forEach(function (name) {\n      var value = attributes[name];\n\n      if (value === false) {\n        element.removeAttribute(name);\n      } else {\n        element.setAttribute(name, value === true ? '' : value);\n      }\n    });\n  });\n}\n\nfunction effect(_ref2) {\n  var state = _ref2.state;\n  var initialStyles = {\n    popper: {\n      position: state.options.strategy,\n      left: '0',\n      top: '0',\n      margin: '0'\n    },\n    arrow: {\n      position: 'absolute'\n    },\n    reference: {}\n  };\n  Object.assign(state.elements.popper.style, initialStyles.popper);\n  state.styles = initialStyles;\n\n  if (state.elements.arrow) {\n    Object.assign(state.elements.arrow.style, initialStyles.arrow);\n  }\n\n  return function () {\n    Object.keys(state.elements).forEach(function (name) {\n      var element = state.elements[name];\n      var attributes = state.attributes[name] || {};\n      var styleProperties = Object.keys(state.styles.hasOwnProperty(name) ? state.styles[name] : initialStyles[name]); // Set all values to an empty string to unset them\n\n      var style = styleProperties.reduce(function (style, property) {\n        style[property] = '';\n        return style;\n      }, {}); // arrow is optional + virtual elements\n\n      if (!isHTMLElement(element) || !getNodeName(element)) {\n        return;\n      }\n\n      Object.assign(element.style, style);\n      Object.keys(attributes).forEach(function (attribute) {\n        element.removeAttribute(attribute);\n      });\n    });\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'applyStyles',\n  enabled: true,\n  phase: 'write',\n  fn: applyStyles,\n  effect: effect,\n  requires: ['computeStyles']\n};","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nvar _a;\nimport { Type } from './enum.mjs';\nimport { clampRange } from './util/vector.mjs';\nimport { DataType, strideForType } from './type.mjs';\nimport { Data, makeData } from './data.mjs';\nimport { isChunkedValid, computeChunkOffsets, computeChunkNullCounts, sliceChunks, wrapChunkedCall1, wrapChunkedCall2, wrapChunkedIndexOf, } from './util/chunk.mjs';\nimport { instance as getVisitor } from './visitor/get.mjs';\nimport { instance as setVisitor } from './visitor/set.mjs';\nimport { instance as indexOfVisitor } from './visitor/indexof.mjs';\nimport { instance as iteratorVisitor } from './visitor/iterator.mjs';\nimport { instance as byteLengthVisitor } from './visitor/bytelength.mjs';\nconst visitorsByTypeId = {};\nconst vectorPrototypesByTypeId = {};\n/**\n * Array-like data structure. Use the convenience method {@link makeVector} and {@link vectorFromArray} to create vectors.\n */\nexport class Vector {\n    constructor(input) {\n        var _b, _c, _d;\n        const data = input[0] instanceof Vector\n            ? input.flatMap(x => x.data)\n            : input;\n        if (data.length === 0 || data.some((x) => !(x instanceof Data))) {\n            throw new TypeError('Vector constructor expects an Array of Data instances.');\n        }\n        const type = (_b = data[0]) === null || _b === void 0 ? void 0 : _b.type;\n        switch (data.length) {\n            case 0:\n                this._offsets = [0];\n                break;\n            case 1: {\n                // special case for unchunked vectors\n                const { get, set, indexOf, byteLength } = visitorsByTypeId[type.typeId];\n                const unchunkedData = data[0];\n                this.isValid = (index) => isChunkedValid(unchunkedData, index);\n                this.get = (index) => get(unchunkedData, index);\n                this.set = (index, value) => set(unchunkedData, index, value);\n                this.indexOf = (index) => indexOf(unchunkedData, index);\n                this.getByteLength = (index) => byteLength(unchunkedData, index);\n                this._offsets = [0, unchunkedData.length];\n                break;\n            }\n            default:\n                Object.setPrototypeOf(this, vectorPrototypesByTypeId[type.typeId]);\n                this._offsets = computeChunkOffsets(data);\n                break;\n        }\n        this.data = data;\n        this.type = type;\n        this.stride = strideForType(type);\n        this.numChildren = (_d = (_c = type.children) === null || _c === void 0 ? void 0 : _c.length) !== null && _d !== void 0 ? _d : 0;\n        this.length = this._offsets.at(-1);\n    }\n    /**\n     * The aggregate size (in bytes) of this Vector's buffers and/or child Vectors.\n     */\n    get byteLength() {\n        if (this._byteLength === -1) {\n            this._byteLength = this.data.reduce((byteLength, data) => byteLength + data.byteLength, 0);\n        }\n        return this._byteLength;\n    }\n    /**\n     * The number of null elements in this Vector.\n     */\n    get nullCount() {\n        if (this._nullCount === -1) {\n            this._nullCount = computeChunkNullCounts(this.data);\n        }\n        return this._nullCount;\n    }\n    /**\n     * The Array or TypedArray constructor used for the JS representation\n     *  of the element's values in {@link Vector.prototype.toArray `toArray()`}.\n     */\n    get ArrayType() { return this.type.ArrayType; }\n    /**\n     * The name that should be printed when the Vector is logged in a message.\n     */\n    get [Symbol.toStringTag]() {\n        return `${this.VectorName}<${this.type[Symbol.toStringTag]}>`;\n    }\n    /**\n     * The name of this Vector.\n     */\n    get VectorName() { return `${Type[this.type.typeId]}Vector`; }\n    /**\n     * Check whether an element is null.\n     * @param index The index at which to read the validity bitmap.\n     */\n    // @ts-ignore\n    isValid(index) { return false; }\n    /**\n     * Get an element value by position.\n     * @param index The index of the element to read.\n     */\n    // @ts-ignore\n    get(index) { return null; }\n    /**\n     * Set an element value by position.\n     * @param index The index of the element to write.\n     * @param value The value to set.\n     */\n    // @ts-ignore\n    set(index, value) { return; }\n    /**\n     * Retrieve the index of the first occurrence of a value in an Vector.\n     * @param element The value to locate in the Vector.\n     * @param offset The index at which to begin the search. If offset is omitted, the search starts at index 0.\n     */\n    // @ts-ignore\n    indexOf(element, offset) { return -1; }\n    includes(element, offset) { return this.indexOf(element, offset) > 0; }\n    /**\n     * Get the size in bytes of an element by index.\n     * @param index The index at which to get the byteLength.\n     */\n    // @ts-ignore\n    getByteLength(index) { return 0; }\n    /**\n     * Iterator for the Vector's elements.\n     */\n    [Symbol.iterator]() {\n        return iteratorVisitor.visit(this);\n    }\n    /**\n     * Combines two or more Vectors of the same type.\n     * @param others Additional Vectors to add to the end of this Vector.\n     */\n    concat(...others) {\n        return new Vector(this.data.concat(others.flatMap((x) => x.data).flat(Number.POSITIVE_INFINITY)));\n    }\n    /**\n     * Return a zero-copy sub-section of this Vector.\n     * @param start The beginning of the specified portion of the Vector.\n     * @param end The end of the specified portion of the Vector. This is exclusive of the element at the index 'end'.\n     */\n    slice(begin, end) {\n        return new Vector(clampRange(this, begin, end, ({ data, _offsets }, begin, end) => sliceChunks(data, _offsets, begin, end)));\n    }\n    toJSON() { return [...this]; }\n    /**\n     * Return a JavaScript Array or TypedArray of the Vector's elements.\n     *\n     * @note If this Vector contains a single Data chunk and the Vector's type is a\n     *  primitive numeric type corresponding to one of the JavaScript TypedArrays, this\n     *  method returns a zero-copy slice of the underlying TypedArray values. If there's\n     *  more than one chunk, the resulting TypedArray will be a copy of the data from each\n     *  chunk's underlying TypedArray values.\n     *\n     * @returns An Array or TypedArray of the Vector's elements, based on the Vector's DataType.\n     */\n    toArray() {\n        const { type, data, length, stride, ArrayType } = this;\n        // Fast case, return subarray if possible\n        switch (type.typeId) {\n            case Type.Int:\n            case Type.Float:\n            case Type.Decimal:\n            case Type.Time:\n            case Type.Timestamp:\n                switch (data.length) {\n                    case 0: return new ArrayType();\n                    case 1: return data[0].values.subarray(0, length * stride);\n                    default: return data.reduce((memo, { values, length: chunk_length }) => {\n                        memo.array.set(values.subarray(0, chunk_length * stride), memo.offset);\n                        memo.offset += chunk_length * stride;\n                        return memo;\n                    }, { array: new ArrayType(length * stride), offset: 0 }).array;\n                }\n        }\n        // Otherwise if not primitive, slow copy\n        return [...this];\n    }\n    /**\n     * Returns a string representation of the Vector.\n     *\n     * @returns A string representation of the Vector.\n     */\n    toString() {\n        return `[${[...this].join(',')}]`;\n    }\n    /**\n     * Returns a child Vector by name, or null if this Vector has no child with the given name.\n     * @param name The name of the child to retrieve.\n     */\n    getChild(name) {\n        var _b;\n        return this.getChildAt((_b = this.type.children) === null || _b === void 0 ? void 0 : _b.findIndex((f) => f.name === name));\n    }\n    /**\n     * Returns a child Vector by index, or null if this Vector has no child at the supplied index.\n     * @param index The index of the child to retrieve.\n     */\n    getChildAt(index) {\n        if (index > -1 && index < this.numChildren) {\n            return new Vector(this.data.map(({ children }) => children[index]));\n        }\n        return null;\n    }\n    get isMemoized() {\n        if (DataType.isDictionary(this.type)) {\n            return this.data[0].dictionary.isMemoized;\n        }\n        return false;\n    }\n    /**\n     * Adds memoization to the Vector's {@link get} method. For dictionary\n     * vectors, this method return a vector that memoizes only the dictionary\n     * values.\n     *\n     * Memoization is very useful when decoding a value is expensive such as\n     * Uft8. The memoization creates a cache of the size of the Vector and\n     * therfore increases memory usage.\n     *\n     * @returns A new vector that memoizes calls to {@link get}.\n     */\n    memoize() {\n        if (DataType.isDictionary(this.type)) {\n            const dictionary = new MemoizedVector(this.data[0].dictionary);\n            const newData = this.data.map((data) => {\n                const cloned = data.clone();\n                cloned.dictionary = dictionary;\n                return cloned;\n            });\n            return new Vector(newData);\n        }\n        return new MemoizedVector(this);\n    }\n    /**\n     * Returns a vector without memoization of the {@link get} method. If this\n     * vector is not memoized, this method returns this vector.\n     *\n     * @returns A a vector without memoization.\n     */\n    unmemoize() {\n        if (DataType.isDictionary(this.type) && this.isMemoized) {\n            const dictionary = this.data[0].dictionary.unmemoize();\n            const newData = this.data.map((data) => {\n                const newData = data.clone();\n                newData.dictionary = dictionary;\n                return newData;\n            });\n            return new Vector(newData);\n        }\n        return this;\n    }\n}\n_a = Symbol.toStringTag;\n// Initialize this static property via an IIFE so bundlers don't tree-shake\n// out this logic, but also so we're still compliant with `\"sideEffects\": false`\nVector[_a] = ((proto) => {\n    proto.type = DataType.prototype;\n    proto.data = [];\n    proto.length = 0;\n    proto.stride = 1;\n    proto.numChildren = 0;\n    proto._nullCount = -1;\n    proto._byteLength = -1;\n    proto._offsets = new Uint32Array([0]);\n    proto[Symbol.isConcatSpreadable] = true;\n    const typeIds = Object.keys(Type)\n        .map((T) => Type[T])\n        .filter((T) => typeof T === 'number' && T !== Type.NONE);\n    for (const typeId of typeIds) {\n        const get = getVisitor.getVisitFnByTypeId(typeId);\n        const set = setVisitor.getVisitFnByTypeId(typeId);\n        const indexOf = indexOfVisitor.getVisitFnByTypeId(typeId);\n        const byteLength = byteLengthVisitor.getVisitFnByTypeId(typeId);\n        visitorsByTypeId[typeId] = { get, set, indexOf, byteLength };\n        vectorPrototypesByTypeId[typeId] = Object.create(proto, {\n            ['isValid']: { value: wrapChunkedCall1(isChunkedValid) },\n            ['get']: { value: wrapChunkedCall1(getVisitor.getVisitFnByTypeId(typeId)) },\n            ['set']: { value: wrapChunkedCall2(setVisitor.getVisitFnByTypeId(typeId)) },\n            ['indexOf']: { value: wrapChunkedIndexOf(indexOfVisitor.getVisitFnByTypeId(typeId)) },\n            ['getByteLength']: { value: wrapChunkedCall1(byteLengthVisitor.getVisitFnByTypeId(typeId)) },\n        });\n    }\n    return 'Vector';\n})(Vector.prototype);\nclass MemoizedVector extends Vector {\n    constructor(vector) {\n        super(vector.data);\n        const get = this.get;\n        const set = this.set;\n        const slice = this.slice;\n        const cache = new Array(this.length);\n        Object.defineProperty(this, 'get', {\n            value(index) {\n                const cachedValue = cache[index];\n                if (cachedValue !== undefined) {\n                    return cachedValue;\n                }\n                const value = get.call(this, index);\n                cache[index] = value;\n                return value;\n            }\n        });\n        Object.defineProperty(this, 'set', {\n            value(index, value) {\n                set.call(this, index, value);\n                cache[index] = value;\n            }\n        });\n        Object.defineProperty(this, 'slice', {\n            value: (begin, end) => new MemoizedVector(slice.call(this, begin, end))\n        });\n        Object.defineProperty(this, 'isMemoized', { value: true });\n        Object.defineProperty(this, 'unmemoize', {\n            value: () => new Vector(this.data)\n        });\n        Object.defineProperty(this, 'memoize', {\n            value: () => this\n        });\n    }\n}\nimport * as dtypes from './type.mjs';\nexport function makeVector(init) {\n    if (init) {\n        if (init instanceof Data) {\n            return new Vector([init]);\n        }\n        if (init instanceof Vector) {\n            return new Vector(init.data);\n        }\n        if (init.type instanceof DataType) {\n            return new Vector([makeData(init)]);\n        }\n        if (Array.isArray(init)) {\n            return new Vector(init.flatMap(v => unwrapInputs(v)));\n        }\n        if (ArrayBuffer.isView(init)) {\n            if (init instanceof DataView) {\n                init = new Uint8Array(init.buffer);\n            }\n            const props = { offset: 0, length: init.length, nullCount: 0, data: init };\n            if (init instanceof Int8Array) {\n                return new Vector([makeData(Object.assign(Object.assign({}, props), { type: new dtypes.Int8 }))]);\n            }\n            if (init instanceof Int16Array) {\n                return new Vector([makeData(Object.assign(Object.assign({}, props), { type: new dtypes.Int16 }))]);\n            }\n            if (init instanceof Int32Array) {\n                return new Vector([makeData(Object.assign(Object.assign({}, props), { type: new dtypes.Int32 }))]);\n            }\n            if (init instanceof BigInt64Array) {\n                return new Vector([makeData(Object.assign(Object.assign({}, props), { type: new dtypes.Int64 }))]);\n            }\n            if (init instanceof Uint8Array || init instanceof Uint8ClampedArray) {\n                return new Vector([makeData(Object.assign(Object.assign({}, props), { type: new dtypes.Uint8 }))]);\n            }\n            if (init instanceof Uint16Array) {\n                return new Vector([makeData(Object.assign(Object.assign({}, props), { type: new dtypes.Uint16 }))]);\n            }\n            if (init instanceof Uint32Array) {\n                return new Vector([makeData(Object.assign(Object.assign({}, props), { type: new dtypes.Uint32 }))]);\n            }\n            if (init instanceof BigUint64Array) {\n                return new Vector([makeData(Object.assign(Object.assign({}, props), { type: new dtypes.Uint64 }))]);\n            }\n            if (init instanceof Float32Array) {\n                return new Vector([makeData(Object.assign(Object.assign({}, props), { type: new dtypes.Float32 }))]);\n            }\n            if (init instanceof Float64Array) {\n                return new Vector([makeData(Object.assign(Object.assign({}, props), { type: new dtypes.Float64 }))]);\n            }\n            throw new Error('Unrecognized input');\n        }\n    }\n    throw new Error('Unrecognized input');\n}\nfunction unwrapInputs(x) {\n    return x instanceof Data ? [x] : (x instanceof Vector ? x.data : makeVector(x).data);\n}\n\n//# sourceMappingURL=vector.mjs.map\n","import polygonClipping from 'polygon-clipping';\nimport { polygon, multiPolygon } from '@turf/helpers';\nimport { getGeom } from '@turf/invariant';\n\n/**\n * Finds the difference between two {@link Polygon|polygons} by clipping the second polygon from the first.\n *\n * @name difference\n * @param {Feature<Polygon|MultiPolygon>} polygon1 input Polygon feature\n * @param {Feature<Polygon|MultiPolygon>} polygon2 Polygon feature to difference from polygon1\n * @returns {Feature<Polygon|MultiPolygon>|null} a Polygon or MultiPolygon feature showing the area of `polygon1` excluding the area of `polygon2` (if empty returns `null`)\n * @example\n * var polygon1 = turf.polygon([[\n *   [128, -26],\n *   [141, -26],\n *   [141, -21],\n *   [128, -21],\n *   [128, -26]\n * ]], {\n *   \"fill\": \"#F00\",\n *   \"fill-opacity\": 0.1\n * });\n * var polygon2 = turf.polygon([[\n *   [126, -28],\n *   [140, -28],\n *   [140, -20],\n *   [126, -20],\n *   [126, -28]\n * ]], {\n *   \"fill\": \"#00F\",\n *   \"fill-opacity\": 0.1\n * });\n *\n * var difference = turf.difference(polygon1, polygon2);\n *\n * //addToMap\n * var addToMap = [polygon1, polygon2, difference];\n */\nfunction difference(polygon1, polygon2) {\n  var geom1 = getGeom(polygon1);\n  var geom2 = getGeom(polygon2);\n  var properties = polygon1.properties || {};\n\n  var differenced = polygonClipping.difference(\n    geom1.coordinates,\n    geom2.coordinates\n  );\n  if (differenced.length === 0) return null;\n  if (differenced.length === 1) return polygon(differenced[0], properties);\n  return multiPolygon(differenced, properties);\n}\n\nexport default difference;\n","import destination from \"@turf/destination\";\nimport { polygon, } from \"@turf/helpers\";\n/**\n * Takes a {@link Point} and calculates the circle polygon given a radius in degrees, radians, miles, or kilometers; and steps for precision.\n *\n * @name circle\n * @param {Feature<Point>|number[]} center center point\n * @param {number} radius radius of the circle\n * @param {Object} [options={}] Optional parameters\n * @param {number} [options.steps=64] number of steps\n * @param {string} [options.units='kilometers'] miles, kilometers, degrees, or radians\n * @param {Object} [options.properties={}] properties\n * @returns {Feature<Polygon>} circle polygon\n * @example\n * var center = [-75.343, 39.984];\n * var radius = 5;\n * var options = {steps: 10, units: 'kilometers', properties: {foo: 'bar'}};\n * var circle = turf.circle(center, radius, options);\n *\n * //addToMap\n * var addToMap = [turf.point(center), circle]\n */\nfunction circle(center, radius, options) {\n    if (options === void 0) { options = {}; }\n    // default params\n    var steps = options.steps || 64;\n    var properties = options.properties\n        ? options.properties\n        : !Array.isArray(center) && center.type === \"Feature\" && center.properties\n            ? center.properties\n            : {};\n    // main\n    var coordinates = [];\n    for (var i = 0; i < steps; i++) {\n        coordinates.push(destination(center, radius, (i * -360) / steps, options).geometry\n            .coordinates);\n    }\n    coordinates.push(coordinates[0]);\n    return polygon([coordinates], properties);\n}\nexport default circle;\n","import { featureCollection, lineString, multiLineString } from \"@turf/helpers\";\nimport { getGeom } from \"@turf/invariant\";\n/**\n * Converts a {@link Polygon} to {@link LineString|(Multi)LineString} or {@link MultiPolygon} to a\n * {@link FeatureCollection} of {@link LineString|(Multi)LineString}.\n *\n * @name polygonToLine\n * @param {Feature<Polygon|MultiPolygon>} poly Feature to convert\n * @param {Object} [options={}] Optional parameters\n * @param {Object} [options.properties={}] translates GeoJSON properties to Feature\n * @returns {FeatureCollection|Feature<LineString|MultiLinestring>} converted (Multi)Polygon to (Multi)LineString\n * @example\n * var poly = turf.polygon([[[125, -30], [145, -30], [145, -20], [125, -20], [125, -30]]]);\n *\n * var line = turf.polygonToLine(poly);\n *\n * //addToMap\n * var addToMap = [line];\n */\nexport default function (poly, options) {\n    if (options === void 0) { options = {}; }\n    var geom = getGeom(poly);\n    if (!options.properties && poly.type === \"Feature\") {\n        options.properties = poly.properties;\n    }\n    switch (geom.type) {\n        case \"Polygon\":\n            return polygonToLine(geom, options);\n        case \"MultiPolygon\":\n            return multiPolygonToLine(geom, options);\n        default:\n            throw new Error(\"invalid poly\");\n    }\n}\n/**\n * @private\n */\nexport function polygonToLine(poly, options) {\n    if (options === void 0) { options = {}; }\n    var geom = getGeom(poly);\n    var coords = geom.coordinates;\n    var properties = options.properties\n        ? options.properties\n        : poly.type === \"Feature\"\n            ? poly.properties\n            : {};\n    return coordsToLine(coords, properties);\n}\n/**\n * @private\n */\nexport function multiPolygonToLine(multiPoly, options) {\n    if (options === void 0) { options = {}; }\n    var geom = getGeom(multiPoly);\n    var coords = geom.coordinates;\n    var properties = options.properties\n        ? options.properties\n        : multiPoly.type === \"Feature\"\n            ? multiPoly.properties\n            : {};\n    var lines = [];\n    coords.forEach(function (coord) {\n        lines.push(coordsToLine(coord, properties));\n    });\n    return featureCollection(lines);\n}\n/**\n * @private\n */\nexport function coordsToLine(coords, properties) {\n    if (coords.length > 1) {\n        return multiLineString(coords, properties);\n    }\n    return lineString(coords[0], properties);\n}\n","import { feature, lineString, isObject, point } from '@turf/helpers';\n\n/**\n * Callback for coordEach\n *\n * @callback coordEachCallback\n * @param {Array<number>} currentCoord The current coordinate being processed.\n * @param {number} coordIndex The current index of the coordinate being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n * @param {number} geometryIndex The current index of the Geometry being processed.\n */\n\n/**\n * Iterate over coordinates in any GeoJSON object, similar to Array.forEach()\n *\n * @name coordEach\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentCoord, coordIndex, featureIndex, multiFeatureIndex)\n * @param {boolean} [excludeWrapCoord=false] whether or not to include the final coordinate of LinearRings that wraps the ring in its iteration.\n * @returns {void}\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {\"foo\": \"bar\"}),\n *   turf.point([36, 53], {\"hello\": \"world\"})\n * ]);\n *\n * turf.coordEach(features, function (currentCoord, coordIndex, featureIndex, multiFeatureIndex, geometryIndex) {\n *   //=currentCoord\n *   //=coordIndex\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n * });\n */\nfunction coordEach(geojson, callback, excludeWrapCoord) {\n  // Handles null Geometry -- Skips this GeoJSON\n  if (geojson === null) return;\n  var j,\n    k,\n    l,\n    geometry,\n    stopG,\n    coords,\n    geometryMaybeCollection,\n    wrapShrink = 0,\n    coordIndex = 0,\n    isGeometryCollection,\n    type = geojson.type,\n    isFeatureCollection = type === \"FeatureCollection\",\n    isFeature = type === \"Feature\",\n    stop = isFeatureCollection ? geojson.features.length : 1;\n\n  // This logic may look a little weird. The reason why it is that way\n  // is because it's trying to be fast. GeoJSON supports multiple kinds\n  // of objects at its root: FeatureCollection, Features, Geometries.\n  // This function has the responsibility of handling all of them, and that\n  // means that some of the `for` loops you see below actually just don't apply\n  // to certain inputs. For instance, if you give this just a\n  // Point geometry, then both loops are short-circuited and all we do\n  // is gradually rename the input until it's called 'geometry'.\n  //\n  // This also aims to allocate as few resources as possible: just a\n  // few numbers and booleans, rather than any temporary arrays as would\n  // be required with the normalization approach.\n  for (var featureIndex = 0; featureIndex < stop; featureIndex++) {\n    geometryMaybeCollection = isFeatureCollection\n      ? geojson.features[featureIndex].geometry\n      : isFeature\n      ? geojson.geometry\n      : geojson;\n    isGeometryCollection = geometryMaybeCollection\n      ? geometryMaybeCollection.type === \"GeometryCollection\"\n      : false;\n    stopG = isGeometryCollection\n      ? geometryMaybeCollection.geometries.length\n      : 1;\n\n    for (var geomIndex = 0; geomIndex < stopG; geomIndex++) {\n      var multiFeatureIndex = 0;\n      var geometryIndex = 0;\n      geometry = isGeometryCollection\n        ? geometryMaybeCollection.geometries[geomIndex]\n        : geometryMaybeCollection;\n\n      // Handles null Geometry -- Skips this geometry\n      if (geometry === null) continue;\n      coords = geometry.coordinates;\n      var geomType = geometry.type;\n\n      wrapShrink =\n        excludeWrapCoord &&\n        (geomType === \"Polygon\" || geomType === \"MultiPolygon\")\n          ? 1\n          : 0;\n\n      switch (geomType) {\n        case null:\n          break;\n        case \"Point\":\n          if (\n            callback(\n              coords,\n              coordIndex,\n              featureIndex,\n              multiFeatureIndex,\n              geometryIndex\n            ) === false\n          )\n            return false;\n          coordIndex++;\n          multiFeatureIndex++;\n          break;\n        case \"LineString\":\n        case \"MultiPoint\":\n          for (j = 0; j < coords.length; j++) {\n            if (\n              callback(\n                coords[j],\n                coordIndex,\n                featureIndex,\n                multiFeatureIndex,\n                geometryIndex\n              ) === false\n            )\n              return false;\n            coordIndex++;\n            if (geomType === \"MultiPoint\") multiFeatureIndex++;\n          }\n          if (geomType === \"LineString\") multiFeatureIndex++;\n          break;\n        case \"Polygon\":\n        case \"MultiLineString\":\n          for (j = 0; j < coords.length; j++) {\n            for (k = 0; k < coords[j].length - wrapShrink; k++) {\n              if (\n                callback(\n                  coords[j][k],\n                  coordIndex,\n                  featureIndex,\n                  multiFeatureIndex,\n                  geometryIndex\n                ) === false\n              )\n                return false;\n              coordIndex++;\n            }\n            if (geomType === \"MultiLineString\") multiFeatureIndex++;\n            if (geomType === \"Polygon\") geometryIndex++;\n          }\n          if (geomType === \"Polygon\") multiFeatureIndex++;\n          break;\n        case \"MultiPolygon\":\n          for (j = 0; j < coords.length; j++) {\n            geometryIndex = 0;\n            for (k = 0; k < coords[j].length; k++) {\n              for (l = 0; l < coords[j][k].length - wrapShrink; l++) {\n                if (\n                  callback(\n                    coords[j][k][l],\n                    coordIndex,\n                    featureIndex,\n                    multiFeatureIndex,\n                    geometryIndex\n                  ) === false\n                )\n                  return false;\n                coordIndex++;\n              }\n              geometryIndex++;\n            }\n            multiFeatureIndex++;\n          }\n          break;\n        case \"GeometryCollection\":\n          for (j = 0; j < geometry.geometries.length; j++)\n            if (\n              coordEach(geometry.geometries[j], callback, excludeWrapCoord) ===\n              false\n            )\n              return false;\n          break;\n        default:\n          throw new Error(\"Unknown Geometry Type\");\n      }\n    }\n  }\n}\n\n/**\n * Callback for coordReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback coordReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Array<number>} currentCoord The current coordinate being processed.\n * @param {number} coordIndex The current index of the coordinate being processed.\n * Starts at index 0, if an initialValue is provided, and at index 1 otherwise.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n * @param {number} geometryIndex The current index of the Geometry being processed.\n */\n\n/**\n * Reduce coordinates in any GeoJSON object, similar to Array.reduce()\n *\n * @name coordReduce\n * @param {FeatureCollection|Geometry|Feature} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentCoord, coordIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @param {boolean} [excludeWrapCoord=false] whether or not to include the final coordinate of LinearRings that wraps the ring in its iteration.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {\"foo\": \"bar\"}),\n *   turf.point([36, 53], {\"hello\": \"world\"})\n * ]);\n *\n * turf.coordReduce(features, function (previousValue, currentCoord, coordIndex, featureIndex, multiFeatureIndex, geometryIndex) {\n *   //=previousValue\n *   //=currentCoord\n *   //=coordIndex\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n *   return currentCoord;\n * });\n */\nfunction coordReduce(geojson, callback, initialValue, excludeWrapCoord) {\n  var previousValue = initialValue;\n  coordEach(\n    geojson,\n    function (\n      currentCoord,\n      coordIndex,\n      featureIndex,\n      multiFeatureIndex,\n      geometryIndex\n    ) {\n      if (coordIndex === 0 && initialValue === undefined)\n        previousValue = currentCoord;\n      else\n        previousValue = callback(\n          previousValue,\n          currentCoord,\n          coordIndex,\n          featureIndex,\n          multiFeatureIndex,\n          geometryIndex\n        );\n    },\n    excludeWrapCoord\n  );\n  return previousValue;\n}\n\n/**\n * Callback for propEach\n *\n * @callback propEachCallback\n * @param {Object} currentProperties The current Properties being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n */\n\n/**\n * Iterate over properties in any GeoJSON object, similar to Array.forEach()\n *\n * @name propEach\n * @param {FeatureCollection|Feature} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentProperties, featureIndex)\n * @returns {void}\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.propEach(features, function (currentProperties, featureIndex) {\n *   //=currentProperties\n *   //=featureIndex\n * });\n */\nfunction propEach(geojson, callback) {\n  var i;\n  switch (geojson.type) {\n    case \"FeatureCollection\":\n      for (i = 0; i < geojson.features.length; i++) {\n        if (callback(geojson.features[i].properties, i) === false) break;\n      }\n      break;\n    case \"Feature\":\n      callback(geojson.properties, 0);\n      break;\n  }\n}\n\n/**\n * Callback for propReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback propReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {*} currentProperties The current Properties being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n */\n\n/**\n * Reduce properties in any GeoJSON object into a single value,\n * similar to how Array.reduce works. However, in this case we lazily run\n * the reduction, so an array of all properties is unnecessary.\n *\n * @name propReduce\n * @param {FeatureCollection|Feature} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentProperties, featureIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.propReduce(features, function (previousValue, currentProperties, featureIndex) {\n *   //=previousValue\n *   //=currentProperties\n *   //=featureIndex\n *   return currentProperties\n * });\n */\nfunction propReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  propEach(geojson, function (currentProperties, featureIndex) {\n    if (featureIndex === 0 && initialValue === undefined)\n      previousValue = currentProperties;\n    else\n      previousValue = callback(previousValue, currentProperties, featureIndex);\n  });\n  return previousValue;\n}\n\n/**\n * Callback for featureEach\n *\n * @callback featureEachCallback\n * @param {Feature<any>} currentFeature The current Feature being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n */\n\n/**\n * Iterate over features in any GeoJSON object, similar to\n * Array.forEach.\n *\n * @name featureEach\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentFeature, featureIndex)\n * @returns {void}\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {foo: 'bar'}),\n *   turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.featureEach(features, function (currentFeature, featureIndex) {\n *   //=currentFeature\n *   //=featureIndex\n * });\n */\nfunction featureEach(geojson, callback) {\n  if (geojson.type === \"Feature\") {\n    callback(geojson, 0);\n  } else if (geojson.type === \"FeatureCollection\") {\n    for (var i = 0; i < geojson.features.length; i++) {\n      if (callback(geojson.features[i], i) === false) break;\n    }\n  }\n}\n\n/**\n * Callback for featureReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback featureReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature} currentFeature The current Feature being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n */\n\n/**\n * Reduce features in any GeoJSON object, similar to Array.reduce().\n *\n * @name featureReduce\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentFeature, featureIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {\"foo\": \"bar\"}),\n *   turf.point([36, 53], {\"hello\": \"world\"})\n * ]);\n *\n * turf.featureReduce(features, function (previousValue, currentFeature, featureIndex) {\n *   //=previousValue\n *   //=currentFeature\n *   //=featureIndex\n *   return currentFeature\n * });\n */\nfunction featureReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  featureEach(geojson, function (currentFeature, featureIndex) {\n    if (featureIndex === 0 && initialValue === undefined)\n      previousValue = currentFeature;\n    else previousValue = callback(previousValue, currentFeature, featureIndex);\n  });\n  return previousValue;\n}\n\n/**\n * Get all coordinates from any GeoJSON object.\n *\n * @name coordAll\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @returns {Array<Array<number>>} coordinate position array\n * @example\n * var features = turf.featureCollection([\n *   turf.point([26, 37], {foo: 'bar'}),\n *   turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * var coords = turf.coordAll(features);\n * //= [[26, 37], [36, 53]]\n */\nfunction coordAll(geojson) {\n  var coords = [];\n  coordEach(geojson, function (coord) {\n    coords.push(coord);\n  });\n  return coords;\n}\n\n/**\n * Callback for geomEach\n *\n * @callback geomEachCallback\n * @param {Geometry} currentGeometry The current Geometry being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {Object} featureProperties The current Feature Properties being processed.\n * @param {Array<number>} featureBBox The current Feature BBox being processed.\n * @param {number|string} featureId The current Feature Id being processed.\n */\n\n/**\n * Iterate over each geometry in any GeoJSON object, similar to Array.forEach()\n *\n * @name geomEach\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentGeometry, featureIndex, featureProperties, featureBBox, featureId)\n * @returns {void}\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.geomEach(features, function (currentGeometry, featureIndex, featureProperties, featureBBox, featureId) {\n *   //=currentGeometry\n *   //=featureIndex\n *   //=featureProperties\n *   //=featureBBox\n *   //=featureId\n * });\n */\nfunction geomEach(geojson, callback) {\n  var i,\n    j,\n    g,\n    geometry,\n    stopG,\n    geometryMaybeCollection,\n    isGeometryCollection,\n    featureProperties,\n    featureBBox,\n    featureId,\n    featureIndex = 0,\n    isFeatureCollection = geojson.type === \"FeatureCollection\",\n    isFeature = geojson.type === \"Feature\",\n    stop = isFeatureCollection ? geojson.features.length : 1;\n\n  // This logic may look a little weird. The reason why it is that way\n  // is because it's trying to be fast. GeoJSON supports multiple kinds\n  // of objects at its root: FeatureCollection, Features, Geometries.\n  // This function has the responsibility of handling all of them, and that\n  // means that some of the `for` loops you see below actually just don't apply\n  // to certain inputs. For instance, if you give this just a\n  // Point geometry, then both loops are short-circuited and all we do\n  // is gradually rename the input until it's called 'geometry'.\n  //\n  // This also aims to allocate as few resources as possible: just a\n  // few numbers and booleans, rather than any temporary arrays as would\n  // be required with the normalization approach.\n  for (i = 0; i < stop; i++) {\n    geometryMaybeCollection = isFeatureCollection\n      ? geojson.features[i].geometry\n      : isFeature\n      ? geojson.geometry\n      : geojson;\n    featureProperties = isFeatureCollection\n      ? geojson.features[i].properties\n      : isFeature\n      ? geojson.properties\n      : {};\n    featureBBox = isFeatureCollection\n      ? geojson.features[i].bbox\n      : isFeature\n      ? geojson.bbox\n      : undefined;\n    featureId = isFeatureCollection\n      ? geojson.features[i].id\n      : isFeature\n      ? geojson.id\n      : undefined;\n    isGeometryCollection = geometryMaybeCollection\n      ? geometryMaybeCollection.type === \"GeometryCollection\"\n      : false;\n    stopG = isGeometryCollection\n      ? geometryMaybeCollection.geometries.length\n      : 1;\n\n    for (g = 0; g < stopG; g++) {\n      geometry = isGeometryCollection\n        ? geometryMaybeCollection.geometries[g]\n        : geometryMaybeCollection;\n\n      // Handle null Geometry\n      if (geometry === null) {\n        if (\n          callback(\n            null,\n            featureIndex,\n            featureProperties,\n            featureBBox,\n            featureId\n          ) === false\n        )\n          return false;\n        continue;\n      }\n      switch (geometry.type) {\n        case \"Point\":\n        case \"LineString\":\n        case \"MultiPoint\":\n        case \"Polygon\":\n        case \"MultiLineString\":\n        case \"MultiPolygon\": {\n          if (\n            callback(\n              geometry,\n              featureIndex,\n              featureProperties,\n              featureBBox,\n              featureId\n            ) === false\n          )\n            return false;\n          break;\n        }\n        case \"GeometryCollection\": {\n          for (j = 0; j < geometry.geometries.length; j++) {\n            if (\n              callback(\n                geometry.geometries[j],\n                featureIndex,\n                featureProperties,\n                featureBBox,\n                featureId\n              ) === false\n            )\n              return false;\n          }\n          break;\n        }\n        default:\n          throw new Error(\"Unknown Geometry Type\");\n      }\n    }\n    // Only increase `featureIndex` per each feature\n    featureIndex++;\n  }\n}\n\n/**\n * Callback for geomReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback geomReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Geometry} currentGeometry The current Geometry being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {Object} featureProperties The current Feature Properties being processed.\n * @param {Array<number>} featureBBox The current Feature BBox being processed.\n * @param {number|string} featureId The current Feature Id being processed.\n */\n\n/**\n * Reduce geometry in any GeoJSON object, similar to Array.reduce().\n *\n * @name geomReduce\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentGeometry, featureIndex, featureProperties, featureBBox, featureId)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.point([36, 53], {hello: 'world'})\n * ]);\n *\n * turf.geomReduce(features, function (previousValue, currentGeometry, featureIndex, featureProperties, featureBBox, featureId) {\n *   //=previousValue\n *   //=currentGeometry\n *   //=featureIndex\n *   //=featureProperties\n *   //=featureBBox\n *   //=featureId\n *   return currentGeometry\n * });\n */\nfunction geomReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  geomEach(\n    geojson,\n    function (\n      currentGeometry,\n      featureIndex,\n      featureProperties,\n      featureBBox,\n      featureId\n    ) {\n      if (featureIndex === 0 && initialValue === undefined)\n        previousValue = currentGeometry;\n      else\n        previousValue = callback(\n          previousValue,\n          currentGeometry,\n          featureIndex,\n          featureProperties,\n          featureBBox,\n          featureId\n        );\n    }\n  );\n  return previousValue;\n}\n\n/**\n * Callback for flattenEach\n *\n * @callback flattenEachCallback\n * @param {Feature} currentFeature The current flattened feature being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n */\n\n/**\n * Iterate over flattened features in any GeoJSON object, similar to\n * Array.forEach.\n *\n * @name flattenEach\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (currentFeature, featureIndex, multiFeatureIndex)\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.multiPoint([[40, 30], [36, 53]], {hello: 'world'})\n * ]);\n *\n * turf.flattenEach(features, function (currentFeature, featureIndex, multiFeatureIndex) {\n *   //=currentFeature\n *   //=featureIndex\n *   //=multiFeatureIndex\n * });\n */\nfunction flattenEach(geojson, callback) {\n  geomEach(geojson, function (geometry, featureIndex, properties, bbox, id) {\n    // Callback for single geometry\n    var type = geometry === null ? null : geometry.type;\n    switch (type) {\n      case null:\n      case \"Point\":\n      case \"LineString\":\n      case \"Polygon\":\n        if (\n          callback(\n            feature(geometry, properties, { bbox: bbox, id: id }),\n            featureIndex,\n            0\n          ) === false\n        )\n          return false;\n        return;\n    }\n\n    var geomType;\n\n    // Callback for multi-geometry\n    switch (type) {\n      case \"MultiPoint\":\n        geomType = \"Point\";\n        break;\n      case \"MultiLineString\":\n        geomType = \"LineString\";\n        break;\n      case \"MultiPolygon\":\n        geomType = \"Polygon\";\n        break;\n    }\n\n    for (\n      var multiFeatureIndex = 0;\n      multiFeatureIndex < geometry.coordinates.length;\n      multiFeatureIndex++\n    ) {\n      var coordinate = geometry.coordinates[multiFeatureIndex];\n      var geom = {\n        type: geomType,\n        coordinates: coordinate,\n      };\n      if (\n        callback(feature(geom, properties), featureIndex, multiFeatureIndex) ===\n        false\n      )\n        return false;\n    }\n  });\n}\n\n/**\n * Callback for flattenReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback flattenReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature} currentFeature The current Feature being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n */\n\n/**\n * Reduce flattened features in any GeoJSON object, similar to Array.reduce().\n *\n * @name flattenReduce\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON object\n * @param {Function} callback a method that takes (previousValue, currentFeature, featureIndex, multiFeatureIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var features = turf.featureCollection([\n *     turf.point([26, 37], {foo: 'bar'}),\n *     turf.multiPoint([[40, 30], [36, 53]], {hello: 'world'})\n * ]);\n *\n * turf.flattenReduce(features, function (previousValue, currentFeature, featureIndex, multiFeatureIndex) {\n *   //=previousValue\n *   //=currentFeature\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   return currentFeature\n * });\n */\nfunction flattenReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  flattenEach(\n    geojson,\n    function (currentFeature, featureIndex, multiFeatureIndex) {\n      if (\n        featureIndex === 0 &&\n        multiFeatureIndex === 0 &&\n        initialValue === undefined\n      )\n        previousValue = currentFeature;\n      else\n        previousValue = callback(\n          previousValue,\n          currentFeature,\n          featureIndex,\n          multiFeatureIndex\n        );\n    }\n  );\n  return previousValue;\n}\n\n/**\n * Callback for segmentEach\n *\n * @callback segmentEachCallback\n * @param {Feature<LineString>} currentSegment The current Segment being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n * @param {number} geometryIndex The current index of the Geometry being processed.\n * @param {number} segmentIndex The current index of the Segment being processed.\n * @returns {void}\n */\n\n/**\n * Iterate over 2-vertex line segment in any GeoJSON object, similar to Array.forEach()\n * (Multi)Point geometries do not contain segments therefore they are ignored during this operation.\n *\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON\n * @param {Function} callback a method that takes (currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex)\n * @returns {void}\n * @example\n * var polygon = turf.polygon([[[-50, 5], [-40, -10], [-50, -10], [-40, 5], [-50, 5]]]);\n *\n * // Iterate over GeoJSON by 2-vertex segments\n * turf.segmentEach(polygon, function (currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex) {\n *   //=currentSegment\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n *   //=segmentIndex\n * });\n *\n * // Calculate the total number of segments\n * var total = 0;\n * turf.segmentEach(polygon, function () {\n *     total++;\n * });\n */\nfunction segmentEach(geojson, callback) {\n  flattenEach(geojson, function (feature, featureIndex, multiFeatureIndex) {\n    var segmentIndex = 0;\n\n    // Exclude null Geometries\n    if (!feature.geometry) return;\n    // (Multi)Point geometries do not contain segments therefore they are ignored during this operation.\n    var type = feature.geometry.type;\n    if (type === \"Point\" || type === \"MultiPoint\") return;\n\n    // Generate 2-vertex line segments\n    var previousCoords;\n    var previousFeatureIndex = 0;\n    var previousMultiIndex = 0;\n    var prevGeomIndex = 0;\n    if (\n      coordEach(\n        feature,\n        function (\n          currentCoord,\n          coordIndex,\n          featureIndexCoord,\n          multiPartIndexCoord,\n          geometryIndex\n        ) {\n          // Simulating a meta.coordReduce() since `reduce` operations cannot be stopped by returning `false`\n          if (\n            previousCoords === undefined ||\n            featureIndex > previousFeatureIndex ||\n            multiPartIndexCoord > previousMultiIndex ||\n            geometryIndex > prevGeomIndex\n          ) {\n            previousCoords = currentCoord;\n            previousFeatureIndex = featureIndex;\n            previousMultiIndex = multiPartIndexCoord;\n            prevGeomIndex = geometryIndex;\n            segmentIndex = 0;\n            return;\n          }\n          var currentSegment = lineString(\n            [previousCoords, currentCoord],\n            feature.properties\n          );\n          if (\n            callback(\n              currentSegment,\n              featureIndex,\n              multiFeatureIndex,\n              geometryIndex,\n              segmentIndex\n            ) === false\n          )\n            return false;\n          segmentIndex++;\n          previousCoords = currentCoord;\n        }\n      ) === false\n    )\n      return false;\n  });\n}\n\n/**\n * Callback for segmentReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback segmentReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature<LineString>} currentSegment The current Segment being processed.\n * @param {number} featureIndex The current index of the Feature being processed.\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed.\n * @param {number} geometryIndex The current index of the Geometry being processed.\n * @param {number} segmentIndex The current index of the Segment being processed.\n */\n\n/**\n * Reduce 2-vertex line segment in any GeoJSON object, similar to Array.reduce()\n * (Multi)Point geometries do not contain segments therefore they are ignored during this operation.\n *\n * @param {FeatureCollection|Feature|Geometry} geojson any GeoJSON\n * @param {Function} callback a method that takes (previousValue, currentSegment, currentIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {void}\n * @example\n * var polygon = turf.polygon([[[-50, 5], [-40, -10], [-50, -10], [-40, 5], [-50, 5]]]);\n *\n * // Iterate over GeoJSON by 2-vertex segments\n * turf.segmentReduce(polygon, function (previousSegment, currentSegment, featureIndex, multiFeatureIndex, geometryIndex, segmentIndex) {\n *   //= previousSegment\n *   //= currentSegment\n *   //= featureIndex\n *   //= multiFeatureIndex\n *   //= geometryIndex\n *   //= segmentIndex\n *   return currentSegment\n * });\n *\n * // Calculate the total number of segments\n * var initialValue = 0\n * var total = turf.segmentReduce(polygon, function (previousValue) {\n *     previousValue++;\n *     return previousValue;\n * }, initialValue);\n */\nfunction segmentReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  var started = false;\n  segmentEach(\n    geojson,\n    function (\n      currentSegment,\n      featureIndex,\n      multiFeatureIndex,\n      geometryIndex,\n      segmentIndex\n    ) {\n      if (started === false && initialValue === undefined)\n        previousValue = currentSegment;\n      else\n        previousValue = callback(\n          previousValue,\n          currentSegment,\n          featureIndex,\n          multiFeatureIndex,\n          geometryIndex,\n          segmentIndex\n        );\n      started = true;\n    }\n  );\n  return previousValue;\n}\n\n/**\n * Callback for lineEach\n *\n * @callback lineEachCallback\n * @param {Feature<LineString>} currentLine The current LineString|LinearRing being processed\n * @param {number} featureIndex The current index of the Feature being processed\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed\n * @param {number} geometryIndex The current index of the Geometry being processed\n */\n\n/**\n * Iterate over line or ring coordinates in LineString, Polygon, MultiLineString, MultiPolygon Features or Geometries,\n * similar to Array.forEach.\n *\n * @name lineEach\n * @param {Geometry|Feature<LineString|Polygon|MultiLineString|MultiPolygon>} geojson object\n * @param {Function} callback a method that takes (currentLine, featureIndex, multiFeatureIndex, geometryIndex)\n * @example\n * var multiLine = turf.multiLineString([\n *   [[26, 37], [35, 45]],\n *   [[36, 53], [38, 50], [41, 55]]\n * ]);\n *\n * turf.lineEach(multiLine, function (currentLine, featureIndex, multiFeatureIndex, geometryIndex) {\n *   //=currentLine\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n * });\n */\nfunction lineEach(geojson, callback) {\n  // validation\n  if (!geojson) throw new Error(\"geojson is required\");\n\n  flattenEach(geojson, function (feature, featureIndex, multiFeatureIndex) {\n    if (feature.geometry === null) return;\n    var type = feature.geometry.type;\n    var coords = feature.geometry.coordinates;\n    switch (type) {\n      case \"LineString\":\n        if (callback(feature, featureIndex, multiFeatureIndex, 0, 0) === false)\n          return false;\n        break;\n      case \"Polygon\":\n        for (\n          var geometryIndex = 0;\n          geometryIndex < coords.length;\n          geometryIndex++\n        ) {\n          if (\n            callback(\n              lineString(coords[geometryIndex], feature.properties),\n              featureIndex,\n              multiFeatureIndex,\n              geometryIndex\n            ) === false\n          )\n            return false;\n        }\n        break;\n    }\n  });\n}\n\n/**\n * Callback for lineReduce\n *\n * The first time the callback function is called, the values provided as arguments depend\n * on whether the reduce method has an initialValue argument.\n *\n * If an initialValue is provided to the reduce method:\n *  - The previousValue argument is initialValue.\n *  - The currentValue argument is the value of the first element present in the array.\n *\n * If an initialValue is not provided:\n *  - The previousValue argument is the value of the first element present in the array.\n *  - The currentValue argument is the value of the second element present in the array.\n *\n * @callback lineReduceCallback\n * @param {*} previousValue The accumulated value previously returned in the last invocation\n * of the callback, or initialValue, if supplied.\n * @param {Feature<LineString>} currentLine The current LineString|LinearRing being processed.\n * @param {number} featureIndex The current index of the Feature being processed\n * @param {number} multiFeatureIndex The current index of the Multi-Feature being processed\n * @param {number} geometryIndex The current index of the Geometry being processed\n */\n\n/**\n * Reduce features in any GeoJSON object, similar to Array.reduce().\n *\n * @name lineReduce\n * @param {Geometry|Feature<LineString|Polygon|MultiLineString|MultiPolygon>} geojson object\n * @param {Function} callback a method that takes (previousValue, currentLine, featureIndex, multiFeatureIndex, geometryIndex)\n * @param {*} [initialValue] Value to use as the first argument to the first call of the callback.\n * @returns {*} The value that results from the reduction.\n * @example\n * var multiPoly = turf.multiPolygon([\n *   turf.polygon([[[12,48],[2,41],[24,38],[12,48]], [[9,44],[13,41],[13,45],[9,44]]]),\n *   turf.polygon([[[5, 5], [0, 0], [2, 2], [4, 4], [5, 5]]])\n * ]);\n *\n * turf.lineReduce(multiPoly, function (previousValue, currentLine, featureIndex, multiFeatureIndex, geometryIndex) {\n *   //=previousValue\n *   //=currentLine\n *   //=featureIndex\n *   //=multiFeatureIndex\n *   //=geometryIndex\n *   return currentLine\n * });\n */\nfunction lineReduce(geojson, callback, initialValue) {\n  var previousValue = initialValue;\n  lineEach(\n    geojson,\n    function (currentLine, featureIndex, multiFeatureIndex, geometryIndex) {\n      if (featureIndex === 0 && initialValue === undefined)\n        previousValue = currentLine;\n      else\n        previousValue = callback(\n          previousValue,\n          currentLine,\n          featureIndex,\n          multiFeatureIndex,\n          geometryIndex\n        );\n    }\n  );\n  return previousValue;\n}\n\n/**\n * Finds a particular 2-vertex LineString Segment from a GeoJSON using `@turf/meta` indexes.\n *\n * Negative indexes are permitted.\n * Point & MultiPoint will always return null.\n *\n * @param {FeatureCollection|Feature|Geometry} geojson Any GeoJSON Feature or Geometry\n * @param {Object} [options={}] Optional parameters\n * @param {number} [options.featureIndex=0] Feature Index\n * @param {number} [options.multiFeatureIndex=0] Multi-Feature Index\n * @param {number} [options.geometryIndex=0] Geometry Index\n * @param {number} [options.segmentIndex=0] Segment Index\n * @param {Object} [options.properties={}] Translate Properties to output LineString\n * @param {BBox} [options.bbox={}] Translate BBox to output LineString\n * @param {number|string} [options.id={}] Translate Id to output LineString\n * @returns {Feature<LineString>} 2-vertex GeoJSON Feature LineString\n * @example\n * var multiLine = turf.multiLineString([\n *     [[10, 10], [50, 30], [30, 40]],\n *     [[-10, -10], [-50, -30], [-30, -40]]\n * ]);\n *\n * // First Segment (defaults are 0)\n * turf.findSegment(multiLine);\n * // => Feature<LineString<[[10, 10], [50, 30]]>>\n *\n * // First Segment of 2nd Multi Feature\n * turf.findSegment(multiLine, {multiFeatureIndex: 1});\n * // => Feature<LineString<[[-10, -10], [-50, -30]]>>\n *\n * // Last Segment of Last Multi Feature\n * turf.findSegment(multiLine, {multiFeatureIndex: -1, segmentIndex: -1});\n * // => Feature<LineString<[[-50, -30], [-30, -40]]>>\n */\nfunction findSegment(geojson, options) {\n  // Optional Parameters\n  options = options || {};\n  if (!isObject(options)) throw new Error(\"options is invalid\");\n  var featureIndex = options.featureIndex || 0;\n  var multiFeatureIndex = options.multiFeatureIndex || 0;\n  var geometryIndex = options.geometryIndex || 0;\n  var segmentIndex = options.segmentIndex || 0;\n\n  // Find FeatureIndex\n  var properties = options.properties;\n  var geometry;\n\n  switch (geojson.type) {\n    case \"FeatureCollection\":\n      if (featureIndex < 0)\n        featureIndex = geojson.features.length + featureIndex;\n      properties = properties || geojson.features[featureIndex].properties;\n      geometry = geojson.features[featureIndex].geometry;\n      break;\n    case \"Feature\":\n      properties = properties || geojson.properties;\n      geometry = geojson.geometry;\n      break;\n    case \"Point\":\n    case \"MultiPoint\":\n      return null;\n    case \"LineString\":\n    case \"Polygon\":\n    case \"MultiLineString\":\n    case \"MultiPolygon\":\n      geometry = geojson;\n      break;\n    default:\n      throw new Error(\"geojson is invalid\");\n  }\n\n  // Find SegmentIndex\n  if (geometry === null) return null;\n  var coords = geometry.coordinates;\n  switch (geometry.type) {\n    case \"Point\":\n    case \"MultiPoint\":\n      return null;\n    case \"LineString\":\n      if (segmentIndex < 0) segmentIndex = coords.length + segmentIndex - 1;\n      return lineString(\n        [coords[segmentIndex], coords[segmentIndex + 1]],\n        properties,\n        options\n      );\n    case \"Polygon\":\n      if (geometryIndex < 0) geometryIndex = coords.length + geometryIndex;\n      if (segmentIndex < 0)\n        segmentIndex = coords[geometryIndex].length + segmentIndex - 1;\n      return lineString(\n        [\n          coords[geometryIndex][segmentIndex],\n          coords[geometryIndex][segmentIndex + 1],\n        ],\n        properties,\n        options\n      );\n    case \"MultiLineString\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (segmentIndex < 0)\n        segmentIndex = coords[multiFeatureIndex].length + segmentIndex - 1;\n      return lineString(\n        [\n          coords[multiFeatureIndex][segmentIndex],\n          coords[multiFeatureIndex][segmentIndex + 1],\n        ],\n        properties,\n        options\n      );\n    case \"MultiPolygon\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (geometryIndex < 0)\n        geometryIndex = coords[multiFeatureIndex].length + geometryIndex;\n      if (segmentIndex < 0)\n        segmentIndex =\n          coords[multiFeatureIndex][geometryIndex].length - segmentIndex - 1;\n      return lineString(\n        [\n          coords[multiFeatureIndex][geometryIndex][segmentIndex],\n          coords[multiFeatureIndex][geometryIndex][segmentIndex + 1],\n        ],\n        properties,\n        options\n      );\n  }\n  throw new Error(\"geojson is invalid\");\n}\n\n/**\n * Finds a particular Point from a GeoJSON using `@turf/meta` indexes.\n *\n * Negative indexes are permitted.\n *\n * @param {FeatureCollection|Feature|Geometry} geojson Any GeoJSON Feature or Geometry\n * @param {Object} [options={}] Optional parameters\n * @param {number} [options.featureIndex=0] Feature Index\n * @param {number} [options.multiFeatureIndex=0] Multi-Feature Index\n * @param {number} [options.geometryIndex=0] Geometry Index\n * @param {number} [options.coordIndex=0] Coord Index\n * @param {Object} [options.properties={}] Translate Properties to output Point\n * @param {BBox} [options.bbox={}] Translate BBox to output Point\n * @param {number|string} [options.id={}] Translate Id to output Point\n * @returns {Feature<Point>} 2-vertex GeoJSON Feature Point\n * @example\n * var multiLine = turf.multiLineString([\n *     [[10, 10], [50, 30], [30, 40]],\n *     [[-10, -10], [-50, -30], [-30, -40]]\n * ]);\n *\n * // First Segment (defaults are 0)\n * turf.findPoint(multiLine);\n * // => Feature<Point<[10, 10]>>\n *\n * // First Segment of the 2nd Multi-Feature\n * turf.findPoint(multiLine, {multiFeatureIndex: 1});\n * // => Feature<Point<[-10, -10]>>\n *\n * // Last Segment of last Multi-Feature\n * turf.findPoint(multiLine, {multiFeatureIndex: -1, coordIndex: -1});\n * // => Feature<Point<[-30, -40]>>\n */\nfunction findPoint(geojson, options) {\n  // Optional Parameters\n  options = options || {};\n  if (!isObject(options)) throw new Error(\"options is invalid\");\n  var featureIndex = options.featureIndex || 0;\n  var multiFeatureIndex = options.multiFeatureIndex || 0;\n  var geometryIndex = options.geometryIndex || 0;\n  var coordIndex = options.coordIndex || 0;\n\n  // Find FeatureIndex\n  var properties = options.properties;\n  var geometry;\n\n  switch (geojson.type) {\n    case \"FeatureCollection\":\n      if (featureIndex < 0)\n        featureIndex = geojson.features.length + featureIndex;\n      properties = properties || geojson.features[featureIndex].properties;\n      geometry = geojson.features[featureIndex].geometry;\n      break;\n    case \"Feature\":\n      properties = properties || geojson.properties;\n      geometry = geojson.geometry;\n      break;\n    case \"Point\":\n    case \"MultiPoint\":\n      return null;\n    case \"LineString\":\n    case \"Polygon\":\n    case \"MultiLineString\":\n    case \"MultiPolygon\":\n      geometry = geojson;\n      break;\n    default:\n      throw new Error(\"geojson is invalid\");\n  }\n\n  // Find Coord Index\n  if (geometry === null) return null;\n  var coords = geometry.coordinates;\n  switch (geometry.type) {\n    case \"Point\":\n      return point(coords, properties, options);\n    case \"MultiPoint\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      return point(coords[multiFeatureIndex], properties, options);\n    case \"LineString\":\n      if (coordIndex < 0) coordIndex = coords.length + coordIndex;\n      return point(coords[coordIndex], properties, options);\n    case \"Polygon\":\n      if (geometryIndex < 0) geometryIndex = coords.length + geometryIndex;\n      if (coordIndex < 0)\n        coordIndex = coords[geometryIndex].length + coordIndex;\n      return point(coords[geometryIndex][coordIndex], properties, options);\n    case \"MultiLineString\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (coordIndex < 0)\n        coordIndex = coords[multiFeatureIndex].length + coordIndex;\n      return point(coords[multiFeatureIndex][coordIndex], properties, options);\n    case \"MultiPolygon\":\n      if (multiFeatureIndex < 0)\n        multiFeatureIndex = coords.length + multiFeatureIndex;\n      if (geometryIndex < 0)\n        geometryIndex = coords[multiFeatureIndex].length + geometryIndex;\n      if (coordIndex < 0)\n        coordIndex =\n          coords[multiFeatureIndex][geometryIndex].length - coordIndex;\n      return point(\n        coords[multiFeatureIndex][geometryIndex][coordIndex],\n        properties,\n        options\n      );\n  }\n  throw new Error(\"geojson is invalid\");\n}\n\nexport { coordAll, coordEach, coordReduce, featureEach, featureReduce, findPoint, findSegment, flattenEach, flattenReduce, geomEach, geomReduce, lineEach, lineReduce, propEach, propReduce, segmentEach, segmentReduce };\n","// Licensed to the Apache Software Foundation (ASF) under one\n// or more contributor license agreements.  See the NOTICE file\n// distributed with this work for additional information\n// regarding copyright ownership.  The ASF licenses this file\n// to you under the Apache License, Version 2.0 (the\n// \"License\"); you may not use this file except in compliance\n// with the License.  You may obtain a copy of the License at\n//\n//   http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing,\n// software distributed under the License is distributed on an\n// \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n// KIND, either express or implied.  See the License for the\n// specific language governing permissions and limitations\n// under the License.\nimport { Vector } from '../vector.mjs';\nimport { Visitor } from '../visitor.mjs';\nimport { encodeUtf8 } from '../util/utf8.mjs';\nimport { float64ToUint16 } from '../util/math.mjs';\nimport { UnionMode, Precision, DateUnit, TimeUnit, IntervalUnit } from '../enum.mjs';\n/** @ignore */\nexport class SetVisitor extends Visitor {\n}\n/** @ignore */\nfunction wrapSet(fn) {\n    return (data, _1, _2) => {\n        if (data.setValid(_1, _2 != null)) {\n            return fn(data, _1, _2);\n        }\n    };\n}\n/** @ignore */\nexport const setEpochMsToDays = (data, index, epochMs) => { data[index] = Math.trunc(epochMs / 86400000); };\n/** @ignore */\nexport const setEpochMsToMillisecondsLong = (data, index, epochMs) => {\n    data[index] = Math.trunc(epochMs % 4294967296);\n    data[index + 1] = Math.trunc(epochMs / 4294967296);\n};\n/** @ignore */\nexport const setEpochMsToMicrosecondsLong = (data, index, epochMs) => {\n    data[index] = Math.trunc((epochMs * 1000) % 4294967296);\n    data[index + 1] = Math.trunc((epochMs * 1000) / 4294967296);\n};\n/** @ignore */\nexport const setEpochMsToNanosecondsLong = (data, index, epochMs) => {\n    data[index] = Math.trunc((epochMs * 1000000) % 4294967296);\n    data[index + 1] = Math.trunc((epochMs * 1000000) / 4294967296);\n};\n/** @ignore */\nexport const setVariableWidthBytes = (values, valueOffsets, index, value) => {\n    if (index + 1 < valueOffsets.length) {\n        const { [index]: x, [index + 1]: y } = valueOffsets;\n        values.set(value.subarray(0, y - x), x);\n    }\n};\n/** @ignore */\nconst setBool = ({ offset, values }, index, val) => {\n    const idx = offset + index;\n    val ? (values[idx >> 3] |= (1 << (idx % 8))) // true\n        : (values[idx >> 3] &= ~(1 << (idx % 8))); // false\n};\n/** @ignore */\nexport const setInt = ({ values }, index, value) => { values[index] = value; };\n/** @ignore */\nexport const setFloat = ({ values }, index, value) => { values[index] = value; };\n/** @ignore */\nexport const setFloat16 = ({ values }, index, value) => { values[index] = float64ToUint16(value); };\n/* istanbul ignore next */\n/** @ignore */\nexport const setAnyFloat = (data, index, value) => {\n    switch (data.type.precision) {\n        case Precision.HALF:\n            return setFloat16(data, index, value);\n        case Precision.SINGLE:\n        case Precision.DOUBLE:\n            return setFloat(data, index, value);\n    }\n};\n/** @ignore */\nexport const setDateDay = ({ values }, index, value) => { setEpochMsToDays(values, index, value.valueOf()); };\n/** @ignore */\nexport const setDateMillisecond = ({ values }, index, value) => { setEpochMsToMillisecondsLong(values, index * 2, value.valueOf()); };\n/** @ignore */\nexport const setFixedSizeBinary = ({ stride, values }, index, value) => { values.set(value.subarray(0, stride), stride * index); };\n/** @ignore */\nconst setBinary = ({ values, valueOffsets }, index, value) => setVariableWidthBytes(values, valueOffsets, index, value);\n/** @ignore */\nconst setUtf8 = ({ values, valueOffsets }, index, value) => {\n    setVariableWidthBytes(values, valueOffsets, index, encodeUtf8(value));\n};\n/* istanbul ignore next */\nexport const setDate = (data, index, value) => {\n    data.type.unit === DateUnit.DAY\n        ? setDateDay(data, index, value)\n        : setDateMillisecond(data, index, value);\n};\n/** @ignore */\nexport const setTimestampSecond = ({ values }, index, value) => setEpochMsToMillisecondsLong(values, index * 2, value / 1000);\n/** @ignore */\nexport const setTimestampMillisecond = ({ values }, index, value) => setEpochMsToMillisecondsLong(values, index * 2, value);\n/** @ignore */\nexport const setTimestampMicrosecond = ({ values }, index, value) => setEpochMsToMicrosecondsLong(values, index * 2, value);\n/** @ignore */\nexport const setTimestampNanosecond = ({ values }, index, value) => setEpochMsToNanosecondsLong(values, index * 2, value);\n/* istanbul ignore next */\n/** @ignore */\nexport const setTimestamp = (data, index, value) => {\n    switch (data.type.unit) {\n        case TimeUnit.SECOND: return setTimestampSecond(data, index, value);\n        case TimeUnit.MILLISECOND: return setTimestampMillisecond(data, index, value);\n        case TimeUnit.MICROSECOND: return setTimestampMicrosecond(data, index, value);\n        case TimeUnit.NANOSECOND: return setTimestampNanosecond(data, index, value);\n    }\n};\n/** @ignore */\nexport const setTimeSecond = ({ values }, index, value) => { values[index] = value; };\n/** @ignore */\nexport const setTimeMillisecond = ({ values }, index, value) => { values[index] = value; };\n/** @ignore */\nexport const setTimeMicrosecond = ({ values }, index, value) => { values[index] = value; };\n/** @ignore */\nexport const setTimeNanosecond = ({ values }, index, value) => { values[index] = value; };\n/* istanbul ignore next */\n/** @ignore */\nexport const setTime = (data, index, value) => {\n    switch (data.type.unit) {\n        case TimeUnit.SECOND: return setTimeSecond(data, index, value);\n        case TimeUnit.MILLISECOND: return setTimeMillisecond(data, index, value);\n        case TimeUnit.MICROSECOND: return setTimeMicrosecond(data, index, value);\n        case TimeUnit.NANOSECOND: return setTimeNanosecond(data, index, value);\n    }\n};\n/** @ignore */\nexport const setDecimal = ({ values, stride }, index, value) => { values.set(value.subarray(0, stride), stride * index); };\n/** @ignore */\nconst setList = (data, index, value) => {\n    const values = data.children[0];\n    const valueOffsets = data.valueOffsets;\n    const set = instance.getVisitFn(values);\n    if (Array.isArray(value)) {\n        for (let idx = -1, itr = valueOffsets[index], end = valueOffsets[index + 1]; itr < end;) {\n            set(values, itr++, value[++idx]);\n        }\n    }\n    else {\n        for (let idx = -1, itr = valueOffsets[index], end = valueOffsets[index + 1]; itr < end;) {\n            set(values, itr++, value.get(++idx));\n        }\n    }\n};\n/** @ignore */\nconst setMap = (data, index, value) => {\n    const values = data.children[0];\n    const { valueOffsets } = data;\n    const set = instance.getVisitFn(values);\n    let { [index]: idx, [index + 1]: end } = valueOffsets;\n    const entries = value instanceof Map ? value.entries() : Object.entries(value);\n    for (const val of entries) {\n        set(values, idx, val);\n        if (++idx >= end)\n            break;\n    }\n};\n/** @ignore */ const _setStructArrayValue = (o, v) => (set, c, _, i) => c && set(c, o, v[i]);\n/** @ignore */ const _setStructVectorValue = (o, v) => (set, c, _, i) => c && set(c, o, v.get(i));\n/** @ignore */ const _setStructMapValue = (o, v) => (set, c, f, _) => c && set(c, o, v.get(f.name));\n/** @ignore */ const _setStructObjectValue = (o, v) => (set, c, f, _) => c && set(c, o, v[f.name]);\n/** @ignore */\nconst setStruct = (data, index, value) => {\n    const childSetters = data.type.children.map((f) => instance.getVisitFn(f.type));\n    const set = value instanceof Map ? _setStructMapValue(index, value) :\n        value instanceof Vector ? _setStructVectorValue(index, value) :\n            Array.isArray(value) ? _setStructArrayValue(index, value) :\n                _setStructObjectValue(index, value);\n    // eslint-disable-next-line unicorn/no-array-for-each\n    data.type.children.forEach((f, i) => set(childSetters[i], data.children[i], f, i));\n};\n/* istanbul ignore next */\n/** @ignore */\nconst setUnion = (data, index, value) => {\n    data.type.mode === UnionMode.Dense ?\n        setDenseUnion(data, index, value) :\n        setSparseUnion(data, index, value);\n};\n/** @ignore */\nconst setDenseUnion = (data, index, value) => {\n    const childIndex = data.type.typeIdToChildIndex[data.typeIds[index]];\n    const child = data.children[childIndex];\n    instance.visit(child, data.valueOffsets[index], value);\n};\n/** @ignore */\nconst setSparseUnion = (data, index, value) => {\n    const childIndex = data.type.typeIdToChildIndex[data.typeIds[index]];\n    const child = data.children[childIndex];\n    instance.visit(child, index, value);\n};\n/** @ignore */\nconst setDictionary = (data, index, value) => {\n    var _a;\n    (_a = data.dictionary) === null || _a === void 0 ? void 0 : _a.set(data.values[index], value);\n};\n/* istanbul ignore next */\n/** @ignore */\nexport const setIntervalValue = (data, index, value) => {\n    (data.type.unit === IntervalUnit.DAY_TIME)\n        ? setIntervalDayTime(data, index, value)\n        : setIntervalYearMonth(data, index, value);\n};\n/** @ignore */\nexport const setIntervalDayTime = ({ values }, index, value) => { values.set(value.subarray(0, 2), 2 * index); };\n/** @ignore */\nexport const setIntervalYearMonth = ({ values }, index, value) => { values[index] = (value[0] * 12) + (value[1] % 12); };\n/** @ignore */\nconst setFixedSizeList = (data, index, value) => {\n    const { stride } = data;\n    const child = data.children[0];\n    const set = instance.getVisitFn(child);\n    if (Array.isArray(value)) {\n        for (let idx = -1, offset = index * stride; ++idx < stride;) {\n            set(child, offset + idx, value[idx]);\n        }\n    }\n    else {\n        for (let idx = -1, offset = index * stride; ++idx < stride;) {\n            set(child, offset + idx, value.get(idx));\n        }\n    }\n};\nSetVisitor.prototype.visitBool = wrapSet(setBool);\nSetVisitor.prototype.visitInt = wrapSet(setInt);\nSetVisitor.prototype.visitInt8 = wrapSet(setInt);\nSetVisitor.prototype.visitInt16 = wrapSet(setInt);\nSetVisitor.prototype.visitInt32 = wrapSet(setInt);\nSetVisitor.prototype.visitInt64 = wrapSet(setInt);\nSetVisitor.prototype.visitUint8 = wrapSet(setInt);\nSetVisitor.prototype.visitUint16 = wrapSet(setInt);\nSetVisitor.prototype.visitUint32 = wrapSet(setInt);\nSetVisitor.prototype.visitUint64 = wrapSet(setInt);\nSetVisitor.prototype.visitFloat = wrapSet(setAnyFloat);\nSetVisitor.prototype.visitFloat16 = wrapSet(setFloat16);\nSetVisitor.prototype.visitFloat32 = wrapSet(setFloat);\nSetVisitor.prototype.visitFloat64 = wrapSet(setFloat);\nSetVisitor.prototype.visitUtf8 = wrapSet(setUtf8);\nSetVisitor.prototype.visitBinary = wrapSet(setBinary);\nSetVisitor.prototype.visitFixedSizeBinary = wrapSet(setFixedSizeBinary);\nSetVisitor.prototype.visitDate = wrapSet(setDate);\nSetVisitor.prototype.visitDateDay = wrapSet(setDateDay);\nSetVisitor.prototype.visitDateMillisecond = wrapSet(setDateMillisecond);\nSetVisitor.prototype.visitTimestamp = wrapSet(setTimestamp);\nSetVisitor.prototype.visitTimestampSecond = wrapSet(setTimestampSecond);\nSetVisitor.prototype.visitTimestampMillisecond = wrapSet(setTimestampMillisecond);\nSetVisitor.prototype.visitTimestampMicrosecond = wrapSet(setTimestampMicrosecond);\nSetVisitor.prototype.visitTimestampNanosecond = wrapSet(setTimestampNanosecond);\nSetVisitor.prototype.visitTime = wrapSet(setTime);\nSetVisitor.prototype.visitTimeSecond = wrapSet(setTimeSecond);\nSetVisitor.prototype.visitTimeMillisecond = wrapSet(setTimeMillisecond);\nSetVisitor.prototype.visitTimeMicrosecond = wrapSet(setTimeMicrosecond);\nSetVisitor.prototype.visitTimeNanosecond = wrapSet(setTimeNanosecond);\nSetVisitor.prototype.visitDecimal = wrapSet(setDecimal);\nSetVisitor.prototype.visitList = wrapSet(setList);\nSetVisitor.prototype.visitStruct = wrapSet(setStruct);\nSetVisitor.prototype.visitUnion = wrapSet(setUnion);\nSetVisitor.prototype.visitDenseUnion = wrapSet(setDenseUnion);\nSetVisitor.prototype.visitSparseUnion = wrapSet(setSparseUnion);\nSetVisitor.prototype.visitDictionary = wrapSet(setDictionary);\nSetVisitor.prototype.visitInterval = wrapSet(setIntervalValue);\nSetVisitor.prototype.visitIntervalDayTime = wrapSet(setIntervalDayTime);\nSetVisitor.prototype.visitIntervalYearMonth = wrapSet(setIntervalYearMonth);\nSetVisitor.prototype.visitFixedSizeList = wrapSet(setFixedSizeList);\nSetVisitor.prototype.visitMap = wrapSet(setMap);\n/** @ignore */\nexport const instance = new SetVisitor();\n\n//# sourceMappingURL=set.mjs.map\n","import centroid from '@turf/centroid';\nimport rhumbBearing from '@turf/rhumb-bearing';\nimport rhumbDistance from '@turf/rhumb-distance';\nimport rhumbDestination from '@turf/rhumb-destination';\nimport clone from '@turf/clone';\nimport { coordEach } from '@turf/meta';\nimport { getCoords } from '@turf/invariant';\nimport { isObject } from '@turf/helpers';\n\n/**\n * Rotates any geojson Feature or Geometry of a specified angle, around its `centroid` or a given `pivot` point.\n *\n * @name transformRotate\n * @param {GeoJSON} geojson object to be rotated\n * @param {number} angle of rotation in decimal degrees, positive clockwise\n * @param {Object} [options={}] Optional parameters\n * @param {Coord} [options.pivot='centroid'] point around which the rotation will be performed\n * @param {boolean} [options.mutate=false] allows GeoJSON input to be mutated (significant performance increase if true)\n * @returns {GeoJSON} the rotated GeoJSON feature\n * @example\n * var poly = turf.polygon([[[0,29],[3.5,29],[2.5,32],[0,29]]]);\n * var options = {pivot: [0, 25]};\n * var rotatedPoly = turf.transformRotate(poly, 10, options);\n *\n * //addToMap\n * var addToMap = [poly, rotatedPoly];\n * rotatedPoly.properties = {stroke: '#F00', 'stroke-width': 4};\n */\nfunction transformRotate(geojson, angle, options) {\n  // Optional parameters\n  options = options || {};\n  if (!isObject(options)) throw new Error(\"options is invalid\");\n  var pivot = options.pivot;\n  var mutate = options.mutate;\n\n  // Input validation\n  if (!geojson) throw new Error(\"geojson is required\");\n  if (angle === undefined || angle === null || isNaN(angle))\n    throw new Error(\"angle is required\");\n\n  // Shortcut no-rotation\n  if (angle === 0) return geojson;\n\n  // Use centroid of GeoJSON if pivot is not provided\n  if (!pivot) pivot = centroid(geojson);\n\n  // Clone geojson to avoid side effects\n  if (mutate === false || mutate === undefined) geojson = clone(geojson);\n\n  // Rotate each coordinate\n  coordEach(geojson, function (pointCoords) {\n    var initialAngle = rhumbBearing(pivot, pointCoords);\n    var finalAngle = initialAngle + angle;\n    var distance = rhumbDistance(pivot, pointCoords);\n    var newCoords = getCoords(rhumbDestination(pivot, distance, finalAngle));\n    pointCoords[0] = newCoords[0];\n    pointCoords[1] = newCoords[1];\n  });\n  return geojson;\n}\n\nexport default transformRotate;\n"],"sourceRoot":""}